(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("fjplayer", [], factory);
	else if(typeof exports === 'object')
		exports["fjplayer"] = factory();
	else
		root["fjplayer"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/dist/";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 10);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/* unknown exports provided */
/* all exports used */
/*!********************************!*\
  !*** ./src/js/utils/Logger.js ***!
  \********************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/**\n * @module Logger\n * @description The Configuration is the primary module used to set configuration and .\n */\nfunction Logger(klass) {\n    var m;\n    this.gState = true;\n    this.debug = {};\n\n    if (this.gState) {\n        for (m in console) {\n            if (typeof console[m] === 'function') {\n                this.debug[m] = console[m].bind(window.console, klass.constructor.name + ': ');\n            }\n        }\n    } else {\n        for (m in console) {\n            if (typeof console[m] === 'function') {\n                this.debug[m] = function () {};\n            }\n        }\n    }\n    return this.debug;\n};\n\nexports.default = Logger;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvanMvdXRpbHMvTG9nZ2VyLmpzPzlhZDAiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbW9kdWxlIExvZ2dlclxuICogQGRlc2NyaXB0aW9uIFRoZSBDb25maWd1cmF0aW9uIGlzIHRoZSBwcmltYXJ5IG1vZHVsZSB1c2VkIHRvIHNldCBjb25maWd1cmF0aW9uIGFuZCAuXG4gKi9cbmZ1bmN0aW9uIExvZ2dlcihrbGFzcykge1xuICAgIHZhciBtO1xuICAgIHRoaXMuZ1N0YXRlID0gdHJ1ZTtcbiAgICB0aGlzLmRlYnVnID0ge307XG5cbiAgICBpZiAodGhpcy5nU3RhdGUpIHtcbiAgICAgICAgZm9yIChtIGluIGNvbnNvbGUpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29uc29sZVttXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVidWdbbV0gPSBjb25zb2xlW21dLmJpbmQod2luZG93LmNvbnNvbGUsIGtsYXNzLmNvbnN0cnVjdG9yLm5hbWUgKyAnOiAnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAobSBpbiBjb25zb2xlKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnNvbGVbbV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlYnVnW21dID0gZnVuY3Rpb24oKSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5kZWJ1Zztcbn07XG5cbmV4cG9ydCBkZWZhdWx0IExvZ2dlcjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2pzL3V0aWxzL0xvZ2dlci5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 1 */
/* unknown exports provided */
/* all exports used */
/*!**********************************!*\
  !*** ./src/js/defs/constants.js ***!
  \**********************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/**\n * @module Constants\n */\nvar FJCONFIG_CLASS = exports.FJCONFIG_CLASS = 'FJClass';\nvar FJCONFIG_TYPE = exports.FJCONFIG_TYPE = 'FJType';\nvar FJCONFIG_TITLE = exports.FJCONFIG_TITLE = 'FJTitle';\nvar FJCONFIG_SRC = exports.FJCONFIG_SRC = 'FJSrc';\nvar FJCONFIG_POSTER = exports.FJCONFIG_POSTER = 'FJPoster';\nvar FJCONFIG_ADS_LINK_URL = exports.FJCONFIG_ADS_LINK_URL = 'FJAdsLinkUrl';\nvar FJCONFIG_CAN_ESCAPE = exports.FJCONFIG_CAN_ESCAPE = 'FJCanEscape';\nvar FJCONFIG_THUMBS = exports.FJCONFIG_THUMBS = 'FJThumbs';\nvar FJCONFIG_SUBTITLES = exports.FJCONFIG_SUBTITLES = 'FJSubtitles';\nvar FJCONFIG_ADS = exports.FJCONFIG_ADS = 'FJAds';\nvar FJCONFIG_AUDIOS = exports.FJCONFIG_AUDIOS = 'FJAudios';\nvar FJCONFIG_OVERLAYS = exports.FJCONFIG_OVERLAYS = 'FJOverlays';\nvar FJCONFIG_DRM = exports.FJCONFIG_DRM = 'FJDrm';\nvar FJCONFIG_LABEL = exports.FJCONFIG_LABEL = 'FJLabel';\nvar FJCONFIG_LANG = exports.FJCONFIG_LANG = 'FJLang';\nvar FJCONFIG_DATA = exports.FJCONFIG_DATA = 'FJData';\nvar FJCONFIG_URL = exports.FJCONFIG_URL = 'FJUrl';\nvar FJCONFIG_DURATION = exports.FJCONFIG_DURATION = 'FJDuration';\nvar FJCONFIG_SHOW_AT = exports.FJCONFIG_SHOW_AT = 'FJShowAt';\n\nvar FJCONFIG_DRM_LICENSE_SERVER = exports.FJCONFIG_DRM_LICENSE_SERVER = 'FjLicenseServer';\n\nvar FJCONFIG_TRUE = exports.FJCONFIG_TRUE = 'true';\nvar FJCONFIG_FALSE = exports.FJCONFIG_FALSE = 'false';\nvar FJCONFIG_BOOLEAN = exports.FJCONFIG_BOOLEAN = { FJCONFIG_TRUE: FJCONFIG_TRUE, FJCONFIG_FALSE: FJCONFIG_FALSE };\n\nvar FJCONFIG_CLASS_VOD = exports.FJCONFIG_CLASS_VOD = 'vod';\nvar FJCONFIG_CLASS_LIVE = exports.FJCONFIG_CLASS_LIVE = 'live';\nvar FJCONFIG_CLASSES = exports.FJCONFIG_CLASSES = [FJCONFIG_CLASS_LIVE, FJCONFIG_CLASS_VOD];\n\nvar FJCONFIG_TYPE_MP4 = exports.FJCONFIG_TYPE_MP4 = 'video/mp4';\nvar FJCONFIG_TYPE_DASH = exports.FJCONFIG_TYPE_DASH = 'dash';\nvar FJCONFIG_TYPES = exports.FJCONFIG_TYPES = [FJCONFIG_TYPE_MP4, FJCONFIG_TYPE_DASH];\n\nvar FJCONFIG_ADS_CLASS_PRE_ROLL = exports.FJCONFIG_ADS_CLASS_PRE_ROLL = 'pre-roll';\nvar FJCONFIG_ADS_CLASS_MID_ROLL = exports.FJCONFIG_ADS_CLASS_MID_ROLL = 'mid-roll';\nvar FJCONFIG_ADS_CLASS_POST_ROLL = exports.FJCONFIG_ADS_CLASS_POST_ROLL = 'post-roll';\nvar FJCONFIG_ADS_CLASSES = exports.FJCONFIG_ADS_CLASSES = [FJCONFIG_ADS_CLASS_PRE_ROLL, FJCONFIG_ADS_CLASS_MID_ROLL, FJCONFIG_ADS_CLASS_POST_ROLL];\n\nvar AdsEnum = exports.AdsEnum = {\n    ADS_PRE_ROLL: 'ADS_PRE_ROLL',\n    ADS_MID_ROLL: 'ADS_MID_ROLL',\n    ADS_POST_ROLL: 'ADS_POST_ROLL'\n};\n\nvar PlayerEvents = {\n    STREAM_LOADED: 'STREAM_LOADED',\n    TRACKS_ADDED: 'TRACKS_ADDED',\n    PLAYBACK_ERROR: 'PLAYBACK_ERROR',\n    PLAYBACK_STARTED: 'PLAYBACK_STARTED',\n    PLAYBACK_PAUSED: 'PLAYBACK_PAUSED',\n    PLAYBACK_SEEKING: 'PLAYBACK_SEEKING',\n    PLAYBACK_SEEKED: 'PLAYBACK_SEEKED',\n    PLAYBACK_ENDED: 'PLAYBACK_ENDED',\n    PLAYBACK_TIME_UPDATE: 'PLAYBACK_TIME_UPDATE'\n};\n\nvar AdsEvents = {\n    ADS_USER_CLICKED: 'ADS_USER_CLICKED',\n    ADS_PLAYBACK_STARTED: 'ADS_PLAYBACK_STARTED',\n    ADS_PLAYBACK_ENDED: 'ADS_PLAYBACK_ENDED',\n    ADS_PLAYBACK_ERROR: 'ADS_PLAYBACK_ERROR'\n};\n\nvar OverlayEvents = {\n    OVERLAY_USER_CLICKED: 'OVERLAY_USER_CLICKED',\n    OVERLAY_STARTED: 'OVERLAY_STARTED',\n    OVERLAY_ENDED: 'OVERLAY_ENDED',\n    OVERLAY_ERROR: 'OVERLAY_ERROR',\n    OVERLAY_SKIPPED: 'OVERLAY_SKIPPED'\n};\n\nexports.PlayerEvents = PlayerEvents;\nexports.AdsEvents = AdsEvents;\nexports.OverlayEvents = OverlayEvents;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvanMvZGVmcy9jb25zdGFudHMuanM/MzU1MSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBtb2R1bGUgQ29uc3RhbnRzXG4gKi9cbmV4cG9ydCBjb25zdCBGSkNPTkZJR19DTEFTUyA9ICdGSkNsYXNzJztcbmV4cG9ydCBjb25zdCBGSkNPTkZJR19UWVBFID0gJ0ZKVHlwZSc7XG5leHBvcnQgY29uc3QgRkpDT05GSUdfVElUTEUgPSAnRkpUaXRsZSc7XG5leHBvcnQgY29uc3QgRkpDT05GSUdfU1JDID0gJ0ZKU3JjJztcbmV4cG9ydCBjb25zdCBGSkNPTkZJR19QT1NURVIgPSAnRkpQb3N0ZXInO1xuZXhwb3J0IGNvbnN0IEZKQ09ORklHX0FEU19MSU5LX1VSTCA9ICdGSkFkc0xpbmtVcmwnO1xuZXhwb3J0IGNvbnN0IEZKQ09ORklHX0NBTl9FU0NBUEUgPSAnRkpDYW5Fc2NhcGUnO1xuZXhwb3J0IGNvbnN0IEZKQ09ORklHX1RIVU1CUyA9ICdGSlRodW1icyc7XG5leHBvcnQgY29uc3QgRkpDT05GSUdfU1VCVElUTEVTID0gJ0ZKU3VidGl0bGVzJztcbmV4cG9ydCBjb25zdCBGSkNPTkZJR19BRFMgPSAnRkpBZHMnO1xuZXhwb3J0IGNvbnN0IEZKQ09ORklHX0FVRElPUyA9ICdGSkF1ZGlvcyc7XG5leHBvcnQgY29uc3QgRkpDT05GSUdfT1ZFUkxBWVMgPSAnRkpPdmVybGF5cyc7XG5leHBvcnQgY29uc3QgRkpDT05GSUdfRFJNID0gJ0ZKRHJtJztcbmV4cG9ydCBjb25zdCBGSkNPTkZJR19MQUJFTCA9ICdGSkxhYmVsJztcbmV4cG9ydCBjb25zdCBGSkNPTkZJR19MQU5HID0gJ0ZKTGFuZyc7XG5leHBvcnQgY29uc3QgRkpDT05GSUdfREFUQSA9ICdGSkRhdGEnO1xuZXhwb3J0IGNvbnN0IEZKQ09ORklHX1VSTCA9ICdGSlVybCc7XG5leHBvcnQgY29uc3QgRkpDT05GSUdfRFVSQVRJT04gPSAnRkpEdXJhdGlvbic7XG5leHBvcnQgY29uc3QgRkpDT05GSUdfU0hPV19BVCA9ICdGSlNob3dBdCc7XG5cbmV4cG9ydCBjb25zdCBGSkNPTkZJR19EUk1fTElDRU5TRV9TRVJWRVIgPSAnRmpMaWNlbnNlU2VydmVyJztcblxuXG5leHBvcnQgY29uc3QgRkpDT05GSUdfVFJVRSA9ICd0cnVlJztcbmV4cG9ydCBjb25zdCBGSkNPTkZJR19GQUxTRSA9ICdmYWxzZSc7XG5leHBvcnQgY29uc3QgRkpDT05GSUdfQk9PTEVBTiA9IHsgRkpDT05GSUdfVFJVRSwgRkpDT05GSUdfRkFMU0UgfTtcblxuZXhwb3J0IGNvbnN0IEZKQ09ORklHX0NMQVNTX1ZPRCA9ICd2b2QnO1xuZXhwb3J0IGNvbnN0IEZKQ09ORklHX0NMQVNTX0xJVkUgPSAnbGl2ZSc7XG5leHBvcnQgY29uc3QgRkpDT05GSUdfQ0xBU1NFUyA9IFtGSkNPTkZJR19DTEFTU19MSVZFLCBGSkNPTkZJR19DTEFTU19WT0RdO1xuXG5leHBvcnQgY29uc3QgRkpDT05GSUdfVFlQRV9NUDQgPSAndmlkZW8vbXA0JztcbmV4cG9ydCBjb25zdCBGSkNPTkZJR19UWVBFX0RBU0ggPSAnZGFzaCc7XG5leHBvcnQgY29uc3QgRkpDT05GSUdfVFlQRVMgPSBbRkpDT05GSUdfVFlQRV9NUDQsIEZKQ09ORklHX1RZUEVfREFTSF07XG5cbmV4cG9ydCBjb25zdCBGSkNPTkZJR19BRFNfQ0xBU1NfUFJFX1JPTEwgPSAncHJlLXJvbGwnO1xuZXhwb3J0IGNvbnN0IEZKQ09ORklHX0FEU19DTEFTU19NSURfUk9MTCA9ICdtaWQtcm9sbCc7XG5leHBvcnQgY29uc3QgRkpDT05GSUdfQURTX0NMQVNTX1BPU1RfUk9MTCA9ICdwb3N0LXJvbGwnO1xuZXhwb3J0IGNvbnN0IEZKQ09ORklHX0FEU19DTEFTU0VTID0gW0ZKQ09ORklHX0FEU19DTEFTU19QUkVfUk9MTCxcbiAgICBGSkNPTkZJR19BRFNfQ0xBU1NfTUlEX1JPTEwsIEZKQ09ORklHX0FEU19DTEFTU19QT1NUX1JPTExcbl07XG5cbmV4cG9ydCBjb25zdCBBZHNFbnVtID0ge1xuICAgIEFEU19QUkVfUk9MTDogJ0FEU19QUkVfUk9MTCcsXG4gICAgQURTX01JRF9ST0xMOiAnQURTX01JRF9ST0xMJyxcbiAgICBBRFNfUE9TVF9ST0xMOiAnQURTX1BPU1RfUk9MTCdcbn07XG5cblxuY29uc3QgUGxheWVyRXZlbnRzID0ge1xuICAgIFNUUkVBTV9MT0FERUQ6ICdTVFJFQU1fTE9BREVEJyxcbiAgICBUUkFDS1NfQURERUQ6ICdUUkFDS1NfQURERUQnLFxuICAgIFBMQVlCQUNLX0VSUk9SOiAnUExBWUJBQ0tfRVJST1InLFxuICAgIFBMQVlCQUNLX1NUQVJURUQ6ICdQTEFZQkFDS19TVEFSVEVEJyxcbiAgICBQTEFZQkFDS19QQVVTRUQ6ICdQTEFZQkFDS19QQVVTRUQnLFxuICAgIFBMQVlCQUNLX1NFRUtJTkc6ICdQTEFZQkFDS19TRUVLSU5HJyxcbiAgICBQTEFZQkFDS19TRUVLRUQ6ICdQTEFZQkFDS19TRUVLRUQnLFxuICAgIFBMQVlCQUNLX0VOREVEOiAnUExBWUJBQ0tfRU5ERUQnLFxuICAgIFBMQVlCQUNLX1RJTUVfVVBEQVRFOiAnUExBWUJBQ0tfVElNRV9VUERBVEUnXG59O1xuXG5jb25zdCBBZHNFdmVudHMgPSB7XG4gICAgQURTX1VTRVJfQ0xJQ0tFRDogJ0FEU19VU0VSX0NMSUNLRUQnLFxuICAgIEFEU19QTEFZQkFDS19TVEFSVEVEOiAnQURTX1BMQVlCQUNLX1NUQVJURUQnLFxuICAgIEFEU19QTEFZQkFDS19FTkRFRDogJ0FEU19QTEFZQkFDS19FTkRFRCcsXG4gICAgQURTX1BMQVlCQUNLX0VSUk9SOiAnQURTX1BMQVlCQUNLX0VSUk9SJ1xufTtcblxuY29uc3QgT3ZlcmxheUV2ZW50cyA9IHtcbiAgICBPVkVSTEFZX1VTRVJfQ0xJQ0tFRDogJ09WRVJMQVlfVVNFUl9DTElDS0VEJyxcbiAgICBPVkVSTEFZX1NUQVJURUQ6ICdPVkVSTEFZX1NUQVJURUQnLFxuICAgIE9WRVJMQVlfRU5ERUQ6ICdPVkVSTEFZX0VOREVEJyxcbiAgICBPVkVSTEFZX0VSUk9SOiAnT1ZFUkxBWV9FUlJPUicsXG4gICAgT1ZFUkxBWV9TS0lQUEVEOiAnT1ZFUkxBWV9TS0lQUEVEJ1xufTtcblxuXG5leHBvcnQgeyBQbGF5ZXJFdmVudHMsIEFkc0V2ZW50cywgT3ZlcmxheUV2ZW50cyB9XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9qcy9kZWZzL2NvbnN0YW50cy5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFUQTtBQUNBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQUNBO0FBUUE7QUFBQTtBQUFBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 2 */
/* unknown exports provided */
/* all exports used */
/*!*****************************!*\
  !*** ./src/css/player.less ***!
  \*****************************/
/***/ (function(module, exports, __webpack_require__) {

eval("// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(/*! !../../~/css-loader!../../~/less-loader/dist!./player.less */ 19);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(/*! ../../~/style-loader/addStyles.js */ 22)(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!../../node_modules/less-loader/dist/index.js!./player.less\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/less-loader/dist/index.js!./player.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jc3MvcGxheWVyLmxlc3M/ZjY1OSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi4vLi4vbm9kZV9tb2R1bGVzL2xlc3MtbG9hZGVyL2Rpc3QvaW5kZXguanMhLi9wbGF5ZXIubGVzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLi8uLi9ub2RlX21vZHVsZXMvbGVzcy1sb2FkZXIvZGlzdC9pbmRleC5qcyEuL3BsYXllci5sZXNzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLi8uLi9ub2RlX21vZHVsZXMvbGVzcy1sb2FkZXIvZGlzdC9pbmRleC5qcyEuL3BsYXllci5sZXNzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9jc3MvcGxheWVyLmxlc3Ncbi8vIG1vZHVsZSBpZCA9IDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 3 */
/* unknown exports provided */
/* all exports used */
/*!**********************************!*\
  !*** ./src/js/utils/Eventing.js ***!
  \**********************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/**\n * @module Eventing\n * @description The Eventing is the class eventing mgr\n *\n */\nfunction Eventing() {\n    var events = {};\n    /**\n     *\n     */\n    function addListener(name, handler) {\n        if (events.hasOwnProperty(name)) {\n            events[name].push(handler);\n        } else {\n            events[name] = [handler];\n        }\n    };\n    /**\n     *\n     */\n    function removeListener(name, handler) {\n        var index = -1;\n        /* This is a bit tricky, because how would you identify functions?\n           This simple solution should work if you pass THE SAME handler. */\n        if (!events.hasOwnProperty(name)) {\n            return;\n        }\n        index = events[name].indexOf(handler);\n        if (index !== -1) {\n            events[name].splice(index, 1);\n        }\n    };\n    /**\n     *\n     */\n    function fireEvent(name, args) {\n        var evs, l, i;\n        if (!events.hasOwnProperty(name)) {\n            return;\n        }\n        /* if (!args || !args.length) {\n            logger.debug(' Firing Eventing on event :', name, args);\n            args = [];\n        }*/\n        evs = events[name];\n        l = evs.length;\n        for (i = 0; i < l; i++) {\n            evs[i](name, args);\n        }\n    };\n    // ************************************************************************************\n    // PUBLIC API\n    // ************************************************************************************\n    return {\n        fireEvent: fireEvent,\n        addEventListener: addListener,\n        removeEventListener: removeListener,\n        on: addListener,\n        off: removeListener,\n        constructor: Eventing\n    };\n};\nexports.default = Eventing;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvanMvdXRpbHMvRXZlbnRpbmcuanM/Y2I2MCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBtb2R1bGUgRXZlbnRpbmdcbiAqIEBkZXNjcmlwdGlvbiBUaGUgRXZlbnRpbmcgaXMgdGhlIGNsYXNzIGV2ZW50aW5nIG1nclxuICpcbiAqL1xuZnVuY3Rpb24gRXZlbnRpbmcoKSB7XG4gICAgdmFyIGV2ZW50cyA9IHt9O1xuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgZnVuY3Rpb24gYWRkTGlzdGVuZXIobmFtZSwgaGFuZGxlcikge1xuICAgICAgICBpZiAoZXZlbnRzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgICAgICBldmVudHNbbmFtZV0ucHVzaChoYW5kbGVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGV2ZW50c1tuYW1lXSA9IFtoYW5kbGVyXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcihuYW1lLCBoYW5kbGVyKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xO1xuICAgICAgICAvKiBUaGlzIGlzIGEgYml0IHRyaWNreSwgYmVjYXVzZSBob3cgd291bGQgeW91IGlkZW50aWZ5IGZ1bmN0aW9ucz9cbiAgICAgICAgICAgVGhpcyBzaW1wbGUgc29sdXRpb24gc2hvdWxkIHdvcmsgaWYgeW91IHBhc3MgVEhFIFNBTUUgaGFuZGxlci4gKi9cbiAgICAgICAgaWYgKCFldmVudHMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpbmRleCA9IGV2ZW50c1tuYW1lXS5pbmRleE9mKGhhbmRsZXIpO1xuICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICBldmVudHNbbmFtZV0uc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaXJlRXZlbnQobmFtZSwgYXJncykge1xuICAgICAgICB2YXIgZXZzLCBsLCBpO1xuICAgICAgICBpZiAoIWV2ZW50cy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8qIGlmICghYXJncyB8fCAhYXJncy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZygnIEZpcmluZyBFdmVudGluZyBvbiBldmVudCA6JywgbmFtZSwgYXJncyk7XG4gICAgICAgICAgICBhcmdzID0gW107XG4gICAgICAgIH0qL1xuICAgICAgICBldnMgPSBldmVudHNbbmFtZV07XG4gICAgICAgIGwgPSBldnMubGVuZ3RoO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBldnNbaV0obmFtZSwgYXJncyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIC8vIFBVQkxJQyBBUElcbiAgICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICByZXR1cm4ge1xuICAgICAgICBmaXJlRXZlbnQ6IGZpcmVFdmVudCxcbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcjogYWRkTGlzdGVuZXIsXG4gICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXI6IHJlbW92ZUxpc3RlbmVyLFxuICAgICAgICBvbjogYWRkTGlzdGVuZXIsXG4gICAgICAgIG9mZjogcmVtb3ZlTGlzdGVuZXIsXG4gICAgICAgIGNvbnN0cnVjdG9yOiBFdmVudGluZ1xuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgRXZlbnRpbmc7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9qcy91dGlscy9FdmVudGluZy5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFRQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 4 */
/* unknown exports provided */
/* all exports used */
/*!*******************************!*\
  !*** ./src/js/utils/Utils.js ***!
  \*******************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.duration = duration;\nfunction duration(secDuration) {\n    var secNum = parseInt(secDuration, 10); // don't forget the second param\n    var hours = Math.floor(secNum / 3600);\n    var minutes = Math.floor((secNum - hours * 3600) / 60);\n    var seconds = secNum - hours * 3600 - minutes * 60;\n\n    if (minutes < 10) {\n        minutes = '0' + minutes;\n    }\n    if (seconds < 10) {\n        seconds = '0' + seconds;\n    }\n    if (hours === 0) {\n        return minutes + ':' + seconds;\n    }\n    if (hours < 10) {\n        hours = '0' + hours;\n    }\n    return hours + ':' + minutes + ':' + seconds;\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvanMvdXRpbHMvVXRpbHMuanM/ZmY2MiJdLCJzb3VyY2VzQ29udGVudCI6WyIgICBleHBvcnQgZnVuY3Rpb24gZHVyYXRpb24oc2VjRHVyYXRpb24pIHtcbiAgICAgICB2YXIgc2VjTnVtID0gcGFyc2VJbnQoc2VjRHVyYXRpb24sIDEwKTsgLy8gZG9uJ3QgZm9yZ2V0IHRoZSBzZWNvbmQgcGFyYW1cbiAgICAgICB2YXIgaG91cnMgPSBNYXRoLmZsb29yKHNlY051bSAvIDM2MDApO1xuICAgICAgIHZhciBtaW51dGVzID0gTWF0aC5mbG9vcigoc2VjTnVtIC0gKGhvdXJzICogMzYwMCkpIC8gNjApO1xuICAgICAgIHZhciBzZWNvbmRzID0gc2VjTnVtIC0gKGhvdXJzICogMzYwMCkgLSAobWludXRlcyAqIDYwKTtcblxuICAgICAgIGlmIChtaW51dGVzIDwgMTApIHtcbiAgICAgICAgICAgbWludXRlcyA9ICcwJyArIG1pbnV0ZXM7XG4gICAgICAgfVxuICAgICAgIGlmIChzZWNvbmRzIDwgMTApIHtcbiAgICAgICAgICAgc2Vjb25kcyA9ICcwJyArIHNlY29uZHM7XG4gICAgICAgfVxuICAgICAgIGlmIChob3VycyA9PT0gMCkge1xuICAgICAgICAgICByZXR1cm4gKG1pbnV0ZXMgKyAnOicgKyBzZWNvbmRzKTtcbiAgICAgICB9XG4gICAgICAgaWYgKGhvdXJzIDwgMTApIHtcbiAgICAgICAgICAgaG91cnMgPSAnMCcgKyBob3VycztcbiAgICAgICB9XG4gICAgICAgcmV0dXJuIChob3VycyArICc6JyArIG1pbnV0ZXMgKyAnOicgKyBzZWNvbmRzKTtcbiAgIH07XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9qcy91dGlscy9VdGlscy5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 5 */
/* unknown exports provided */
/* all exports used */
/*!*********************************!*\
  !*** ./src/js/defs/isoLangs.js ***!
  \*********************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/**\n * @author Phil Teare\n * using wikipedia data\n */\nvar isoLangs = exports.isoLangs = {\n    \"ab\": {\n        \"name\": \"Abkhaz\",\n        \"nativeName\": \"аҧсуа\"\n    },\n    \"aa\": {\n        \"name\": \"Afar\",\n        \"nativeName\": \"Afaraf\"\n    },\n    \"af\": {\n        \"name\": \"Afrikaans\",\n        \"nativeName\": \"Afrikaans\"\n    },\n    \"ak\": {\n        \"name\": \"Akan\",\n        \"nativeName\": \"Akan\"\n    },\n    \"sq\": {\n        \"name\": \"Albanian\",\n        \"nativeName\": \"Shqip\"\n    },\n    \"am\": {\n        \"name\": \"Amharic\",\n        \"nativeName\": \"አማርኛ\"\n    },\n    \"ar\": {\n        \"name\": \"Arabic\",\n        \"nativeName\": \"العربية\"\n    },\n    \"an\": {\n        \"name\": \"Aragonese\",\n        \"nativeName\": \"Aragonés\"\n    },\n    \"hy\": {\n        \"name\": \"Armenian\",\n        \"nativeName\": \"Հայերեն\"\n    },\n    \"as\": {\n        \"name\": \"Assamese\",\n        \"nativeName\": \"অসমীয়া\"\n    },\n    \"av\": {\n        \"name\": \"Avaric\",\n        \"nativeName\": \"авар мацӀ, магӀарул мацӀ\"\n    },\n    \"ae\": {\n        \"name\": \"Avestan\",\n        \"nativeName\": \"avesta\"\n    },\n    \"ay\": {\n        \"name\": \"Aymara\",\n        \"nativeName\": \"aymar aru\"\n    },\n    \"az\": {\n        \"name\": \"Azerbaijani\",\n        \"nativeName\": \"azərbaycan dili\"\n    },\n    \"bm\": {\n        \"name\": \"Bambara\",\n        \"nativeName\": \"bamanankan\"\n    },\n    \"ba\": {\n        \"name\": \"Bashkir\",\n        \"nativeName\": \"башҡорт теле\"\n    },\n    \"eu\": {\n        \"name\": \"Basque\",\n        \"nativeName\": \"euskara, euskera\"\n    },\n    \"be\": {\n        \"name\": \"Belarusian\",\n        \"nativeName\": \"Беларуская\"\n    },\n    \"bn\": {\n        \"name\": \"Bengali\",\n        \"nativeName\": \"বাংলা\"\n    },\n    \"bh\": {\n        \"name\": \"Bihari\",\n        \"nativeName\": \"भोजपुरी\"\n    },\n    \"bi\": {\n        \"name\": \"Bislama\",\n        \"nativeName\": \"Bislama\"\n    },\n    \"bs\": {\n        \"name\": \"Bosnian\",\n        \"nativeName\": \"bosanski jezik\"\n    },\n    \"br\": {\n        \"name\": \"Breton\",\n        \"nativeName\": \"brezhoneg\"\n    },\n    \"bg\": {\n        \"name\": \"Bulgarian\",\n        \"nativeName\": \"български език\"\n    },\n    \"my\": {\n        \"name\": \"Burmese\",\n        \"nativeName\": \"ဗမာစာ\"\n    },\n    \"ca\": {\n        \"name\": \"Catalan; Valencian\",\n        \"nativeName\": \"Català\"\n    },\n    \"ch\": {\n        \"name\": \"Chamorro\",\n        \"nativeName\": \"Chamoru\"\n    },\n    \"ce\": {\n        \"name\": \"Chechen\",\n        \"nativeName\": \"нохчийн мотт\"\n    },\n    \"ny\": {\n        \"name\": \"Chichewa; Chewa; Nyanja\",\n        \"nativeName\": \"chiCheŵa, chinyanja\"\n    },\n    \"zh\": {\n        \"name\": \"Chinese\",\n        \"nativeName\": \"中文 (Zhōngwén), 汉语, 漢語\"\n    },\n    \"cv\": {\n        \"name\": \"Chuvash\",\n        \"nativeName\": \"чӑваш чӗлхи\"\n    },\n    \"kw\": {\n        \"name\": \"Cornish\",\n        \"nativeName\": \"Kernewek\"\n    },\n    \"co\": {\n        \"name\": \"Corsican\",\n        \"nativeName\": \"corsu, lingua corsa\"\n    },\n    \"cr\": {\n        \"name\": \"Cree\",\n        \"nativeName\": \"ᓀᐦᐃᔭᐍᐏᐣ\"\n    },\n    \"hr\": {\n        \"name\": \"Croatian\",\n        \"nativeName\": \"hrvatski\"\n    },\n    \"cs\": {\n        \"name\": \"Czech\",\n        \"nativeName\": \"česky, čeština\"\n    },\n    \"da\": {\n        \"name\": \"Danish\",\n        \"nativeName\": \"dansk\"\n    },\n    \"dv\": {\n        \"name\": \"Divehi; Dhivehi; Maldivian;\",\n        \"nativeName\": \"ދިވެހި\"\n    },\n    \"nl\": {\n        \"name\": \"Dutch\",\n        \"nativeName\": \"Nederlands, Vlaams\"\n    },\n    \"en\": {\n        \"name\": \"English\",\n        \"nativeName\": \"English\"\n    },\n    \"eo\": {\n        \"name\": \"Esperanto\",\n        \"nativeName\": \"Esperanto\"\n    },\n    \"et\": {\n        \"name\": \"Estonian\",\n        \"nativeName\": \"eesti, eesti keel\"\n    },\n    \"ee\": {\n        \"name\": \"Ewe\",\n        \"nativeName\": \"Eʋegbe\"\n    },\n    \"fo\": {\n        \"name\": \"Faroese\",\n        \"nativeName\": \"føroyskt\"\n    },\n    \"fj\": {\n        \"name\": \"Fijian\",\n        \"nativeName\": \"vosa Vakaviti\"\n    },\n    \"fi\": {\n        \"name\": \"Finnish\",\n        \"nativeName\": \"suomi, suomen kieli\"\n    },\n    \"fr\": {\n        \"name\": \"French\",\n        \"nativeName\": \"français, langue française\"\n    },\n    \"ff\": {\n        \"name\": \"Fula; Fulah; Pulaar; Pular\",\n        \"nativeName\": \"Fulfulde, Pulaar, Pular\"\n    },\n    \"gl\": {\n        \"name\": \"Galician\",\n        \"nativeName\": \"Galego\"\n    },\n    \"ka\": {\n        \"name\": \"Georgian\",\n        \"nativeName\": \"ქართული\"\n    },\n    \"de\": {\n        \"name\": \"German\",\n        \"nativeName\": \"Deutsch\"\n    },\n    \"el\": {\n        \"name\": \"Greek, Modern\",\n        \"nativeName\": \"Ελληνικά\"\n    },\n    \"gn\": {\n        \"name\": \"Guaraní\",\n        \"nativeName\": \"Avañeẽ\"\n    },\n    \"gu\": {\n        \"name\": \"Gujarati\",\n        \"nativeName\": \"ગુજરાતી\"\n    },\n    \"ht\": {\n        \"name\": \"Haitian; Haitian Creole\",\n        \"nativeName\": \"Kreyòl ayisyen\"\n    },\n    \"ha\": {\n        \"name\": \"Hausa\",\n        \"nativeName\": \"Hausa, هَوُسَ\"\n    },\n    \"he\": {\n        \"name\": \"Hebrew (modern)\",\n        \"nativeName\": \"עברית\"\n    },\n    \"hz\": {\n        \"name\": \"Herero\",\n        \"nativeName\": \"Otjiherero\"\n    },\n    \"hi\": {\n        \"name\": \"Hindi\",\n        \"nativeName\": \"हिन्दी, हिंदी\"\n    },\n    \"ho\": {\n        \"name\": \"Hiri Motu\",\n        \"nativeName\": \"Hiri Motu\"\n    },\n    \"hu\": {\n        \"name\": \"Hungarian\",\n        \"nativeName\": \"Magyar\"\n    },\n    \"ia\": {\n        \"name\": \"Interlingua\",\n        \"nativeName\": \"Interlingua\"\n    },\n    \"id\": {\n        \"name\": \"Indonesian\",\n        \"nativeName\": \"Bahasa Indonesia\"\n    },\n    \"ie\": {\n        \"name\": \"Interlingue\",\n        \"nativeName\": \"Originally called Occidental; then Interlingue after WWII\"\n    },\n    \"ga\": {\n        \"name\": \"Irish\",\n        \"nativeName\": \"Gaeilge\"\n    },\n    \"ig\": {\n        \"name\": \"Igbo\",\n        \"nativeName\": \"Asụsụ Igbo\"\n    },\n    \"ik\": {\n        \"name\": \"Inupiaq\",\n        \"nativeName\": \"Iñupiaq, Iñupiatun\"\n    },\n    \"io\": {\n        \"name\": \"Ido\",\n        \"nativeName\": \"Ido\"\n    },\n    \"is\": {\n        \"name\": \"Icelandic\",\n        \"nativeName\": \"Íslenska\"\n    },\n    \"it\": {\n        \"name\": \"Italian\",\n        \"nativeName\": \"Italiano\"\n    },\n    \"iu\": {\n        \"name\": \"Inuktitut\",\n        \"nativeName\": \"ᐃᓄᒃᑎᑐᑦ\"\n    },\n    \"ja\": {\n        \"name\": \"Japanese\",\n        \"nativeName\": \"日本語 (にほんご／にっぽんご)\"\n    },\n    \"jv\": {\n        \"name\": \"Javanese\",\n        \"nativeName\": \"basa Jawa\"\n    },\n    \"kl\": {\n        \"name\": \"Kalaallisut, Greenlandic\",\n        \"nativeName\": \"kalaallisut, kalaallit oqaasii\"\n    },\n    \"kn\": {\n        \"name\": \"Kannada\",\n        \"nativeName\": \"ಕನ್ನಡ\"\n    },\n    \"kr\": {\n        \"name\": \"Kanuri\",\n        \"nativeName\": \"Kanuri\"\n    },\n    \"ks\": {\n        \"name\": \"Kashmiri\",\n        \"nativeName\": \"कश्मीरी, كشميري‎\"\n    },\n    \"kk\": {\n        \"name\": \"Kazakh\",\n        \"nativeName\": \"Қазақ тілі\"\n    },\n    \"km\": {\n        \"name\": \"Khmer\",\n        \"nativeName\": \"ភាសាខ្មែរ\"\n    },\n    \"ki\": {\n        \"name\": \"Kikuyu, Gikuyu\",\n        \"nativeName\": \"Gĩkũyũ\"\n    },\n    \"rw\": {\n        \"name\": \"Kinyarwanda\",\n        \"nativeName\": \"Ikinyarwanda\"\n    },\n    \"ky\": {\n        \"name\": \"Kirghiz, Kyrgyz\",\n        \"nativeName\": \"кыргыз тили\"\n    },\n    \"kv\": {\n        \"name\": \"Komi\",\n        \"nativeName\": \"коми кыв\"\n    },\n    \"kg\": {\n        \"name\": \"Kongo\",\n        \"nativeName\": \"KiKongo\"\n    },\n    \"ko\": {\n        \"name\": \"Korean\",\n        \"nativeName\": \"한국어 (韓國語), 조선말 (朝鮮語)\"\n    },\n    \"ku\": {\n        \"name\": \"Kurdish\",\n        \"nativeName\": \"Kurdî, كوردی‎\"\n    },\n    \"kj\": {\n        \"name\": \"Kwanyama, Kuanyama\",\n        \"nativeName\": \"Kuanyama\"\n    },\n    \"la\": {\n        \"name\": \"Latin\",\n        \"nativeName\": \"latine, lingua latina\"\n    },\n    \"lb\": {\n        \"name\": \"Luxembourgish, Letzeburgesch\",\n        \"nativeName\": \"Lëtzebuergesch\"\n    },\n    \"lg\": {\n        \"name\": \"Luganda\",\n        \"nativeName\": \"Luganda\"\n    },\n    \"li\": {\n        \"name\": \"Limburgish, Limburgan, Limburger\",\n        \"nativeName\": \"Limburgs\"\n    },\n    \"ln\": {\n        \"name\": \"Lingala\",\n        \"nativeName\": \"Lingála\"\n    },\n    \"lo\": {\n        \"name\": \"Lao\",\n        \"nativeName\": \"ພາສາລາວ\"\n    },\n    \"lt\": {\n        \"name\": \"Lithuanian\",\n        \"nativeName\": \"lietuvių kalba\"\n    },\n    \"lu\": {\n        \"name\": \"Luba-Katanga\",\n        \"nativeName\": \"\"\n    },\n    \"lv\": {\n        \"name\": \"Latvian\",\n        \"nativeName\": \"latviešu valoda\"\n    },\n    \"gv\": {\n        \"name\": \"Manx\",\n        \"nativeName\": \"Gaelg, Gailck\"\n    },\n    \"mk\": {\n        \"name\": \"Macedonian\",\n        \"nativeName\": \"македонски јазик\"\n    },\n    \"mg\": {\n        \"name\": \"Malagasy\",\n        \"nativeName\": \"Malagasy fiteny\"\n    },\n    \"ms\": {\n        \"name\": \"Malay\",\n        \"nativeName\": \"bahasa Melayu, بهاس ملايو‎\"\n    },\n    \"ml\": {\n        \"name\": \"Malayalam\",\n        \"nativeName\": \"മലയാളം\"\n    },\n    \"mt\": {\n        \"name\": \"Maltese\",\n        \"nativeName\": \"Malti\"\n    },\n    \"mi\": {\n        \"name\": \"Māori\",\n        \"nativeName\": \"te reo Māori\"\n    },\n    \"mr\": {\n        \"name\": \"Marathi (Marāṭhī)\",\n        \"nativeName\": \"मराठी\"\n    },\n    \"mh\": {\n        \"name\": \"Marshallese\",\n        \"nativeName\": \"Kajin M̧ajeļ\"\n    },\n    \"mn\": {\n        \"name\": \"Mongolian\",\n        \"nativeName\": \"монгол\"\n    },\n    \"na\": {\n        \"name\": \"Nauru\",\n        \"nativeName\": \"Ekakairũ Naoero\"\n    },\n    \"nv\": {\n        \"name\": \"Navajo, Navaho\",\n        \"nativeName\": \"Diné bizaad, Dinékʼehǰí\"\n    },\n    \"nb\": {\n        \"name\": \"Norwegian Bokmål\",\n        \"nativeName\": \"Norsk bokmål\"\n    },\n    \"nd\": {\n        \"name\": \"North Ndebele\",\n        \"nativeName\": \"isiNdebele\"\n    },\n    \"ne\": {\n        \"name\": \"Nepali\",\n        \"nativeName\": \"नेपाली\"\n    },\n    \"ng\": {\n        \"name\": \"Ndonga\",\n        \"nativeName\": \"Owambo\"\n    },\n    \"nn\": {\n        \"name\": \"Norwegian Nynorsk\",\n        \"nativeName\": \"Norsk nynorsk\"\n    },\n    \"no\": {\n        \"name\": \"Norwegian\",\n        \"nativeName\": \"Norsk\"\n    },\n    \"ii\": {\n        \"name\": \"Nuosu\",\n        \"nativeName\": \"ꆈꌠ꒿ Nuosuhxop\"\n    },\n    \"nr\": {\n        \"name\": \"South Ndebele\",\n        \"nativeName\": \"isiNdebele\"\n    },\n    \"oc\": {\n        \"name\": \"Occitan\",\n        \"nativeName\": \"Occitan\"\n    },\n    \"oj\": {\n        \"name\": \"Ojibwe, Ojibwa\",\n        \"nativeName\": \"ᐊᓂᔑᓈᐯᒧᐎᓐ\"\n    },\n    \"cu\": {\n        \"name\": \"Old Church Slavonic, Church Slavic, Church Slavonic, Old Bulgarian, Old Slavonic\",\n        \"nativeName\": \"ѩзыкъ словѣньскъ\"\n    },\n    \"om\": {\n        \"name\": \"Oromo\",\n        \"nativeName\": \"Afaan Oromoo\"\n    },\n    \"or\": {\n        \"name\": \"Oriya\",\n        \"nativeName\": \"ଓଡ଼ିଆ\"\n    },\n    \"os\": {\n        \"name\": \"Ossetian, Ossetic\",\n        \"nativeName\": \"ирон æвзаг\"\n    },\n    \"pa\": {\n        \"name\": \"Panjabi, Punjabi\",\n        \"nativeName\": \"ਪੰਜਾਬੀ, پنجابی‎\"\n    },\n    \"pi\": {\n        \"name\": \"Pāli\",\n        \"nativeName\": \"पाऴि\"\n    },\n    \"fa\": {\n        \"name\": \"Persian\",\n        \"nativeName\": \"فارسی\"\n    },\n    \"pl\": {\n        \"name\": \"Polish\",\n        \"nativeName\": \"polski\"\n    },\n    \"ps\": {\n        \"name\": \"Pashto, Pushto\",\n        \"nativeName\": \"پښتو\"\n    },\n    \"pt\": {\n        \"name\": \"Portuguese\",\n        \"nativeName\": \"Português\"\n    },\n    \"qu\": {\n        \"name\": \"Quechua\",\n        \"nativeName\": \"Runa Simi, Kichwa\"\n    },\n    \"rm\": {\n        \"name\": \"Romansh\",\n        \"nativeName\": \"rumantsch grischun\"\n    },\n    \"rn\": {\n        \"name\": \"Kirundi\",\n        \"nativeName\": \"kiRundi\"\n    },\n    \"ro\": {\n        \"name\": \"Romanian, Moldavian, Moldovan\",\n        \"nativeName\": \"română\"\n    },\n    \"ru\": {\n        \"name\": \"Russian\",\n        \"nativeName\": \"русский язык\"\n    },\n    \"sa\": {\n        \"name\": \"Sanskrit (Saṁskṛta)\",\n        \"nativeName\": \"संस्कृतम्\"\n    },\n    \"sc\": {\n        \"name\": \"Sardinian\",\n        \"nativeName\": \"sardu\"\n    },\n    \"sd\": {\n        \"name\": \"Sindhi\",\n        \"nativeName\": \"सिन्धी, سنڌي، سندھی‎\"\n    },\n    \"se\": {\n        \"name\": \"Northern Sami\",\n        \"nativeName\": \"Davvisámegiella\"\n    },\n    \"sm\": {\n        \"name\": \"Samoan\",\n        \"nativeName\": \"gagana faa Samoa\"\n    },\n    \"sg\": {\n        \"name\": \"Sango\",\n        \"nativeName\": \"yângâ tî sängö\"\n    },\n    \"sr\": {\n        \"name\": \"Serbian\",\n        \"nativeName\": \"српски језик\"\n    },\n    \"gd\": {\n        \"name\": \"Scottish Gaelic; Gaelic\",\n        \"nativeName\": \"Gàidhlig\"\n    },\n    \"sn\": {\n        \"name\": \"Shona\",\n        \"nativeName\": \"chiShona\"\n    },\n    \"si\": {\n        \"name\": \"Sinhala, Sinhalese\",\n        \"nativeName\": \"සිංහල\"\n    },\n    \"sk\": {\n        \"name\": \"Slovak\",\n        \"nativeName\": \"slovenčina\"\n    },\n    \"sl\": {\n        \"name\": \"Slovene\",\n        \"nativeName\": \"slovenščina\"\n    },\n    \"so\": {\n        \"name\": \"Somali\",\n        \"nativeName\": \"Soomaaliga, af Soomaali\"\n    },\n    \"st\": {\n        \"name\": \"Southern Sotho\",\n        \"nativeName\": \"Sesotho\"\n    },\n    \"es\": {\n        \"name\": \"Spanish; Castilian\",\n        \"nativeName\": \"español, castellano\"\n    },\n    \"su\": {\n        \"name\": \"Sundanese\",\n        \"nativeName\": \"Basa Sunda\"\n    },\n    \"sw\": {\n        \"name\": \"Swahili\",\n        \"nativeName\": \"Kiswahili\"\n    },\n    \"ss\": {\n        \"name\": \"Swati\",\n        \"nativeName\": \"SiSwati\"\n    },\n    \"sv\": {\n        \"name\": \"Swedish\",\n        \"nativeName\": \"svenska\"\n    },\n    \"ta\": {\n        \"name\": \"Tamil\",\n        \"nativeName\": \"தமிழ்\"\n    },\n    \"te\": {\n        \"name\": \"Telugu\",\n        \"nativeName\": \"తెలుగు\"\n    },\n    \"tg\": {\n        \"name\": \"Tajik\",\n        \"nativeName\": \"тоҷикӣ, toğikī, تاجیکی‎\"\n    },\n    \"th\": {\n        \"name\": \"Thai\",\n        \"nativeName\": \"ไทย\"\n    },\n    \"ti\": {\n        \"name\": \"Tigrinya\",\n        \"nativeName\": \"ትግርኛ\"\n    },\n    \"bo\": {\n        \"name\": \"Tibetan Standard, Tibetan, Central\",\n        \"nativeName\": \"བོད་ཡིག\"\n    },\n    \"tk\": {\n        \"name\": \"Turkmen\",\n        \"nativeName\": \"Türkmen, Түркмен\"\n    },\n    \"tl\": {\n        \"name\": \"Tagalog\",\n        \"nativeName\": \"Wikang Tagalog, ᜏᜒᜃᜅ᜔ ᜆᜄᜎᜓᜄ᜔\"\n    },\n    \"tn\": {\n        \"name\": \"Tswana\",\n        \"nativeName\": \"Setswana\"\n    },\n    \"to\": {\n        \"name\": \"Tonga (Tonga Islands)\",\n        \"nativeName\": \"faka Tonga\"\n    },\n    \"tr\": {\n        \"name\": \"Turkish\",\n        \"nativeName\": \"Türkçe\"\n    },\n    \"ts\": {\n        \"name\": \"Tsonga\",\n        \"nativeName\": \"Xitsonga\"\n    },\n    \"tt\": {\n        \"name\": \"Tatar\",\n        \"nativeName\": \"татарча, tatarça, تاتارچا‎\"\n    },\n    \"tw\": {\n        \"name\": \"Twi\",\n        \"nativeName\": \"Twi\"\n    },\n    \"ty\": {\n        \"name\": \"Tahitian\",\n        \"nativeName\": \"Reo Tahiti\"\n    },\n    \"ug\": {\n        \"name\": \"Uighur, Uyghur\",\n        \"nativeName\": \"Uyƣurqə, ئۇيغۇرچە‎\"\n    },\n    \"uk\": {\n        \"name\": \"Ukrainian\",\n        \"nativeName\": \"українська\"\n    },\n    \"ur\": {\n        \"name\": \"Urdu\",\n        \"nativeName\": \"اردو\"\n    },\n    \"uz\": {\n        \"name\": \"Uzbek\",\n        \"nativeName\": \"zbek, Ўзбек, أۇزبېك‎\"\n    },\n    \"ve\": {\n        \"name\": \"Venda\",\n        \"nativeName\": \"Tshivenḓa\"\n    },\n    \"vi\": {\n        \"name\": \"Vietnamese\",\n        \"nativeName\": \"Tiếng Việt\"\n    },\n    \"vo\": {\n        \"name\": \"Volapük\",\n        \"nativeName\": \"Volapük\"\n    },\n    \"wa\": {\n        \"name\": \"Walloon\",\n        \"nativeName\": \"Walon\"\n    },\n    \"cy\": {\n        \"name\": \"Welsh\",\n        \"nativeName\": \"Cymraeg\"\n    },\n    \"wo\": {\n        \"name\": \"Wolof\",\n        \"nativeName\": \"Wollof\"\n    },\n    \"fy\": {\n        \"name\": \"Western Frisian\",\n        \"nativeName\": \"Frysk\"\n    },\n    \"xh\": {\n        \"name\": \"Xhosa\",\n        \"nativeName\": \"isiXhosa\"\n    },\n    \"yi\": {\n        \"name\": \"Yiddish\",\n        \"nativeName\": \"ייִדיש\"\n    },\n    \"yo\": {\n        \"name\": \"Yoruba\",\n        \"nativeName\": \"Yorùbá\"\n    },\n    \"za\": {\n        \"name\": \"Zhuang, Chuang\",\n        \"nativeName\": \"Saɯ cueŋƅ, Saw cuengh\"\n    }\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvanMvZGVmcy9pc29MYW5ncy5qcz83NzEyIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGF1dGhvciBQaGlsIFRlYXJlXG4gKiB1c2luZyB3aWtpcGVkaWEgZGF0YVxuICovXG5leHBvcnQgY29uc3QgaXNvTGFuZ3MgPSB7XG4gICAgXCJhYlwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIkFia2hhelwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCLQsNKn0YHRg9CwXCJcbiAgICB9LFxuICAgIFwiYWFcIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJBZmFyXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcIkFmYXJhZlwiXG4gICAgfSxcbiAgICBcImFmXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiQWZyaWthYW5zXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcIkFmcmlrYWFuc1wiXG4gICAgfSxcbiAgICBcImFrXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiQWthblwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCJBa2FuXCJcbiAgICB9LFxuICAgIFwic3FcIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJBbGJhbmlhblwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCJTaHFpcFwiXG4gICAgfSxcbiAgICBcImFtXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiQW1oYXJpY1wiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCLhiqDhiJvhiK3hiptcIlxuICAgIH0sXG4gICAgXCJhclwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIkFyYWJpY1wiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCLYp9mE2LnYsdio2YrYqVwiXG4gICAgfSxcbiAgICBcImFuXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiQXJhZ29uZXNlXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcIkFyYWdvbsOpc1wiXG4gICAgfSxcbiAgICBcImh5XCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiQXJtZW5pYW5cIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwi1YDVodW11aXWgNWl1bZcIlxuICAgIH0sXG4gICAgXCJhc1wiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIkFzc2FtZXNlXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcIuCmheCmuOCmruCngOCmr+CmvOCmvlwiXG4gICAgfSxcbiAgICBcImF2XCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiQXZhcmljXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcItCw0LLQsNGAINC80LDRhtOALCDQvNCw0LPTgNCw0YDRg9C7INC80LDRhtOAXCJcbiAgICB9LFxuICAgIFwiYWVcIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJBdmVzdGFuXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcImF2ZXN0YVwiXG4gICAgfSxcbiAgICBcImF5XCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiQXltYXJhXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcImF5bWFyIGFydVwiXG4gICAgfSxcbiAgICBcImF6XCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiQXplcmJhaWphbmlcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwiYXrJmXJiYXljYW4gZGlsaVwiXG4gICAgfSxcbiAgICBcImJtXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiQmFtYmFyYVwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCJiYW1hbmFua2FuXCJcbiAgICB9LFxuICAgIFwiYmFcIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJCYXNoa2lyXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcItCx0LDRiNKh0L7RgNGCINGC0LXQu9C1XCJcbiAgICB9LFxuICAgIFwiZXVcIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJCYXNxdWVcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwiZXVza2FyYSwgZXVza2VyYVwiXG4gICAgfSxcbiAgICBcImJlXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiQmVsYXJ1c2lhblwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCLQkdC10LvQsNGA0YPRgdC60LDRj1wiXG4gICAgfSxcbiAgICBcImJuXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiQmVuZ2FsaVwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCLgpqzgpr7gpoLgprLgpr5cIlxuICAgIH0sXG4gICAgXCJiaFwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIkJpaGFyaVwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCLgpK3gpYvgpJzgpKrgpYHgpLDgpYBcIlxuICAgIH0sXG4gICAgXCJiaVwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIkJpc2xhbWFcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwiQmlzbGFtYVwiXG4gICAgfSxcbiAgICBcImJzXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiQm9zbmlhblwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCJib3NhbnNraSBqZXppa1wiXG4gICAgfSxcbiAgICBcImJyXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiQnJldG9uXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcImJyZXpob25lZ1wiXG4gICAgfSxcbiAgICBcImJnXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiQnVsZ2FyaWFuXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcItCx0YrQu9Cz0LDRgNGB0LrQuCDQtdC30LjQulwiXG4gICAgfSxcbiAgICBcIm15XCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiQnVybWVzZVwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCLhgJfhgJnhgKzhgIXhgKxcIlxuICAgIH0sXG4gICAgXCJjYVwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIkNhdGFsYW47IFZhbGVuY2lhblwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCJDYXRhbMOgXCJcbiAgICB9LFxuICAgIFwiY2hcIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJDaGFtb3Jyb1wiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCJDaGFtb3J1XCJcbiAgICB9LFxuICAgIFwiY2VcIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJDaGVjaGVuXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcItC90L7RhdGH0LjQudC9INC80L7RgtGCXCJcbiAgICB9LFxuICAgIFwibnlcIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJDaGljaGV3YTsgQ2hld2E7IE55YW5qYVwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCJjaGlDaGXFtWEsIGNoaW55YW5qYVwiXG4gICAgfSxcbiAgICBcInpoXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiQ2hpbmVzZVwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCLkuK3mlocgKFpoxY1uZ3fDqW4pLCDmsYnor60sIOa8ouiqnlwiXG4gICAgfSxcbiAgICBcImN2XCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiQ2h1dmFzaFwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCLRh9OR0LLQsNGIINGH05fQu9GF0LhcIlxuICAgIH0sXG4gICAgXCJrd1wiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIkNvcm5pc2hcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwiS2VybmV3ZWtcIlxuICAgIH0sXG4gICAgXCJjb1wiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIkNvcnNpY2FuXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcImNvcnN1LCBsaW5ndWEgY29yc2FcIlxuICAgIH0sXG4gICAgXCJjclwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIkNyZWVcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwi4ZOA4ZCm4ZCD4ZSt4ZCN4ZCP4ZCjXCJcbiAgICB9LFxuICAgIFwiaHJcIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJDcm9hdGlhblwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCJocnZhdHNraVwiXG4gICAgfSxcbiAgICBcImNzXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiQ3plY2hcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwixI1lc2t5LCDEjWXFoXRpbmFcIlxuICAgIH0sXG4gICAgXCJkYVwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIkRhbmlzaFwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCJkYW5za1wiXG4gICAgfSxcbiAgICBcImR2XCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiRGl2ZWhpOyBEaGl2ZWhpOyBNYWxkaXZpYW47XCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcIt6L3qjeiN6s3oDeqFwiXG4gICAgfSxcbiAgICBcIm5sXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiRHV0Y2hcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwiTmVkZXJsYW5kcywgVmxhYW1zXCJcbiAgICB9LFxuICAgIFwiZW5cIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJFbmdsaXNoXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcIkVuZ2xpc2hcIlxuICAgIH0sXG4gICAgXCJlb1wiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIkVzcGVyYW50b1wiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCJFc3BlcmFudG9cIlxuICAgIH0sXG4gICAgXCJldFwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIkVzdG9uaWFuXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcImVlc3RpLCBlZXN0aSBrZWVsXCJcbiAgICB9LFxuICAgIFwiZWVcIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJFd2VcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwiRcqLZWdiZVwiXG4gICAgfSxcbiAgICBcImZvXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiRmFyb2VzZVwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCJmw7hyb3lza3RcIlxuICAgIH0sXG4gICAgXCJmalwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIkZpamlhblwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCJ2b3NhIFZha2F2aXRpXCJcbiAgICB9LFxuICAgIFwiZmlcIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJGaW5uaXNoXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcInN1b21pLCBzdW9tZW4ga2llbGlcIlxuICAgIH0sXG4gICAgXCJmclwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIkZyZW5jaFwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCJmcmFuw6dhaXMsIGxhbmd1ZSBmcmFuw6dhaXNlXCJcbiAgICB9LFxuICAgIFwiZmZcIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJGdWxhOyBGdWxhaDsgUHVsYWFyOyBQdWxhclwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCJGdWxmdWxkZSwgUHVsYWFyLCBQdWxhclwiXG4gICAgfSxcbiAgICBcImdsXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiR2FsaWNpYW5cIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwiR2FsZWdvXCJcbiAgICB9LFxuICAgIFwia2FcIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJHZW9yZ2lhblwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCLhg6Xhg5Dhg6Dhg5fhg6Phg5rhg5hcIlxuICAgIH0sXG4gICAgXCJkZVwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIkdlcm1hblwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCJEZXV0c2NoXCJcbiAgICB9LFxuICAgIFwiZWxcIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJHcmVlaywgTW9kZXJuXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcIs6VzrvOu863zr3Ouc66zqxcIlxuICAgIH0sXG4gICAgXCJnblwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIkd1YXJhbsOtXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcIkF2YcOxZeG6vVwiXG4gICAgfSxcbiAgICBcImd1XCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiR3VqYXJhdGlcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwi4KqX4KuB4Kqc4Kqw4Kq+4Kqk4KuAXCJcbiAgICB9LFxuICAgIFwiaHRcIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJIYWl0aWFuOyBIYWl0aWFuIENyZW9sZVwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCJLcmV5w7JsIGF5aXN5ZW5cIlxuICAgIH0sXG4gICAgXCJoYVwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIkhhdXNhXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcIkhhdXNhLCDZh9mO2YjZj9iz2Y5cIlxuICAgIH0sXG4gICAgXCJoZVwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIkhlYnJldyAobW9kZXJuKVwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCLXoteR16jXmdeqXCJcbiAgICB9LFxuICAgIFwiaHpcIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJIZXJlcm9cIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwiT3RqaWhlcmVyb1wiXG4gICAgfSxcbiAgICBcImhpXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiSGluZGlcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwi4KS54KS/4KSo4KWN4KSm4KWALCDgpLngpL/gpILgpKbgpYBcIlxuICAgIH0sXG4gICAgXCJob1wiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIkhpcmkgTW90dVwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCJIaXJpIE1vdHVcIlxuICAgIH0sXG4gICAgXCJodVwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIkh1bmdhcmlhblwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCJNYWd5YXJcIlxuICAgIH0sXG4gICAgXCJpYVwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIkludGVybGluZ3VhXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcIkludGVybGluZ3VhXCJcbiAgICB9LFxuICAgIFwiaWRcIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJJbmRvbmVzaWFuXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcIkJhaGFzYSBJbmRvbmVzaWFcIlxuICAgIH0sXG4gICAgXCJpZVwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIkludGVybGluZ3VlXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcIk9yaWdpbmFsbHkgY2FsbGVkIE9jY2lkZW50YWw7IHRoZW4gSW50ZXJsaW5ndWUgYWZ0ZXIgV1dJSVwiXG4gICAgfSxcbiAgICBcImdhXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiSXJpc2hcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwiR2FlaWxnZVwiXG4gICAgfSxcbiAgICBcImlnXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiSWdib1wiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCJBc+G7pXPhu6UgSWdib1wiXG4gICAgfSxcbiAgICBcImlrXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiSW51cGlhcVwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCJJw7F1cGlhcSwgScOxdXBpYXR1blwiXG4gICAgfSxcbiAgICBcImlvXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiSWRvXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcIklkb1wiXG4gICAgfSxcbiAgICBcImlzXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiSWNlbGFuZGljXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcIsONc2xlbnNrYVwiXG4gICAgfSxcbiAgICBcIml0XCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiSXRhbGlhblwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCJJdGFsaWFub1wiXG4gICAgfSxcbiAgICBcIml1XCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiSW51a3RpdHV0XCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcIuGQg+GThOGSg+GRjuGRkOGRplwiXG4gICAgfSxcbiAgICBcImphXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiSmFwYW5lc2VcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwi5pel5pys6KqeICjjgavjgbvjgpPjgZTvvI/jgavjgaPjgb3jgpPjgZQpXCJcbiAgICB9LFxuICAgIFwianZcIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJKYXZhbmVzZVwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCJiYXNhIEphd2FcIlxuICAgIH0sXG4gICAgXCJrbFwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIkthbGFhbGxpc3V0LCBHcmVlbmxhbmRpY1wiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCJrYWxhYWxsaXN1dCwga2FsYWFsbGl0IG9xYWFzaWlcIlxuICAgIH0sXG4gICAgXCJrblwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIkthbm5hZGFcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwi4LKV4LKo4LON4LKo4LKhXCJcbiAgICB9LFxuICAgIFwia3JcIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJLYW51cmlcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwiS2FudXJpXCJcbiAgICB9LFxuICAgIFwia3NcIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJLYXNobWlyaVwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCLgpJXgpLbgpY3gpK7gpYDgpLDgpYAsINmD2LTZhdmK2LHZiuKAjlwiXG4gICAgfSxcbiAgICBcImtrXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiS2F6YWtoXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcItKa0LDQt9Cw0psg0YLRltC70ZZcIlxuICAgIH0sXG4gICAgXCJrbVwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIktobWVyXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcIuGel+GetuGen+GetuGegeGfkuGemOGfguGemlwiXG4gICAgfSxcbiAgICBcImtpXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiS2lrdXl1LCBHaWt1eXVcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwiR8Spa8WpecWpXCJcbiAgICB9LFxuICAgIFwicndcIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJLaW55YXJ3YW5kYVwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCJJa2lueWFyd2FuZGFcIlxuICAgIH0sXG4gICAgXCJreVwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIktpcmdoaXosIEt5cmd5elwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCLQutGL0YDQs9GL0Lcg0YLQuNC70LhcIlxuICAgIH0sXG4gICAgXCJrdlwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIktvbWlcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwi0LrQvtC80Lgg0LrRi9CyXCJcbiAgICB9LFxuICAgIFwia2dcIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJLb25nb1wiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCJLaUtvbmdvXCJcbiAgICB9LFxuICAgIFwia29cIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJLb3JlYW5cIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwi7ZWc6rWt7Ja0ICjpn5PlnIvoqp4pLCDsobDshKDrp5AgKOacnemuruiqnilcIlxuICAgIH0sXG4gICAgXCJrdVwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIkt1cmRpc2hcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwiS3VyZMOuLCDZg9mI2LHYr9uM4oCOXCJcbiAgICB9LFxuICAgIFwia2pcIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJLd2FueWFtYSwgS3VhbnlhbWFcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwiS3VhbnlhbWFcIlxuICAgIH0sXG4gICAgXCJsYVwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIkxhdGluXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcImxhdGluZSwgbGluZ3VhIGxhdGluYVwiXG4gICAgfSxcbiAgICBcImxiXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiTHV4ZW1ib3VyZ2lzaCwgTGV0emVidXJnZXNjaFwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCJMw6t0emVidWVyZ2VzY2hcIlxuICAgIH0sXG4gICAgXCJsZ1wiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIkx1Z2FuZGFcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwiTHVnYW5kYVwiXG4gICAgfSxcbiAgICBcImxpXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiTGltYnVyZ2lzaCwgTGltYnVyZ2FuLCBMaW1idXJnZXJcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwiTGltYnVyZ3NcIlxuICAgIH0sXG4gICAgXCJsblwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIkxpbmdhbGFcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwiTGluZ8OhbGFcIlxuICAgIH0sXG4gICAgXCJsb1wiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIkxhb1wiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCLgup7gurLguqrgurLguqXgurLguqdcIlxuICAgIH0sXG4gICAgXCJsdFwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIkxpdGh1YW5pYW5cIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwibGlldHV2acWzIGthbGJhXCJcbiAgICB9LFxuICAgIFwibHVcIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJMdWJhLUthdGFuZ2FcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwiXCJcbiAgICB9LFxuICAgIFwibHZcIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJMYXR2aWFuXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcImxhdHZpZcWhdSB2YWxvZGFcIlxuICAgIH0sXG4gICAgXCJndlwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIk1hbnhcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwiR2FlbGcsIEdhaWxja1wiXG4gICAgfSxcbiAgICBcIm1rXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiTWFjZWRvbmlhblwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCLQvNCw0LrQtdC00L7QvdGB0LrQuCDRmNCw0LfQuNC6XCJcbiAgICB9LFxuICAgIFwibWdcIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJNYWxhZ2FzeVwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCJNYWxhZ2FzeSBmaXRlbnlcIlxuICAgIH0sXG4gICAgXCJtc1wiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIk1hbGF5XCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcImJhaGFzYSBNZWxheXUsINio2YfYp9izINmF2YTYp9mK2YjigI5cIlxuICAgIH0sXG4gICAgXCJtbFwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIk1hbGF5YWxhbVwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCLgtK7gtLLgtK/gtL7gtLPgtIJcIlxuICAgIH0sXG4gICAgXCJtdFwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIk1hbHRlc2VcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwiTWFsdGlcIlxuICAgIH0sXG4gICAgXCJtaVwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIk3EgW9yaVwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCJ0ZSByZW8gTcSBb3JpXCJcbiAgICB9LFxuICAgIFwibXJcIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJNYXJhdGhpIChNYXLEgeG5rWjEqylcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwi4KSu4KSw4KS+4KSg4KWAXCJcbiAgICB9LFxuICAgIFwibWhcIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJNYXJzaGFsbGVzZVwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCJLYWppbiBNzKdhamXEvFwiXG4gICAgfSxcbiAgICBcIm1uXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiTW9uZ29saWFuXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcItC80L7QvdCz0L7Qu1wiXG4gICAgfSxcbiAgICBcIm5hXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiTmF1cnVcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwiRWtha2FpcsWpIE5hb2Vyb1wiXG4gICAgfSxcbiAgICBcIm52XCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiTmF2YWpvLCBOYXZhaG9cIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwiRGluw6kgYml6YWFkLCBEaW7DqWvKvGVox7DDrVwiXG4gICAgfSxcbiAgICBcIm5iXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiTm9yd2VnaWFuIEJva23DpWxcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwiTm9yc2sgYm9rbcOlbFwiXG4gICAgfSxcbiAgICBcIm5kXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiTm9ydGggTmRlYmVsZVwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCJpc2lOZGViZWxlXCJcbiAgICB9LFxuICAgIFwibmVcIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJOZXBhbGlcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwi4KSo4KWH4KSq4KS+4KSy4KWAXCJcbiAgICB9LFxuICAgIFwibmdcIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJOZG9uZ2FcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwiT3dhbWJvXCJcbiAgICB9LFxuICAgIFwibm5cIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJOb3J3ZWdpYW4gTnlub3Jza1wiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCJOb3JzayBueW5vcnNrXCJcbiAgICB9LFxuICAgIFwibm9cIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJOb3J3ZWdpYW5cIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwiTm9yc2tcIlxuICAgIH0sXG4gICAgXCJpaVwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIk51b3N1XCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcIuqGiOqMoOqSvyBOdW9zdWh4b3BcIlxuICAgIH0sXG4gICAgXCJuclwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIlNvdXRoIE5kZWJlbGVcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwiaXNpTmRlYmVsZVwiXG4gICAgfSxcbiAgICBcIm9jXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiT2NjaXRhblwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCJPY2NpdGFuXCJcbiAgICB9LFxuICAgIFwib2pcIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJPamlid2UsIE9qaWJ3YVwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCLhkIrhk4LhlJHhk4jhkK/hkqfhkI7hk5BcIlxuICAgIH0sXG4gICAgXCJjdVwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIk9sZCBDaHVyY2ggU2xhdm9uaWMsIENodXJjaCBTbGF2aWMsIENodXJjaCBTbGF2b25pYywgT2xkIEJ1bGdhcmlhbiwgT2xkIFNsYXZvbmljXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcItGp0LfRi9C60Yog0YHQu9C+0LLRo9C90YzRgdC60YpcIlxuICAgIH0sXG4gICAgXCJvbVwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIk9yb21vXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcIkFmYWFuIE9yb21vb1wiXG4gICAgfSxcbiAgICBcIm9yXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiT3JpeWFcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwi4KyT4Kyh4Ky84Ky/4KyGXCJcbiAgICB9LFxuICAgIFwib3NcIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJPc3NldGlhbiwgT3NzZXRpY1wiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCLQuNGA0L7QvSDDptCy0LfQsNCzXCJcbiAgICB9LFxuICAgIFwicGFcIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJQYW5qYWJpLCBQdW5qYWJpXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcIuCoquCpsOConOCovuCorOCpgCwg2b7Zhtis2KfYqNuM4oCOXCJcbiAgICB9LFxuICAgIFwicGlcIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJQxIFsaVwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCLgpKrgpL7gpLTgpL9cIlxuICAgIH0sXG4gICAgXCJmYVwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIlBlcnNpYW5cIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwi2YHYp9ix2LPbjFwiXG4gICAgfSxcbiAgICBcInBsXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiUG9saXNoXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcInBvbHNraVwiXG4gICAgfSxcbiAgICBcInBzXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiUGFzaHRvLCBQdXNodG9cIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwi2b7amtiq2YhcIlxuICAgIH0sXG4gICAgXCJwdFwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIlBvcnR1Z3Vlc2VcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwiUG9ydHVndcOqc1wiXG4gICAgfSxcbiAgICBcInF1XCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiUXVlY2h1YVwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCJSdW5hIFNpbWksIEtpY2h3YVwiXG4gICAgfSxcbiAgICBcInJtXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiUm9tYW5zaFwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCJydW1hbnRzY2ggZ3Jpc2NodW5cIlxuICAgIH0sXG4gICAgXCJyblwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIktpcnVuZGlcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwia2lSdW5kaVwiXG4gICAgfSxcbiAgICBcInJvXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiUm9tYW5pYW4sIE1vbGRhdmlhbiwgTW9sZG92YW5cIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwicm9tw6JuxINcIlxuICAgIH0sXG4gICAgXCJydVwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIlJ1c3NpYW5cIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwi0YDRg9GB0YHQutC40Lkg0Y/Qt9GL0LpcIlxuICAgIH0sXG4gICAgXCJzYVwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIlNhbnNrcml0IChTYeG5gXNr4bmbdGEpXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcIuCkuOCkguCkuOCljeCkleClg+CkpOCkruCljVwiXG4gICAgfSxcbiAgICBcInNjXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiU2FyZGluaWFuXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcInNhcmR1XCJcbiAgICB9LFxuICAgIFwic2RcIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJTaW5kaGlcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwi4KS44KS/4KSo4KWN4KSn4KWALCDYs9mG2ozZitiMINiz2YbYr9q+24zigI5cIlxuICAgIH0sXG4gICAgXCJzZVwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIk5vcnRoZXJuIFNhbWlcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwiRGF2dmlzw6FtZWdpZWxsYVwiXG4gICAgfSxcbiAgICBcInNtXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiU2Ftb2FuXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcImdhZ2FuYSBmYWEgU2Ftb2FcIlxuICAgIH0sXG4gICAgXCJzZ1wiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIlNhbmdvXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcInnDom5nw6IgdMOuIHPDpG5nw7ZcIlxuICAgIH0sXG4gICAgXCJzclwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIlNlcmJpYW5cIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwi0YHRgNC/0YHQutC4INGY0LXQt9C40LpcIlxuICAgIH0sXG4gICAgXCJnZFwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIlNjb3R0aXNoIEdhZWxpYzsgR2FlbGljXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcIkfDoGlkaGxpZ1wiXG4gICAgfSxcbiAgICBcInNuXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiU2hvbmFcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwiY2hpU2hvbmFcIlxuICAgIH0sXG4gICAgXCJzaVwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIlNpbmhhbGEsIFNpbmhhbGVzZVwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCLgt4Pgt5LgtoLgt4Tgtr1cIlxuICAgIH0sXG4gICAgXCJza1wiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIlNsb3Zha1wiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCJzbG92ZW7EjWluYVwiXG4gICAgfSxcbiAgICBcInNsXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiU2xvdmVuZVwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCJzbG92ZW7FocSNaW5hXCJcbiAgICB9LFxuICAgIFwic29cIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJTb21hbGlcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwiU29vbWFhbGlnYSwgYWYgU29vbWFhbGlcIlxuICAgIH0sXG4gICAgXCJzdFwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIlNvdXRoZXJuIFNvdGhvXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcIlNlc290aG9cIlxuICAgIH0sXG4gICAgXCJlc1wiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIlNwYW5pc2g7IENhc3RpbGlhblwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCJlc3Bhw7FvbCwgY2FzdGVsbGFub1wiXG4gICAgfSxcbiAgICBcInN1XCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiU3VuZGFuZXNlXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcIkJhc2EgU3VuZGFcIlxuICAgIH0sXG4gICAgXCJzd1wiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIlN3YWhpbGlcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwiS2lzd2FoaWxpXCJcbiAgICB9LFxuICAgIFwic3NcIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJTd2F0aVwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCJTaVN3YXRpXCJcbiAgICB9LFxuICAgIFwic3ZcIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJTd2VkaXNoXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcInN2ZW5za2FcIlxuICAgIH0sXG4gICAgXCJ0YVwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIlRhbWlsXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcIuCupOCuruCuv+CutOCvjVwiXG4gICAgfSxcbiAgICBcInRlXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiVGVsdWd1XCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcIuCwpOCxhuCwsuCxgeCwl+CxgVwiXG4gICAgfSxcbiAgICBcInRnXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiVGFqaWtcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwi0YLQvtK30LjQutOjLCB0b8SfaWvEqywg2KrYp9is24zaqduM4oCOXCJcbiAgICB9LFxuICAgIFwidGhcIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJUaGFpXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcIuC5hOC4l+C4olwiXG4gICAgfSxcbiAgICBcInRpXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiVGlncmlueWFcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwi4Ym14YyN4Yit4YqbXCJcbiAgICB9LFxuICAgIFwiYm9cIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJUaWJldGFuIFN0YW5kYXJkLCBUaWJldGFuLCBDZW50cmFsXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcIuC9luC9vOC9keC8i+C9oeC9suC9glwiXG4gICAgfSxcbiAgICBcInRrXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiVHVya21lblwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCJUw7xya21lbiwg0KLSr9GA0LrQvNC10L1cIlxuICAgIH0sXG4gICAgXCJ0bFwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIlRhZ2Fsb2dcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwiV2lrYW5nIFRhZ2Fsb2csIOGcj+GckuGcg+GcheGclCDhnIbhnIThnI7hnJPhnIThnJRcIlxuICAgIH0sXG4gICAgXCJ0blwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIlRzd2FuYVwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCJTZXRzd2FuYVwiXG4gICAgfSxcbiAgICBcInRvXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiVG9uZ2EgKFRvbmdhIElzbGFuZHMpXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcImZha2EgVG9uZ2FcIlxuICAgIH0sXG4gICAgXCJ0clwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIlR1cmtpc2hcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwiVMO8cmvDp2VcIlxuICAgIH0sXG4gICAgXCJ0c1wiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIlRzb25nYVwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCJYaXRzb25nYVwiXG4gICAgfSxcbiAgICBcInR0XCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiVGF0YXJcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwi0YLQsNGC0LDRgNGH0LAsIHRhdGFyw6dhLCDYqtin2KrYp9ix2obYp+KAjlwiXG4gICAgfSxcbiAgICBcInR3XCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiVHdpXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcIlR3aVwiXG4gICAgfSxcbiAgICBcInR5XCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiVGFoaXRpYW5cIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwiUmVvIFRhaGl0aVwiXG4gICAgfSxcbiAgICBcInVnXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiVWlnaHVyLCBVeWdodXJcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwiVXnGo3VyccmZLCDYptuH2YrYutuH2LHahtuV4oCOXCJcbiAgICB9LFxuICAgIFwidWtcIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJVa3JhaW5pYW5cIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwi0YPQutGA0LDRl9C90YHRjNC60LBcIlxuICAgIH0sXG4gICAgXCJ1clwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIlVyZHVcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwi2KfYsdiv2YhcIlxuICAgIH0sXG4gICAgXCJ1elwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIlV6YmVrXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcInpiZWssINCO0LfQsdC10LosINij24fYstio25DZg+KAjlwiXG4gICAgfSxcbiAgICBcInZlXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiVmVuZGFcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwiVHNoaXZlbuG4k2FcIlxuICAgIH0sXG4gICAgXCJ2aVwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIlZpZXRuYW1lc2VcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwiVGnhur9uZyBWaeG7h3RcIlxuICAgIH0sXG4gICAgXCJ2b1wiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIlZvbGFww7xrXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcIlZvbGFww7xrXCJcbiAgICB9LFxuICAgIFwid2FcIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJXYWxsb29uXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcIldhbG9uXCJcbiAgICB9LFxuICAgIFwiY3lcIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJXZWxzaFwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCJDeW1yYWVnXCJcbiAgICB9LFxuICAgIFwid29cIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJXb2xvZlwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCJXb2xsb2ZcIlxuICAgIH0sXG4gICAgXCJmeVwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIldlc3Rlcm4gRnJpc2lhblwiLFxuICAgICAgICBcIm5hdGl2ZU5hbWVcIjogXCJGcnlza1wiXG4gICAgfSxcbiAgICBcInhoXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiWGhvc2FcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwiaXNpWGhvc2FcIlxuICAgIH0sXG4gICAgXCJ5aVwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIllpZGRpc2hcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwi15nXmda015PXmdepXCJcbiAgICB9LFxuICAgIFwieW9cIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJZb3J1YmFcIixcbiAgICAgICAgXCJuYXRpdmVOYW1lXCI6IFwiWW9yw7liw6FcIlxuICAgIH0sXG4gICAgXCJ6YVwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIlpodWFuZywgQ2h1YW5nXCIsXG4gICAgICAgIFwibmF0aXZlTmFtZVwiOiBcIlNhya8gY3VlxYvGhSwgU2F3IGN1ZW5naFwiXG4gICAgfVxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvanMvZGVmcy9pc29MYW5ncy5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQXJ0QkEiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 6 */
/* unknown exports provided */
/* all exports used */
/*!************************!*\
  !*** ./src/Version.js ***!
  \************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/* Version.js File */\n\nfunction Version() {};\n\nvar GIT_VERSION = '0.2.10';\nvar GIT_COMMIT_SINCE_TAG = '13';\nvar GIT_HEAD_SHORT_HASH = 'g2894e9b';\n\nVersion.prototype.getVersion = function () {\n    return GIT_VERSION;\n};\n\nVersion.prototype.getCommits = function () {\n    return GIT_COMMIT_SINCE_TAG;\n};\n\nVersion.prototype.getShortHash = function () {\n    return GIT_HEAD_SHORT_HASH;\n};\n\nexports.default = Version;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvVmVyc2lvbi5qcz80ZjRmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIFZlcnNpb24uanMgRmlsZSAqL1xuXG5mdW5jdGlvbiBWZXJzaW9uKCkge1xufTtcblxuY29uc3QgR0lUX1ZFUlNJT04gPSAnMC4yLjEwJztcbmNvbnN0IEdJVF9DT01NSVRfU0lOQ0VfVEFHID0gJzEzJztcbmNvbnN0IEdJVF9IRUFEX1NIT1JUX0hBU0ggPSAnZzI4OTRlOWInO1xuXG5WZXJzaW9uLnByb3RvdHlwZS5nZXRWZXJzaW9uID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIEdJVF9WRVJTSU9OO1xufTtcblxuVmVyc2lvbi5wcm90b3R5cGUuZ2V0Q29tbWl0cyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBHSVRfQ09NTUlUX1NJTkNFX1RBRztcbn07XG5cblZlcnNpb24ucHJvdG90eXBlLmdldFNob3J0SGFzaCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBHSVRfSEVBRF9TSE9SVF9IQVNIO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgVmVyc2lvbjtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvVmVyc2lvbi5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 7 */
/* unknown exports provided */
/* all exports used */
/*!*********************************!*\
  !*** ./src/js/player/player.js ***!
  \*********************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _Logger = __webpack_require__(/*! ../utils/Logger */ 0);\n\nvar _Logger2 = _interopRequireDefault(_Logger);\n\nvar _Overlays = __webpack_require__(/*! ../ui/Overlays */ 14);\n\nvar _Overlays2 = _interopRequireDefault(_Overlays);\n\nvar _Eventing = __webpack_require__(/*! ../utils/Eventing */ 3);\n\nvar _Eventing2 = _interopRequireDefault(_Eventing);\n\nvar _constants = __webpack_require__(/*! ../defs/constants */ 1);\n\nvar Const = _interopRequireWildcard(_constants);\n\nvar _PlayerMedia = __webpack_require__(/*! ../player/PlayerMedia */ 11);\n\nvar _PlayerMedia2 = _interopRequireDefault(_PlayerMedia);\n\nvar _PlayerUi = __webpack_require__(/*! ../ui/PlayerUi */ 15);\n\nvar _PlayerUi2 = _interopRequireDefault(_PlayerUi);\n\nvar _AdsManager = __webpack_require__(/*! ../ui/AdsManager */ 12);\n\nvar _AdsManager2 = _interopRequireDefault(_AdsManager);\n\nvar _FjError = __webpack_require__(/*! ../utils/FjError */ 18);\n\nvar _FjError2 = _interopRequireDefault(_FjError);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n *  Class player in whinch the player is implemented\n */\nfunction Player(fjID, vidContainerId) {\n    var logger = new _Logger2.default(this),\n        playerPlaylist = null,\n        playingList = false,\n        loopingList = false,\n        currentPlaying = -1,\n        currentIsDash = false,\n        playlistLoaded = false,\n        playingAds = false,\n\n    // default values\n    videoWidth = '100%',\n        videoHeight = '',\n        events = new _Eventing2.default(),\n        videoContainerId = vidContainerId,\n        OverlaysMgr = new _Overlays2.default(),\n        AdsMgr = new _AdsManager2.default(),\n        supportsVideo = !!document.createElement('video').canPlayType,\n        playerUi = new _PlayerUi2.default(videoContainerId, videoWidth, videoHeight),\n        playerMedia = new _PlayerMedia2.default();\n    /**\n     * function  to return a human redeable duration of secondes\n     */\n    function duration(secDuration) {\n        var secNum = parseInt(secDuration, 10); // don't forget the second param\n        var hours = Math.floor(secNum / 3600);\n        var minutes = Math.floor((secNum - hours * 3600) / 60);\n        var seconds = secNum - hours * 3600 - minutes * 60;\n\n        if (minutes < 10) {\n            minutes = '0' + minutes;\n        }\n        if (seconds < 10) {\n            seconds = '0' + seconds;\n        }\n        if (hours === 0) {\n            return minutes + ':' + seconds;\n        }\n        if (hours < 10) {\n            hours = '0' + hours;\n        }\n        return hours + ':' + minutes + ':' + seconds;\n    }\n\n    function playItem(itemPosition, autostart) {\n        var item;\n        var start = true;\n        if (autostart !== true) {\n            start = false;\n        }\n        currentPlaying = itemPosition;\n        if (!playlistLoaded) {\n            logger.error(' No playlist is loaded on player ');\n            return false;\n        }\n        item = playerPlaylist.getItem(itemPosition);\n        if (item === null) {\n            logger.error(' No item to play at index ', currentPlaying, ' playlist is sized ', playerPlaylist.getSize());\n            return false;\n        }\n        // set title\n        playerUi.setTitle(item[Const.FJCONFIG_TITLE]);\n        // set thumbs\n        playerMedia.setThumbsUrl(item[Const.FJCONFIG_THUMBS]);\n        // unload old\n        playerMedia.Unload();\n        // load new item\n        if (item[Const.FJCONFIG_SRC] !== null || item[Const.FJCONFIG_SRC] !== undefined) {\n            if (item[Const.FJCONFIG_TYPE] === Const.FJCONFIG_TYPE_DASH) {\n                // clear dash\n                currentIsDash = true;\n                logger.warn(' will play a clear dash on caption obect ', playerUi.getVideoCaption());\n                playerMedia.loadDash(item[Const.FJCONFIG_SRC], item[Const.FJCONFIG_POSTER], item[Const.FJCONFIG_SUBTITLES], playerUi.getVideoCaption(), start, item[Const.FJCONFIG_DRM]);\n            } else {\n                playerMedia.load(item[Const.FJCONFIG_SRC], item[Const.FJCONFIG_TYPE], item[Const.FJCONFIG_POSTER], item[Const.FJCONFIG_SUBTITLES], start);\n            }\n            return true;\n        }\n        logger.error('src of item is not valid , at index ', currentPlaying);\n        return false;\n    }\n\n    function playNext() {\n        if (!playlistLoaded) {\n            logger.error(' No playlist is loaded on player ');\n            return false;\n        }\n        // set playlist again\n        playingList = true;\n        currentPlaying++;\n        logger.log(' will play next', currentPlaying, ' in playlist is loaded on player ');\n        if (playerPlaylist.getSize() < currentPlaying) {\n            if (loopingList === true) {\n                currentPlaying = 0;\n            }\n            // playlist if ended\n            return false;\n        }\n        // play next\n        playItem(currentPlaying);\n        // auto play it\n        playerUi.ShowVideo();\n        playerUi.onplaypauseClick();\n        return true;\n    }\n\n    function AdsEventing(e, args) {\n        logger.debug(' just a new event from adsmgr ', e, args);\n        // send Event to listener\n        logger.warn('Sending Ads Event >>>>>>>>>>>>>>>>>   ', e);\n        events.fireEvent(e);\n        if (e === Const.AdsEvents.ADS_PLAYBACK_ENDED) {\n            playingAds = false;\n            if (args === Const.AdsEnum.ADS_PRE_ROLL) {\n                if (AdsMgr.CheckPreAds() === true) {\n                    return;\n                }\n                playerUi.ShowVideo();\n                playerMedia.play();\n                playerUi.toggleplaypauseBtn();\n                return;\n                // freezePlayer(false, true, false);\n            } else if (args === Const.AdsEnum.ADS_POST_ROLL) {\n                if (AdsMgr.CheckPostAds() === true) {\n                    return;\n                }\n                // check if in playlist then play list\n                if (playingList === true) {\n                    playerUi.toggleplaypauseBtn();\n                    playerUi.ShowVideo();\n                    playNext();\n                }\n                // freezePlayer(false, false, true);\n            } else if (args === Const.AdsEnum.ADS_MID_ROLL) {\n                playerUi.ShowVideo();\n                playerMedia.play();\n                playerUi.toggleplaypauseBtn();\n                // freezePlayer(false, false, false);\n            } else {\n                logger.warn(' unknown Ads type !! ', args);\n            }\n        }\n        if (e === Const.AdsEvents.ADS_PLAYBACK_STARTED) {\n            playingAds = true;\n            // hide the player and pause it\n            playerMedia.pause();\n            playerUi.hideVideo();\n        }\n    }\n\n    function midPlayingChecks(secondes) {\n        var ok;\n        OverlaysMgr.CheckOverlays(secondes);\n        ok &= AdsMgr.CheckMidAds(secondes);\n        return ok;\n    }\n\n    function playPrev() {\n        if (!playlistLoaded) {\n            logger.error(' No playlist is loaded on player ');\n            return false;\n        }\n        // set playlist again\n        playingList = true;\n        currentPlaying--;\n        logger.log(' will play next', currentPlaying, ' in playlist is loaded on player ');\n        if (currentPlaying < 0) {\n            if (loopingList === true) {\n                currentPlaying = playerPlaylist.getSize() - 1;\n            }\n            // playlist if ended\n            return false;\n        }\n        // play next\n        playItem(currentPlaying);\n        // auto play it\n        playerUi.ShowVideo();\n        playerUi.onplaypauseClick();\n        return true;\n    }\n\n    function MplayerEventing(e, args) {\n        var item, vid;\n        if (e === Const.PlayerEvents.PLAYBACK_TIME_UPDATE) {\n            playerUi.UpdateProgress(playerMedia.time());\n            vid = playerUi.getVideo();\n            playerUi.setDuration(playerMedia.getDuration());\n            midPlayingChecks(Math.round(playerMedia.time()));\n        } else {\n            if (e === Const.PlayerEvents.PLAYBACK_ENDED) {\n                if (AdsMgr.CheckPostAds() === true) {\n                    logger.debug('starting  post ads !!');\n                } else {\n                    // check if in playlist then play list\n                    if (playingList === true) {\n                        playNext();\n                    }\n                }\n            }\n            if (e === Const.PlayerEvents.PLAYBACK_STARTED) {\n                // first starting  only\n                if (args === 1) {\n                    if (AdsMgr.CheckPreAds() === false) {\n                        playerMedia.play();\n                    } else {\n                        playerMedia.pause();\n                    }\n                }\n                playerUi.HideSpinner();\n                playerUi.toggleplaypauseBtn();\n                playerUi.setDuration(playerMedia.getDuration());\n            }\n            if (e === Const.PlayerEvents.TRACKS_ADDED) {\n                // this a specific dahs event so pass playerMedia\n                playerUi.SetupSubsAudsManager(playerMedia);\n            }\n\n            if (e === Const.PlayerEvents.STREAM_LOADED) {\n                playerUi.ShowSpinner();\n                // checks thumbs\n                playerUi.SetupThumbsManager(playerMedia.getDuration(), args);\n                // needed for mp4\n                // if (currentIsDash === false) {\n                playerUi.SetupSubsAudsManager(playerMedia);\n                // }\n                playerUi.setDuration(playerMedia.getDuration());\n                item = playerPlaylist.getItem(currentPlaying);\n                // Set Overlays\n                OverlaysMgr.Setup(item[Const.FJCONFIG_OVERLAYS]);\n                // Set ads\n                vid = playerUi.getVideo();\n\n                AdsMgr.Setup(item[Const.FJCONFIG_ADS], vid.videoWidth, vid.videoHeight);\n            }\n            if (e === Const.PlayerEvents.PLAYBACK_SEEKING) {\n                playerUi.ShowSpinner();\n            }\n            if (e === Const.PlayerEvents.PLAYBACK_SEEKED) {\n                playerUi.HideSpinner();\n            }\n\n            // send Event to listener\n            logger.info('[Event] [trigger] > ', e);\n            events.fireEvent(e);\n\n            if (e === Const.PlayerEvents.PLAYBACK_ERROR) {\n                playerUi.goForError();\n                throw new _FjError2.default(args.code, args.type, args.message, document.getElementById(playerUi.getErrorDivId()));\n            }\n        }\n    }\n    /**\n     *\n     */\n    function loadPlaylist(playlist) {\n        logger.log(' start  function ');\n        if (!supportsVideo) {\n            logger.error(' browser did not support video !');\n            return false;\n        }\n        if (playlist.getSize() > 0) {\n            playerPlaylist = playlist;\n            playlistLoaded = true;\n            playerUi.initialize(this);\n            playerMedia.on(Const.PlayerEvents.TRACKS_ADDED, MplayerEventing);\n            playerMedia.on(Const.PlayerEvents.STREAM_LOADED, MplayerEventing);\n            playerMedia.on(Const.PlayerEvents.PLAYBACK_STARTED, MplayerEventing);\n            playerMedia.on(Const.PlayerEvents.PLAYBACK_ERROR, MplayerEventing);\n            playerMedia.on(Const.PlayerEvents.PLAYBACK_PAUSED, MplayerEventing);\n            playerMedia.on(Const.PlayerEvents.PLAYBACK_ENDED, MplayerEventing);\n            playerMedia.on(Const.PlayerEvents.PLAYBACK_SEEKED, MplayerEventing);\n            playerMedia.on(Const.PlayerEvents.PLAYBACK_SEEKING, MplayerEventing);\n            playerMedia.on(Const.PlayerEvents.PLAYBACK_TIME_UPDATE, MplayerEventing);\n\n            AdsMgr.on(Const.AdsEvents.ADS_PLAYBACK_STARTED, AdsEventing);\n            AdsMgr.on(Const.AdsEvents.ADS_PLAYBACK_ERROR, AdsEventing);\n            AdsMgr.on(Const.AdsEvents.ADS_PLAYBACK_ENDED, AdsEventing);\n\n            playerMedia.initialize(playerUi.getVideo());\n            OverlaysMgr.initialize(document.getElementById(playerUi.getOverlaysContainerDivId()));\n            AdsMgr.initialize(document.getElementById(playerUi.getAdsContainerDivId()));\n            return true;\n        }\n        logger.error(' playlist is empty: ', playlist.getSize());\n        playlistLoaded = false;\n        return false;\n    };\n    /**\n     *\n     */\n    function playAt(index, autostart) {\n        var start = true;\n        if (autostart !== true) {\n            start = false;\n        }\n        playingList = false;\n        return playItem(index, start);\n    };\n\n    function startPlaylist(positionToStartFrom, loop, randomPlay, autostart) {\n        var item;\n        var start = true;\n        if (autostart !== true) {\n            start = false;\n        }\n        currentPlaying = positionToStartFrom;\n        if (!playlistLoaded) {\n            logger.error(' No playlist is loaded on player ');\n            return false;\n        }\n        item = playerPlaylist.getItem(currentPlaying);\n        if (item === undefined) {\n            logger.error(' No item to play at index ', currentPlaying, ' playlist is sized ', playerPlaylist.getSize());\n            return false;\n        }\n        playingList = true;\n        loopingList = loop;\n        // settitle\n        playerUi.setTitle(item[Const.FJCONFIG_TITLE]);\n        // set thumbs\n        playerMedia.setThumbsUrl(item[Const.FJCONFIG_THUMBS]);\n        // play item\n        if (item[Const.FJCONFIG_SRC] !== null || item[Const.FJCONFIG_SRC] !== undefined) {\n            if (item[Const.FJCONFIG_TYPE] === Const.FJCONFIG_TYPE_DASH) {\n                // clear dash\n                currentIsDash = true;\n                playerMedia.loadDash(item[Const.FJCONFIG_SRC], item[Const.FJCONFIG_POSTER], item[Const.FJCONFIG_SUBTITLES], playerUi.getVideoCaption(), start, item[Const.FJCONFIG_DRM]);\n            } else {\n                playerMedia.load(item[Const.FJCONFIG_SRC], item[Const.FJCONFIG_TYPE], item[Const.FJCONFIG_POSTER], item[Const.FJCONFIG_SUBTITLES], start);\n            }\n            return true;\n        }\n        logger.error('src of item is not valid , at index ', currentPlaying);\n        return false;\n    };\n\n    function seek(time) {\n        playerMedia.seek(time);\n    }\n\n    function reset() {\n        playerMedia.Unload();\n        playerUi.reset();\n    }\n\n    function play() {\n        playerMedia.pause();\n        if (AdsMgr.CheckPreAds() === false) {\n            playerMedia.play();\n        }\n        playerUi.toggleplaypauseBtn();\n    }\n\n    function pause() {\n        playerMedia.pause();\n        playerUi.toggleplaypauseBtn();\n    }\n\n    function isPlayingAds() {\n        return playingAds;\n    }\n\n    function isReady() {\n        return playlistLoaded;\n    }\n\n    function isPaused() {\n        return playerMedia.isPaused();\n    }\n\n    function isEnded() {\n        return playerMedia.isEnded();\n    }\n    /**\n     *\n     */\n    function on(name, handler) {\n        return events.on(name, handler);\n    };\n    /**\n     *\n     */\n    function off(name, handler) {\n        return events.off(name, handler);\n    };\n    // ************************************************************************************\n    // PUBLIC API\n    // ************************************************************************************\n    return {\n        duration: duration,\n        loadPlaylist: loadPlaylist,\n        playAt: playAt,\n        startPlaylist: startPlaylist,\n        play: play,\n        reset: reset,\n        seek: seek,\n        playNext: playNext,\n        playPrev: playPrev,\n        pause: pause,\n        isPaused: isPaused,\n        isPlayingAds: isPlayingAds,\n        isReady: isReady,\n        isEnded: isEnded,\n        on: on,\n        off: off,\n        constructor: Player\n    };\n};\nexports.default = Player;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvanMvcGxheWVyL3BsYXllci5qcz9kODNjIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbmltcG9ydCBMb2dnZXIgZnJvbSAnLi4vdXRpbHMvTG9nZ2VyJztcbmltcG9ydCBPdmVybGF5cyBmcm9tICcuLi91aS9PdmVybGF5cyc7XG5pbXBvcnQgRXZlbnRpbmcgZnJvbSAnLi4vdXRpbHMvRXZlbnRpbmcnO1xuaW1wb3J0ICogYXMgQ29uc3QgZnJvbSAnLi4vZGVmcy9jb25zdGFudHMnO1xuaW1wb3J0IFBsYXllck1lZGlhIGZyb20gJy4uL3BsYXllci9QbGF5ZXJNZWRpYSc7XG5pbXBvcnQgUGxheWVyVWkgZnJvbSAnLi4vdWkvUGxheWVyVWknO1xuaW1wb3J0IEFkc01hbmFnZXIgZnJvbSAnLi4vdWkvQWRzTWFuYWdlcic7XG5pbXBvcnQgRmpFcnJvciBmcm9tICcuLi91dGlscy9GakVycm9yJztcbi8qKlxuICogIENsYXNzIHBsYXllciBpbiB3aGluY2ggdGhlIHBsYXllciBpcyBpbXBsZW1lbnRlZFxuICovXG5mdW5jdGlvbiBQbGF5ZXIoZmpJRCwgdmlkQ29udGFpbmVySWQpIHtcbiAgICB2YXIgbG9nZ2VyID0gbmV3IExvZ2dlcih0aGlzKSxcbiAgICAgICAgcGxheWVyUGxheWxpc3QgPSBudWxsLFxuICAgICAgICBwbGF5aW5nTGlzdCA9IGZhbHNlLFxuICAgICAgICBsb29waW5nTGlzdCA9IGZhbHNlLFxuICAgICAgICBjdXJyZW50UGxheWluZyA9IC0xLFxuICAgICAgICBjdXJyZW50SXNEYXNoID0gZmFsc2UsXG4gICAgICAgIHBsYXlsaXN0TG9hZGVkID0gZmFsc2UsXG4gICAgICAgIHBsYXlpbmdBZHMgPSBmYWxzZSxcbiAgICAgICAgLy8gZGVmYXVsdCB2YWx1ZXNcbiAgICAgICAgdmlkZW9XaWR0aCA9ICcxMDAlJyxcbiAgICAgICAgdmlkZW9IZWlnaHQgPSAnJyxcbiAgICAgICAgZXZlbnRzID0gbmV3IEV2ZW50aW5nKCksXG4gICAgICAgIHZpZGVvQ29udGFpbmVySWQgPSB2aWRDb250YWluZXJJZCxcbiAgICAgICAgT3ZlcmxheXNNZ3IgPSBuZXcgT3ZlcmxheXMoKSxcbiAgICAgICAgQWRzTWdyID0gbmV3IEFkc01hbmFnZXIoKSxcbiAgICAgICAgc3VwcG9ydHNWaWRlbyA9ICEhZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKS5jYW5QbGF5VHlwZSxcbiAgICAgICAgcGxheWVyVWkgPSBuZXcgUGxheWVyVWkodmlkZW9Db250YWluZXJJZCwgdmlkZW9XaWR0aCwgdmlkZW9IZWlnaHQpLFxuICAgICAgICBwbGF5ZXJNZWRpYSA9IG5ldyBQbGF5ZXJNZWRpYSgpO1xuICAgIC8qKlxuICAgICAqIGZ1bmN0aW9uICB0byByZXR1cm4gYSBodW1hbiByZWRlYWJsZSBkdXJhdGlvbiBvZiBzZWNvbmRlc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGR1cmF0aW9uKHNlY0R1cmF0aW9uKSB7XG4gICAgICAgIHZhciBzZWNOdW0gPSBwYXJzZUludChzZWNEdXJhdGlvbiwgMTApOyAvLyBkb24ndCBmb3JnZXQgdGhlIHNlY29uZCBwYXJhbVxuICAgICAgICB2YXIgaG91cnMgPSBNYXRoLmZsb29yKHNlY051bSAvIDM2MDApO1xuICAgICAgICB2YXIgbWludXRlcyA9IE1hdGguZmxvb3IoKHNlY051bSAtIChob3VycyAqIDM2MDApKSAvIDYwKTtcbiAgICAgICAgdmFyIHNlY29uZHMgPSBzZWNOdW0gLSAoaG91cnMgKiAzNjAwKSAtIChtaW51dGVzICogNjApO1xuXG4gICAgICAgIGlmIChtaW51dGVzIDwgMTApIHtcbiAgICAgICAgICAgIG1pbnV0ZXMgPSAnMCcgKyBtaW51dGVzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZWNvbmRzIDwgMTApIHtcbiAgICAgICAgICAgIHNlY29uZHMgPSAnMCcgKyBzZWNvbmRzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChob3VycyA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIChtaW51dGVzICsgJzonICsgc2Vjb25kcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhvdXJzIDwgMTApIHtcbiAgICAgICAgICAgIGhvdXJzID0gJzAnICsgaG91cnM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChob3VycyArICc6JyArIG1pbnV0ZXMgKyAnOicgKyBzZWNvbmRzKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwbGF5SXRlbShpdGVtUG9zaXRpb24sIGF1dG9zdGFydCkge1xuICAgICAgICB2YXIgaXRlbTtcbiAgICAgICAgdmFyIHN0YXJ0ID0gdHJ1ZTtcbiAgICAgICAgaWYgKGF1dG9zdGFydCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgc3RhcnQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50UGxheWluZyA9IGl0ZW1Qb3NpdGlvbjtcbiAgICAgICAgaWYgKCFwbGF5bGlzdExvYWRlZCkge1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCcgTm8gcGxheWxpc3QgaXMgbG9hZGVkIG9uIHBsYXllciAnKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpdGVtID0gcGxheWVyUGxheWxpc3QuZ2V0SXRlbShpdGVtUG9zaXRpb24pO1xuICAgICAgICBpZiAoaXRlbSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCcgTm8gaXRlbSB0byBwbGF5IGF0IGluZGV4ICcsIGN1cnJlbnRQbGF5aW5nLFxuICAgICAgICAgICAgICAgICcgcGxheWxpc3QgaXMgc2l6ZWQgJywgcGxheWVyUGxheWxpc3QuZ2V0U2l6ZSgpKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzZXQgdGl0bGVcbiAgICAgICAgcGxheWVyVWkuc2V0VGl0bGUoaXRlbVtDb25zdC5GSkNPTkZJR19USVRMRV0pO1xuICAgICAgICAvLyBzZXQgdGh1bWJzXG4gICAgICAgIHBsYXllck1lZGlhLnNldFRodW1ic1VybChpdGVtW0NvbnN0LkZKQ09ORklHX1RIVU1CU10pO1xuICAgICAgICAvLyB1bmxvYWQgb2xkXG4gICAgICAgIHBsYXllck1lZGlhLlVubG9hZCgpO1xuICAgICAgICAvLyBsb2FkIG5ldyBpdGVtXG4gICAgICAgIGlmIChpdGVtW0NvbnN0LkZKQ09ORklHX1NSQ10gIT09IG51bGwgfHwgaXRlbVtDb25zdC5GSkNPTkZJR19TUkNdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmIChpdGVtW0NvbnN0LkZKQ09ORklHX1RZUEVdID09PSBDb25zdC5GSkNPTkZJR19UWVBFX0RBU0gpIHtcbiAgICAgICAgICAgICAgICAvLyBjbGVhciBkYXNoXG4gICAgICAgICAgICAgICAgY3VycmVudElzRGFzaCA9IHRydWU7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLndhcm4oJyB3aWxsIHBsYXkgYSBjbGVhciBkYXNoIG9uIGNhcHRpb24gb2JlY3QgJywgcGxheWVyVWkuZ2V0VmlkZW9DYXB0aW9uKCkpO1xuICAgICAgICAgICAgICAgIHBsYXllck1lZGlhLmxvYWREYXNoKGl0ZW1bQ29uc3QuRkpDT05GSUdfU1JDXSwgaXRlbVtDb25zdC5GSkNPTkZJR19QT1NURVJdLFxuICAgICAgICAgICAgICAgICAgICBpdGVtW0NvbnN0LkZKQ09ORklHX1NVQlRJVExFU10sIHBsYXllclVpLmdldFZpZGVvQ2FwdGlvbigpLCBzdGFydCwgaXRlbVtDb25zdC5GSkNPTkZJR19EUk1dKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGxheWVyTWVkaWEubG9hZChpdGVtW0NvbnN0LkZKQ09ORklHX1NSQ10sIGl0ZW1bQ29uc3QuRkpDT05GSUdfVFlQRV0sXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1bQ29uc3QuRkpDT05GSUdfUE9TVEVSXSwgaXRlbVtDb25zdC5GSkNPTkZJR19TVUJUSVRMRVNdLCBzdGFydCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBsb2dnZXIuZXJyb3IoJ3NyYyBvZiBpdGVtIGlzIG5vdCB2YWxpZCAsIGF0IGluZGV4ICcsIGN1cnJlbnRQbGF5aW5nKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBsYXlOZXh0KCkge1xuICAgICAgICBpZiAoIXBsYXlsaXN0TG9hZGVkKSB7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoJyBObyBwbGF5bGlzdCBpcyBsb2FkZWQgb24gcGxheWVyICcpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNldCBwbGF5bGlzdCBhZ2FpblxuICAgICAgICBwbGF5aW5nTGlzdCA9IHRydWU7XG4gICAgICAgIGN1cnJlbnRQbGF5aW5nKys7XG4gICAgICAgIGxvZ2dlci5sb2coJyB3aWxsIHBsYXkgbmV4dCcsIGN1cnJlbnRQbGF5aW5nLCAnIGluIHBsYXlsaXN0IGlzIGxvYWRlZCBvbiBwbGF5ZXIgJyk7XG4gICAgICAgIGlmIChwbGF5ZXJQbGF5bGlzdC5nZXRTaXplKCkgPCBjdXJyZW50UGxheWluZykge1xuICAgICAgICAgICAgaWYgKGxvb3BpbmdMaXN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFBsYXlpbmcgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcGxheWxpc3QgaWYgZW5kZWRcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBwbGF5IG5leHRcbiAgICAgICAgcGxheUl0ZW0oY3VycmVudFBsYXlpbmcpO1xuICAgICAgICAvLyBhdXRvIHBsYXkgaXRcbiAgICAgICAgcGxheWVyVWkuU2hvd1ZpZGVvKCk7XG4gICAgICAgIHBsYXllclVpLm9ucGxheXBhdXNlQ2xpY2soKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gQWRzRXZlbnRpbmcoZSwgYXJncykge1xuICAgICAgICBsb2dnZXIuZGVidWcoJyBqdXN0IGEgbmV3IGV2ZW50IGZyb20gYWRzbWdyICcsIGUsIGFyZ3MpO1xuICAgICAgICAvLyBzZW5kIEV2ZW50IHRvIGxpc3RlbmVyXG4gICAgICAgIGxvZ2dlci53YXJuKCdTZW5kaW5nIEFkcyBFdmVudCA+Pj4+Pj4+Pj4+Pj4+Pj4+PiAgICcsIGUpO1xuICAgICAgICBldmVudHMuZmlyZUV2ZW50KGUpO1xuICAgICAgICBpZiAoZSA9PT0gQ29uc3QuQWRzRXZlbnRzLkFEU19QTEFZQkFDS19FTkRFRCkge1xuICAgICAgICAgICAgcGxheWluZ0FkcyA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKGFyZ3MgPT09IENvbnN0LkFkc0VudW0uQURTX1BSRV9ST0xMKSB7XG4gICAgICAgICAgICAgICAgaWYgKEFkc01nci5DaGVja1ByZUFkcygpID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGxheWVyVWkuU2hvd1ZpZGVvKCk7XG4gICAgICAgICAgICAgICAgcGxheWVyTWVkaWEucGxheSgpO1xuICAgICAgICAgICAgICAgIHBsYXllclVpLnRvZ2dsZXBsYXlwYXVzZUJ0bigpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAvLyBmcmVlemVQbGF5ZXIoZmFsc2UsIHRydWUsIGZhbHNlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYXJncyA9PT0gQ29uc3QuQWRzRW51bS5BRFNfUE9TVF9ST0xMKSB7XG4gICAgICAgICAgICAgICAgaWYgKEFkc01nci5DaGVja1Bvc3RBZHMoKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIGluIHBsYXlsaXN0IHRoZW4gcGxheSBsaXN0XG4gICAgICAgICAgICAgICAgaWYgKHBsYXlpbmdMaXN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllclVpLnRvZ2dsZXBsYXlwYXVzZUJ0bigpO1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXJVaS5TaG93VmlkZW8oKTtcbiAgICAgICAgICAgICAgICAgICAgcGxheU5leHQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZnJlZXplUGxheWVyKGZhbHNlLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFyZ3MgPT09IENvbnN0LkFkc0VudW0uQURTX01JRF9ST0xMKSB7XG4gICAgICAgICAgICAgICAgcGxheWVyVWkuU2hvd1ZpZGVvKCk7XG4gICAgICAgICAgICAgICAgcGxheWVyTWVkaWEucGxheSgpO1xuICAgICAgICAgICAgICAgIHBsYXllclVpLnRvZ2dsZXBsYXlwYXVzZUJ0bigpO1xuICAgICAgICAgICAgICAgIC8vIGZyZWV6ZVBsYXllcihmYWxzZSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLndhcm4oJyB1bmtub3duIEFkcyB0eXBlICEhICcsIGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChlID09PSBDb25zdC5BZHNFdmVudHMuQURTX1BMQVlCQUNLX1NUQVJURUQpIHtcbiAgICAgICAgICAgIHBsYXlpbmdBZHMgPSB0cnVlO1xuICAgICAgICAgICAgLy8gaGlkZSB0aGUgcGxheWVyIGFuZCBwYXVzZSBpdFxuICAgICAgICAgICAgcGxheWVyTWVkaWEucGF1c2UoKTtcbiAgICAgICAgICAgIHBsYXllclVpLmhpZGVWaWRlbygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWlkUGxheWluZ0NoZWNrcyhzZWNvbmRlcykge1xuICAgICAgICB2YXIgb2s7XG4gICAgICAgIE92ZXJsYXlzTWdyLkNoZWNrT3ZlcmxheXMoc2Vjb25kZXMpO1xuICAgICAgICBvayAmPSBBZHNNZ3IuQ2hlY2tNaWRBZHMoc2Vjb25kZXMpO1xuICAgICAgICByZXR1cm4gb2s7XG4gICAgfVxuXG5cblxuICAgIGZ1bmN0aW9uIHBsYXlQcmV2KCkge1xuICAgICAgICBpZiAoIXBsYXlsaXN0TG9hZGVkKSB7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoJyBObyBwbGF5bGlzdCBpcyBsb2FkZWQgb24gcGxheWVyICcpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNldCBwbGF5bGlzdCBhZ2FpblxuICAgICAgICBwbGF5aW5nTGlzdCA9IHRydWU7XG4gICAgICAgIGN1cnJlbnRQbGF5aW5nLS07XG4gICAgICAgIGxvZ2dlci5sb2coJyB3aWxsIHBsYXkgbmV4dCcsIGN1cnJlbnRQbGF5aW5nLCAnIGluIHBsYXlsaXN0IGlzIGxvYWRlZCBvbiBwbGF5ZXIgJyk7XG4gICAgICAgIGlmIChjdXJyZW50UGxheWluZyA8IDApIHtcbiAgICAgICAgICAgIGlmIChsb29waW5nTGlzdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRQbGF5aW5nID0gcGxheWVyUGxheWxpc3QuZ2V0U2l6ZSgpIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHBsYXlsaXN0IGlmIGVuZGVkXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcGxheSBuZXh0XG4gICAgICAgIHBsYXlJdGVtKGN1cnJlbnRQbGF5aW5nKTtcbiAgICAgICAgLy8gYXV0byBwbGF5IGl0XG4gICAgICAgIHBsYXllclVpLlNob3dWaWRlbygpO1xuICAgICAgICBwbGF5ZXJVaS5vbnBsYXlwYXVzZUNsaWNrKCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIE1wbGF5ZXJFdmVudGluZyhlLCBhcmdzKSB7XG4gICAgICAgIHZhciBpdGVtLCB2aWQ7XG4gICAgICAgIGlmIChlID09PSBDb25zdC5QbGF5ZXJFdmVudHMuUExBWUJBQ0tfVElNRV9VUERBVEUpIHtcbiAgICAgICAgICAgIHBsYXllclVpLlVwZGF0ZVByb2dyZXNzKHBsYXllck1lZGlhLnRpbWUoKSk7XG4gICAgICAgICAgICB2aWQgPSBwbGF5ZXJVaS5nZXRWaWRlbygpO1xuICAgICAgICAgICAgcGxheWVyVWkuc2V0RHVyYXRpb24ocGxheWVyTWVkaWEuZ2V0RHVyYXRpb24oKSk7XG4gICAgICAgICAgICBtaWRQbGF5aW5nQ2hlY2tzKE1hdGgucm91bmQocGxheWVyTWVkaWEudGltZSgpKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoZSA9PT0gQ29uc3QuUGxheWVyRXZlbnRzLlBMQVlCQUNLX0VOREVEKSB7XG4gICAgICAgICAgICAgICAgaWYgKEFkc01nci5DaGVja1Bvc3RBZHMoKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoJ3N0YXJ0aW5nICBwb3N0IGFkcyAhIScpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIGluIHBsYXlsaXN0IHRoZW4gcGxheSBsaXN0XG4gICAgICAgICAgICAgICAgICAgIGlmIChwbGF5aW5nTGlzdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheU5leHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlID09PSBDb25zdC5QbGF5ZXJFdmVudHMuUExBWUJBQ0tfU1RBUlRFRCkge1xuICAgICAgICAgICAgICAgIC8vIGZpcnN0IHN0YXJ0aW5nICBvbmx5XG4gICAgICAgICAgICAgICAgaWYgKGFyZ3MgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFkc01nci5DaGVja1ByZUFkcygpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyTWVkaWEucGxheSgpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyTWVkaWEucGF1c2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwbGF5ZXJVaS5IaWRlU3Bpbm5lcigpO1xuICAgICAgICAgICAgICAgIHBsYXllclVpLnRvZ2dsZXBsYXlwYXVzZUJ0bigpO1xuICAgICAgICAgICAgICAgIHBsYXllclVpLnNldER1cmF0aW9uKHBsYXllck1lZGlhLmdldER1cmF0aW9uKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGUgPT09IENvbnN0LlBsYXllckV2ZW50cy5UUkFDS1NfQURERUQpIHtcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGEgc3BlY2lmaWMgZGFocyBldmVudCBzbyBwYXNzIHBsYXllck1lZGlhXG4gICAgICAgICAgICAgICAgcGxheWVyVWkuU2V0dXBTdWJzQXVkc01hbmFnZXIocGxheWVyTWVkaWEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZSA9PT0gQ29uc3QuUGxheWVyRXZlbnRzLlNUUkVBTV9MT0FERUQpIHtcbiAgICAgICAgICAgICAgICBwbGF5ZXJVaS5TaG93U3Bpbm5lcigpO1xuICAgICAgICAgICAgICAgIC8vIGNoZWNrcyB0aHVtYnNcbiAgICAgICAgICAgICAgICBwbGF5ZXJVaS5TZXR1cFRodW1ic01hbmFnZXIocGxheWVyTWVkaWEuZ2V0RHVyYXRpb24oKSwgYXJncyk7XG4gICAgICAgICAgICAgICAgLy8gbmVlZGVkIGZvciBtcDRcbiAgICAgICAgICAgICAgICAvLyBpZiAoY3VycmVudElzRGFzaCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBwbGF5ZXJVaS5TZXR1cFN1YnNBdWRzTWFuYWdlcihwbGF5ZXJNZWRpYSk7XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIHBsYXllclVpLnNldER1cmF0aW9uKHBsYXllck1lZGlhLmdldER1cmF0aW9uKCkpO1xuICAgICAgICAgICAgICAgIGl0ZW0gPSBwbGF5ZXJQbGF5bGlzdC5nZXRJdGVtKGN1cnJlbnRQbGF5aW5nKTtcbiAgICAgICAgICAgICAgICAvLyBTZXQgT3ZlcmxheXNcbiAgICAgICAgICAgICAgICBPdmVybGF5c01nci5TZXR1cChpdGVtW0NvbnN0LkZKQ09ORklHX09WRVJMQVlTXSk7XG4gICAgICAgICAgICAgICAgLy8gU2V0IGFkc1xuICAgICAgICAgICAgICAgIHZpZCA9IHBsYXllclVpLmdldFZpZGVvKCk7XG5cbiAgICAgICAgICAgICAgICBBZHNNZ3IuU2V0dXAoaXRlbVtDb25zdC5GSkNPTkZJR19BRFNdLCB2aWQudmlkZW9XaWR0aCwgdmlkLnZpZGVvSGVpZ2h0KTtcblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGUgPT09IENvbnN0LlBsYXllckV2ZW50cy5QTEFZQkFDS19TRUVLSU5HKSB7XG4gICAgICAgICAgICAgICAgcGxheWVyVWkuU2hvd1NwaW5uZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlID09PSBDb25zdC5QbGF5ZXJFdmVudHMuUExBWUJBQ0tfU0VFS0VEKSB7XG4gICAgICAgICAgICAgICAgcGxheWVyVWkuSGlkZVNwaW5uZXIoKTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAvLyBzZW5kIEV2ZW50IHRvIGxpc3RlbmVyXG4gICAgICAgICAgICBsb2dnZXIuaW5mbygnW0V2ZW50XcKgW3RyaWdnZXJdID4gJywgZSk7XG4gICAgICAgICAgICBldmVudHMuZmlyZUV2ZW50KGUpO1xuXG4gICAgICAgICAgICBpZiAoZSA9PT0gQ29uc3QuUGxheWVyRXZlbnRzLlBMQVlCQUNLX0VSUk9SKSB7XG4gICAgICAgICAgICAgICAgcGxheWVyVWkuZ29Gb3JFcnJvcigpO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBGakVycm9yKGFyZ3MuY29kZSwgYXJncy50eXBlLCBhcmdzLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBsYXllclVpLmdldEVycm9yRGl2SWQoKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsb2FkUGxheWxpc3QocGxheWxpc3QpIHtcbiAgICAgICAgbG9nZ2VyLmxvZygnIHN0YXJ0ICBmdW5jdGlvbiAnKTtcbiAgICAgICAgaWYgKCFzdXBwb3J0c1ZpZGVvKSB7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoJyBicm93c2VyIGRpZCBub3Qgc3VwcG9ydCB2aWRlbyAhJyk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBsYXlsaXN0LmdldFNpemUoKSA+IDApIHtcbiAgICAgICAgICAgIHBsYXllclBsYXlsaXN0ID0gcGxheWxpc3Q7XG4gICAgICAgICAgICBwbGF5bGlzdExvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICBwbGF5ZXJVaS5pbml0aWFsaXplKHRoaXMpO1xuICAgICAgICAgICAgcGxheWVyTWVkaWEub24oQ29uc3QuUGxheWVyRXZlbnRzLlRSQUNLU19BRERFRCwgTXBsYXllckV2ZW50aW5nKTtcbiAgICAgICAgICAgIHBsYXllck1lZGlhLm9uKENvbnN0LlBsYXllckV2ZW50cy5TVFJFQU1fTE9BREVELCBNcGxheWVyRXZlbnRpbmcpO1xuICAgICAgICAgICAgcGxheWVyTWVkaWEub24oQ29uc3QuUGxheWVyRXZlbnRzLlBMQVlCQUNLX1NUQVJURUQsIE1wbGF5ZXJFdmVudGluZyk7XG4gICAgICAgICAgICBwbGF5ZXJNZWRpYS5vbihDb25zdC5QbGF5ZXJFdmVudHMuUExBWUJBQ0tfRVJST1IsIE1wbGF5ZXJFdmVudGluZyk7XG4gICAgICAgICAgICBwbGF5ZXJNZWRpYS5vbihDb25zdC5QbGF5ZXJFdmVudHMuUExBWUJBQ0tfUEFVU0VELCBNcGxheWVyRXZlbnRpbmcpO1xuICAgICAgICAgICAgcGxheWVyTWVkaWEub24oQ29uc3QuUGxheWVyRXZlbnRzLlBMQVlCQUNLX0VOREVELCBNcGxheWVyRXZlbnRpbmcpO1xuICAgICAgICAgICAgcGxheWVyTWVkaWEub24oQ29uc3QuUGxheWVyRXZlbnRzLlBMQVlCQUNLX1NFRUtFRCwgTXBsYXllckV2ZW50aW5nKTtcbiAgICAgICAgICAgIHBsYXllck1lZGlhLm9uKENvbnN0LlBsYXllckV2ZW50cy5QTEFZQkFDS19TRUVLSU5HLCBNcGxheWVyRXZlbnRpbmcpO1xuICAgICAgICAgICAgcGxheWVyTWVkaWEub24oQ29uc3QuUGxheWVyRXZlbnRzLlBMQVlCQUNLX1RJTUVfVVBEQVRFLCBNcGxheWVyRXZlbnRpbmcpO1xuXG4gICAgICAgICAgICBBZHNNZ3Iub24oQ29uc3QuQWRzRXZlbnRzLkFEU19QTEFZQkFDS19TVEFSVEVELCBBZHNFdmVudGluZyk7XG4gICAgICAgICAgICBBZHNNZ3Iub24oQ29uc3QuQWRzRXZlbnRzLkFEU19QTEFZQkFDS19FUlJPUiwgQWRzRXZlbnRpbmcpO1xuICAgICAgICAgICAgQWRzTWdyLm9uKENvbnN0LkFkc0V2ZW50cy5BRFNfUExBWUJBQ0tfRU5ERUQsIEFkc0V2ZW50aW5nKTtcblxuICAgICAgICAgICAgcGxheWVyTWVkaWEuaW5pdGlhbGl6ZShwbGF5ZXJVaS5nZXRWaWRlbygpKTtcbiAgICAgICAgICAgIE92ZXJsYXlzTWdyLmluaXRpYWxpemUoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocGxheWVyVWkuZ2V0T3ZlcmxheXNDb250YWluZXJEaXZJZCgpKSk7XG4gICAgICAgICAgICBBZHNNZ3IuaW5pdGlhbGl6ZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwbGF5ZXJVaS5nZXRBZHNDb250YWluZXJEaXZJZCgpKSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBsb2dnZXIuZXJyb3IoJyBwbGF5bGlzdCBpcyBlbXB0eTogJywgcGxheWxpc3QuZ2V0U2l6ZSgpKTtcbiAgICAgICAgcGxheWxpc3RMb2FkZWQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwbGF5QXQoaW5kZXgsIGF1dG9zdGFydCkge1xuICAgICAgICB2YXIgc3RhcnQgPSB0cnVlO1xuICAgICAgICBpZiAoYXV0b3N0YXJ0ICE9PSB0cnVlKSB7XG4gICAgICAgICAgICBzdGFydCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHBsYXlpbmdMaXN0ID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBwbGF5SXRlbShpbmRleCwgc3RhcnQpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBzdGFydFBsYXlsaXN0KHBvc2l0aW9uVG9TdGFydEZyb20sIGxvb3AsIHJhbmRvbVBsYXksIGF1dG9zdGFydCkge1xuICAgICAgICB2YXIgaXRlbTtcbiAgICAgICAgdmFyIHN0YXJ0ID0gdHJ1ZTtcbiAgICAgICAgaWYgKGF1dG9zdGFydCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgc3RhcnQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50UGxheWluZyA9IHBvc2l0aW9uVG9TdGFydEZyb207XG4gICAgICAgIGlmICghcGxheWxpc3RMb2FkZWQpIHtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcignIE5vIHBsYXlsaXN0IGlzIGxvYWRlZCBvbiBwbGF5ZXIgJyk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaXRlbSA9IHBsYXllclBsYXlsaXN0LmdldEl0ZW0oY3VycmVudFBsYXlpbmcpO1xuICAgICAgICBpZiAoaXRlbSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoJyBObyBpdGVtIHRvIHBsYXkgYXQgaW5kZXggJywgY3VycmVudFBsYXlpbmcsXG4gICAgICAgICAgICAgICAgJyBwbGF5bGlzdCBpcyBzaXplZCAnLCBwbGF5ZXJQbGF5bGlzdC5nZXRTaXplKCkpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHBsYXlpbmdMaXN0ID0gdHJ1ZTtcbiAgICAgICAgbG9vcGluZ0xpc3QgPSBsb29wO1xuICAgICAgICAvLyBzZXR0aXRsZVxuICAgICAgICBwbGF5ZXJVaS5zZXRUaXRsZShpdGVtW0NvbnN0LkZKQ09ORklHX1RJVExFXSk7XG4gICAgICAgIC8vIHNldCB0aHVtYnNcbiAgICAgICAgcGxheWVyTWVkaWEuc2V0VGh1bWJzVXJsKGl0ZW1bQ29uc3QuRkpDT05GSUdfVEhVTUJTXSk7XG4gICAgICAgIC8vIHBsYXkgaXRlbVxuICAgICAgICBpZiAoaXRlbVtDb25zdC5GSkNPTkZJR19TUkNdICE9PSBudWxsIHx8IGl0ZW1bQ29uc3QuRkpDT05GSUdfU1JDXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAoaXRlbVtDb25zdC5GSkNPTkZJR19UWVBFXSA9PT0gQ29uc3QuRkpDT05GSUdfVFlQRV9EQVNIKSB7XG4gICAgICAgICAgICAgICAgLy8gY2xlYXIgZGFzaFxuICAgICAgICAgICAgICAgIGN1cnJlbnRJc0Rhc2ggPSB0cnVlO1xuICAgICAgICAgICAgICAgIHBsYXllck1lZGlhLmxvYWREYXNoKGl0ZW1bQ29uc3QuRkpDT05GSUdfU1JDXSwgaXRlbVtDb25zdC5GSkNPTkZJR19QT1NURVJdLFxuICAgICAgICAgICAgICAgICAgICBpdGVtW0NvbnN0LkZKQ09ORklHX1NVQlRJVExFU10sIHBsYXllclVpLmdldFZpZGVvQ2FwdGlvbigpLCBzdGFydCwgaXRlbVtDb25zdC5GSkNPTkZJR19EUk1dKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGxheWVyTWVkaWEubG9hZChpdGVtW0NvbnN0LkZKQ09ORklHX1NSQ10sIGl0ZW1bQ29uc3QuRkpDT05GSUdfVFlQRV0sXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1bQ29uc3QuRkpDT05GSUdfUE9TVEVSXSwgaXRlbVtDb25zdC5GSkNPTkZJR19TVUJUSVRMRVNdLCBzdGFydCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBsb2dnZXIuZXJyb3IoJ3NyYyBvZiBpdGVtIGlzIG5vdCB2YWxpZCAsIGF0IGluZGV4ICcsIGN1cnJlbnRQbGF5aW5nKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBzZWVrKHRpbWUpIHtcbiAgICAgICAgcGxheWVyTWVkaWEuc2Vlayh0aW1lKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAgICAgcGxheWVyTWVkaWEuVW5sb2FkKCk7XG4gICAgICAgIHBsYXllclVpLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGxheSgpIHtcbiAgICAgICAgcGxheWVyTWVkaWEucGF1c2UoKTtcbiAgICAgICAgaWYgKEFkc01nci5DaGVja1ByZUFkcygpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcGxheWVyTWVkaWEucGxheSgpO1xuICAgICAgICB9XG4gICAgICAgIHBsYXllclVpLnRvZ2dsZXBsYXlwYXVzZUJ0bigpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgICAgICBwbGF5ZXJNZWRpYS5wYXVzZSgpO1xuICAgICAgICBwbGF5ZXJVaS50b2dnbGVwbGF5cGF1c2VCdG4oKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1BsYXlpbmdBZHMoKSB7XG4gICAgICAgIHJldHVybiBwbGF5aW5nQWRzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzUmVhZHkoKSB7XG4gICAgICAgIHJldHVybiBwbGF5bGlzdExvYWRlZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1BhdXNlZCgpIHtcbiAgICAgICAgcmV0dXJuIHBsYXllck1lZGlhLmlzUGF1c2VkKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNFbmRlZCgpIHtcbiAgICAgICAgcmV0dXJuIHBsYXllck1lZGlhLmlzRW5kZWQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvbihuYW1lLCBoYW5kbGVyKSB7XG4gICAgICAgIHJldHVybiBldmVudHMub24obmFtZSwgaGFuZGxlcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9mZihuYW1lLCBoYW5kbGVyKSB7XG4gICAgICAgIHJldHVybiBldmVudHMub2ZmKG5hbWUsIGhhbmRsZXIpO1xuICAgIH07XG4gICAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgLy8gUFVCTElDIEFQSVxuICAgIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIHJldHVybiB7XG4gICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbixcbiAgICAgICAgbG9hZFBsYXlsaXN0OiBsb2FkUGxheWxpc3QsXG4gICAgICAgIHBsYXlBdDogcGxheUF0LFxuICAgICAgICBzdGFydFBsYXlsaXN0OiBzdGFydFBsYXlsaXN0LFxuICAgICAgICBwbGF5OiBwbGF5LFxuICAgICAgICByZXNldDogcmVzZXQsXG4gICAgICAgIHNlZWs6IHNlZWssXG4gICAgICAgIHBsYXlOZXh0OiBwbGF5TmV4dCxcbiAgICAgICAgcGxheVByZXY6IHBsYXlQcmV2LFxuICAgICAgICBwYXVzZTogcGF1c2UsXG4gICAgICAgIGlzUGF1c2VkOiBpc1BhdXNlZCxcbiAgICAgICAgaXNQbGF5aW5nQWRzOiBpc1BsYXlpbmdBZHMsXG4gICAgICAgIGlzUmVhZHk6IGlzUmVhZHksXG4gICAgICAgIGlzRW5kZWQ6IGlzRW5kZWQsXG4gICAgICAgIG9uOiBvbixcbiAgICAgICAgb2ZmOiBvZmYsXG4gICAgICAgIGNvbnN0cnVjdG9yOiBQbGF5ZXJcbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IFBsYXllcjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2pzL3BsYXllci9wbGF5ZXIuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7Ozs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7Ozs7O0FBQUE7OztBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBT0E7QUFDQTtBQVRBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFrQkE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBakJBO0FBbUJBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 8 */
/* unknown exports provided */
/* all exports used */
/*!***********************************!*\
  !*** ./src/js/player/playlist.js ***!
  \***********************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _Logger = __webpack_require__(/*! ../utils/Logger */ 0);\n\nvar _Logger2 = _interopRequireDefault(_Logger);\n\nvar _constants = __webpack_require__(/*! ../defs/constants */ 1);\n\nvar Const = _interopRequireWildcard(_constants);\n\nvar _isoLangs = __webpack_require__(/*! ../defs/isoLangs */ 5);\n\nvar Langs = _interopRequireWildcard(_isoLangs);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n *  Class playlist in whixh all the playliost will be checked and saved\n */\nfunction Playlist() {\n    var logger = new _Logger2.default(this),\n        items = [];\n\n    /**\n     * Used to getsize of playlist\n     */\n    function getSize() {\n        return items.length;\n    };\n\n    /**\n     * Used to get item of playlist at position index\n     */\n    function getItem(index) {\n        logger.info(' Getting item at position ', index);\n        if (items.length > index) {\n            return items[index];\n        }\n        logger.error(' No item to play at index ', index, ' playlist is sized ', items.length);\n        return null;\n    };\n    /* ** ** ** ** ** ** ** CHECK'S ** ** ** ** ** ** ** */\n    /**\n     * used to check if an item of subtitle is correct\n     */\n    function checkSubtitle(subItem) {\n        var tmp;\n        if (subItem === null || subItem === undefined) {\n            return false;\n        }\n        if (subItem[Const.FJCONFIG_LANG]) {\n            tmp = Langs.isoLangs[subItem[Const.FJCONFIG_LANG]];\n            logger.log(tmp, ' playlist Subtitle lang is', subItem[Const.FJCONFIG_LANG]);\n            if (tmp === null || tmp === undefined) {\n                logger.error('No ISO code of lang  ', tmp);\n                return false;\n            }\n        } else {\n            logger.error('Empty Subtitle lang  ');\n            return false;\n        }\n        if (subItem[Const.FJCONFIG_SRC]) {\n            logger.log(' playlist Subtitle src is', subItem[Const.FJCONFIG_SRC]);\n        } else {\n            logger.error('Empty Subtitle src ');\n            return false;\n        }\n        return true;\n    };\n    /**\n     * used to check if an item of overlay is correct\n     */\n    function checkOverlay(subItem) {\n        var val = subItem;\n        if (subItem === null || subItem === undefined) {\n            return false;\n        }\n        val = subItem[Const.FJCONFIG_DATA];\n        if (val !== undefined && val !== null && val !== '') {\n            logger.log(' playlist Overlay data ', val);\n        } else {\n            logger.error('Empty Overlay data');\n            return false;\n        }\n        val = subItem[Const.FJCONFIG_URL];\n        if (val !== undefined && val !== null && val !== '') {\n            logger.log(' ok playlist Overlay url ', val);\n        } else {\n            logger.error('Empty Overlay url');\n            return false;\n        }\n        val = subItem[Const.FJCONFIG_DURATION];\n        if (val !== undefined && val !== null && val !== '') {\n            if (val === parseInt(val, 10)) {\n                logger.log(' integer playlist Overlay duration ', val);\n            } else {\n                logger.error(val, ':Empty Overlay duration is not integer !');\n                return false;\n            }\n        } else {\n            logger.error('Empty Overlay duration ');\n            return false;\n        }\n        val = subItem[Const.FJCONFIG_SHOW_AT];\n        if (val !== undefined && val !== null && val !== '') {\n            if (val === parseInt(val, 10)) {\n                logger.log(' integer playlist Overlay show at ', val);\n            } else {\n                logger.error(val, ':Empty Overlay show at is not integer !');\n                return false;\n            }\n        } else {\n            logger.error('Empty Overlay show at ');\n            return false;\n        }\n        return true;\n    };\n    /**\n     * used to check if an item of drm is correct\n     */\n    function checkDrm(drm) {\n        var tmp = null;\n        if (drm === null || drm === undefined) {\n            return false;\n        }\n        logger.debug('Cheking DRM > ', drm);\n\n        tmp = drm[Const.FJCONFIG_DRM_LICENSE_SERVER];\n        logger.info('Cheking DRM LA Server > ', tmp);\n        if (tmp !== undefined && tmp !== null) {\n            logger.log(' playlist LA Server is  ', tmp);\n        } else {\n            logger.error('Empty LA Server  ! ');\n            return false;\n        }\n        return true;\n    };\n    /**\n     * used to check if an item of ads is correct\n     */\n    function checkAds(item) {\n        if (item === null || item === undefined) {\n            return false;\n        }\n        if (Const.FJCONFIG_TYPES.indexOf(item[Const.FJCONFIG_TYPE]) === -1) {\n            logger.error('BAD type Value ! ');\n            return false;\n        }\n        if (!item[Const.FJCONFIG_SRC]) {\n            logger.error('BAD src Value ! ');\n            return false;\n        }\n        if (Const.FJCONFIG_ADS_CLASSES.indexOf(item[Const.FJCONFIG_CLASS]) === -1) {\n            logger.error(item[Const.FJCONFIG_CLASS], ':BAD class Value ! ');\n            return false;\n        }\n        if (item[Const.FJCONFIG_SRC] === Const.FJCONFIG_ADS_CLASS_MID_ROLL && (item[Const.FJCONFIG_SHOW_AT] === null || item[Const.FJCONFIG_SHOW_AT] === undefined)) {\n            logger.error('Missing Show At for mid Roll Class ! ');\n            return false;\n        }\n        if (item[Const.FJCONFIG_URL] !== undefined && item[Const.FJCONFIG_URL] !== null && item[Const.FJCONFIG_URL] !== '') {\n            logger.log(' playlist Overlay url ', item[Const.FJCONFIG_URL]);\n        } else {\n            logger.error('Empty Overlay url');\n            return false;\n        }\n        if (item[Const.FJCONFIG_CAN_ESCAPE] !== 'true' && item[Const.FJCONFIG_CAN_ESCAPE] !== true && item[Const.FJCONFIG_CAN_ESCAPE] !== 'false' && item[Const.FJCONFIG_CAN_ESCAPE] !== false) {\n            logger.warn('can Escape is missing , will be set to true ! ');\n            item[Const.FJCONFIG_CAN_ESCAPE] = true;\n        } else {\n            logger.debug('can Escape is already there : ', item[Const.FJCONFIG_CAN_ESCAPE]);\n        }\n        return true;\n    };\n    /**\n     * used to check if an item is correct\n     */\n    function checkItem(item) {\n        var subItem = {};\n        var drm = {};\n        var j, list;\n\n        if (item === null || item === undefined) {\n            logger.error(' Item is NULL !', item);\n            return false;\n        }\n        // check item\n        logger.log('  class of item  : ', item[Const.FJCONFIG_CLASS]);\n        if (Const.FJCONFIG_CLASSES.indexOf(item[Const.FJCONFIG_CLASS]) === -1) {\n            logger.error('BAD class Value ! ');\n            return false;\n        }\n        logger.log('  type of item  ', item[Const.FJCONFIG_TYPE]);\n        if (Const.FJCONFIG_TYPES.indexOf(item[Const.FJCONFIG_TYPE]) === -1) {\n            logger.error('BAD type Value ! ');\n            return false;\n        }\n        logger.log('  title of item  ', item[Const.FJCONFIG_TITLE]);\n        if (item[Const.FJCONFIG_TITLE] === undefined || item[Const.FJCONFIG_TITLE] === null || item[Const.FJCONFIG_TITLE] === '' || !item[Const.FJCONFIG_TITLE]) {\n            logger.error('BAD title Value ! ');\n            return false;\n        }\n        logger.log('  src of item  ', item[Const.FJCONFIG_SRC]);\n        if (item[Const.FJCONFIG_SRC] === undefined || item[Const.FJCONFIG_SRC] === null || item[Const.FJCONFIG_SRC] === '' || !item[Const.FJCONFIG_SRC]) {\n            logger.error('BAD src Value ! ');\n            return false;\n        }\n        logger.log('  poster of item  ', item[Const.FJCONFIG_POSTER]);\n        logger.log('  thumbs of item  ', item[Const.FJCONFIG_THUMBS]);\n\n        // check ads\n        list = item[Const.FJCONFIG_ADS];\n        if (list !== null && list !== undefined && list.length > 0) {\n            for (j = 0; j < list.length; j++) {\n                subItem = list[j];\n                if (checkAds(subItem) === false) {\n                    return false;\n                }\n            }\n        }\n        // check drm\n        drm = item[Const.FJCONFIG_DRM];\n        if (drm !== null && drm !== undefined) {\n            if (checkDrm(drm) === false) {\n                return false;\n            }\n        }\n        // check subtitles\n        list = item[Const.FJCONFIG_SUBTITLES];\n        if (list !== null && list !== undefined && list.length > 0) {\n            for (j = 0; j < list.length; j++) {\n                subItem = list[j];\n                if (checkSubtitle(subItem) === false) {\n                    return false;\n                }\n            }\n        }\n        // check overlays\n        list = item[Const.FJCONFIG_OVERLAYS];\n        if (list !== null && list !== undefined && list.length > 0) {\n            for (j = 0; j < list.length; j++) {\n                subItem = list[j];\n                if (checkOverlay(subItem) === false) {\n                    return false;\n                }\n            }\n        }\n        // done\n        return true;\n    };\n\n    /**\n     * Used to add item to list\n     */\n    function addItem(item) {\n        if (checkItem(item) === true) {\n            items.push(item);\n            logger.info('Item added ok ', items.length);\n            return true;\n        }\n        logger.error(' Failed to add item');\n        return false;\n    };\n    /**\n     *  used to add an subtitle to item at index in the playlist\n     */\n    function addSubtitle(index, subtitle) {\n        var item = items[index];\n        var list = item[Const.FJCONFIG_SUBTITLES];\n        if (item === undefined) {\n            return false;\n        } else if (checkSubtitle(subtitle) === false) {\n            return false;\n        }\n        if (list === undefined || list.length === 0) {\n            list = [];\n        }\n        list.push(subtitle);\n        return true;\n    };\n    /**\n     *  used to add an Overlay to item at index in the playlist\n     */\n    function addOverlay(index, overlay) {\n        var item = items[index];\n        var list = item[Const.FJCONFIG_OVERLAYS];\n        if (item === undefined) {\n            return false;\n        } else if (checkOverlay(overlay) === false) {\n            return false;\n        }\n        if (list === undefined || list.length === 0) {\n            list = [];\n        }\n        list.push(overlay);\n        return true;\n    };\n    /**\n     *  used to add an Drm to item at index in the playlist\n     */\n    function setDrm(index, drm) {\n        var item = items[index];\n        var list = item[Const.FJCONFIG_DRM];\n        if (item === undefined) {\n            return false;\n        } else if (checkDrm(drm) === false) {\n            return false;\n        }\n        if (list === undefined || list.length === 0) {\n            list = [];\n        }\n        list.push(drm);\n        return true;\n    };\n\n    /**\n     *  used to add an ads to item at index in the playlist\n     */\n    function addAds(index, ads) {\n        var item = items[index];\n        var list = item[Const.FJCONFIG_ADS];\n        if (item === undefined) {\n            return false;\n        } else if (checkAds(ads) === false) {\n            return false;\n        }\n        if (list === undefined || list.length === 0) {\n            list = [];\n        }\n        list.push(ads);\n        return true;\n    };\n    // ************************************************************************************\n    // PUBLIC API\n    // ************************************************************************************\n    return {\n        getSize: getSize,\n        getItem: getItem,\n        addItem: addItem,\n        addSubtitle: addSubtitle,\n        addOverlay: addOverlay,\n        setDrm: setDrm,\n        addAds: addAds,\n        checkSubtitle: checkSubtitle,\n        checkOverlay: checkOverlay,\n        checkDrm: checkDrm,\n        checkAds: checkAds,\n        checkItem: checkItem,\n        constructor: Playlist\n    };\n};\nexports.default = Playlist;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvanMvcGxheWVyL3BsYXlsaXN0LmpzP2Y3NzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IExvZ2dlciBmcm9tICcuLi91dGlscy9Mb2dnZXInO1xuaW1wb3J0ICogYXMgQ29uc3QgZnJvbSAnLi4vZGVmcy9jb25zdGFudHMnO1xuaW1wb3J0ICogYXMgTGFuZ3MgZnJvbSAnLi4vZGVmcy9pc29MYW5ncyc7XG4vKipcbiAqICBDbGFzcyBwbGF5bGlzdCBpbiB3aGl4aCBhbGwgdGhlIHBsYXlsaW9zdCB3aWxsIGJlIGNoZWNrZWQgYW5kIHNhdmVkXG4gKi9cbmZ1bmN0aW9uIFBsYXlsaXN0KCkge1xuICAgIHZhciBsb2dnZXIgPSBuZXcgTG9nZ2VyKHRoaXMpLFxuICAgICAgICBpdGVtcyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogVXNlZCB0byBnZXRzaXplIG9mIHBsYXlsaXN0XG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0U2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIGl0ZW1zLmxlbmd0aDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXNlZCB0byBnZXQgaXRlbSBvZiBwbGF5bGlzdCBhdCBwb3NpdGlvbiBpbmRleFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEl0ZW0oaW5kZXgpIHtcbiAgICAgICAgbG9nZ2VyLmluZm8oJyBHZXR0aW5nIGl0ZW0gYXQgcG9zaXRpb24gJywgaW5kZXgpO1xuICAgICAgICBpZiAoaXRlbXMubGVuZ3RoID4gaW5kZXgpIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtc1tpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgbG9nZ2VyLmVycm9yKCcgTm8gaXRlbSB0byBwbGF5IGF0IGluZGV4ICcsIGluZGV4LFxuICAgICAgICAgICAgJyBwbGF5bGlzdCBpcyBzaXplZCAnLCBpdGVtcy5sZW5ndGgpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIC8qICoqICoqICoqICoqICoqICoqICoqIENIRUNLJ1MgKiogKiogKiogKiogKiogKiogKiogKi9cbiAgICAvKipcbiAgICAgKiB1c2VkIHRvIGNoZWNrIGlmIGFuIGl0ZW0gb2Ygc3VidGl0bGUgaXMgY29ycmVjdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNoZWNrU3VidGl0bGUoc3ViSXRlbSkge1xuICAgICAgICB2YXIgdG1wO1xuICAgICAgICBpZiAoc3ViSXRlbSA9PT0gbnVsbCB8fCBzdWJJdGVtID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3ViSXRlbVtDb25zdC5GSkNPTkZJR19MQU5HXSkge1xuICAgICAgICAgICAgdG1wID0gTGFuZ3MuaXNvTGFuZ3Nbc3ViSXRlbVtDb25zdC5GSkNPTkZJR19MQU5HXV07XG4gICAgICAgICAgICBsb2dnZXIubG9nKHRtcCwgJyBwbGF5bGlzdCBTdWJ0aXRsZSBsYW5nIGlzJyxcbiAgICAgICAgICAgICAgICBzdWJJdGVtW0NvbnN0LkZKQ09ORklHX0xBTkddKTtcbiAgICAgICAgICAgIGlmICh0bXAgPT09IG51bGwgfHwgdG1wID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIuZXJyb3IoJ05vIElTTyBjb2RlIG9mIGxhbmcgICcsIHRtcCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCdFbXB0eSBTdWJ0aXRsZSBsYW5nICAnKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3ViSXRlbVtDb25zdC5GSkNPTkZJR19TUkNdKSB7XG4gICAgICAgICAgICBsb2dnZXIubG9nKCcgcGxheWxpc3QgU3VidGl0bGUgc3JjIGlzJyxcbiAgICAgICAgICAgICAgICBzdWJJdGVtW0NvbnN0LkZKQ09ORklHX1NSQ10pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCdFbXB0eSBTdWJ0aXRsZSBzcmMgJyk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiB1c2VkIHRvIGNoZWNrIGlmIGFuIGl0ZW0gb2Ygb3ZlcmxheSBpcyBjb3JyZWN0XG4gICAgICovXG4gICAgZnVuY3Rpb24gY2hlY2tPdmVybGF5KHN1Ykl0ZW0pIHtcbiAgICAgICAgdmFyIHZhbCA9IHN1Ykl0ZW07XG4gICAgICAgIGlmIChzdWJJdGVtID09PSBudWxsIHx8IHN1Ykl0ZW0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhbCA9IHN1Ykl0ZW1bQ29uc3QuRkpDT05GSUdfREFUQV07XG4gICAgICAgIGlmICh2YWwgIT09IHVuZGVmaW5lZCAmJiB2YWwgIT09IG51bGwgJiYgdmFsICE9PSAnJykge1xuICAgICAgICAgICAgbG9nZ2VyLmxvZygnIHBsYXlsaXN0IE92ZXJsYXkgZGF0YSAnLCB2YWwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCdFbXB0eSBPdmVybGF5IGRhdGEnKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YWwgPSBzdWJJdGVtW0NvbnN0LkZKQ09ORklHX1VSTF07XG4gICAgICAgIGlmICh2YWwgIT09IHVuZGVmaW5lZCAmJiB2YWwgIT09IG51bGwgJiYgdmFsICE9PSAnJykge1xuICAgICAgICAgICAgbG9nZ2VyLmxvZygnIG9rIHBsYXlsaXN0IE92ZXJsYXkgdXJsICcsIHZhbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoJ0VtcHR5IE92ZXJsYXkgdXJsJyk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFsID0gc3ViSXRlbVtDb25zdC5GSkNPTkZJR19EVVJBVElPTl07XG4gICAgICAgIGlmICh2YWwgIT09IHVuZGVmaW5lZCAmJiB2YWwgIT09IG51bGwgJiYgdmFsICE9PSAnJykge1xuICAgICAgICAgICAgaWYgKCh2YWwgPT09IHBhcnNlSW50KHZhbCwgMTApKSkge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coJyBpbnRlZ2VyIHBsYXlsaXN0IE92ZXJsYXkgZHVyYXRpb24gJywgdmFsKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKHZhbCwgJzpFbXB0eSBPdmVybGF5IGR1cmF0aW9uIGlzIG5vdCBpbnRlZ2VyICEnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoJ0VtcHR5IE92ZXJsYXkgZHVyYXRpb24gJyk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFsID0gc3ViSXRlbVtDb25zdC5GSkNPTkZJR19TSE9XX0FUXTtcbiAgICAgICAgaWYgKHZhbCAhPT0gdW5kZWZpbmVkICYmIHZhbCAhPT0gbnVsbCAmJiB2YWwgIT09ICcnKSB7XG4gICAgICAgICAgICBpZiAoKHZhbCA9PT0gcGFyc2VJbnQodmFsLCAxMCkpKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmxvZygnIGludGVnZXIgcGxheWxpc3QgT3ZlcmxheSBzaG93IGF0ICcsIHZhbCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5lcnJvcih2YWwsICc6RW1wdHkgT3ZlcmxheSBzaG93IGF0IGlzIG5vdCBpbnRlZ2VyICEnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoJ0VtcHR5IE92ZXJsYXkgc2hvdyBhdCAnKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIHVzZWQgdG8gY2hlY2sgaWYgYW4gaXRlbSBvZiBkcm0gaXMgY29ycmVjdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNoZWNrRHJtKGRybSkge1xuICAgICAgICB2YXIgdG1wID0gbnVsbDtcbiAgICAgICAgaWYgKGRybSA9PT0gbnVsbCB8fCBkcm0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGxvZ2dlci5kZWJ1ZygnQ2hla2luZyBEUk0gPiAnLCBkcm0pO1xuXG4gICAgICAgIHRtcCA9IGRybVtDb25zdC5GSkNPTkZJR19EUk1fTElDRU5TRV9TRVJWRVJdO1xuICAgICAgICBsb2dnZXIuaW5mbygnQ2hla2luZyBEUk0gTEEgU2VydmVyID4gJywgdG1wKTtcbiAgICAgICAgaWYgKCh0bXAgIT09IHVuZGVmaW5lZCkgJiYgKHRtcCAhPT0gbnVsbCkpIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coJyBwbGF5bGlzdCBMQSBTZXJ2ZXIgaXMgICcsIHRtcCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoJ0VtcHR5IExBIFNlcnZlciAgISAnKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIHVzZWQgdG8gY2hlY2sgaWYgYW4gaXRlbSBvZiBhZHMgaXMgY29ycmVjdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNoZWNrQWRzKGl0ZW0pIHtcbiAgICAgICAgaWYgKGl0ZW0gPT09IG51bGwgfHwgaXRlbSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKENvbnN0LkZKQ09ORklHX1RZUEVTLmluZGV4T2YoaXRlbVtDb25zdC5GSkNPTkZJR19UWVBFXSkgPT09IC0xKSB7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoJ0JBRCB0eXBlIFZhbHVlICEgJyk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpdGVtW0NvbnN0LkZKQ09ORklHX1NSQ10pIHtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcignQkFEIHNyYyBWYWx1ZSAhICcpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChDb25zdC5GSkNPTkZJR19BRFNfQ0xBU1NFUy5pbmRleE9mKGl0ZW1bQ29uc3QuRkpDT05GSUdfQ0xBU1NdKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcihpdGVtW0NvbnN0LkZKQ09ORklHX0NMQVNTXSwgJzpCQUQgY2xhc3MgVmFsdWUgISAnKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKGl0ZW1bQ29uc3QuRkpDT05GSUdfU1JDXSA9PT0gQ29uc3QuRkpDT05GSUdfQURTX0NMQVNTX01JRF9ST0xMKSAmJlxuICAgICAgICAgICAgKGl0ZW1bQ29uc3QuRkpDT05GSUdfU0hPV19BVF0gPT09IG51bGwgfHwgaXRlbVtDb25zdC5GSkNPTkZJR19TSE9XX0FUXSA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCdNaXNzaW5nIFNob3cgQXQgZm9yIG1pZCBSb2xsIENsYXNzICEgJyk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGl0ZW1bQ29uc3QuRkpDT05GSUdfVVJMXSAhPT0gdW5kZWZpbmVkICYmIGl0ZW1bQ29uc3QuRkpDT05GSUdfVVJMXSAhPT0gbnVsbCAmJiBpdGVtW0NvbnN0LkZKQ09ORklHX1VSTF0gIT09ICcnKSB7XG4gICAgICAgICAgICBsb2dnZXIubG9nKCcgcGxheWxpc3QgT3ZlcmxheSB1cmwgJywgaXRlbVtDb25zdC5GSkNPTkZJR19VUkxdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcignRW1wdHkgT3ZlcmxheSB1cmwnKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXRlbVtDb25zdC5GSkNPTkZJR19DQU5fRVNDQVBFXSAhPT0gJ3RydWUnICYmIGl0ZW1bQ29uc3QuRkpDT05GSUdfQ0FOX0VTQ0FQRV0gIT09IHRydWUgJiZcbiAgICAgICAgICAgIGl0ZW1bQ29uc3QuRkpDT05GSUdfQ0FOX0VTQ0FQRV0gIT09ICdmYWxzZScgJiYgaXRlbVtDb25zdC5GSkNPTkZJR19DQU5fRVNDQVBFXSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKCdjYW4gRXNjYXBlIGlzIG1pc3NpbmcgLCB3aWxsIGJlIHNldCB0byB0cnVlICEgJyk7XG4gICAgICAgICAgICBpdGVtW0NvbnN0LkZKQ09ORklHX0NBTl9FU0NBUEVdID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZygnY2FuIEVzY2FwZSBpcyBhbHJlYWR5IHRoZXJlIDogJywgaXRlbVtDb25zdC5GSkNPTkZJR19DQU5fRVNDQVBFXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiB1c2VkIHRvIGNoZWNrIGlmIGFuIGl0ZW0gaXMgY29ycmVjdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNoZWNrSXRlbShpdGVtKSB7XG4gICAgICAgIHZhciBzdWJJdGVtID0ge307XG4gICAgICAgIHZhciBkcm0gPSB7fTtcbiAgICAgICAgdmFyIGosIGxpc3Q7XG5cbiAgICAgICAgaWYgKGl0ZW0gPT09IG51bGwgfHwgaXRlbSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoJyBJdGVtIGlzIE5VTEwgIScsIGl0ZW0pO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNoZWNrIGl0ZW1cbiAgICAgICAgbG9nZ2VyLmxvZygnICBjbGFzcyBvZiBpdGVtICA6ICcsIGl0ZW1bQ29uc3QuRkpDT05GSUdfQ0xBU1NdKTtcbiAgICAgICAgaWYgKENvbnN0LkZKQ09ORklHX0NMQVNTRVMuaW5kZXhPZihpdGVtW0NvbnN0LkZKQ09ORklHX0NMQVNTXSkgPT09IC0xKSB7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoJ0JBRCBjbGFzcyBWYWx1ZSAhICcpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGxvZ2dlci5sb2coJyAgdHlwZSBvZiBpdGVtICAnLCBpdGVtW0NvbnN0LkZKQ09ORklHX1RZUEVdKTtcbiAgICAgICAgaWYgKENvbnN0LkZKQ09ORklHX1RZUEVTLmluZGV4T2YoaXRlbVtDb25zdC5GSkNPTkZJR19UWVBFXSkgPT09IC0xKSB7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoJ0JBRCB0eXBlIFZhbHVlICEgJyk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgbG9nZ2VyLmxvZygnICB0aXRsZSBvZiBpdGVtICAnLCBpdGVtW0NvbnN0LkZKQ09ORklHX1RJVExFXSk7XG4gICAgICAgIGlmIChpdGVtW0NvbnN0LkZKQ09ORklHX1RJVExFXSA9PT0gdW5kZWZpbmVkIHx8IGl0ZW1bQ29uc3QuRkpDT05GSUdfVElUTEVdID09PSBudWxsIHx8XG4gICAgICAgICAgICBpdGVtW0NvbnN0LkZKQ09ORklHX1RJVExFXSA9PT0gJycgfHwgIWl0ZW1bQ29uc3QuRkpDT05GSUdfVElUTEVdKSB7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoJ0JBRCB0aXRsZSBWYWx1ZSAhICcpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGxvZ2dlci5sb2coJyAgc3JjIG9mIGl0ZW0gICcsIGl0ZW1bQ29uc3QuRkpDT05GSUdfU1JDXSk7XG4gICAgICAgIGlmIChpdGVtW0NvbnN0LkZKQ09ORklHX1NSQ10gPT09IHVuZGVmaW5lZCB8fCBpdGVtW0NvbnN0LkZKQ09ORklHX1NSQ10gPT09IG51bGwgfHxcbiAgICAgICAgICAgIGl0ZW1bQ29uc3QuRkpDT05GSUdfU1JDXSA9PT0gJycgfHwgIWl0ZW1bQ29uc3QuRkpDT05GSUdfU1JDXSkge1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCdCQUQgc3JjIFZhbHVlICEgJyk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgbG9nZ2VyLmxvZygnICBwb3N0ZXIgb2YgaXRlbSAgJywgaXRlbVtDb25zdC5GSkNPTkZJR19QT1NURVJdKTtcbiAgICAgICAgbG9nZ2VyLmxvZygnICB0aHVtYnMgb2YgaXRlbSAgJywgaXRlbVtDb25zdC5GSkNPTkZJR19USFVNQlNdKTtcblxuICAgICAgICAvLyBjaGVjayBhZHNcbiAgICAgICAgbGlzdCA9IGl0ZW1bQ29uc3QuRkpDT05GSUdfQURTXTtcbiAgICAgICAgaWYgKChsaXN0ICE9PSBudWxsKSAmJiAobGlzdCAhPT0gdW5kZWZpbmVkKSAmJiAobGlzdC5sZW5ndGggPiAwKSkge1xuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGxpc3QubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBzdWJJdGVtID0gbGlzdFtqXTtcbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tBZHMoc3ViSXRlbSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2hlY2sgZHJtXG4gICAgICAgIGRybSA9IGl0ZW1bQ29uc3QuRkpDT05GSUdfRFJNXTtcbiAgICAgICAgaWYgKChkcm0gIT09IG51bGwpICYmIChkcm0gIT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgICAgIGlmIChjaGVja0RybShkcm0pID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBjaGVjayBzdWJ0aXRsZXNcbiAgICAgICAgbGlzdCA9IGl0ZW1bQ29uc3QuRkpDT05GSUdfU1VCVElUTEVTXTtcbiAgICAgICAgaWYgKChsaXN0ICE9PSBudWxsKSAmJiAobGlzdCAhPT0gdW5kZWZpbmVkKSAmJiAobGlzdC5sZW5ndGggPiAwKSkge1xuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGxpc3QubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBzdWJJdGVtID0gbGlzdFtqXTtcbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tTdWJ0aXRsZShzdWJJdGVtKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBjaGVjayBvdmVybGF5c1xuICAgICAgICBsaXN0ID0gaXRlbVtDb25zdC5GSkNPTkZJR19PVkVSTEFZU107XG4gICAgICAgIGlmICgobGlzdCAhPT0gbnVsbCkgJiYgKGxpc3QgIT09IHVuZGVmaW5lZCkgJiYgKGxpc3QubGVuZ3RoID4gMCkpIHtcbiAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBsaXN0Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgc3ViSXRlbSA9IGxpc3Rbal07XG4gICAgICAgICAgICAgICAgaWYgKGNoZWNrT3ZlcmxheShzdWJJdGVtKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBkb25lXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGFkZCBpdGVtIHRvIGxpc3RcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZGRJdGVtKGl0ZW0pIHtcbiAgICAgICAgaWYgKGNoZWNrSXRlbShpdGVtKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgaXRlbXMucHVzaChpdGVtKTtcbiAgICAgICAgICAgIGxvZ2dlci5pbmZvKCdJdGVtIGFkZGVkIG9rICcsIGl0ZW1zLmxlbmd0aCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBsb2dnZXIuZXJyb3IoJyBGYWlsZWQgdG8gYWRkIGl0ZW0nKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogIHVzZWQgdG8gYWRkIGFuIHN1YnRpdGxlIHRvIGl0ZW0gYXQgaW5kZXggaW4gdGhlIHBsYXlsaXN0XG4gICAgICovXG4gICAgZnVuY3Rpb24gYWRkU3VidGl0bGUoaW5kZXgsIHN1YnRpdGxlKSB7XG4gICAgICAgIHZhciBpdGVtID0gaXRlbXNbaW5kZXhdO1xuICAgICAgICB2YXIgbGlzdCA9IGl0ZW1bQ29uc3QuRkpDT05GSUdfU1VCVElUTEVTXTtcbiAgICAgICAgaWYgKGl0ZW0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKGNoZWNrU3VidGl0bGUoc3VidGl0bGUpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICgobGlzdCA9PT0gdW5kZWZpbmVkKSB8fCAobGlzdC5sZW5ndGggPT09IDApKSB7XG4gICAgICAgICAgICBsaXN0ID0gW107XG4gICAgICAgIH1cbiAgICAgICAgbGlzdC5wdXNoKHN1YnRpdGxlKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiAgdXNlZCB0byBhZGQgYW4gT3ZlcmxheSB0byBpdGVtIGF0IGluZGV4IGluIHRoZSBwbGF5bGlzdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFkZE92ZXJsYXkoaW5kZXgsIG92ZXJsYXkpIHtcbiAgICAgICAgdmFyIGl0ZW0gPSBpdGVtc1tpbmRleF07XG4gICAgICAgIHZhciBsaXN0ID0gaXRlbVtDb25zdC5GSkNPTkZJR19PVkVSTEFZU107XG4gICAgICAgIGlmIChpdGVtID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSBlbHNlIGlmIChjaGVja092ZXJsYXkob3ZlcmxheSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChsaXN0ID09PSB1bmRlZmluZWQpIHx8IChsaXN0Lmxlbmd0aCA9PT0gMCkpIHtcbiAgICAgICAgICAgIGxpc3QgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBsaXN0LnB1c2gob3ZlcmxheSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogIHVzZWQgdG8gYWRkIGFuIERybSB0byBpdGVtIGF0IGluZGV4IGluIHRoZSBwbGF5bGlzdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldERybShpbmRleCwgZHJtKSB7XG4gICAgICAgIHZhciBpdGVtID0gaXRlbXNbaW5kZXhdO1xuICAgICAgICB2YXIgbGlzdCA9IGl0ZW1bQ29uc3QuRkpDT05GSUdfRFJNXTtcbiAgICAgICAgaWYgKGl0ZW0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKGNoZWNrRHJtKGRybSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChsaXN0ID09PSB1bmRlZmluZWQpIHx8IChsaXN0Lmxlbmd0aCA9PT0gMCkpIHtcbiAgICAgICAgICAgIGxpc3QgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBsaXN0LnB1c2goZHJtKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqICB1c2VkIHRvIGFkZCBhbiBhZHMgdG8gaXRlbSBhdCBpbmRleCBpbiB0aGUgcGxheWxpc3RcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZGRBZHMoaW5kZXgsIGFkcykge1xuICAgICAgICB2YXIgaXRlbSA9IGl0ZW1zW2luZGV4XTtcbiAgICAgICAgdmFyIGxpc3QgPSBpdGVtW0NvbnN0LkZKQ09ORklHX0FEU107XG4gICAgICAgIGlmIChpdGVtID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSBlbHNlIGlmIChjaGVja0FkcyhhZHMpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICgobGlzdCA9PT0gdW5kZWZpbmVkKSB8fCAobGlzdC5sZW5ndGggPT09IDApKSB7XG4gICAgICAgICAgICBsaXN0ID0gW107XG4gICAgICAgIH1cbiAgICAgICAgbGlzdC5wdXNoKGFkcyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgLy8gUFVCTElDIEFQSVxuICAgIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIHJldHVybiB7XG4gICAgICAgIGdldFNpemU6IGdldFNpemUsXG4gICAgICAgIGdldEl0ZW06IGdldEl0ZW0sXG4gICAgICAgIGFkZEl0ZW06IGFkZEl0ZW0sXG4gICAgICAgIGFkZFN1YnRpdGxlOiBhZGRTdWJ0aXRsZSxcbiAgICAgICAgYWRkT3ZlcmxheTogYWRkT3ZlcmxheSxcbiAgICAgICAgc2V0RHJtOiBzZXREcm0sXG4gICAgICAgIGFkZEFkczogYWRkQWRzLFxuICAgICAgICBjaGVja1N1YnRpdGxlOiBjaGVja1N1YnRpdGxlLFxuICAgICAgICBjaGVja092ZXJsYXk6IGNoZWNrT3ZlcmxheSxcbiAgICAgICAgY2hlY2tEcm06IGNoZWNrRHJtLFxuICAgICAgICBjaGVja0FkczogY2hlY2tBZHMsXG4gICAgICAgIGNoZWNrSXRlbTogY2hlY2tJdGVtLFxuICAgICAgICBjb25zdHJ1Y3RvcjogUGxheWxpc3RcbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IFBsYXlsaXN0O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvanMvcGxheWVyL3BsYXlsaXN0LmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBOzs7OztBQUFBOzs7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFiQTtBQWVBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 9 */
/* unknown exports provided */
/* all exports used */
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/***/ (function(module, exports) {

eval("var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanM/MzY5OCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZztcclxuXHJcbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXHJcbmcgPSAoZnVuY3Rpb24oKSB7XHJcblx0cmV0dXJuIHRoaXM7XHJcbn0pKCk7XHJcblxyXG50cnkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxyXG5cdGcgPSBnIHx8IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSB8fCAoMSxldmFsKShcInRoaXNcIik7XHJcbn0gY2F0Y2goZSkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXHJcblx0aWYodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIilcclxuXHRcdGcgPSB3aW5kb3c7XHJcbn1cclxuXHJcbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cclxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3NcclxuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBnO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAod2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanNcbi8vIG1vZHVsZSBpZCA9IDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 10 */
/* unknown exports provided */
/* all exports used */
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.OverlayEvents = exports.AdsEvents = exports.PlayerEvents = exports.Version = exports.Player = exports.Playlist = undefined;\n\nvar _playlist = __webpack_require__(/*! ./js/player/playlist */ 8);\n\nvar _playlist2 = _interopRequireDefault(_playlist);\n\nvar _player = __webpack_require__(/*! ./js/player/player */ 7);\n\nvar _player2 = _interopRequireDefault(_player);\n\nvar _Version = __webpack_require__(/*! ./Version */ 6);\n\nvar _Version2 = _interopRequireDefault(_Version);\n\nvar _constants = __webpack_require__(/*! ./js/defs/constants */ 1);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Shove both of these into the global scope\n/**\n * The entry point for the library FJplayer.JS\n */\nvar context = typeof window !== 'undefined' && window || global;\n\nvar fjplayer = context.fjplayer;\n\nif (!fjplayer) {\n  fjplayer = context.fjplayer = {};\n}\n\nfjplayer.Playlist = _playlist2.default;\nfjplayer.Player = _player2.default;\nfjplayer.Version = _Version2.default;\nfjplayer.PlayerEvents = _constants.PlayerEvents;\nfjplayer.AdsEvents = _constants.AdsEvents;\nfjplayer.OverlayEvents = _constants.OverlayEvents;\n\nexports.default = fjplayer;\nexports.Playlist = _playlist2.default;\nexports.Player = _player2.default;\nexports.Version = _Version2.default;\nexports.PlayerEvents = _constants.PlayerEvents;\nexports.AdsEvents = _constants.AdsEvents;\nexports.OverlayEvents = _constants.OverlayEvents;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! ./../~/webpack/buildin/global.js */ 9)))//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2luZGV4LmpzPzFmZGYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUaGUgZW50cnkgcG9pbnQgZm9yIHRoZSBsaWJyYXJ5IEZKcGxheWVyLkpTXG4gKi9cbmltcG9ydCBQbGF5bGlzdCBmcm9tICcuL2pzL3BsYXllci9wbGF5bGlzdCc7XG5pbXBvcnQgUGxheWVyIGZyb20gJy4vanMvcGxheWVyL3BsYXllcic7XG5pbXBvcnQgVmVyc2lvbiBmcm9tICcuL1ZlcnNpb24nO1xuaW1wb3J0IHsgUGxheWVyRXZlbnRzLCBBZHNFdmVudHMsIE92ZXJsYXlFdmVudHMgfSBmcm9tICcuL2pzL2RlZnMvY29uc3RhbnRzJztcblxuLy8gU2hvdmUgYm90aCBvZiB0aGVzZSBpbnRvIHRoZSBnbG9iYWwgc2NvcGVcbnZhciBjb250ZXh0ID0gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdykgfHwgZ2xvYmFsO1xuXG52YXIgZmpwbGF5ZXIgPSBjb250ZXh0LmZqcGxheWVyO1xuXG5pZiAoIWZqcGxheWVyKSB7XG4gICAgZmpwbGF5ZXIgPSBjb250ZXh0LmZqcGxheWVyID0ge307XG59XG5cbmZqcGxheWVyLlBsYXlsaXN0ID0gUGxheWxpc3Q7XG5manBsYXllci5QbGF5ZXIgPSBQbGF5ZXI7XG5manBsYXllci5WZXJzaW9uID0gVmVyc2lvbjtcbmZqcGxheWVyLlBsYXllckV2ZW50cyA9IFBsYXllckV2ZW50cztcbmZqcGxheWVyLkFkc0V2ZW50cyA9IEFkc0V2ZW50cztcbmZqcGxheWVyLk92ZXJsYXlFdmVudHMgPSBPdmVybGF5RXZlbnRzO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGZqcGxheWVyO1xuZXhwb3J0IHsgUGxheWxpc3QgfTtcbmV4cG9ydCB7IFBsYXllciB9O1xuZXhwb3J0IHsgVmVyc2lvbiB9O1xuZXhwb3J0IHsgUGxheWVyRXZlbnRzIH07XG5leHBvcnQgeyBBZHNFdmVudHMgfTtcbmV4cG9ydCB7IE92ZXJsYXlFdmVudHMgfTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2luZGV4LmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBR0E7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQ0E7QUFSQTs7O0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 11 */
/* unknown exports provided */
/* all exports used */
/*!**************************************!*\
  !*** ./src/js/player/PlayerMedia.js ***!
  \**************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _Logger = __webpack_require__(/*! ../utils/Logger */ 0);\n\nvar _Logger2 = _interopRequireDefault(_Logger);\n\nvar _Eventing = __webpack_require__(/*! ../utils/Eventing */ 3);\n\nvar _Eventing2 = _interopRequireDefault(_Eventing);\n\nvar _constants = __webpack_require__(/*! ../defs/constants */ 1);\n\nvar Const = _interopRequireWildcard(_constants);\n\nvar _isoLangs = __webpack_require__(/*! ../defs/isoLangs */ 5);\n\nvar Langs = _interopRequireWildcard(_isoLangs);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar shaka = __webpack_require__(/*! shaka-player */ 21);\n\n\n// import * as Const from '../defs/constants';\n/**\n * @module PlayerMedia\n * @description The PlayerMedia is the html video/dash/drm Media player\n *\n */\nfunction PlayerMedia() {\n    var video = null,\n        initialized = false,\n        startingCount = 0,\n        thumbsTrackUrl = null,\n        thumbsTrackIndex = -1,\n        getEndedEvent = false,\n        CurrentUrl = null,\n        CurrentProtection = null,\n        CurrentStreamType = PlayerMedia.UNKNOWN,\n        DashPlayer = null,\n        logger = new _Logger2.default(this),\n        events = new _Eventing2.default(),\n        StreamTypes = {\n        UNKNOWN: 0,\n        MP4_CLEAR: 1,\n        DASH_CLEAR: 2,\n        DASH_ENCRYPTED: 3,\n        properties: {\n            0: { name: 'UNKNOWN', value: 0, code: 'U' },\n            1: { name: 'MP4_CLEAR', value: 1, code: 'M' },\n            2: { name: 'DASH_CLEAR', value: 2, code: 'D' },\n            3: { name: 'DASH_ENCRYPTED', value: 3, code: 'E' }\n        }\n    };\n    /**\n     *\n     */\n    function initialize(playerUiVideo) {\n        // Install built-in polyfills to patch browser incompatibilities.\n        shaka.polyfill.installAll();\n\n        // Check to see if the browser supports the basic APIs Shaka needs.\n        if (!shaka.Player.isBrowserSupported()) {\n            // This browser does not have the minimum set of APIs we need.\n            logger.error('Browser not supported !');\n            return false;\n        }\n\n        video = playerUiVideo;\n        if (!video) {\n            throw new Error('Please call initialize with a valid Player UI having a video html 5 element ');\n        }\n        //DashPlayer = new shaka.Player(video);\n        // done\n        initialized = true;\n        logger.debug(' Media player just initialized with playerUiVideo');\n    };\n    /**\n     *\n     */\n    function on(name, handler) {\n        return events.on(name, handler);\n    };\n    /**\n     *\n     */\n    function off(name, handler) {\n        return events.off(name, handler);\n    };\n\n    /**\n     *\n     */\n    function play() {\n        if (initialized === true) {\n            video.play();\n        } else {\n            logger.warn(' No Media Loaded , nothing to play ');\n        }\n    };\n    /**\n     *\n     */\n    function time() {\n        if (initialized === true) {\n            return video.currentTime;\n        }\n        logger.warn(' No Media Loaded ! ');\n    };\n    /**\n     *\n     */\n    function isPaused() {\n        if (initialized === true) {\n            return video.paused;\n        }\n        logger.warn(' No Media Loaded ! ');\n        return true;\n    };\n    /**\n     *\n     */\n    function isEnded() {\n        if (initialized === true) {\n            return video.ended;\n        }\n        logger.warn(' No Media Loaded ! ');\n        return true;\n    };\n    /**\n     *\n     */\n    function isMuted() {\n        if (initialized === true) {\n            return video.muted;\n        }\n        logger.warn(' No Media Loaded ! ');\n        return true;\n    };\n    /**\n     *\n     */\n    function setVolume(volume) {\n        if (initialized === true) {\n            video.volume = volume;\n        } else {\n            logger.warn(' No Media Loaded ! ');\n        }\n    };\n    /**\n     *\n     */\n    function getDuration() {\n        if (initialized === true) {\n            return video.duration;\n        }\n        logger.warn(' No Media Loaded ! ');\n    };\n    /**\n     *\n     */\n    function getVolume() {\n        if (initialized === true) {\n            return video.volume;\n        }\n        logger.warn(' No Media Loaded ! ');\n    };\n\n    function setThumbsUrl(url) {\n        if (url !== null && url !== undefined && url !== '') {\n            thumbsTrackUrl = url;\n            logger.debug(' Setting url for thumbs @', url);\n        } else {\n            thumbsTrackUrl = null;\n            logger.debug(' No Setting url for thumbs ');\n        }\n    };\n\n    function setTextTrack(textTrackIndex) {\n        var index = parseInt(textTrackIndex);\n        var i = 0;\n        logger.warn(\" Setting text track to index : \", index);\n        if (initialized === true) {\n            for (i = 0; i < video.textTracks.length; i++) {\n                if (video.textTracks[i].kind === 'captions' || video.textTracks[i].kind === 'subtitles') {\n                    if (index === i) {\n                        video.textTracks[i].mode = 'showing';\n                    } else {\n                        video.textTracks[i].mode = 'hidden';\n                    }\n                }\n            }\n        }\n    };\n\n    /**\n     *\n     */\n    function setMute(mute) {\n        if (initialized === true) {\n            video.muted = mute;\n        } else {\n            logger.warn(' No Media Loaded ! ');\n        }\n    };\n    /**\n     *\n     */\n    function pause() {\n        if (initialized === true) {\n            video.pause();\n        } else {\n            logger.warn(' No Media Loaded , nothing to pause ');\n        }\n    };\n    /**\n     *\n     */\n    function seek(position) {\n        if (initialized === true) {\n            video.currentTime = parseFloat(position);\n        } else {\n            logger.warn(' No Media Loaded , nothing to seek ');\n        }\n    };\n    /**\n     * Callbacks\n     */\n    function onShakaError(e) {\n        onShError(e.detail);\n    };\n\n    function onShakaEvent(e) {\n        logger.warn('Eventing  [', event.type, ']:', event);\n    };\n\n    function onShError(error) {\n        // Log the error.\n        logger.error('Error code', error.code, 'object', error);\n    };\n\n    function onPlayStart(e) {\n        startingCount++;\n        events.fireEvent(Const.PlayerEvents.PLAYBACK_STARTED, startingCount);\n    };\n\n    function onPlaybackPaused(e) {\n        events.fireEvent(Const.PlayerEvents.PLAYBACK_PAUSED);\n    };\n\n    function onPlaybackEnded(e) {\n        getEndedEvent = true;\n        events.fireEvent(Const.PlayerEvents.PLAYBACK_ENDED);\n    };\n\n    function onPlayTimeUpdate(e) {\n        var time = 0;\n        if (initialized === true) {\n            time = video.currentTime;\n        } else {\n            logger.warn(' Internal error !');\n            return;\n        }\n        events.fireEvent(Const.PlayerEvents.PLAYBACK_TIME_UPDATE, time);\n    };\n\n    function onSeeked(e) {\n        events.fireEvent(Const.PlayerEvents.PLAYBACK_SEEKED);\n    };\n\n    function onSeeking(e) {\n        events.fireEvent(Const.PlayerEvents.PLAYBACK_SEEKING);\n    }\n\n    function onError(e) {\n        var msg = e.event.message;\n        if (e.event.message === undefined) {\n            msg = e.event;\n        }\n        var args = {\n            'type': e.type,\n            'code': e.error,\n            'message': msgonStreamInitialized\n        };\n        logger.error('>>>>>>>>>>>>>>> ERROR !!:', e);\n        events.fireEvent(Const.PlayerEvents.PLAYBACK_ERROR, args);\n    };\n\n    function onStreamInitialized() {\n        var i = 0;\n        var availableTracks = null;\n        // video tracks\n        thumbsTrackIndex = -1;\n        if (thumbsTrackUrl !== null) {\n            for (i = 0; i < video.textTracks.length; i++) {\n                if (video.textTracks[i].kind === 'metadata') {\n                    thumbsTrackIndex = i;\n                    video.textTracks[i].mode = 'hidden'; // thanks Firefox\n                    logger.warn('find  metadata tumbs  @ ', thumbsTrackIndex, '/', video.textTracks.length, ' >>> and video duration ;;; ', getDuration());\n                } else if (video.textTracks[i].kind === 'captions' || video.textTracks[i].kind === 'subtitles') {\n                    // SubsTrackIndex = i;\n                    logger.warn('find  soustitres  @ ', thumbsTrackIndex, '/', video.textTracks.length, ' >>> ', video.textTracks[i]);\n\n                    break;\n                }\n            }\n        }\n        logger.info(' stream is completly loaded  ');\n        if (thumbsTrackIndex !== -1 && thumbsTrackUrl !== -1) {\n            events.fireEvent(Const.PlayerEvents.STREAM_LOADED, thumbsTrackIndex);\n        } else {\n            events.fireEvent(Const.PlayerEvents.STREAM_LOADED, null);\n        }\n    };\n\n    function SetManuallysubs(subs, video) {\n        var track = null,\n            item = null,\n            tmp = null,\n            label = null,\n            i = 0,\n            n = 0;\n        // set subs\n        if (subs !== null && subs !== undefined) {\n            for (i = 0; i < subs.length; i++) {\n                item = subs[i];\n                track = document.createElement('track');\n                track.kind = 'subtitles';\n                track.src = item[Const.FJCONFIG_SRC];\n                track.srclang = item[Const.FJCONFIG_LANG];\n                tmp = Langs.isoLangs[item[Const.FJCONFIG_LANG]];\n                logger.log(' Appending track substitles with Label', tmp.name);\n                n = tmp.name.indexOf(\",\");\n                if (n === -1) {\n                    n = tmp.name.indexOf(\";\");\n                }\n                if (n === -1) {\n                    label = tmp.name;\n                } else {\n                    label = tmp.name.substr(0, n);\n                }\n                track.label = label;\n                video.appendChild(track);\n            }\n        } else {\n            logger.debug('no vtt Subs are found in config.');\n        }\n    };\n\n    function doesTimeMarchesOn() {\n        var version;\n        var REQUIRED_VERSION = 49.0;\n\n        if (typeof navigator !== 'undefined') {\n            if (!navigator.userAgent.match(/Firefox/)) {\n                return true;\n            }\n\n            version = parseFloat(navigator.userAgent.match(/rv:([0-9.]+)/)[1]);\n\n            if (!isNaN(version) && version >= REQUIRED_VERSION) {\n                return true;\n            }\n        }\n    };\n    /**\n     * Used to Clean loaded data video\n     */\n    function Unload() {\n        var el = video;\n        var elClone = null;\n        if (initialized !== true) {\n            logger.warn('not yet initialized !');\n            return;\n        }\n        // remove all video child\n        elClone = el.cloneNode(true);\n        el.parentNode.replaceChild(elClone, el);\n        video = elClone;\n\n        // hide the overlay , empty the div\n        while (video.hasChildNodes()) {\n            video.removeChild(video.firstChild);\n        }\n        // unset attr\n        video.removeAttribute('poster');\n\n        if (CurrentStreamType === StreamTypes.MP4_CLEAR) {\n            video.removeEventListener('loadedmetadata', onStreamInitialized);\n            video.removeEventListener('play', onPlayStart);\n            video.removeEventListener('pause', onPlaybackPaused);\n            video.removeEventListener('ended', onPlaybackEnded);\n            video.removeEventListener('timeupdate', onPlayTimeUpdate);\n            video.removeEventListener('seeking', onSeeking);\n            video.removeEventListener('seeked', onSeeked);\n            video.removeEventListener('error', onError);\n        } else {\n            // Unsetting Callbacks\n            DashPlayer.removeEventListener('error', onShakaError);\n            DashPlayer.removeEventListener('adaptation', onShakaEvent);\n            DashPlayer.removeEventListener('buffering', onShakaEvent);\n            DashPlayer.removeEventListener('emsg', onShakaEvent);\n            DashPlayer.removeEventListener('expirationupdated', onShakaEvent);\n            DashPlayer.removeEventListener('largegap', onShakaEvent);\n            DashPlayer.removeEventListener('loading', onShakaEvent);\n            DashPlayer.removeEventListener('texttrackvisibility', onShakaEvent);\n            DashPlayer.removeEventListener('timelineregionadded', onShakaEvent);\n            DashPlayer.removeEventListener('timelineregionenter', onShakaEvent);\n            DashPlayer.removeEventListener('timelineregionexit', onShakaEvent);\n            DashPlayer.removeEventListener('trackschanged', onShakaEvent);\n            DashPlayer.removeEventListener('unloading', onShakaEvent);\n            DashPlayer.destroy();\n            DashPlayer = null;\n        }\n        CurrentStreamType = PlayerMedia.UNKNOWN;\n    }\n\n    /**\n     * Used for clear video/mp4\n     */\n    function load(url, type, poster, subs, autoplay) {\n        var track = null;\n        var source = document.createElement('source');\n        source.type = type;\n        source.src = url;\n        video.preload = true;\n        video.controls = false;\n        video.autoplay = autoplay;\n        video.appendChild(source);\n        if (poster !== null && poster !== undefined && poster !== '') {\n            video.setAttribute('poster', poster);\n        }\n        CurrentStreamType = StreamTypes.MP4_CLEAR;\n        // set thumbs\n        if (thumbsTrackUrl !== null && thumbsTrackUrl !== undefined) {\n            track = document.createElement('track');\n            track.kind = 'metadata';\n            track.src = thumbsTrackUrl;\n            logger.log(' Appending source thumbs to video', track);\n            video.appendChild(track);\n        } else {\n            logger.warn(' Thumbs was not found .');\n        }\n        // set subs\n        SetManuallysubs(subs, video);\n        // Setting Callbacks\n        video.addEventListener('loadedmetadata', onStreamInitialized, false);\n        video.addEventListener('play', onPlayStart, false);\n        video.addEventListener('pause', onPlaybackPaused, false);\n        video.addEventListener('ended', onPlaybackEnded, false);\n        video.addEventListener('timeupdate', onPlayTimeUpdate, false);\n        video.addEventListener('seeked', onSeeked, false);\n        video.addEventListener('seeking', onSeeking, false);\n        video.addEventListener('error', onError, false);\n\n        logger.info(' Clear MP4 stream is loaded @ ', url);\n    };\n\n    /**\n     * Used for loading mpeg Dash\n     */\n    function loadDash(url, poster, subs, videoCaption, autoplay, drm) {\n        var track = null,\n            k = null;\n        if (poster !== null && poster !== undefined && poster !== '') {\n            video.setAttribute('poster', poster);\n        }\n        video.preload = true;\n        video.controls = false;\n        video.autoplay = autoplay;\n        if (DashPlayer === null) {\n            DashPlayer = new shaka.Player(video);\n        }\n\n        // Setting Callbacks\n        video.addEventListener('loadedmetadata', onStreamInitialized, false);\n        video.addEventListener('play', onPlayStart, false);\n        video.addEventListener('pause', onPlaybackPaused, false);\n        video.addEventListener('ended', onPlaybackEnded, false);\n        video.addEventListener('timeupdate', onPlayTimeUpdate, false);\n        video.addEventListener('seeked', onSeeked, false);\n        video.addEventListener('seeking', onSeeking, false);\n        video.addEventListener('error', onError, false);\n        // Setting Callbacks\n        DashPlayer.addEventListener('error', onShakaError);\n        DashPlayer.addEventListener('adaptation', onShakaEvent);\n        DashPlayer.addEventListener('buffering', onShakaEvent);\n        DashPlayer.addEventListener('emsg', onShakaEvent);\n        DashPlayer.addEventListener('expirationupdated', onShakaEvent);\n        DashPlayer.addEventListener('largegap', onShakaEvent);\n        DashPlayer.addEventListener('loading', onShakaEvent);\n        DashPlayer.addEventListener('texttrackvisibility', onShakaEvent);\n        DashPlayer.addEventListener('timelineregionadded', onShakaEvent);\n        DashPlayer.addEventListener('timelineregionenter', onShakaEvent);\n        DashPlayer.addEventListener('timelineregionexit', onShakaEvent);\n        DashPlayer.addEventListener('trackschanged', onShakaEvent);\n        DashPlayer.addEventListener('unloading', onShakaEvent);\n\n        CurrentUrl = url;\n        if (drm === undefined || drm === null) {\n            CurrentStreamType = StreamTypes.DASH_CLEAR;\n            CurrentProtection = null;\n            logger.info(' Loading CLEAR Dash @', CurrentUrl);\n        } else {\n            CurrentStreamType = StreamTypes.DASH_ENCRYPTED;\n            CurrentProtection = drm;\n            logger.info(' drm are ::: ', drm);\n            DashPlayer.configure({\n                drm: {\n                    servers: {\n                        'org.w3.clearkey': drm[Const.FJCONFIG_DRM_LICENSE_SERVER]\n                    }\n                }\n            });\n            logger.debug(' To Encrypt : using Forja System Key !.');\n            logger.info(' Loading ENCRYPTED Dash @', CurrentUrl);\n        }\n\n        DashPlayer.getNetworkingEngine().registerRequestFilter(function (type, request) {\n            // Only add headers to license requests:\n            if (type === shaka.net.NetworkingEngine.RequestType.LICENSE) {\n                // This is the specific header name and value the server wants:\n                request.headers['X-API-Key'] = 'VGhpc0lzQVRlc3QK';\n            }\n        });\n\n        DashPlayer.getNetworkingEngine().registerRequestFilter(function (type, request) {\n            // Only add headers to license requests:\n            if (type === shaka.net.NetworkingEngine.RequestType.LICENSE) {\n                // This is the specific parameter name and value the server wants:\n                // Note that all network requests can have multiple URIs (for fallback),\n                // and therefore this is an array. But there should only be one license\n                // server URI in this tutorial.\n                request.uris[0] += '?CWIP-Auth-Param=VGhpc0lzQVRlc3QK';\n            }\n        });\n\n        // set thumbs\n        if (thumbsTrackUrl !== null && thumbsTrackUrl !== undefined) {\n            track = document.createElement('track');\n            track.kind = 'metadata';\n            track.src = thumbsTrackUrl;\n            logger.log(' Appending source thumbs to video', track);\n            video.appendChild(track);\n        } else {\n            logger.debug(' Thumbs was not found .');\n        }\n        // set subs\n        SetManuallysubs(subs, video);\n\n        // Try to load a manifest.\n        // This is an asynchronous process.\n        DashPlayer.load(url).then(function () {\n            // This runs if the asynchronous load is successful.\n            logger.log('The video has now been loaded!');\n        }).catch(onShError); // onError is executed if the asynchronous load fails.\n        logger.info('  DASH stream is loaded @ ', url);\n    };\n    // ************************************************************************************\n    // PUBLIC API\n    // ************************************************************************************\n    return {\n        initialize: initialize,\n        on: on,\n        off: off,\n        StreamTypes: StreamTypes,\n        CurrentStreamType: CurrentStreamType,\n        play: play,\n        stop: stop,\n        pause: pause,\n        setTextTrack: setTextTrack,\n        isPaused: isPaused,\n        isEnded: isEnded,\n        isMuted: isMuted,\n        setMute: setMute,\n        setVolume: setVolume,\n        getVolume: getVolume,\n        setThumbsUrl: setThumbsUrl,\n        getDuration: getDuration,\n        time: time,\n        seek: seek,\n        Unload: Unload,\n        load: load,\n        loadDash: loadDash,\n        constructor: PlayerMedia\n    };\n};\nexports.default = PlayerMedia;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL3BsYXllci9QbGF5ZXJNZWRpYS5qcz9lZDc1Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbnZhciBzaGFrYSA9IHJlcXVpcmUoJ3NoYWthLXBsYXllcicpO1xuaW1wb3J0IExvZ2dlciBmcm9tICcuLi91dGlscy9Mb2dnZXInO1xuaW1wb3J0IEV2ZW50aW5nIGZyb20gJy4uL3V0aWxzL0V2ZW50aW5nJztcbmltcG9ydCAqIGFzIENvbnN0IGZyb20gJy4uL2RlZnMvY29uc3RhbnRzJztcbmltcG9ydCAqIGFzIExhbmdzIGZyb20gJy4uL2RlZnMvaXNvTGFuZ3MnO1xuXG4vLyBpbXBvcnQgKiBhcyBDb25zdCBmcm9tICcuLi9kZWZzL2NvbnN0YW50cyc7XG4vKipcbiAqIEBtb2R1bGUgUGxheWVyTWVkaWFcbiAqIEBkZXNjcmlwdGlvbiBUaGUgUGxheWVyTWVkaWEgaXMgdGhlIGh0bWwgdmlkZW8vZGFzaC9kcm0gTWVkaWEgcGxheWVyXG4gKlxuICovXG5mdW5jdGlvbiBQbGF5ZXJNZWRpYSgpIHtcbiAgICB2YXIgdmlkZW8gPSBudWxsLFxuICAgICAgICBpbml0aWFsaXplZCA9IGZhbHNlLFxuICAgICAgICBzdGFydGluZ0NvdW50ID0gMCxcbiAgICAgICAgdGh1bWJzVHJhY2tVcmwgPSBudWxsLFxuICAgICAgICB0aHVtYnNUcmFja0luZGV4ID0gLTEsXG4gICAgICAgIGdldEVuZGVkRXZlbnQgPSBmYWxzZSxcbiAgICAgICAgQ3VycmVudFVybCA9IG51bGwsXG4gICAgICAgIEN1cnJlbnRQcm90ZWN0aW9uID0gbnVsbCxcbiAgICAgICAgQ3VycmVudFN0cmVhbVR5cGUgPSBQbGF5ZXJNZWRpYS5VTktOT1dOLFxuICAgICAgICBEYXNoUGxheWVyID0gbnVsbCxcbiAgICAgICAgbG9nZ2VyID0gbmV3IExvZ2dlcih0aGlzKSxcbiAgICAgICAgZXZlbnRzID0gbmV3IEV2ZW50aW5nKCksXG4gICAgICAgIFN0cmVhbVR5cGVzID0ge1xuICAgICAgICAgICAgVU5LTk9XTjogMCxcbiAgICAgICAgICAgIE1QNF9DTEVBUjogMSxcbiAgICAgICAgICAgIERBU0hfQ0xFQVI6IDIsXG4gICAgICAgICAgICBEQVNIX0VOQ1JZUFRFRDogMyxcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICAwOiB7IG5hbWU6ICdVTktOT1dOJywgdmFsdWU6IDAsIGNvZGU6ICdVJyB9LFxuICAgICAgICAgICAgICAgIDE6IHsgbmFtZTogJ01QNF9DTEVBUicsIHZhbHVlOiAxLCBjb2RlOiAnTScgfSxcbiAgICAgICAgICAgICAgICAyOiB7IG5hbWU6ICdEQVNIX0NMRUFSJywgdmFsdWU6IDIsIGNvZGU6ICdEJyB9LFxuICAgICAgICAgICAgICAgIDM6IHsgbmFtZTogJ0RBU0hfRU5DUllQVEVEJywgdmFsdWU6IDMsIGNvZGU6ICdFJyB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0aWFsaXplKHBsYXllclVpVmlkZW8pIHtcbiAgICAgICAgLy8gSW5zdGFsbCBidWlsdC1pbiBwb2x5ZmlsbHMgdG8gcGF0Y2ggYnJvd3NlciBpbmNvbXBhdGliaWxpdGllcy5cbiAgICAgICAgc2hha2EucG9seWZpbGwuaW5zdGFsbEFsbCgpO1xuXG4gICAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiB0aGUgYnJvd3NlciBzdXBwb3J0cyB0aGUgYmFzaWMgQVBJcyBTaGFrYSBuZWVkcy5cbiAgICAgICAgaWYgKCFzaGFrYS5QbGF5ZXIuaXNCcm93c2VyU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICAgIC8vIFRoaXMgYnJvd3NlciBkb2VzIG5vdCBoYXZlIHRoZSBtaW5pbXVtIHNldCBvZiBBUElzIHdlIG5lZWQuXG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoJ0Jyb3dzZXIgbm90IHN1cHBvcnRlZCAhJyk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB2aWRlbyA9IHBsYXllclVpVmlkZW87XG4gICAgICAgIGlmICghdmlkZW8pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUGxlYXNlIGNhbGwgaW5pdGlhbGl6ZSB3aXRoIGEgdmFsaWQgUGxheWVyIFVJIGhhdmluZyBhIHZpZGVvIGh0bWwgNSBlbGVtZW50ICcpO1xuICAgICAgICB9XG4gICAgICAgIC8vRGFzaFBsYXllciA9IG5ldyBzaGFrYS5QbGF5ZXIodmlkZW8pO1xuICAgICAgICAvLyBkb25lXG4gICAgICAgIGluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgbG9nZ2VyLmRlYnVnKCcgTWVkaWEgcGxheWVyIGp1c3QgaW5pdGlhbGl6ZWQgd2l0aCBwbGF5ZXJVaVZpZGVvJyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9uKG5hbWUsIGhhbmRsZXIpIHtcbiAgICAgICAgcmV0dXJuIGV2ZW50cy5vbihuYW1lLCBoYW5kbGVyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgZnVuY3Rpb24gb2ZmKG5hbWUsIGhhbmRsZXIpIHtcbiAgICAgICAgcmV0dXJuIGV2ZW50cy5vZmYobmFtZSwgaGFuZGxlcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGxheSgpIHtcbiAgICAgICAgaWYgKGluaXRpYWxpemVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICB2aWRlby5wbGF5KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsb2dnZXIud2FybignIE5vIE1lZGlhIExvYWRlZCAsIG5vdGhpbmcgdG8gcGxheSAnKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0aW1lKCkge1xuICAgICAgICBpZiAoaW5pdGlhbGl6ZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybiB2aWRlby5jdXJyZW50VGltZTtcbiAgICAgICAgfVxuICAgICAgICBsb2dnZXIud2FybignIE5vIE1lZGlhIExvYWRlZCAhICcpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1BhdXNlZCgpIHtcbiAgICAgICAgaWYgKGluaXRpYWxpemVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm4gKHZpZGVvLnBhdXNlZCk7XG4gICAgICAgIH1cbiAgICAgICAgbG9nZ2VyLndhcm4oJyBObyBNZWRpYSBMb2FkZWQgISAnKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRW5kZWQoKSB7XG4gICAgICAgIGlmIChpbml0aWFsaXplZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuICh2aWRlby5lbmRlZCk7XG4gICAgICAgIH1cbiAgICAgICAgbG9nZ2VyLndhcm4oJyBObyBNZWRpYSBMb2FkZWQgISAnKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTXV0ZWQoKSB7XG4gICAgICAgIGlmIChpbml0aWFsaXplZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuICh2aWRlby5tdXRlZCk7XG4gICAgICAgIH1cbiAgICAgICAgbG9nZ2VyLndhcm4oJyBObyBNZWRpYSBMb2FkZWQgISAnKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldFZvbHVtZSh2b2x1bWUpIHtcbiAgICAgICAgaWYgKGluaXRpYWxpemVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICB2aWRlby52b2x1bWUgPSB2b2x1bWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsb2dnZXIud2FybignIE5vIE1lZGlhIExvYWRlZCAhICcpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldER1cmF0aW9uKCkge1xuICAgICAgICBpZiAoaW5pdGlhbGl6ZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybiB2aWRlby5kdXJhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBsb2dnZXIud2FybignIE5vIE1lZGlhIExvYWRlZCAhICcpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRWb2x1bWUoKSB7XG4gICAgICAgIGlmIChpbml0aWFsaXplZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHZpZGVvLnZvbHVtZTtcbiAgICAgICAgfVxuICAgICAgICBsb2dnZXIud2FybignIE5vIE1lZGlhIExvYWRlZCAhICcpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBzZXRUaHVtYnNVcmwodXJsKSB7XG4gICAgICAgIGlmICh1cmwgIT09IG51bGwgJiYgdXJsICE9PSB1bmRlZmluZWQgJiYgdXJsICE9PSAnJykge1xuICAgICAgICAgICAgdGh1bWJzVHJhY2tVcmwgPSB1cmw7XG4gICAgICAgICAgICBsb2dnZXIuZGVidWcoJyBTZXR0aW5nIHVybCBmb3IgdGh1bWJzIEAnLCB1cmwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGh1bWJzVHJhY2tVcmwgPSBudWxsO1xuICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKCcgTm8gU2V0dGluZyB1cmwgZm9yIHRodW1icyAnKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBzZXRUZXh0VHJhY2sodGV4dFRyYWNrSW5kZXgpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gcGFyc2VJbnQodGV4dFRyYWNrSW5kZXgpO1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIGxvZ2dlci53YXJuKFwiIFNldHRpbmcgdGV4dCB0cmFjayB0byBpbmRleCA6IFwiLCBpbmRleCk7XG4gICAgICAgIGlmIChpbml0aWFsaXplZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHZpZGVvLnRleHRUcmFja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoKHZpZGVvLnRleHRUcmFja3NbaV0ua2luZCA9PT0gJ2NhcHRpb25zJykgfHxcbiAgICAgICAgICAgICAgICAgICAgKHZpZGVvLnRleHRUcmFja3NbaV0ua2luZCA9PT0gJ3N1YnRpdGxlcycpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PT0gaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW8udGV4dFRyYWNrc1tpXS5tb2RlID0gJ3Nob3dpbmcnO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW8udGV4dFRyYWNrc1tpXS5tb2RlID0gJ2hpZGRlbic7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRNdXRlKG11dGUpIHtcbiAgICAgICAgaWYgKGluaXRpYWxpemVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICB2aWRlby5tdXRlZCA9IG11dGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsb2dnZXIud2FybignIE5vIE1lZGlhIExvYWRlZCAhICcpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgICAgICBpZiAoaW5pdGlhbGl6ZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHZpZGVvLnBhdXNlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsb2dnZXIud2FybignIE5vIE1lZGlhIExvYWRlZCAsIG5vdGhpbmcgdG8gcGF1c2UgJyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2Vlayhwb3NpdGlvbikge1xuICAgICAgICBpZiAoaW5pdGlhbGl6ZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHZpZGVvLmN1cnJlbnRUaW1lID0gcGFyc2VGbG9hdChwb3NpdGlvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsb2dnZXIud2FybignIE5vIE1lZGlhIExvYWRlZCAsIG5vdGhpbmcgdG8gc2VlayAnKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsbGJhY2tzXG4gICAgICovXG4gICAgZnVuY3Rpb24gb25TaGFrYUVycm9yKGUpIHtcbiAgICAgICAgb25TaEVycm9yKGUuZGV0YWlsKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gb25TaGFrYUV2ZW50KGUpIHtcbiAgICAgICAgbG9nZ2VyLndhcm4oJ0V2ZW50aW5nICBbJywgZXZlbnQudHlwZSwgJ106JywgZXZlbnQpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBvblNoRXJyb3IoZXJyb3IpIHtcbiAgICAgICAgLy8gTG9nIHRoZSBlcnJvci5cbiAgICAgICAgbG9nZ2VyLmVycm9yKCdFcnJvciBjb2RlJywgZXJyb3IuY29kZSwgJ29iamVjdCcsIGVycm9yKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gb25QbGF5U3RhcnQoZSkge1xuICAgICAgICBzdGFydGluZ0NvdW50Kys7XG4gICAgICAgIGV2ZW50cy5maXJlRXZlbnQoQ29uc3QuUGxheWVyRXZlbnRzLlBMQVlCQUNLX1NUQVJURUQsIHN0YXJ0aW5nQ291bnQpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBvblBsYXliYWNrUGF1c2VkKGUpIHtcbiAgICAgICAgZXZlbnRzLmZpcmVFdmVudChDb25zdC5QbGF5ZXJFdmVudHMuUExBWUJBQ0tfUEFVU0VEKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gb25QbGF5YmFja0VuZGVkKGUpIHtcbiAgICAgICAgZ2V0RW5kZWRFdmVudCA9IHRydWU7XG4gICAgICAgIGV2ZW50cy5maXJlRXZlbnQoQ29uc3QuUGxheWVyRXZlbnRzLlBMQVlCQUNLX0VOREVEKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gb25QbGF5VGltZVVwZGF0ZShlKSB7XG4gICAgICAgIHZhciB0aW1lID0gMDtcbiAgICAgICAgaWYgKGluaXRpYWxpemVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0aW1lID0gdmlkZW8uY3VycmVudFRpbWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsb2dnZXIud2FybignIEludGVybmFsIGVycm9yICEnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBldmVudHMuZmlyZUV2ZW50KENvbnN0LlBsYXllckV2ZW50cy5QTEFZQkFDS19USU1FX1VQREFURSwgdGltZSk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIG9uU2Vla2VkKGUpIHtcbiAgICAgICAgZXZlbnRzLmZpcmVFdmVudChDb25zdC5QbGF5ZXJFdmVudHMuUExBWUJBQ0tfU0VFS0VEKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gb25TZWVraW5nKGUpIHtcbiAgICAgICAgZXZlbnRzLmZpcmVFdmVudChDb25zdC5QbGF5ZXJFdmVudHMuUExBWUJBQ0tfU0VFS0lORyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25FcnJvcihlKSB7XG4gICAgICAgIHZhciBtc2cgPSBlLmV2ZW50Lm1lc3NhZ2U7XG4gICAgICAgIGlmIChlLmV2ZW50Lm1lc3NhZ2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbXNnID0gZS5ldmVudDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXJncyA9IHtcbiAgICAgICAgICAgICd0eXBlJzogZS50eXBlLFxuICAgICAgICAgICAgJ2NvZGUnOiBlLmVycm9yLFxuICAgICAgICAgICAgJ21lc3NhZ2UnOiBtc2dvblN0cmVhbUluaXRpYWxpemVkXG4gICAgICAgIH07XG4gICAgICAgIGxvZ2dlci5lcnJvcignPj4+Pj4+Pj4+Pj4+Pj4+IEVSUk9SICEhOicsIGUpO1xuICAgICAgICBldmVudHMuZmlyZUV2ZW50KENvbnN0LlBsYXllckV2ZW50cy5QTEFZQkFDS19FUlJPUiwgYXJncyk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIG9uU3RyZWFtSW5pdGlhbGl6ZWQoKSB7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgdmFyIGF2YWlsYWJsZVRyYWNrcyA9IG51bGw7XG4gICAgICAgIC8vIHZpZGVvIHRyYWNrc1xuICAgICAgICB0aHVtYnNUcmFja0luZGV4ID0gLTE7XG4gICAgICAgIGlmICh0aHVtYnNUcmFja1VybCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHZpZGVvLnRleHRUcmFja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAodmlkZW8udGV4dFRyYWNrc1tpXS5raW5kID09PSAnbWV0YWRhdGEnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRodW1ic1RyYWNrSW5kZXggPSBpO1xuICAgICAgICAgICAgICAgICAgICB2aWRlby50ZXh0VHJhY2tzW2ldLm1vZGUgPSAnaGlkZGVuJzsgLy8gdGhhbmtzIEZpcmVmb3hcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLndhcm4oJ2ZpbmQgIG1ldGFkYXRhIHR1bWJzICBAICcsIHRodW1ic1RyYWNrSW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAnLycsIHZpZGVvLnRleHRUcmFja3MubGVuZ3RoLCAnID4+PiBhbmQgdmlkZW8gZHVyYXRpb24gOzs7ICcsIGdldER1cmF0aW9uKCkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoKHZpZGVvLnRleHRUcmFja3NbaV0ua2luZCA9PT0gJ2NhcHRpb25zJykgfHxcbiAgICAgICAgICAgICAgICAgICAgKHZpZGVvLnRleHRUcmFja3NbaV0ua2luZCA9PT0gJ3N1YnRpdGxlcycpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFN1YnNUcmFja0luZGV4ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLndhcm4oJ2ZpbmQgIHNvdXN0aXRyZXMgIEAgJywgdGh1bWJzVHJhY2tJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICcvJywgdmlkZW8udGV4dFRyYWNrcy5sZW5ndGgsICcgPj4+ICcsIHZpZGVvLnRleHRUcmFja3NbaV0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsb2dnZXIuaW5mbygnIHN0cmVhbSBpcyBjb21wbGV0bHkgbG9hZGVkICAnKTtcbiAgICAgICAgaWYgKCh0aHVtYnNUcmFja0luZGV4ICE9PSAtMSkgJiYgKHRodW1ic1RyYWNrVXJsICE9PSAtMSkpIHtcbiAgICAgICAgICAgIGV2ZW50cy5maXJlRXZlbnQoQ29uc3QuUGxheWVyRXZlbnRzLlNUUkVBTV9MT0FERUQsIHRodW1ic1RyYWNrSW5kZXgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZXZlbnRzLmZpcmVFdmVudChDb25zdC5QbGF5ZXJFdmVudHMuU1RSRUFNX0xPQURFRCwgbnVsbCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gU2V0TWFudWFsbHlzdWJzKHN1YnMsIHZpZGVvKSB7XG4gICAgICAgIHZhciB0cmFjayA9IG51bGwsXG4gICAgICAgICAgICBpdGVtID0gbnVsbCxcbiAgICAgICAgICAgIHRtcCA9IG51bGwsXG4gICAgICAgICAgICBsYWJlbCA9IG51bGwsXG4gICAgICAgICAgICBpID0gMCxcbiAgICAgICAgICAgIG4gPSAwO1xuICAgICAgICAvLyBzZXQgc3Vic1xuICAgICAgICBpZiAoc3VicyAhPT0gbnVsbCAmJiBzdWJzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBzdWJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaXRlbSA9IHN1YnNbaV07XG4gICAgICAgICAgICAgICAgdHJhY2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cmFjaycpO1xuICAgICAgICAgICAgICAgIHRyYWNrLmtpbmQgPSAnc3VidGl0bGVzJztcbiAgICAgICAgICAgICAgICB0cmFjay5zcmMgPSBpdGVtW0NvbnN0LkZKQ09ORklHX1NSQ107XG4gICAgICAgICAgICAgICAgdHJhY2suc3JjbGFuZyA9IGl0ZW1bQ29uc3QuRkpDT05GSUdfTEFOR107XG4gICAgICAgICAgICAgICAgdG1wID0gTGFuZ3MuaXNvTGFuZ3NbaXRlbVtDb25zdC5GSkNPTkZJR19MQU5HXV07XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmxvZygnIEFwcGVuZGluZyB0cmFjayBzdWJzdGl0bGVzIHdpdGggTGFiZWwnLCB0bXAubmFtZSk7XG4gICAgICAgICAgICAgICAgbiA9IHRtcC5uYW1lLmluZGV4T2YoXCIsXCIpO1xuICAgICAgICAgICAgICAgIGlmIChuID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBuID0gdG1wLm5hbWUuaW5kZXhPZihcIjtcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChuID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBsYWJlbCA9IHRtcC5uYW1lO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsID0gdG1wLm5hbWUuc3Vic3RyKDAsIG4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0cmFjay5sYWJlbCA9IGxhYmVsO1xuICAgICAgICAgICAgICAgIHZpZGVvLmFwcGVuZENoaWxkKHRyYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxvZ2dlci5kZWJ1Zygnbm8gdnR0IFN1YnMgYXJlIGZvdW5kIGluIGNvbmZpZy4nKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBkb2VzVGltZU1hcmNoZXNPbigpIHtcbiAgICAgICAgdmFyIHZlcnNpb247XG4gICAgICAgIHZhciBSRVFVSVJFRF9WRVJTSU9OID0gNDkuMDtcblxuICAgICAgICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGlmICghbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvRmlyZWZveC8pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZlcnNpb24gPSBwYXJzZUZsb2F0KG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL3J2OihbMC05Ll0rKS8pWzFdKTtcblxuICAgICAgICAgICAgaWYgKCFpc05hTih2ZXJzaW9uKSAmJiB2ZXJzaW9uID49IFJFUVVJUkVEX1ZFUlNJT04pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXNlZCB0byBDbGVhbiBsb2FkZWQgZGF0YSB2aWRlb1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFVubG9hZCgpIHtcbiAgICAgICAgdmFyIGVsID0gdmlkZW87XG4gICAgICAgIHZhciBlbENsb25lID0gbnVsbDtcbiAgICAgICAgaWYgKGluaXRpYWxpemVkICE9PSB0cnVlKSB7XG4gICAgICAgICAgICBsb2dnZXIud2Fybignbm90IHlldCBpbml0aWFsaXplZCAhJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVtb3ZlIGFsbCB2aWRlbyBjaGlsZFxuICAgICAgICBlbENsb25lID0gZWwuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgICBlbC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChlbENsb25lLCBlbCk7XG4gICAgICAgIHZpZGVvID0gZWxDbG9uZTtcblxuICAgICAgICAvLyBoaWRlIHRoZSBvdmVybGF5ICwgZW1wdHkgdGhlIGRpdlxuICAgICAgICB3aGlsZSAodmlkZW8uaGFzQ2hpbGROb2RlcygpKSB7XG4gICAgICAgICAgICB2aWRlby5yZW1vdmVDaGlsZCh2aWRlby5maXJzdENoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB1bnNldCBhdHRyXG4gICAgICAgIHZpZGVvLnJlbW92ZUF0dHJpYnV0ZSgncG9zdGVyJyk7XG5cbiAgICAgICAgaWYgKEN1cnJlbnRTdHJlYW1UeXBlID09PSBTdHJlYW1UeXBlcy5NUDRfQ0xFQVIpIHtcbiAgICAgICAgICAgIHZpZGVvLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWRlZG1ldGFkYXRhJywgb25TdHJlYW1Jbml0aWFsaXplZCk7XG4gICAgICAgICAgICB2aWRlby5yZW1vdmVFdmVudExpc3RlbmVyKCdwbGF5Jywgb25QbGF5U3RhcnQpO1xuICAgICAgICAgICAgdmlkZW8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigncGF1c2UnLCBvblBsYXliYWNrUGF1c2VkKTtcbiAgICAgICAgICAgIHZpZGVvLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgb25QbGF5YmFja0VuZGVkKTtcbiAgICAgICAgICAgIHZpZGVvLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RpbWV1cGRhdGUnLCBvblBsYXlUaW1lVXBkYXRlKTtcbiAgICAgICAgICAgIHZpZGVvLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NlZWtpbmcnLCBvblNlZWtpbmcpO1xuICAgICAgICAgICAgdmlkZW8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Vla2VkJywgb25TZWVrZWQpO1xuICAgICAgICAgICAgdmlkZW8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBvbkVycm9yKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFVuc2V0dGluZyBDYWxsYmFja3NcbiAgICAgICAgICAgIERhc2hQbGF5ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBvblNoYWthRXJyb3IpO1xuICAgICAgICAgICAgRGFzaFBsYXllci5yZW1vdmVFdmVudExpc3RlbmVyKCdhZGFwdGF0aW9uJywgb25TaGFrYUV2ZW50KTtcbiAgICAgICAgICAgIERhc2hQbGF5ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignYnVmZmVyaW5nJywgb25TaGFrYUV2ZW50KTtcbiAgICAgICAgICAgIERhc2hQbGF5ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW1zZycsIG9uU2hha2FFdmVudCk7XG4gICAgICAgICAgICBEYXNoUGxheWVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2V4cGlyYXRpb251cGRhdGVkJywgb25TaGFrYUV2ZW50KTtcbiAgICAgICAgICAgIERhc2hQbGF5ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignbGFyZ2VnYXAnLCBvblNoYWthRXZlbnQpO1xuICAgICAgICAgICAgRGFzaFBsYXllci5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkaW5nJywgb25TaGFrYUV2ZW50KTtcbiAgICAgICAgICAgIERhc2hQbGF5ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcigndGV4dHRyYWNrdmlzaWJpbGl0eScsIG9uU2hha2FFdmVudCk7XG4gICAgICAgICAgICBEYXNoUGxheWVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RpbWVsaW5lcmVnaW9uYWRkZWQnLCBvblNoYWthRXZlbnQpO1xuICAgICAgICAgICAgRGFzaFBsYXllci5yZW1vdmVFdmVudExpc3RlbmVyKCd0aW1lbGluZXJlZ2lvbmVudGVyJywgb25TaGFrYUV2ZW50KTtcbiAgICAgICAgICAgIERhc2hQbGF5ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcigndGltZWxpbmVyZWdpb25leGl0Jywgb25TaGFrYUV2ZW50KTtcbiAgICAgICAgICAgIERhc2hQbGF5ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcigndHJhY2tzY2hhbmdlZCcsIG9uU2hha2FFdmVudCk7XG4gICAgICAgICAgICBEYXNoUGxheWVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3VubG9hZGluZycsIG9uU2hha2FFdmVudCk7XG4gICAgICAgICAgICBEYXNoUGxheWVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIERhc2hQbGF5ZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIEN1cnJlbnRTdHJlYW1UeXBlID0gUGxheWVyTWVkaWEuVU5LTk9XTjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGZvciBjbGVhciB2aWRlby9tcDRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsb2FkKHVybCwgdHlwZSwgcG9zdGVyLCBzdWJzLCBhdXRvcGxheSkge1xuICAgICAgICB2YXIgdHJhY2sgPSBudWxsO1xuICAgICAgICB2YXIgc291cmNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc291cmNlJyk7XG4gICAgICAgIHNvdXJjZS50eXBlID0gdHlwZTtcbiAgICAgICAgc291cmNlLnNyYyA9IHVybDtcbiAgICAgICAgdmlkZW8ucHJlbG9hZCA9IHRydWU7XG4gICAgICAgIHZpZGVvLmNvbnRyb2xzID0gZmFsc2U7XG4gICAgICAgIHZpZGVvLmF1dG9wbGF5ID0gYXV0b3BsYXk7XG4gICAgICAgIHZpZGVvLmFwcGVuZENoaWxkKHNvdXJjZSk7XG4gICAgICAgIGlmIChwb3N0ZXIgIT09IG51bGwgJiYgcG9zdGVyICE9PSB1bmRlZmluZWQgJiYgcG9zdGVyICE9PSAnJykge1xuICAgICAgICAgICAgdmlkZW8uc2V0QXR0cmlidXRlKCdwb3N0ZXInLCBwb3N0ZXIpO1xuICAgICAgICB9XG4gICAgICAgIEN1cnJlbnRTdHJlYW1UeXBlID0gU3RyZWFtVHlwZXMuTVA0X0NMRUFSO1xuICAgICAgICAvLyBzZXQgdGh1bWJzXG4gICAgICAgIGlmICh0aHVtYnNUcmFja1VybCAhPT0gbnVsbCAmJiB0aHVtYnNUcmFja1VybCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0cmFjayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyYWNrJyk7XG4gICAgICAgICAgICB0cmFjay5raW5kID0gJ21ldGFkYXRhJztcbiAgICAgICAgICAgIHRyYWNrLnNyYyA9IHRodW1ic1RyYWNrVXJsO1xuICAgICAgICAgICAgbG9nZ2VyLmxvZygnIEFwcGVuZGluZyBzb3VyY2UgdGh1bWJzIHRvIHZpZGVvJywgdHJhY2spO1xuICAgICAgICAgICAgdmlkZW8uYXBwZW5kQ2hpbGQodHJhY2spO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbG9nZ2VyLndhcm4oJyBUaHVtYnMgd2FzIG5vdCBmb3VuZCAuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2V0IHN1YnNcbiAgICAgICAgU2V0TWFudWFsbHlzdWJzKHN1YnMsIHZpZGVvKTtcbiAgICAgICAgLy8gU2V0dGluZyBDYWxsYmFja3NcbiAgICAgICAgdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcignbG9hZGVkbWV0YWRhdGEnLCBvblN0cmVhbUluaXRpYWxpemVkLCBmYWxzZSk7XG4gICAgICAgIHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ3BsYXknLCBvblBsYXlTdGFydCwgZmFsc2UpO1xuICAgICAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKCdwYXVzZScsIG9uUGxheWJhY2tQYXVzZWQsIGZhbHNlKTtcbiAgICAgICAgdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBvblBsYXliYWNrRW5kZWQsIGZhbHNlKTtcbiAgICAgICAgdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcigndGltZXVwZGF0ZScsIG9uUGxheVRpbWVVcGRhdGUsIGZhbHNlKTtcbiAgICAgICAgdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcignc2Vla2VkJywgb25TZWVrZWQsIGZhbHNlKTtcbiAgICAgICAgdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcignc2Vla2luZycsIG9uU2Vla2luZywgZmFsc2UpO1xuICAgICAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIG9uRXJyb3IsIGZhbHNlKTtcblxuICAgICAgICBsb2dnZXIuaW5mbygnIENsZWFyIE1QNCBzdHJlYW0gaXMgbG9hZGVkIEAgJywgdXJsKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXNlZCBmb3IgbG9hZGluZyBtcGVnIERhc2hcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsb2FkRGFzaCh1cmwsIHBvc3Rlciwgc3VicywgdmlkZW9DYXB0aW9uLCBhdXRvcGxheSwgZHJtKSB7XG4gICAgICAgIHZhciB0cmFjayA9IG51bGwsXG4gICAgICAgICAgICBrID0gbnVsbDtcbiAgICAgICAgaWYgKHBvc3RlciAhPT0gbnVsbCAmJiBwb3N0ZXIgIT09IHVuZGVmaW5lZCAmJiBwb3N0ZXIgIT09ICcnKSB7XG4gICAgICAgICAgICB2aWRlby5zZXRBdHRyaWJ1dGUoJ3Bvc3RlcicsIHBvc3Rlcik7XG4gICAgICAgIH1cbiAgICAgICAgdmlkZW8ucHJlbG9hZCA9IHRydWU7XG4gICAgICAgIHZpZGVvLmNvbnRyb2xzID0gZmFsc2U7XG4gICAgICAgIHZpZGVvLmF1dG9wbGF5ID0gYXV0b3BsYXk7XG4gICAgICAgIGlmIChEYXNoUGxheWVyID09PSBudWxsKSB7XG4gICAgICAgICAgICBEYXNoUGxheWVyID0gbmV3IHNoYWthLlBsYXllcih2aWRlbyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXR0aW5nIENhbGxiYWNrc1xuICAgICAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKCdsb2FkZWRtZXRhZGF0YScsIG9uU3RyZWFtSW5pdGlhbGl6ZWQsIGZhbHNlKTtcbiAgICAgICAgdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcigncGxheScsIG9uUGxheVN0YXJ0LCBmYWxzZSk7XG4gICAgICAgIHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ3BhdXNlJywgb25QbGF5YmFja1BhdXNlZCwgZmFsc2UpO1xuICAgICAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsIG9uUGxheWJhY2tFbmRlZCwgZmFsc2UpO1xuICAgICAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKCd0aW1ldXBkYXRlJywgb25QbGF5VGltZVVwZGF0ZSwgZmFsc2UpO1xuICAgICAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKCdzZWVrZWQnLCBvblNlZWtlZCwgZmFsc2UpO1xuICAgICAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKCdzZWVraW5nJywgb25TZWVraW5nLCBmYWxzZSk7XG4gICAgICAgIHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgb25FcnJvciwgZmFsc2UpO1xuICAgICAgICAvLyBTZXR0aW5nIENhbGxiYWNrc1xuICAgICAgICBEYXNoUGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgb25TaGFrYUVycm9yKTtcbiAgICAgICAgRGFzaFBsYXllci5hZGRFdmVudExpc3RlbmVyKCdhZGFwdGF0aW9uJywgb25TaGFrYUV2ZW50KTtcbiAgICAgICAgRGFzaFBsYXllci5hZGRFdmVudExpc3RlbmVyKCdidWZmZXJpbmcnLCBvblNoYWthRXZlbnQpO1xuICAgICAgICBEYXNoUGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoJ2Vtc2cnLCBvblNoYWthRXZlbnQpO1xuICAgICAgICBEYXNoUGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoJ2V4cGlyYXRpb251cGRhdGVkJywgb25TaGFrYUV2ZW50KTtcbiAgICAgICAgRGFzaFBsYXllci5hZGRFdmVudExpc3RlbmVyKCdsYXJnZWdhcCcsIG9uU2hha2FFdmVudCk7XG4gICAgICAgIERhc2hQbGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZGluZycsIG9uU2hha2FFdmVudCk7XG4gICAgICAgIERhc2hQbGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcigndGV4dHRyYWNrdmlzaWJpbGl0eScsIG9uU2hha2FFdmVudCk7XG4gICAgICAgIERhc2hQbGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcigndGltZWxpbmVyZWdpb25hZGRlZCcsIG9uU2hha2FFdmVudCk7XG4gICAgICAgIERhc2hQbGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcigndGltZWxpbmVyZWdpb25lbnRlcicsIG9uU2hha2FFdmVudCk7XG4gICAgICAgIERhc2hQbGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcigndGltZWxpbmVyZWdpb25leGl0Jywgb25TaGFrYUV2ZW50KTtcbiAgICAgICAgRGFzaFBsYXllci5hZGRFdmVudExpc3RlbmVyKCd0cmFja3NjaGFuZ2VkJywgb25TaGFrYUV2ZW50KTtcbiAgICAgICAgRGFzaFBsYXllci5hZGRFdmVudExpc3RlbmVyKCd1bmxvYWRpbmcnLCBvblNoYWthRXZlbnQpO1xuXG4gICAgICAgIEN1cnJlbnRVcmwgPSB1cmw7XG4gICAgICAgIGlmICgoZHJtID09PSB1bmRlZmluZWQpIHx8IChkcm0gPT09IG51bGwpKSB7XG4gICAgICAgICAgICBDdXJyZW50U3RyZWFtVHlwZSA9IFN0cmVhbVR5cGVzLkRBU0hfQ0xFQVI7XG4gICAgICAgICAgICBDdXJyZW50UHJvdGVjdGlvbiA9IG51bGw7XG4gICAgICAgICAgICBsb2dnZXIuaW5mbygnIExvYWRpbmcgQ0xFQVIgRGFzaCBAJywgQ3VycmVudFVybCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBDdXJyZW50U3RyZWFtVHlwZSA9IFN0cmVhbVR5cGVzLkRBU0hfRU5DUllQVEVEO1xuICAgICAgICAgICAgQ3VycmVudFByb3RlY3Rpb24gPSBkcm07XG4gICAgICAgICAgICBsb2dnZXIuaW5mbygnIGRybSBhcmUgOjo6ICcsIGRybSk7XG4gICAgICAgICAgICBEYXNoUGxheWVyLmNvbmZpZ3VyZSh7XG4gICAgICAgICAgICAgICAgZHJtOiB7XG4gICAgICAgICAgICAgICAgICAgIHNlcnZlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdvcmcudzMuY2xlYXJrZXknOiBkcm1bQ29uc3QuRkpDT05GSUdfRFJNX0xJQ0VOU0VfU0VSVkVSXVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBsb2dnZXIuZGVidWcoJyBUbyBFbmNyeXB0IDogdXNpbmcgRm9yamEgU3lzdGVtIEtleSAhLicpO1xuICAgICAgICAgICAgbG9nZ2VyLmluZm8oJyBMb2FkaW5nIEVOQ1JZUFRFRCBEYXNoIEAnLCBDdXJyZW50VXJsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIERhc2hQbGF5ZXIuZ2V0TmV0d29ya2luZ0VuZ2luZSgpLnJlZ2lzdGVyUmVxdWVzdEZpbHRlcihmdW5jdGlvbih0eXBlLCByZXF1ZXN0KSB7XG4gICAgICAgICAgICAvLyBPbmx5IGFkZCBoZWFkZXJzIHRvIGxpY2Vuc2UgcmVxdWVzdHM6XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gc2hha2EubmV0Lk5ldHdvcmtpbmdFbmdpbmUuUmVxdWVzdFR5cGUuTElDRU5TRSkge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIHNwZWNpZmljIGhlYWRlciBuYW1lIGFuZCB2YWx1ZSB0aGUgc2VydmVyIHdhbnRzOlxuICAgICAgICAgICAgICAgIHJlcXVlc3QuaGVhZGVyc1snWC1BUEktS2V5J10gPSAnVkdocGMwbHpRVlJsYzNRSyc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIERhc2hQbGF5ZXIuZ2V0TmV0d29ya2luZ0VuZ2luZSgpLnJlZ2lzdGVyUmVxdWVzdEZpbHRlcihmdW5jdGlvbih0eXBlLCByZXF1ZXN0KSB7XG4gICAgICAgICAgICAvLyBPbmx5IGFkZCBoZWFkZXJzIHRvIGxpY2Vuc2UgcmVxdWVzdHM6XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gc2hha2EubmV0Lk5ldHdvcmtpbmdFbmdpbmUuUmVxdWVzdFR5cGUuTElDRU5TRSkge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIHNwZWNpZmljIHBhcmFtZXRlciBuYW1lIGFuZCB2YWx1ZSB0aGUgc2VydmVyIHdhbnRzOlxuICAgICAgICAgICAgICAgIC8vIE5vdGUgdGhhdCBhbGwgbmV0d29yayByZXF1ZXN0cyBjYW4gaGF2ZSBtdWx0aXBsZSBVUklzIChmb3IgZmFsbGJhY2spLFxuICAgICAgICAgICAgICAgIC8vIGFuZCB0aGVyZWZvcmUgdGhpcyBpcyBhbiBhcnJheS4gQnV0IHRoZXJlIHNob3VsZCBvbmx5IGJlIG9uZSBsaWNlbnNlXG4gICAgICAgICAgICAgICAgLy8gc2VydmVyIFVSSSBpbiB0aGlzIHR1dG9yaWFsLlxuICAgICAgICAgICAgICAgIHJlcXVlc3QudXJpc1swXSArPSAnP0NXSVAtQXV0aC1QYXJhbT1WR2hwYzBselFWUmxjM1FLJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gc2V0IHRodW1ic1xuICAgICAgICBpZiAodGh1bWJzVHJhY2tVcmwgIT09IG51bGwgJiYgdGh1bWJzVHJhY2tVcmwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdHJhY2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cmFjaycpO1xuICAgICAgICAgICAgdHJhY2sua2luZCA9ICdtZXRhZGF0YSc7XG4gICAgICAgICAgICB0cmFjay5zcmMgPSB0aHVtYnNUcmFja1VybDtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coJyBBcHBlbmRpbmcgc291cmNlIHRodW1icyB0byB2aWRlbycsIHRyYWNrKTtcbiAgICAgICAgICAgIHZpZGVvLmFwcGVuZENoaWxkKHRyYWNrKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZygnIFRodW1icyB3YXMgbm90IGZvdW5kIC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzZXQgc3Vic1xuICAgICAgICBTZXRNYW51YWxseXN1YnMoc3VicywgdmlkZW8pO1xuXG4gICAgICAgIC8vIFRyeSB0byBsb2FkIGEgbWFuaWZlc3QuXG4gICAgICAgIC8vIFRoaXMgaXMgYW4gYXN5bmNocm9ub3VzIHByb2Nlc3MuXG4gICAgICAgIERhc2hQbGF5ZXIubG9hZCh1cmwpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyBUaGlzIHJ1bnMgaWYgdGhlIGFzeW5jaHJvbm91cyBsb2FkIGlzIHN1Y2Nlc3NmdWwuXG4gICAgICAgICAgICBsb2dnZXIubG9nKCdUaGUgdmlkZW8gaGFzIG5vdyBiZWVuIGxvYWRlZCEnKTtcbiAgICAgICAgfSkuY2F0Y2gob25TaEVycm9yKTsgLy8gb25FcnJvciBpcyBleGVjdXRlZCBpZiB0aGUgYXN5bmNocm9ub3VzIGxvYWQgZmFpbHMuXG4gICAgICAgIGxvZ2dlci5pbmZvKCcgIERBU0ggc3RyZWFtIGlzIGxvYWRlZCBAICcsIHVybCk7XG4gICAgfTtcbiAgICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICAvLyBQVUJMSUMgQVBJXG4gICAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW5pdGlhbGl6ZTogaW5pdGlhbGl6ZSxcbiAgICAgICAgb246IG9uLFxuICAgICAgICBvZmY6IG9mZixcbiAgICAgICAgU3RyZWFtVHlwZXM6IFN0cmVhbVR5cGVzLFxuICAgICAgICBDdXJyZW50U3RyZWFtVHlwZTogQ3VycmVudFN0cmVhbVR5cGUsXG4gICAgICAgIHBsYXk6IHBsYXksXG4gICAgICAgIHN0b3A6IHN0b3AsXG4gICAgICAgIHBhdXNlOiBwYXVzZSxcbiAgICAgICAgc2V0VGV4dFRyYWNrOiBzZXRUZXh0VHJhY2ssXG4gICAgICAgIGlzUGF1c2VkOiBpc1BhdXNlZCxcbiAgICAgICAgaXNFbmRlZDogaXNFbmRlZCxcbiAgICAgICAgaXNNdXRlZDogaXNNdXRlZCxcbiAgICAgICAgc2V0TXV0ZTogc2V0TXV0ZSxcbiAgICAgICAgc2V0Vm9sdW1lOiBzZXRWb2x1bWUsXG4gICAgICAgIGdldFZvbHVtZTogZ2V0Vm9sdW1lLFxuICAgICAgICBzZXRUaHVtYnNVcmw6IHNldFRodW1ic1VybCxcbiAgICAgICAgZ2V0RHVyYXRpb246IGdldER1cmF0aW9uLFxuICAgICAgICB0aW1lOiB0aW1lLFxuICAgICAgICBzZWVrOiBzZWVrLFxuICAgICAgICBVbmxvYWQ6IFVubG9hZCxcbiAgICAgICAgbG9hZDogbG9hZCxcbiAgICAgICAgbG9hZERhc2g6IGxvYWREYXNoLFxuICAgICAgICBjb25zdHJ1Y3RvcjogUGxheWVyTWVkaWFcbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IFBsYXllck1lZGlhO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvanMvcGxheWVyL1BsYXllck1lZGlhLmpzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOzs7OztBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQURBO0FBQ0E7Ozs7O0FBTEE7QUFDQTtBQUNBO0FBSUE7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFMQTtBQVlBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFEQTtBQURBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXZCQTtBQXlCQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 12 */
/* unknown exports provided */
/* all exports used */
/*!*********************************!*\
  !*** ./src/js/ui/AdsManager.js ***!
  \*********************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _Logger = __webpack_require__(/*! ../utils/Logger */ 0);\n\nvar _Logger2 = _interopRequireDefault(_Logger);\n\nvar _constants = __webpack_require__(/*! ../defs/constants */ 1);\n\nvar Const = _interopRequireWildcard(_constants);\n\nvar _Utils = __webpack_require__(/*! ../utils/Utils */ 4);\n\nvar Utils = _interopRequireWildcard(_Utils);\n\nvar _Eventing = __webpack_require__(/*! ../utils/Eventing */ 3);\n\nvar _Eventing2 = _interopRequireDefault(_Eventing);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @module AdsManager\n * @description The AdsManager is the class whinch will manage Ads\n *  on a video.\n *  Ads will be played on a another video html overlaying current video\n */\n\nfunction AdsManager() {\n    var logger = new _Logger2.default(this),\n        settled = false,\n        events = new _Eventing2.default(),\n        mainVideoWidth = 0,\n        mainVideoHeight = 0,\n        midAds = [],\n        postAds = [],\n        preAds = [],\n        localAds = null,\n        AdsContainerdiv = null;\n    /**\n     * Function used to stop Ads\n     * @param {*} index index of ads in his arry\n     * @param {*} adsType type of ads to look into type array\n     */\n    function StopAds(index, adsType) {\n        var el = AdsContainerdiv;\n        var elClone = null;\n        var item = midAds[index];\n        if (settled !== true) {\n            logger.warn(' AdsMgr is not yet settled !');\n            return;\n        }\n        if (adsType === Const.AdsEnum.ADS_PRE_ROLL) {\n            item = preAds[index];\n        } else if (adsType === Const.AdsEnum.ADS_MID_ROLL) {\n            item = midAds[index];\n        } else {\n            item = postAds[index];\n        }\n        logger.info(index, 'stopping  Ads ', item[Const.FJCONFIG_URL], ' @@ ', item[Const.FJCONFIG_SHOW_AT]);\n        // remove the click event\n        el = AdsContainerdiv;\n        elClone = el.cloneNode(true);\n        el.parentNode.replaceChild(elClone, el);\n        AdsContainerdiv = elClone;\n        // hide the overlay , empty the div\n        while (AdsContainerdiv.hasChildNodes()) {\n            AdsContainerdiv.removeChild(AdsContainerdiv.firstChild);\n        }\n        AdsContainerdiv.innerHTML = '';\n        AdsContainerdiv.style.display = 'none';\n        events.fireEvent(Const.AdsEvents.ADS_PLAYBACK_ENDED, adsType);\n    }\n\n    function StartAds(index, adsType) {\n        var done = false;\n        var infoDiv = document.createElement('div');\n        var infoDiv2 = document.createElement('span');\n        var adsvideo = document.createElement('video');\n        var source = document.createElement('source');\n        var item = midAds[index];\n        if (settled !== true) {\n            logger.warn(' AdsMgr is not yet cettled !');\n            return;\n        }\n        if (adsType === Const.AdsEnum.ADS_PRE_ROLL) {\n            item = preAds[index];\n            logger.info(index, 'starting PRE Ads ', preAds);\n            logger.info(index, 'starting PRE Ads ', item[Const.FJCONFIG_SRC]);\n        } else if (adsType === Const.AdsEnum.ADS_MID_ROLL) {\n            item = midAds[index];\n            logger.info(index, 'starting MId Ads ', item[Const.FJCONFIG_SRC], ' @@ ', item[Const.FJCONFIG_SHOW_AT]);\n        } else {\n            item = postAds[index];\n            logger.info(index, 'starting POST Ads ', item[Const.FJCONFIG_SRC]);\n        }\n        item.started = true;\n        // pause current video and play ads\n        events.fireEvent(Const.AdsEvents.ADS_PLAYBACK_STARTED, adsType);\n        // fill ads container\n        adsvideo.preload = true;\n        adsvideo.controls = false;\n        adsvideo.autoplay = false;\n        // setting W/H !\n        adsvideo.setAttribute('width', mainVideoWidth);\n        adsvideo.setAttribute('height', mainVideoHeight);\n        logger.warn(' ads video width/height is ', mainVideoWidth, mainVideoHeight);\n        infoDiv.innerHTML = '<span style=\\\"color: rgb(119, 255, 119); font-size: 0.95em;\\\">Annonce</span>' + ' This an Ads for <span style=\\\"color: rgb(255, 255, 0)\\\">' + item[Const.FJCONFIG_URL] + '</span>';\n        AdsContainerdiv.style.cursor = 'pointer';\n        logger.log(' Can escape this starting Ads ', item[Const.FJCONFIG_CAN_ESCAPE]);\n        infoDiv.style.display = 'block';\n        infoDiv.classList.add('over-DL');\n        source.src = item[Const.FJCONFIG_SRC];\n        source.type = item[Const.FJCONFIG_TYPE];\n        adsvideo.appendChild(source);\n        AdsContainerdiv.appendChild(adsvideo);\n        infoDiv.appendChild(infoDiv2);\n        AdsContainerdiv.appendChild(infoDiv);\n        AdsContainerdiv.style.display = 'block';\n        adsvideo.play();\n        // events managing\n        adsvideo.addEventListener('timeupdate', function (e) {\n            if (item[Const.FJCONFIG_CAN_ESCAPE] === 'true' || item[Const.FJCONFIG_CAN_ESCAPE] === true) {\n                if (adsvideo.currentTime > 5) {\n                    if (!done) {\n                        infoDiv2.innerHTML = ', Can be escapped <span class=\"fj-icon-playNext\" ></span>';\n                        infoDiv2.addEventListener('click', function () {\n                            StopAds(index, adsType);\n                        });\n                        done = true;\n                    }\n                } else {\n                    infoDiv2.innerHTML = ', Can be escapped in ' + Math.round(5 - adsvideo.currentTime) + ' secondes .';\n                }\n            } else {\n                infoDiv2.innerHTML = ', it ends after ' + Utils.duration(Math.round(adsvideo.duration - adsvideo.currentTime)) + ' .';\n            }\n        });\n        adsvideo.addEventListener('click', function () {\n            item.clicked++;\n            events.fireEvent(Const.AdsEvents.ADS_USER_CLICKED);\n            window.open(item[Const.FJCONFIG_URL], '_blank');\n        });\n        adsvideo.addEventListener('ended', function (e) {\n            StopAds(index, adsType);\n        });\n    }\n    /**\n     * Function to be called from event 'timeupdate' from video\n     * called to check if ads has to be played\n     */\n    function CheckMidAds(secondes) {\n        var i = 0;\n        var item = null;\n        var show = 0;\n        if (settled !== true) {\n            return;\n        }\n        for (i = 0; i < midAds.length; i++) {\n            item = midAds[i];\n            show = parseInt(item[Const.FJCONFIG_SHOW_AT], 10);\n            if (secondes === show) {\n                logger.info(i, ' starting Ads Now .. ');\n                if (midAds[i].started === false) {\n                    logger.info(i, ' starting a new  Mid Ads .. ');\n                    midAds[i].started = true;\n                    StartAds(i, Const.AdsEnum.ADS_MID_ROLL);\n                } else {\n                    logger.info(i, ' already started ', item[Const.FJCONFIG_URL], ' @@ ', item[Const.FJCONFIG_SHOW_AT]);\n                }\n            }\n        }\n    }\n\n    /**\n     * Function to be called just before starting video\n     * called to check if ads has to be played\n     */\n    function CheckPreAds() {\n        var i = 0;\n        var item = null;\n        logger.info(' Checking Pre Ads Now .. ');\n        if (settled !== true) {\n            logger.warn('not yet Settled !');\n            return false;\n        }\n        for (i = 0; i < preAds.length; i++) {\n            item = preAds[i];\n            logger.info(i, ' starting Pre Ads Now .. ');\n            if (preAds[i].started === false) {\n                logger.info(i, ' starting a new Pre Ads .. @', i);\n                preAds[i].started = true;\n                StartAds(i, Const.AdsEnum.ADS_PRE_ROLL);\n                return true;\n            }\n            logger.info(i, 'Pre already started ', item[Const.FJCONFIG_URL], ' @@ ', item[Const.FJCONFIG_SHOW_AT]);\n        }\n        return false;\n    }\n\n    /**\n     * Function to be called just before starting video\n     * called to check if ads has to be played\n     */\n    function CheckPostAds() {\n        var i = 0;\n        var item = null;\n        logger.info(' Checking Post Ads Now .. ');\n        if (settled !== true) {\n            logger.warn(' AdsMgr is not yet settled !');\n            return false;\n        }\n        for (i = 0; i < postAds.length; i++) {\n            item = postAds[i];\n            logger.info(i, ' starting Pre Ads Now .. ');\n            if (postAds[i].started === false) {\n                logger.info(i, ' starting a new Post Ads .. ');\n                postAds[i].started = true;\n                StartAds(i, Const.AdsEnum.ADS_POST_ROLL);\n                return true;\n            }\n            logger.info(i, 'Post already started ', item[Const.FJCONFIG_URL], ' @@ ', item[Const.FJCONFIG_SHOW_AT]);\n        }\n        return false;\n    }\n\n    function initialize(AdsContainer) {\n        AdsContainerdiv = AdsContainer;\n    }\n\n    function Setup(ads, videoWidth, videoHeight) {\n        var i = 0;\n        var sz;\n        var item;\n        var clas;\n        if (ads === null | ads === undefined) {\n            settled = false;\n            return;\n        }\n        localAds = ads;\n        mainVideoWidth = videoWidth;\n        mainVideoHeight = videoHeight;\n        for (i = 0; i < localAds.length; i++) {\n            item = localAds[i];\n            clas = item[Const.FJCONFIG_CLASS];\n            if (clas === Const.FJCONFIG_ADS_CLASS_PRE_ROLL) {\n                logger.debug(' found a pre ads !');\n                sz = preAds.push(item);\n                preAds[sz - 1].started = false;\n                preAds[sz - 1].clicked = 0;\n            } else if (clas === Const.FJCONFIG_ADS_CLASS_POST_ROLL) {\n                logger.debug(' found a post ads !');\n                sz = postAds.push(item);\n                postAds[sz - 1].started = false;\n                postAds[sz - 1].clicked = 0;\n            } else {\n                logger.debug(' found a mid ads !');\n                sz = midAds.push(item);\n                midAds[sz - 1].started = false;\n                midAds[sz - 1].clicked = 0;\n            }\n        }\n        settled = true;\n        logger.info('Ads Setup is settled ', settled);\n        logger.warn('Checking PRE ROLL Ads .. ', preAds.length);\n        logger.warn('Checking MID ROLL Ads .. ', midAds.length);\n        logger.warn('Checking POST ROLL Ads .. ', postAds.length);\n    }\n    /**\n     *\n     */\n    function on(name, handler) {\n        return events.on(name, handler);\n    }\n    /**\n     *\n     */\n    function off(name, handler) {\n        return events.off(name, handler);\n    }\n    // ************************************************************************************\n    // PUBLIC API\n    // ************************************************************************************\n    return {\n        CheckMidAds: CheckMidAds,\n        CheckPreAds: CheckPreAds,\n        CheckPostAds: CheckPostAds,\n        Setup: Setup,\n        on: on,\n        off: off,\n        initialize: initialize,\n        constructor: AdsManager\n    };\n}\nexports.default = AdsManager;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL3VpL0Fkc01hbmFnZXIuanM/MzM3MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTG9nZ2VyIGZyb20gJy4uL3V0aWxzL0xvZ2dlcic7XG5pbXBvcnQgKiBhcyBDb25zdCBmcm9tICcuLi9kZWZzL2NvbnN0YW50cyc7XG5pbXBvcnQgKiBhcyBVdGlscyBmcm9tICcuLi91dGlscy9VdGlscyc7XG5pbXBvcnQgRXZlbnRpbmcgZnJvbSAnLi4vdXRpbHMvRXZlbnRpbmcnO1xuLyoqXG4gKiBAbW9kdWxlIEFkc01hbmFnZXJcbiAqIEBkZXNjcmlwdGlvbiBUaGUgQWRzTWFuYWdlciBpcyB0aGUgY2xhc3Mgd2hpbmNoIHdpbGwgbWFuYWdlIEFkc1xuICogIG9uIGEgdmlkZW8uXG4gKiAgQWRzIHdpbGwgYmUgcGxheWVkIG9uIGEgYW5vdGhlciB2aWRlbyBodG1sIG92ZXJsYXlpbmcgY3VycmVudCB2aWRlb1xuICovXG5cbmZ1bmN0aW9uIEFkc01hbmFnZXIoKSB7XG4gICAgdmFyIGxvZ2dlciA9IG5ldyBMb2dnZXIodGhpcyksXG4gICAgICAgIHNldHRsZWQgPSBmYWxzZSxcbiAgICAgICAgZXZlbnRzID0gbmV3IEV2ZW50aW5nKCksXG4gICAgICAgIG1haW5WaWRlb1dpZHRoID0gMCxcbiAgICAgICAgbWFpblZpZGVvSGVpZ2h0ID0gMCxcbiAgICAgICAgbWlkQWRzID0gW10sXG4gICAgICAgIHBvc3RBZHMgPSBbXSxcbiAgICAgICAgcHJlQWRzID0gW10sXG4gICAgICAgIGxvY2FsQWRzID0gbnVsbCxcbiAgICAgICAgQWRzQ29udGFpbmVyZGl2ID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiB1c2VkIHRvIHN0b3AgQWRzXG4gICAgICogQHBhcmFtIHsqfSBpbmRleCBpbmRleCBvZiBhZHMgaW4gaGlzIGFycnlcbiAgICAgKiBAcGFyYW0geyp9IGFkc1R5cGUgdHlwZSBvZiBhZHMgdG8gbG9vayBpbnRvIHR5cGUgYXJyYXlcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTdG9wQWRzKGluZGV4LCBhZHNUeXBlKSB7XG4gICAgICAgIHZhciBlbCA9IEFkc0NvbnRhaW5lcmRpdjtcbiAgICAgICAgdmFyIGVsQ2xvbmUgPSBudWxsO1xuICAgICAgICB2YXIgaXRlbSA9IG1pZEFkc1tpbmRleF07XG4gICAgICAgIGlmIChzZXR0bGVkICE9PSB0cnVlKSB7XG4gICAgICAgICAgICBsb2dnZXIud2FybignIEFkc01nciBpcyBub3QgeWV0IHNldHRsZWQgIScpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhZHNUeXBlID09PSBDb25zdC5BZHNFbnVtLkFEU19QUkVfUk9MTCkge1xuICAgICAgICAgICAgaXRlbSA9IHByZUFkc1tpbmRleF07XG4gICAgICAgIH0gZWxzZSBpZiAoYWRzVHlwZSA9PT0gQ29uc3QuQWRzRW51bS5BRFNfTUlEX1JPTEwpIHtcbiAgICAgICAgICAgIGl0ZW0gPSBtaWRBZHNbaW5kZXhdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaXRlbSA9IHBvc3RBZHNbaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIGxvZ2dlci5pbmZvKGluZGV4LCAnc3RvcHBpbmcgIEFkcyAnLCBpdGVtW0NvbnN0LkZKQ09ORklHX1VSTF0sXG4gICAgICAgICAgICAnIEBAICcsIGl0ZW1bQ29uc3QuRkpDT05GSUdfU0hPV19BVF0pO1xuICAgICAgICAvLyByZW1vdmUgdGhlIGNsaWNrIGV2ZW50XG4gICAgICAgIGVsID0gQWRzQ29udGFpbmVyZGl2O1xuICAgICAgICBlbENsb25lID0gZWwuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgICBlbC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChlbENsb25lLCBlbCk7XG4gICAgICAgIEFkc0NvbnRhaW5lcmRpdiA9IGVsQ2xvbmU7XG4gICAgICAgIC8vIGhpZGUgdGhlIG92ZXJsYXkgLCBlbXB0eSB0aGUgZGl2XG4gICAgICAgIHdoaWxlIChBZHNDb250YWluZXJkaXYuaGFzQ2hpbGROb2RlcygpKSB7XG4gICAgICAgICAgICBBZHNDb250YWluZXJkaXYucmVtb3ZlQ2hpbGQoQWRzQ29udGFpbmVyZGl2LmZpcnN0Q2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIEFkc0NvbnRhaW5lcmRpdi5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgQWRzQ29udGFpbmVyZGl2LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIGV2ZW50cy5maXJlRXZlbnQoQ29uc3QuQWRzRXZlbnRzLkFEU19QTEFZQkFDS19FTkRFRCwgYWRzVHlwZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gU3RhcnRBZHMoaW5kZXgsIGFkc1R5cGUpIHtcbiAgICAgICAgdmFyIGRvbmUgPSBmYWxzZTtcbiAgICAgICAgdmFyIGluZm9EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdmFyIGluZm9EaXYyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICB2YXIgYWRzdmlkZW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpO1xuICAgICAgICB2YXIgc291cmNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc291cmNlJyk7XG4gICAgICAgIHZhciBpdGVtID0gbWlkQWRzW2luZGV4XTtcbiAgICAgICAgaWYgKHNldHRsZWQgIT09IHRydWUpIHtcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKCcgQWRzTWdyIGlzIG5vdCB5ZXQgY2V0dGxlZCAhJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFkc1R5cGUgPT09IENvbnN0LkFkc0VudW0uQURTX1BSRV9ST0xMKSB7XG4gICAgICAgICAgICBpdGVtID0gcHJlQWRzW2luZGV4XTtcbiAgICAgICAgICAgIGxvZ2dlci5pbmZvKGluZGV4LCAnc3RhcnRpbmcgUFJFIEFkcyAnLCBwcmVBZHMpO1xuICAgICAgICAgICAgbG9nZ2VyLmluZm8oaW5kZXgsICdzdGFydGluZyBQUkUgQWRzICcsIGl0ZW1bQ29uc3QuRkpDT05GSUdfU1JDXSk7XG4gICAgICAgIH0gZWxzZSBpZiAoYWRzVHlwZSA9PT0gQ29uc3QuQWRzRW51bS5BRFNfTUlEX1JPTEwpIHtcbiAgICAgICAgICAgIGl0ZW0gPSBtaWRBZHNbaW5kZXhdO1xuICAgICAgICAgICAgbG9nZ2VyLmluZm8oaW5kZXgsICdzdGFydGluZyBNSWQgQWRzICcsIGl0ZW1bQ29uc3QuRkpDT05GSUdfU1JDXSxcbiAgICAgICAgICAgICAgICAnIEBAICcsIGl0ZW1bQ29uc3QuRkpDT05GSUdfU0hPV19BVF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaXRlbSA9IHBvc3RBZHNbaW5kZXhdO1xuICAgICAgICAgICAgbG9nZ2VyLmluZm8oaW5kZXgsICdzdGFydGluZyBQT1NUIEFkcyAnLCBpdGVtW0NvbnN0LkZKQ09ORklHX1NSQ10pO1xuICAgICAgICB9XG4gICAgICAgIGl0ZW0uc3RhcnRlZCA9IHRydWU7XG4gICAgICAgIC8vIHBhdXNlIGN1cnJlbnQgdmlkZW8gYW5kIHBsYXkgYWRzXG4gICAgICAgIGV2ZW50cy5maXJlRXZlbnQoQ29uc3QuQWRzRXZlbnRzLkFEU19QTEFZQkFDS19TVEFSVEVELCBhZHNUeXBlKTtcbiAgICAgICAgLy8gZmlsbCBhZHMgY29udGFpbmVyXG4gICAgICAgIGFkc3ZpZGVvLnByZWxvYWQgPSB0cnVlO1xuICAgICAgICBhZHN2aWRlby5jb250cm9scyA9IGZhbHNlO1xuICAgICAgICBhZHN2aWRlby5hdXRvcGxheSA9IGZhbHNlO1xuICAgICAgICAvLyBzZXR0aW5nIFcvSCAhXG4gICAgICAgIGFkc3ZpZGVvLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCBtYWluVmlkZW9XaWR0aCk7XG4gICAgICAgIGFkc3ZpZGVvLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgbWFpblZpZGVvSGVpZ2h0KTtcbiAgICAgICAgbG9nZ2VyLndhcm4oJyBhZHMgdmlkZW8gd2lkdGgvaGVpZ2h0IGlzICcsIG1haW5WaWRlb1dpZHRoLCBtYWluVmlkZW9IZWlnaHQpO1xuICAgICAgICBpbmZvRGl2LmlubmVySFRNTCA9ICc8c3BhbiBzdHlsZT1cXFwiY29sb3I6IHJnYigxMTksIDI1NSwgMTE5KTsgZm9udC1zaXplOiAwLjk1ZW07XFxcIj5Bbm5vbmNlPC9zcGFuPicgK1xuICAgICAgICAgICAgJyBUaGlzIGFuIEFkcyBmb3IgPHNwYW4gc3R5bGU9XFxcImNvbG9yOiByZ2IoMjU1LCAyNTUsIDApXFxcIj4nICtcbiAgICAgICAgICAgIGl0ZW1bQ29uc3QuRkpDT05GSUdfVVJMXSArICc8L3NwYW4+JztcbiAgICAgICAgQWRzQ29udGFpbmVyZGl2LnN0eWxlLmN1cnNvciA9ICdwb2ludGVyJztcbiAgICAgICAgbG9nZ2VyLmxvZygnIENhbiBlc2NhcGUgdGhpcyBzdGFydGluZyBBZHMgJywgaXRlbVtDb25zdC5GSkNPTkZJR19DQU5fRVNDQVBFXSk7XG4gICAgICAgIGluZm9EaXYuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIGluZm9EaXYuY2xhc3NMaXN0LmFkZCgnb3Zlci1ETCcpO1xuICAgICAgICBzb3VyY2Uuc3JjID0gaXRlbVtDb25zdC5GSkNPTkZJR19TUkNdO1xuICAgICAgICBzb3VyY2UudHlwZSA9IGl0ZW1bQ29uc3QuRkpDT05GSUdfVFlQRV07XG4gICAgICAgIGFkc3ZpZGVvLmFwcGVuZENoaWxkKHNvdXJjZSk7XG4gICAgICAgIEFkc0NvbnRhaW5lcmRpdi5hcHBlbmRDaGlsZChhZHN2aWRlbyk7XG4gICAgICAgIGluZm9EaXYuYXBwZW5kQ2hpbGQoaW5mb0RpdjIpO1xuICAgICAgICBBZHNDb250YWluZXJkaXYuYXBwZW5kQ2hpbGQoaW5mb0Rpdik7XG4gICAgICAgIEFkc0NvbnRhaW5lcmRpdi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgYWRzdmlkZW8ucGxheSgpO1xuICAgICAgICAvLyBldmVudHMgbWFuYWdpbmdcbiAgICAgICAgYWRzdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcigndGltZXVwZGF0ZScsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGlmIChpdGVtW0NvbnN0LkZKQ09ORklHX0NBTl9FU0NBUEVdID09PSAndHJ1ZScgfHwgaXRlbVtDb25zdC5GSkNPTkZJR19DQU5fRVNDQVBFXSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChhZHN2aWRlby5jdXJyZW50VGltZSA+IDUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkb25lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmZvRGl2Mi5pbm5lckhUTUwgPSAnLCBDYW4gYmUgZXNjYXBwZWQgPHNwYW4gY2xhc3M9XCJmai1pY29uLXBsYXlOZXh0XCIgPjwvc3Bhbj4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5mb0RpdjIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdG9wQWRzKGluZGV4LCBhZHNUeXBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpbmZvRGl2Mi5pbm5lckhUTUwgPSAnLCBDYW4gYmUgZXNjYXBwZWQgaW4gJyArIE1hdGgucm91bmQoNSAtIGFkc3ZpZGVvLmN1cnJlbnRUaW1lKSArICcgc2Vjb25kZXMgLic7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbmZvRGl2Mi5pbm5lckhUTUwgPSAnLCBpdCBlbmRzIGFmdGVyICcgK1xuICAgICAgICAgICAgICAgICAgICBVdGlscy5kdXJhdGlvbihNYXRoLnJvdW5kKGFkc3ZpZGVvLmR1cmF0aW9uIC0gYWRzdmlkZW8uY3VycmVudFRpbWUpKSArICcgLic7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBhZHN2aWRlby5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaXRlbS5jbGlja2VkKys7XG4gICAgICAgICAgICBldmVudHMuZmlyZUV2ZW50KENvbnN0LkFkc0V2ZW50cy5BRFNfVVNFUl9DTElDS0VEKTtcbiAgICAgICAgICAgIHdpbmRvdy5vcGVuKGl0ZW1bQ29uc3QuRkpDT05GSUdfVVJMXSwgJ19ibGFuaycpO1xuICAgICAgICB9KTtcbiAgICAgICAgYWRzdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBTdG9wQWRzKGluZGV4LCBhZHNUeXBlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBmcm9tIGV2ZW50ICd0aW1ldXBkYXRlJyBmcm9tIHZpZGVvXG4gICAgICogY2FsbGVkIHRvIGNoZWNrIGlmIGFkcyBoYXMgdG8gYmUgcGxheWVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ2hlY2tNaWRBZHMoc2Vjb25kZXMpIHtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB2YXIgaXRlbSA9IG51bGw7XG4gICAgICAgIHZhciBzaG93ID0gMDtcbiAgICAgICAgaWYgKHNldHRsZWQgIT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbWlkQWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpdGVtID0gbWlkQWRzW2ldO1xuICAgICAgICAgICAgc2hvdyA9IHBhcnNlSW50KGl0ZW1bQ29uc3QuRkpDT05GSUdfU0hPV19BVF0sIDEwKTtcbiAgICAgICAgICAgIGlmIChzZWNvbmRlcyA9PT0gc2hvdykge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5pbmZvKGksICcgc3RhcnRpbmcgQWRzIE5vdyAuLiAnKTtcbiAgICAgICAgICAgICAgICBpZiAobWlkQWRzW2ldLnN0YXJ0ZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlci5pbmZvKGksICcgc3RhcnRpbmcgYSBuZXcgIE1pZCBBZHMgLi4gJyk7XG4gICAgICAgICAgICAgICAgICAgIG1pZEFkc1tpXS5zdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgU3RhcnRBZHMoaSwgQ29uc3QuQWRzRW51bS5BRFNfTUlEX1JPTEwpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlci5pbmZvKGksICcgYWxyZWFkeSBzdGFydGVkICcsIGl0ZW1bQ29uc3QuRkpDT05GSUdfVVJMXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICcgQEAgJywgaXRlbVtDb25zdC5GSkNPTkZJR19TSE9XX0FUXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdG8gYmUgY2FsbGVkIGp1c3QgYmVmb3JlIHN0YXJ0aW5nIHZpZGVvXG4gICAgICogY2FsbGVkIHRvIGNoZWNrIGlmIGFkcyBoYXMgdG8gYmUgcGxheWVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ2hlY2tQcmVBZHMoKSB7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgdmFyIGl0ZW0gPSBudWxsO1xuICAgICAgICBsb2dnZXIuaW5mbygnIENoZWNraW5nIFByZSBBZHMgTm93IC4uICcpO1xuICAgICAgICBpZiAoc2V0dGxlZCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgbG9nZ2VyLndhcm4oJ25vdCB5ZXQgU2V0dGxlZCAhJyk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHByZUFkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaXRlbSA9IHByZUFkc1tpXTtcbiAgICAgICAgICAgIGxvZ2dlci5pbmZvKGksICcgc3RhcnRpbmcgUHJlIEFkcyBOb3cgLi4gJyk7XG4gICAgICAgICAgICBpZiAocHJlQWRzW2ldLnN0YXJ0ZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmluZm8oaSwgJyBzdGFydGluZyBhIG5ldyBQcmUgQWRzIC4uIEAnLCBpKTtcbiAgICAgICAgICAgICAgICBwcmVBZHNbaV0uc3RhcnRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgU3RhcnRBZHMoaSwgQ29uc3QuQWRzRW51bS5BRFNfUFJFX1JPTEwpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbG9nZ2VyLmluZm8oaSwgJ1ByZSBhbHJlYWR5IHN0YXJ0ZWQgJywgaXRlbVtDb25zdC5GSkNPTkZJR19VUkxdLFxuICAgICAgICAgICAgICAgICcgQEAgJywgaXRlbVtDb25zdC5GSkNPTkZJR19TSE9XX0FUXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBqdXN0IGJlZm9yZSBzdGFydGluZyB2aWRlb1xuICAgICAqIGNhbGxlZCB0byBjaGVjayBpZiBhZHMgaGFzIHRvIGJlIHBsYXllZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENoZWNrUG9zdEFkcygpIHtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB2YXIgaXRlbSA9IG51bGw7XG4gICAgICAgIGxvZ2dlci5pbmZvKCcgQ2hlY2tpbmcgUG9zdCBBZHMgTm93IC4uICcpO1xuICAgICAgICBpZiAoc2V0dGxlZCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgbG9nZ2VyLndhcm4oJyBBZHNNZ3IgaXMgbm90IHlldCBzZXR0bGVkICEnKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcG9zdEFkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaXRlbSA9IHBvc3RBZHNbaV07XG4gICAgICAgICAgICBsb2dnZXIuaW5mbyhpLCAnIHN0YXJ0aW5nIFByZSBBZHMgTm93IC4uICcpO1xuICAgICAgICAgICAgaWYgKHBvc3RBZHNbaV0uc3RhcnRlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIuaW5mbyhpLCAnIHN0YXJ0aW5nIGEgbmV3IFBvc3QgQWRzIC4uICcpO1xuICAgICAgICAgICAgICAgIHBvc3RBZHNbaV0uc3RhcnRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgU3RhcnRBZHMoaSwgQ29uc3QuQWRzRW51bS5BRFNfUE9TVF9ST0xMKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvZ2dlci5pbmZvKGksICdQb3N0IGFscmVhZHkgc3RhcnRlZCAnLCBpdGVtW0NvbnN0LkZKQ09ORklHX1VSTF0sXG4gICAgICAgICAgICAgICAgJyBAQCAnLCBpdGVtW0NvbnN0LkZKQ09ORklHX1NIT1dfQVRdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5pdGlhbGl6ZShBZHNDb250YWluZXIpIHtcbiAgICAgICAgQWRzQ29udGFpbmVyZGl2ID0gQWRzQ29udGFpbmVyO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIFNldHVwKGFkcywgdmlkZW9XaWR0aCwgdmlkZW9IZWlnaHQpIHtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB2YXIgc3o7XG4gICAgICAgIHZhciBpdGVtO1xuICAgICAgICB2YXIgY2xhcztcbiAgICAgICAgaWYgKGFkcyA9PT0gbnVsbCB8IGFkcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzZXR0bGVkID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbG9jYWxBZHMgPSBhZHM7XG4gICAgICAgIG1haW5WaWRlb1dpZHRoID0gdmlkZW9XaWR0aDtcbiAgICAgICAgbWFpblZpZGVvSGVpZ2h0ID0gdmlkZW9IZWlnaHQ7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBsb2NhbEFkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaXRlbSA9IGxvY2FsQWRzW2ldO1xuICAgICAgICAgICAgY2xhcyA9IGl0ZW1bQ29uc3QuRkpDT05GSUdfQ0xBU1NdO1xuICAgICAgICAgICAgaWYgKGNsYXMgPT09IENvbnN0LkZKQ09ORklHX0FEU19DTEFTU19QUkVfUk9MTCkge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZygnIGZvdW5kIGEgcHJlIGFkcyAhJyk7XG4gICAgICAgICAgICAgICAgc3ogPSBwcmVBZHMucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICBwcmVBZHNbc3ogLSAxXS5zdGFydGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcHJlQWRzW3N6IC0gMV0uY2xpY2tlZCA9IDA7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNsYXMgPT09IENvbnN0LkZKQ09ORklHX0FEU19DTEFTU19QT1NUX1JPTEwpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoJyBmb3VuZCBhIHBvc3QgYWRzICEnKTtcbiAgICAgICAgICAgICAgICBzeiA9IHBvc3RBZHMucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICBwb3N0QWRzW3N6IC0gMV0uc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHBvc3RBZHNbc3ogLSAxXS5jbGlja2VkID0gMDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKCcgZm91bmQgYSBtaWQgYWRzICEnKTtcbiAgICAgICAgICAgICAgICBzeiA9IG1pZEFkcy5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgIG1pZEFkc1tzeiAtIDFdLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBtaWRBZHNbc3ogLSAxXS5jbGlja2VkID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzZXR0bGVkID0gdHJ1ZTtcbiAgICAgICAgbG9nZ2VyLmluZm8oJ0FkcyBTZXR1cCBpcyBzZXR0bGVkICcsIHNldHRsZWQpO1xuICAgICAgICBsb2dnZXIud2FybignQ2hlY2tpbmcgUFJFIFJPTEwgQWRzIC4uICcsIHByZUFkcy5sZW5ndGgpO1xuICAgICAgICBsb2dnZXIud2FybignQ2hlY2tpbmcgTUlEIFJPTEwgQWRzIC4uICcsIG1pZEFkcy5sZW5ndGgpO1xuICAgICAgICBsb2dnZXIud2FybignQ2hlY2tpbmcgUE9TVCBST0xMIEFkcyAuLiAnLCBwb3N0QWRzLmxlbmd0aCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgZnVuY3Rpb24gb24obmFtZSwgaGFuZGxlcikge1xuICAgICAgICByZXR1cm4gZXZlbnRzLm9uKG5hbWUsIGhhbmRsZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9mZihuYW1lLCBoYW5kbGVyKSB7XG4gICAgICAgIHJldHVybiBldmVudHMub2ZmKG5hbWUsIGhhbmRsZXIpO1xuICAgIH1cbiAgICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICAvLyBQVUJMSUMgQVBJXG4gICAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgcmV0dXJuIHtcbiAgICAgICAgQ2hlY2tNaWRBZHM6IENoZWNrTWlkQWRzLFxuICAgICAgICBDaGVja1ByZUFkczogQ2hlY2tQcmVBZHMsXG4gICAgICAgIENoZWNrUG9zdEFkczogQ2hlY2tQb3N0QWRzLFxuICAgICAgICBTZXR1cDogU2V0dXAsXG4gICAgICAgIG9uOiBvbixcbiAgICAgICAgb2ZmOiBvZmYsXG4gICAgICAgIGluaXRpYWxpemU6IGluaXRpYWxpemUsXG4gICAgICAgIGNvbnN0cnVjdG9yOiBBZHNNYW5hZ2VyXG4gICAgfTtcbn1cbmV4cG9ydCBkZWZhdWx0IEFkc01hbmFnZXI7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9qcy91aS9BZHNNYW5hZ2VyLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTs7Ozs7OztBQUFBOzs7Ozs7O0FBT0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVVBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVJBO0FBVUE7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 13 */
/* unknown exports provided */
/* all exports used */
/*!****************************!*\
  !*** ./src/js/ui/Menus.js ***!
  \****************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _Logger = __webpack_require__(/*! ../utils/Logger */ 0);\n\nvar _Logger2 = _interopRequireDefault(_Logger);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n__webpack_require__(/*! ../../css/player.less */ 2);\n/**\n *  Class player in whinch the player is implemented\n */\nfunction Menus(mainVideo, subsBtnId, audiosBtnId, MenusContDivId) {\n    var logger = new _Logger2.default(this),\n        video = mainVideo,\n        mediaPlayer = null,\n        subtitlesBtnId = subsBtnId,\n        audsBtnId = audiosBtnId,\n        subsMenuListId = 'smml' + subtitlesBtnId,\n        audsMenuListId = 'amml' + audiosBtnId,\n        MenusContainerDivId = MenusContDivId,\n        menusDiv = document.getElementById(MenusContainerDivId),\n        SubsExist = false,\n        subsMenuDiv = null,\n        subsList = null,\n        audsExist = false,\n        audsMenuDiv = null,\n        audsList = null;\n\n    /**\n     *Hide Menu Subtitles\n     */\n    function HideMenuSubs() {\n        if (SubsExist === true && subsMenuDiv.classList.contains('fj-hide') === false) {\n            subsMenuDiv.classList.add('fj-hide');\n        }\n    };\n    /**\n     * Hide Menu Audios\n     */\n    function HideMenusAuds() {\n        if (audsExist === true && audsMenuDiv.classList.contains('fj-hide') === false) {\n            audsMenuDiv.classList.add('fj-hide');\n        }\n    };\n\n    /**\n     * \n     * @param {*Funtion Callback used to activate item of list\n     */\n    function activate(item, isItSubs) {\n        var i, litem, k, list;\n        if (isItSubs === true) {\n            list = subsList;\n        } else {\n            list = audsList;\n        }\n        var index = Array.prototype.indexOf.call(list.childNodes, item);\n        var tindex = item.getAttribute('index');\n        logger.info('clicked is  selected @ index ', index, ' text index ', tindex);\n\n        if (isItSubs === true) {\n            mediaPlayer.setTextTrack(tindex);\n        }\n\n        for (i = 0; i < list.children.length; i++) {\n            litem = list.children[i];\n            k = litem.getAttribute('index');\n            if (tindex === k) {\n                if (isItSubs === false) {\n                    video.audioTracks[i].enabled = true;\n                }\n                litem.classList.remove('subtitles-menu-item');\n                litem.classList.add('subtitles-menu-item-actif');\n                logger.log('Setting item @  ', i);\n            } else {\n                if (isItSubs === false) {\n                    video.audioTracks[i].enabled = false;\n                }\n                litem.classList.remove('subtitles-menu-item-actif');\n                litem.classList.add('subtitles-menu-item');\n                logger.log('Unsetting item @  ', i);\n            }\n        }\n        if (isItSubs === true) {\n            HideMenuSubs();\n        } else {\n            HideMenusAuds();\n        }\n    };\n\n    /**\n     * Event CALLBACK ; called on menu Click\n     */\n    function onshowHideMenu(menuContainer, element, ev) {\n        var rectV = video.getBoundingClientRect();\n        var rect = element.getBoundingClientRect();\n        if (menuContainer.classList.contains('fj-hide')) {\n            logger.warn('setting left @', rect.right - ev.pageX);\n            logger.warn('setting left @', rect.left - ev.pageX);\n            menuContainer.style.left = ev.pageX - rectV.left - rect.width;\n            menuContainer.classList.remove('fj-hide');\n        } else {\n            menuContainer.classList.add('fj-hide');\n        }\n    };\n    /**\n     * Used to Hide menu\n     */\n    function HideMenus() {\n        HideMenuSubs();\n        HideMenusAuds();\n    };\n    /**\n     * \n     * @param {*} playerMedia \n     */\n    function SetupSubs(playerMedia) {\n        logger.info('Calling for setup Subs !!!');\n        var subtitlesBtn = null;\n        var i = 0;\n        var activated = false;\n        var item = null;\n        SubsExist = false;\n        mediaPlayer = playerMedia;\n        logger.info(' Trying to setup menu subs , text tracks length : ', video.textTracks);\n        // check if exist\n        if (!video.textTracks || video.textTracks.length <= 0) {\n            SubsExist = false;\n            logger.log(' Subs Menu not created !');\n            return false;\n        }\n        // check if video contains subs  exist\n        for (i = 0; i < video.textTracks.length; i++) {\n            logger.debug(' @ text track number  ', i, ' and it type is ', video.textTracks[i].kind);\n            if (video.textTracks[i].kind === 'captions' || video.textTracks[i].kind === 'subtitles') {\n                SubsExist = true;\n                break;\n            }\n        }\n        if (SubsExist === false) {\n            logger.info(' Subs Menu Not created !! ');\n            return SubsExist;\n        }\n        // Setting btn\n        subtitlesBtn = document.getElementById(subtitlesBtnId);\n        logger.info('Setting the btn ', subtitlesBtn, ' from id ', subtitlesBtnId);\n        // video array\n        subsList = document.getElementById(subsMenuListId);\n        // clear old\n        if (subsList !== null) {\n            while (subsList.firstChild) {\n                subsList.removeChild(subsList.firstChild);\n            }\n        } else {\n            subsMenuDiv = document.createElement('div');\n            subsMenuDiv.classList.add('settingMenuDiv');\n            subsMenuDiv.classList.add('fj-hide');\n            subsMenuDiv.innerHTML = '<div class=\"fj-list-title\"> Soutitres </div> ' + '<ul class=\\\"fj-list\\\"  id=\\\"' + subsMenuListId + '\\\" >' + '</ul>\t';\n            menusDiv.appendChild(subsMenuDiv);\n            // Add events for subtitles button\n            subtitlesBtn.addEventListener('click', function (ev) {\n                onshowHideMenu(subsMenuDiv, this, ev);\n            });\n            //  subs list\n            subsList = document.getElementById(subsMenuListId);\n        }\n        // loop\n        for (i = 0; i < video.textTracks.length; i++) {\n            if (video.textTracks[i].kind === 'captions' || video.textTracks[i].kind === 'subtitles') {\n                item = document.createElement('li');\n                if (video.textTracks[i].mode === 'showing') {\n                    item.classList.add('subtitles-menu-item-actif');\n                    activated = true;\n                } else {\n                    item.classList.add('subtitles-menu-item');\n                }\n                item.setAttribute('index', i);\n                item.innerHTML = video.textTracks[i].label;\n                subsList.appendChild(item);\n                item.addEventListener('click', function (ev) {\n                    activate(this, true);\n                });\n                logger.debug('Setting Subs List @ ', i, ' item is ', item);\n            }\n        }\n\n        // off item\n        item = document.createElement('li');\n        if (activated === false) {\n            item.classList.add('subtitles-menu-item-actif');\n        } else {\n            item.classList.add('subtitles-menu-item');\n        }\n        item.setAttribute('index', -1);\n        item.innerHTML = 'off';\n        subsList.appendChild(item);\n        item.addEventListener('click', function (ev) {\n            activate(this);\n        });\n        logger.log('Setting Subs List @ ', -1, ' item is ', item);\n\n        logger.log(' Subs Menu  created !! ', subsMenuDiv);\n        return SubsExist;\n    };\n\n    /**\n     * Setting Auds menu and cbx\n     */\n    function SetupAuds(playerMedia) {\n        logger.info('Calling for setup Auds !!!');\n        var audsBtn = null;\n        var i = 0;\n        var item = null;\n        audsExist = false;\n        logger.info(' Trying to setup menu Auds , text tracks length : ', video.audioTracks);\n\n        // check if exist\n        if (!video.audioTracks || video.audioTracks.length <= 1) {\n            audsExist = false;\n            logger.log(' Audio Menu not created !');\n            return false;\n        }\n        // Setting inner of btn div\n        audsBtn = document.getElementById(audsBtnId);\n        logger.info('Setting the btn ', audsBtn, ' from id ', audsBtnId);\n        // video array\n        audsList = document.getElementById(audsMenuListId);\n        // clear old\n        if (audsList !== null) {\n            while (audsList.firstChild) {\n                audsList.removeChild(audsList.firstChild);\n            }\n        } else {\n            audsMenuDiv = document.createElement('div');\n            audsMenuDiv.classList.add('settingMenuDiv');\n            audsMenuDiv.classList.add('fj-hide');\n            audsMenuDiv.innerHTML = '<div class=\"fj-list-title\"> Audios </div> ' + '<ul class=\\\"fj-list\\\"  id=\\\"' + audsMenuListId + '\\\" >' + '</ul>\t';\n            menusDiv.appendChild(audsMenuDiv);\n            // Add events for audios button\n            audsBtn.addEventListener('click', function (ev) {\n                onshowHideMenu(audsMenuDiv, this, ev);\n            });\n            //  audios list\n            audsList = document.getElementById(audsMenuListId);\n        }\n\n        for (i = 0; i < video.audioTracks.length; i++) {\n            item = document.createElement('li');\n            if (video.audioTracks[i].enabled) {\n                item.classList.add('subtitles-menu-item-actif');\n            } else {\n                item.classList.add('subtitles-menu-item');\n            }\n\n            item.setAttribute('index', i);\n            item.innerHTML = video.audioTracks[i].label;\n            audsList.appendChild(item);\n            item.addEventListener('click', function (ev) {\n                activate(this, false);\n            });\n        }\n\n        logger.debug(' Audio Menu created !', video.audioTracks.length, '! ', audsList);\n        return audsExist;\n    };\n    // ************************************************************************************\n    // PUBLIC API\n    // ************************************************************************************\n    return {\n        SetupSubs: SetupSubs,\n        SetupAuds: SetupAuds,\n        HideMenus: HideMenus,\n        constructor: Menus\n    };\n};\nexports.default = Menus;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL3VpL01lbnVzLmpzPzRlOTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IExvZ2dlciBmcm9tICcuLi91dGlscy9Mb2dnZXInO1xucmVxdWlyZSgnLi4vLi4vY3NzL3BsYXllci5sZXNzJyk7XG4vKipcbiAqICBDbGFzcyBwbGF5ZXIgaW4gd2hpbmNoIHRoZSBwbGF5ZXIgaXMgaW1wbGVtZW50ZWRcbiAqL1xuZnVuY3Rpb24gTWVudXMobWFpblZpZGVvLCBzdWJzQnRuSWQsIGF1ZGlvc0J0bklkLCBNZW51c0NvbnREaXZJZCkge1xuICAgIHZhciBsb2dnZXIgPSBuZXcgTG9nZ2VyKHRoaXMpLFxuICAgICAgICB2aWRlbyA9IG1haW5WaWRlbyxcbiAgICAgICAgbWVkaWFQbGF5ZXIgPSBudWxsLFxuICAgICAgICBzdWJ0aXRsZXNCdG5JZCA9IHN1YnNCdG5JZCxcbiAgICAgICAgYXVkc0J0bklkID0gYXVkaW9zQnRuSWQsXG4gICAgICAgIHN1YnNNZW51TGlzdElkID0gJ3NtbWwnICsgc3VidGl0bGVzQnRuSWQsXG4gICAgICAgIGF1ZHNNZW51TGlzdElkID0gJ2FtbWwnICsgYXVkaW9zQnRuSWQsXG4gICAgICAgIE1lbnVzQ29udGFpbmVyRGl2SWQgPSBNZW51c0NvbnREaXZJZCxcbiAgICAgICAgbWVudXNEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChNZW51c0NvbnRhaW5lckRpdklkKSxcbiAgICAgICAgU3Vic0V4aXN0ID0gZmFsc2UsXG4gICAgICAgIHN1YnNNZW51RGl2ID0gbnVsbCxcbiAgICAgICAgc3Vic0xpc3QgPSBudWxsLFxuICAgICAgICBhdWRzRXhpc3QgPSBmYWxzZSxcbiAgICAgICAgYXVkc01lbnVEaXYgPSBudWxsLFxuICAgICAgICBhdWRzTGlzdCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKkhpZGUgTWVudSBTdWJ0aXRsZXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBIaWRlTWVudVN1YnMoKSB7XG4gICAgICAgIGlmICgoU3Vic0V4aXN0ID09PSB0cnVlKSAmJlxuICAgICAgICAgICAgKHN1YnNNZW51RGl2LmNsYXNzTGlzdC5jb250YWlucygnZmotaGlkZScpID09PSBmYWxzZSkpIHtcbiAgICAgICAgICAgIHN1YnNNZW51RGl2LmNsYXNzTGlzdC5hZGQoJ2ZqLWhpZGUnKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSGlkZSBNZW51IEF1ZGlvc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIEhpZGVNZW51c0F1ZHMoKSB7XG4gICAgICAgIGlmICgoYXVkc0V4aXN0ID09PSB0cnVlKSAmJlxuICAgICAgICAgICAgKGF1ZHNNZW51RGl2LmNsYXNzTGlzdC5jb250YWlucygnZmotaGlkZScpID09PSBmYWxzZSkpIHtcbiAgICAgICAgICAgIGF1ZHNNZW51RGl2LmNsYXNzTGlzdC5hZGQoJ2ZqLWhpZGUnKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0geypGdW50aW9uIENhbGxiYWNrIHVzZWQgdG8gYWN0aXZhdGUgaXRlbSBvZiBsaXN0XG4gICAgICovXG4gICAgZnVuY3Rpb24gYWN0aXZhdGUoaXRlbSwgaXNJdFN1YnMpIHtcbiAgICAgICAgdmFyIGksIGxpdGVtLCBrLCBsaXN0O1xuICAgICAgICBpZiAoaXNJdFN1YnMgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGxpc3QgPSBzdWJzTGlzdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxpc3QgPSBhdWRzTGlzdDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5kZXggPSBBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGxpc3QuY2hpbGROb2RlcywgaXRlbSk7XG4gICAgICAgIHZhciB0aW5kZXggPSBpdGVtLmdldEF0dHJpYnV0ZSgnaW5kZXgnKTtcbiAgICAgICAgbG9nZ2VyLmluZm8oJ2NsaWNrZWQgaXMgIHNlbGVjdGVkIEAgaW5kZXggJywgaW5kZXgsICcgdGV4dCBpbmRleCAnLCB0aW5kZXgpO1xuXG4gICAgICAgIGlmIChpc0l0U3VicyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgbWVkaWFQbGF5ZXIuc2V0VGV4dFRyYWNrKHRpbmRleCk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGlzdC5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGl0ZW0gPSBsaXN0LmNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgayA9IGxpdGVtLmdldEF0dHJpYnV0ZSgnaW5kZXgnKTtcbiAgICAgICAgICAgIGlmICh0aW5kZXggPT09IGspIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNJdFN1YnMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZpZGVvLmF1ZGlvVHJhY2tzW2ldLmVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdzdWJ0aXRsZXMtbWVudS1pdGVtJyk7XG4gICAgICAgICAgICAgICAgbGl0ZW0uY2xhc3NMaXN0LmFkZCgnc3VidGl0bGVzLW1lbnUtaXRlbS1hY3RpZicpO1xuICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coJ1NldHRpbmcgaXRlbSBAICAnLCBpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzSXRTdWJzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICB2aWRlby5hdWRpb1RyYWNrc1tpXS5lbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3N1YnRpdGxlcy1tZW51LWl0ZW0tYWN0aWYnKTtcbiAgICAgICAgICAgICAgICBsaXRlbS5jbGFzc0xpc3QuYWRkKCdzdWJ0aXRsZXMtbWVudS1pdGVtJyk7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmxvZygnVW5zZXR0aW5nIGl0ZW0gQCAgJywgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzSXRTdWJzID09PSB0cnVlKSB7XG4gICAgICAgICAgICBIaWRlTWVudVN1YnMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIEhpZGVNZW51c0F1ZHMoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFdmVudCBDQUxMQkFDSyA7IGNhbGxlZCBvbiBtZW51IENsaWNrXG4gICAgICovXG4gICAgZnVuY3Rpb24gb25zaG93SGlkZU1lbnUobWVudUNvbnRhaW5lciwgZWxlbWVudCwgZXYpIHtcbiAgICAgICAgdmFyIHJlY3RWID0gdmlkZW8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHZhciByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgaWYgKG1lbnVDb250YWluZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdmai1oaWRlJykpIHtcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKCdzZXR0aW5nIGxlZnQgQCcsIChyZWN0LnJpZ2h0IC0gZXYucGFnZVgpKTtcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKCdzZXR0aW5nIGxlZnQgQCcsIChyZWN0LmxlZnQgLSBldi5wYWdlWCkpO1xuICAgICAgICAgICAgbWVudUNvbnRhaW5lci5zdHlsZS5sZWZ0ID0gZXYucGFnZVggLSByZWN0Vi5sZWZ0IC0gcmVjdC53aWR0aDtcbiAgICAgICAgICAgIG1lbnVDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnZmotaGlkZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbWVudUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdmai1oaWRlJyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gSGlkZSBtZW51XG4gICAgICovXG4gICAgZnVuY3Rpb24gSGlkZU1lbnVzKCkge1xuICAgICAgICBIaWRlTWVudVN1YnMoKTtcbiAgICAgICAgSGlkZU1lbnVzQXVkcygpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIHsqfSBwbGF5ZXJNZWRpYSBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTZXR1cFN1YnMocGxheWVyTWVkaWEpIHtcbiAgICAgICAgbG9nZ2VyLmluZm8oJ0NhbGxpbmcgZm9yIHNldHVwIFN1YnMgISEhJyk7XG4gICAgICAgIHZhciBzdWJ0aXRsZXNCdG4gPSBudWxsO1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHZhciBhY3RpdmF0ZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGl0ZW0gPSBudWxsO1xuICAgICAgICBTdWJzRXhpc3QgPSBmYWxzZTtcbiAgICAgICAgbWVkaWFQbGF5ZXIgPSBwbGF5ZXJNZWRpYTtcbiAgICAgICAgbG9nZ2VyLmluZm8oJyBUcnlpbmcgdG8gc2V0dXAgbWVudSBzdWJzICwgdGV4dCB0cmFja3MgbGVuZ3RoIDogJywgdmlkZW8udGV4dFRyYWNrcyk7XG4gICAgICAgIC8vIGNoZWNrIGlmIGV4aXN0XG4gICAgICAgIGlmICgoIXZpZGVvLnRleHRUcmFja3MpIHx8ICh2aWRlby50ZXh0VHJhY2tzLmxlbmd0aCA8PSAwKSkge1xuICAgICAgICAgICAgU3Vic0V4aXN0ID0gZmFsc2U7XG4gICAgICAgICAgICBsb2dnZXIubG9nKCcgU3VicyBNZW51IG5vdCBjcmVhdGVkICEnKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjaGVjayBpZiB2aWRlbyBjb250YWlucyBzdWJzICBleGlzdFxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdmlkZW8udGV4dFRyYWNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKCcgQCB0ZXh0IHRyYWNrIG51bWJlciAgJywgaSwgJyBhbmQgaXQgdHlwZSBpcyAnLFxuICAgICAgICAgICAgICAgIHZpZGVvLnRleHRUcmFja3NbaV0ua2luZCk7XG4gICAgICAgICAgICBpZiAoKHZpZGVvLnRleHRUcmFja3NbaV0ua2luZCA9PT0gJ2NhcHRpb25zJykgfHxcbiAgICAgICAgICAgICAgICAodmlkZW8udGV4dFRyYWNrc1tpXS5raW5kID09PSAnc3VidGl0bGVzJykpIHtcbiAgICAgICAgICAgICAgICBTdWJzRXhpc3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChTdWJzRXhpc3QgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBsb2dnZXIuaW5mbygnIFN1YnMgTWVudSBOb3QgY3JlYXRlZCAhISAnKTtcbiAgICAgICAgICAgIHJldHVybiBTdWJzRXhpc3Q7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2V0dGluZyBidG5cbiAgICAgICAgc3VidGl0bGVzQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc3VidGl0bGVzQnRuSWQpO1xuICAgICAgICBsb2dnZXIuaW5mbygnU2V0dGluZyB0aGUgYnRuICcsIHN1YnRpdGxlc0J0biwgJyBmcm9tIGlkICcsIHN1YnRpdGxlc0J0bklkKTtcbiAgICAgICAgLy8gdmlkZW8gYXJyYXlcbiAgICAgICAgc3Vic0xpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzdWJzTWVudUxpc3RJZCk7XG4gICAgICAgIC8vIGNsZWFyIG9sZFxuICAgICAgICBpZiAoc3Vic0xpc3QgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHdoaWxlIChzdWJzTGlzdC5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICAgICAgc3Vic0xpc3QucmVtb3ZlQ2hpbGQoc3Vic0xpc3QuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdWJzTWVudURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgc3Vic01lbnVEaXYuY2xhc3NMaXN0LmFkZCgnc2V0dGluZ01lbnVEaXYnKTtcbiAgICAgICAgICAgIHN1YnNNZW51RGl2LmNsYXNzTGlzdC5hZGQoJ2ZqLWhpZGUnKTtcbiAgICAgICAgICAgIHN1YnNNZW51RGl2LmlubmVySFRNTCA9XG4gICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJmai1saXN0LXRpdGxlXCI+IFNvdXRpdHJlcyA8L2Rpdj4gJyArXG4gICAgICAgICAgICAgICAgJzx1bCBjbGFzcz1cXFwiZmotbGlzdFxcXCIgIGlkPVxcXCInICsgc3Vic01lbnVMaXN0SWQgKyAnXFxcIiA+JyArXG4gICAgICAgICAgICAgICAgJzwvdWw+XHQnO1xuICAgICAgICAgICAgbWVudXNEaXYuYXBwZW5kQ2hpbGQoc3Vic01lbnVEaXYpO1xuICAgICAgICAgICAgLy8gQWRkIGV2ZW50cyBmb3Igc3VidGl0bGVzIGJ1dHRvblxuICAgICAgICAgICAgc3VidGl0bGVzQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXYpIHtcbiAgICAgICAgICAgICAgICBvbnNob3dIaWRlTWVudShzdWJzTWVudURpdiwgdGhpcywgZXYpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyAgc3VicyBsaXN0XG4gICAgICAgICAgICBzdWJzTGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHN1YnNNZW51TGlzdElkKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBsb29wXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB2aWRlby50ZXh0VHJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoKHZpZGVvLnRleHRUcmFja3NbaV0ua2luZCA9PT0gJ2NhcHRpb25zJykgfHxcbiAgICAgICAgICAgICAgICAodmlkZW8udGV4dFRyYWNrc1tpXS5raW5kID09PSAnc3VidGl0bGVzJykpIHtcbiAgICAgICAgICAgICAgICBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgICAgICAgICBpZiAodmlkZW8udGV4dFRyYWNrc1tpXS5tb2RlID09PSAnc2hvd2luZycpIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKCdzdWJ0aXRsZXMtbWVudS1pdGVtLWFjdGlmJyk7XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2YXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKCdzdWJ0aXRsZXMtbWVudS1pdGVtJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdpbmRleCcsIGkpO1xuICAgICAgICAgICAgICAgIGl0ZW0uaW5uZXJIVE1MID0gdmlkZW8udGV4dFRyYWNrc1tpXS5sYWJlbDtcbiAgICAgICAgICAgICAgICBzdWJzTGlzdC5hcHBlbmRDaGlsZChpdGVtKTtcbiAgICAgICAgICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXYpIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZhdGUodGhpcywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKCdTZXR0aW5nIFN1YnMgTGlzdCBAICcsIGksICcgaXRlbSBpcyAnLCBpdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG9mZiBpdGVtXG4gICAgICAgIGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBpZiAoYWN0aXZhdGVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKCdzdWJ0aXRsZXMtbWVudS1pdGVtLWFjdGlmJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoJ3N1YnRpdGxlcy1tZW51LWl0ZW0nKTtcbiAgICAgICAgfVxuICAgICAgICBpdGVtLnNldEF0dHJpYnV0ZSgnaW5kZXgnLCAtMSk7XG4gICAgICAgIGl0ZW0uaW5uZXJIVE1MID0gJ29mZic7XG4gICAgICAgIHN1YnNMaXN0LmFwcGVuZENoaWxkKGl0ZW0pO1xuICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXYpIHtcbiAgICAgICAgICAgIGFjdGl2YXRlKHRoaXMpO1xuICAgICAgICB9KTtcbiAgICAgICAgbG9nZ2VyLmxvZygnU2V0dGluZyBTdWJzIExpc3QgQCAnLCAtMSwgJyBpdGVtIGlzICcsIGl0ZW0pO1xuXG4gICAgICAgIGxvZ2dlci5sb2coJyBTdWJzIE1lbnUgIGNyZWF0ZWQgISEgJywgc3Vic01lbnVEaXYpO1xuICAgICAgICByZXR1cm4gU3Vic0V4aXN0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXR0aW5nIEF1ZHMgbWVudSBhbmQgY2J4XG4gICAgICovXG4gICAgZnVuY3Rpb24gU2V0dXBBdWRzKHBsYXllck1lZGlhKSB7XG4gICAgICAgIGxvZ2dlci5pbmZvKCdDYWxsaW5nIGZvciBzZXR1cCBBdWRzICEhIScpO1xuICAgICAgICB2YXIgYXVkc0J0biA9IG51bGw7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgdmFyIGl0ZW0gPSBudWxsO1xuICAgICAgICBhdWRzRXhpc3QgPSBmYWxzZTtcbiAgICAgICAgbG9nZ2VyLmluZm8oJyBUcnlpbmcgdG8gc2V0dXAgbWVudSBBdWRzICwgdGV4dCB0cmFja3MgbGVuZ3RoIDogJywgdmlkZW8uYXVkaW9UcmFja3MpO1xuXG4gICAgICAgIC8vIGNoZWNrIGlmIGV4aXN0XG4gICAgICAgIGlmICgoIXZpZGVvLmF1ZGlvVHJhY2tzKSB8fCAodmlkZW8uYXVkaW9UcmFja3MubGVuZ3RoIDw9IDEpKSB7XG4gICAgICAgICAgICBhdWRzRXhpc3QgPSBmYWxzZTtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coJyBBdWRpbyBNZW51IG5vdCBjcmVhdGVkICEnKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTZXR0aW5nIGlubmVyIG9mIGJ0biBkaXZcbiAgICAgICAgYXVkc0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGF1ZHNCdG5JZCk7XG4gICAgICAgIGxvZ2dlci5pbmZvKCdTZXR0aW5nIHRoZSBidG4gJywgYXVkc0J0biwgJyBmcm9tIGlkICcsIGF1ZHNCdG5JZCk7XG4gICAgICAgIC8vIHZpZGVvIGFycmF5XG4gICAgICAgIGF1ZHNMaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYXVkc01lbnVMaXN0SWQpO1xuICAgICAgICAvLyBjbGVhciBvbGRcbiAgICAgICAgaWYgKGF1ZHNMaXN0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICB3aGlsZSAoYXVkc0xpc3QuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgICAgIGF1ZHNMaXN0LnJlbW92ZUNoaWxkKGF1ZHNMaXN0LmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXVkc01lbnVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGF1ZHNNZW51RGl2LmNsYXNzTGlzdC5hZGQoJ3NldHRpbmdNZW51RGl2Jyk7XG4gICAgICAgICAgICBhdWRzTWVudURpdi5jbGFzc0xpc3QuYWRkKCdmai1oaWRlJyk7XG4gICAgICAgICAgICBhdWRzTWVudURpdi5pbm5lckhUTUwgPVxuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiZmotbGlzdC10aXRsZVwiPiBBdWRpb3MgPC9kaXY+ICcgK1xuICAgICAgICAgICAgICAgICc8dWwgY2xhc3M9XFxcImZqLWxpc3RcXFwiICBpZD1cXFwiJyArIGF1ZHNNZW51TGlzdElkICsgJ1xcXCIgPicgK1xuICAgICAgICAgICAgICAgICc8L3VsPlx0JztcbiAgICAgICAgICAgIG1lbnVzRGl2LmFwcGVuZENoaWxkKGF1ZHNNZW51RGl2KTtcbiAgICAgICAgICAgIC8vIEFkZCBldmVudHMgZm9yIGF1ZGlvcyBidXR0b25cbiAgICAgICAgICAgIGF1ZHNCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldikge1xuICAgICAgICAgICAgICAgIG9uc2hvd0hpZGVNZW51KGF1ZHNNZW51RGl2LCB0aGlzLCBldik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vICBhdWRpb3MgbGlzdFxuICAgICAgICAgICAgYXVkc0xpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChhdWRzTWVudUxpc3RJZCk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB2aWRlby5hdWRpb1RyYWNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgICAgICBpZiAodmlkZW8uYXVkaW9UcmFja3NbaV0uZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZCgnc3VidGl0bGVzLW1lbnUtaXRlbS1hY3RpZicpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoJ3N1YnRpdGxlcy1tZW51LWl0ZW0nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ2luZGV4JywgaSk7XG4gICAgICAgICAgICBpdGVtLmlubmVySFRNTCA9IHZpZGVvLmF1ZGlvVHJhY2tzW2ldLmxhYmVsO1xuICAgICAgICAgICAgYXVkc0xpc3QuYXBwZW5kQ2hpbGQoaXRlbSk7XG4gICAgICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXYpIHtcbiAgICAgICAgICAgICAgICBhY3RpdmF0ZSh0aGlzLCBmYWxzZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxvZ2dlci5kZWJ1ZygnIEF1ZGlvIE1lbnUgY3JlYXRlZCAhJywgdmlkZW8uYXVkaW9UcmFja3MubGVuZ3RoLCAnISAnLCBhdWRzTGlzdCk7XG4gICAgICAgIHJldHVybiBhdWRzRXhpc3Q7XG4gICAgfTtcbiAgICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICAvLyBQVUJMSUMgQVBJXG4gICAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgcmV0dXJuIHtcbiAgICAgICAgU2V0dXBTdWJzOiBTZXR1cFN1YnMsXG4gICAgICAgIFNldHVwQXVkczogU2V0dXBBdWRzLFxuICAgICAgICBIaWRlTWVudXM6IEhpZGVNZW51cyxcbiAgICAgICAgY29uc3RydWN0b3I6IE1lbnVzXG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBNZW51cztcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2pzL3VpL01lbnVzLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBOzs7OztBQUFBO0FBQ0E7OztBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFlQTs7O0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 14 */
/* unknown exports provided */
/* all exports used */
/*!*******************************!*\
  !*** ./src/js/ui/Overlays.js ***!
  \*******************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _Logger = __webpack_require__(/*! ../utils/Logger */ 0);\n\nvar _Logger2 = _interopRequireDefault(_Logger);\n\nvar _constants = __webpack_require__(/*! ../defs/constants */ 1);\n\nvar Const = _interopRequireWildcard(_constants);\n\nvar _Eventing = __webpack_require__(/*! ../utils/Eventing */ 3);\n\nvar _Eventing2 = _interopRequireDefault(_Eventing);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n__webpack_require__(/*! ../../css/player.less */ 2);\n\n/**\n * @module Overlay\n * @description The Overlays is that manage overlays of a video :\n *     it manage overlays for information ads , media or ovelay on ads video.\n */\nfunction Overlays() {\n    var logger = new _Logger2.default(this),\n        overlays = null,\n        settled = false,\n        OverlayDiv = null,\n        OverlayInnerDiv = null,\n        events = new _Eventing2.default(),\n        OverlayClosingDiv = null;\n\n    function Setup(overs) {\n        var i = 0;\n        if (overs === null || overs === undefined) {\n            settled = false;\n            return;\n        }\n        overlays = overs;\n        settled = true;\n        for (i = 0; i < overlays.length; i++) {\n            overlays[i].started = false;\n            overlays[i].clicked = 0;\n        }\n        logger.info('Setup is settled ', settled, ' cheking overlays .. ', overlays);\n    };\n\n    function clicked(index) {\n        var item = overlays[index];\n        overlays[index].clicked++;\n        events.fireEvent(Const.OverlayEvents.OVERLAY_USER_CLICKED);\n        window.open(item[Const.FJCONFIG_URL], '_blank');\n    };\n\n    function StopOverlay(index) {\n        var el = OverlayDiv;\n        var elClone = null;\n        // hide the div\n        logger.warn(index, 'you overlay  is now stopped ', overlays[index].handler);\n        // remove the click event\n        el = OverlayDiv;\n        elClone = el.cloneNode(true);\n        el.parentNode.replaceChild(elClone, el);\n        OverlayDiv = elClone;\n        // hide the overlay , empty the div\n        while (OverlayDiv.hasChildNodes()) {\n            OverlayDiv.removeChild(OverlayDiv.firstChild);\n        }\n        OverlayDiv.innerHTML = '';\n        OverlayDiv.classList.add('fj-hide');\n        events.fireEvent(Const.OverlayEvents.OVERLAY_ENDED);\n    };\n\n    /**\n     * Used to show an Overlay\n     */\n    function StartOverlay(index) {\n        var url = null;\n        var item = overlays[index];\n        overlays[index].started = true;\n        overlays[index].endTimer = setTimeout(function () {\n            StopOverlay(index);\n        }, item[Const.FJCONFIG_DURATION] * 1000);\n        // empty the div && show the div\n        while (OverlayDiv.hasChildNodes()) {\n            OverlayDiv.removeChild(OverlayDiv.firstChild);\n        }\n        OverlayInnerDiv = document.createElement('div');\n        OverlayClosingDiv = document.createElement('div');\n        OverlayInnerDiv.innerHTML = '' + '<div class=\"fj-overlay-description\">' + '   <p>' + item[Const.FJCONFIG_DATA] + '</p> ' + '</div> ' + '<div class=\"fj-overlay-link\">' + item[Const.FJCONFIG_URL] + '</div>';\n        OverlayInnerDiv.style.cursor = 'pointer';\n        OverlayClosingDiv.innerHTML = '' + '<div>' + '    <span class=\" fj-overlay-closing  fj-control-embd fj-btn fj-icon-windowClose\" aria-hidden=\"true\"></span>' + '    <div class=\"fj-overlay-annonce\">Annonce</div>' + '</div>';\n        OverlayClosingDiv.addEventListener('click', function () {\n            StopOverlay(index);\n        });\n        OverlayDiv.appendChild(OverlayClosingDiv);\n        OverlayDiv.appendChild(OverlayInnerDiv);\n        OverlayDiv.classList.remove('fj-hide');\n        OverlayDiv.classList.add('over-HL');\n        events.fireEvent(Const.OverlayEvents.OVERLAY_STARTED);\n        // add click\n        url = item[Const.FJCONFIG_URL];\n        logger.info('Setting click on overlay going to  ', url);\n        OverlayInnerDiv.addEventListener('click', function () {\n            clicked(index);\n        });\n        logger.log(index, 'you overlay just started and will end in ' + item[Const.FJCONFIG_DURATION] + ' sec', overlays[index].handler);\n    };\n\n    /**\n     * Function to be called from event 'timeupdate' from video\n     * called to check if overlays has to Start\n     */\n    function CheckOverlays(secondes) {\n        var i = 0;\n        var item = null;\n        var show = 0;\n        if (settled !== true) {\n            return;\n        }\n        for (i = 0; i < overlays.length; i++) {\n            item = overlays[i];\n            show = parseInt(item[Const.FJCONFIG_SHOW_AT], 10);\n            if (secondes === show) {\n                logger.info(i, ' starting overlay .. ');\n                if (overlays[i].started === false) {\n                    logger.info(i, ' starting a new  overlay .. ');\n                    overlays[i].started = true;\n                    StartOverlay(i);\n                } else {\n                    logger.info(i, ' already started ', item[Const.FJCONFIG_URL], ' @@ ', item[Const.FJCONFIG_SHOW_AT]);\n                }\n            }\n        }\n    };\n\n    function initialize(overdiv) {\n        OverlayDiv = overdiv;\n    };\n    /**\n     *\n     */\n    function on(name, handler) {\n        return events.on(name, handler);\n    };\n    /**\n     *\n     */\n    function off(name, handler) {\n        return events.off(name, handler);\n    };\n    // ************************************************************************************\n    // PUBLIC API\n    // ************************************************************************************\n    return {\n        StartOverlay: StartOverlay,\n        StopOverlay: StopOverlay,\n        clicked: clicked,\n        initialize: initialize,\n        Setup: Setup,\n        on: on,\n        off: off,\n        CheckOverlays: CheckOverlays,\n        constructor: Overlays\n    };\n};\nexports.default = Overlays;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL3VpL092ZXJsYXlzLmpzPzU4MmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IExvZ2dlciBmcm9tICcuLi91dGlscy9Mb2dnZXInO1xucmVxdWlyZSgnLi4vLi4vY3NzL3BsYXllci5sZXNzJyk7XG5pbXBvcnQgKiBhcyBDb25zdCBmcm9tICcuLi9kZWZzL2NvbnN0YW50cyc7XG5pbXBvcnQgRXZlbnRpbmcgZnJvbSAnLi4vdXRpbHMvRXZlbnRpbmcnO1xuLyoqXG4gKiBAbW9kdWxlIE92ZXJsYXlcbiAqIEBkZXNjcmlwdGlvbiBUaGUgT3ZlcmxheXMgaXMgdGhhdCBtYW5hZ2Ugb3ZlcmxheXMgb2YgYSB2aWRlbyA6XG4gKiAgICAgaXQgbWFuYWdlIG92ZXJsYXlzIGZvciBpbmZvcm1hdGlvbiBhZHMgLCBtZWRpYSBvciBvdmVsYXkgb24gYWRzIHZpZGVvLlxuICovXG5mdW5jdGlvbiBPdmVybGF5cygpIHtcbiAgICB2YXIgbG9nZ2VyID0gbmV3IExvZ2dlcih0aGlzKSxcbiAgICAgICAgb3ZlcmxheXMgPSBudWxsLFxuICAgICAgICBzZXR0bGVkID0gZmFsc2UsXG4gICAgICAgIE92ZXJsYXlEaXYgPSBudWxsLFxuICAgICAgICBPdmVybGF5SW5uZXJEaXYgPSBudWxsLFxuICAgICAgICBldmVudHMgPSBuZXcgRXZlbnRpbmcoKSxcbiAgICAgICAgT3ZlcmxheUNsb3NpbmdEaXYgPSBudWxsO1xuXG4gICAgZnVuY3Rpb24gU2V0dXAob3ZlcnMpIHtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICBpZiAob3ZlcnMgPT09IG51bGwgfHwgb3ZlcnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc2V0dGxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG92ZXJsYXlzID0gb3ZlcnM7XG4gICAgICAgIHNldHRsZWQgPSB0cnVlO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgb3ZlcmxheXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIG92ZXJsYXlzW2ldLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIG92ZXJsYXlzW2ldLmNsaWNrZWQgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGxvZ2dlci5pbmZvKCdTZXR1cCBpcyBzZXR0bGVkICcsIHNldHRsZWQsICcgY2hla2luZyBvdmVybGF5cyAuLiAnLCBvdmVybGF5cyk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGNsaWNrZWQoaW5kZXgpIHtcbiAgICAgICAgdmFyIGl0ZW0gPSBvdmVybGF5c1tpbmRleF07XG4gICAgICAgIG92ZXJsYXlzW2luZGV4XS5jbGlja2VkKys7XG4gICAgICAgIGV2ZW50cy5maXJlRXZlbnQoQ29uc3QuT3ZlcmxheUV2ZW50cy5PVkVSTEFZX1VTRVJfQ0xJQ0tFRCk7XG4gICAgICAgIHdpbmRvdy5vcGVuKGl0ZW1bQ29uc3QuRkpDT05GSUdfVVJMXSwgJ19ibGFuaycpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBTdG9wT3ZlcmxheShpbmRleCkge1xuICAgICAgICB2YXIgZWwgPSBPdmVybGF5RGl2O1xuICAgICAgICB2YXIgZWxDbG9uZSA9IG51bGw7XG4gICAgICAgIC8vIGhpZGUgdGhlIGRpdlxuICAgICAgICBsb2dnZXIud2FybihpbmRleCwgJ3lvdSBvdmVybGF5ICBpcyBub3cgc3RvcHBlZCAnLCBvdmVybGF5c1tpbmRleF0uaGFuZGxlcik7XG4gICAgICAgIC8vIHJlbW92ZSB0aGUgY2xpY2sgZXZlbnRcbiAgICAgICAgZWwgPSBPdmVybGF5RGl2O1xuICAgICAgICBlbENsb25lID0gZWwuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgICBlbC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChlbENsb25lLCBlbCk7XG4gICAgICAgIE92ZXJsYXlEaXYgPSBlbENsb25lO1xuICAgICAgICAvLyBoaWRlIHRoZSBvdmVybGF5ICwgZW1wdHkgdGhlIGRpdlxuICAgICAgICB3aGlsZSAoT3ZlcmxheURpdi5oYXNDaGlsZE5vZGVzKCkpIHtcbiAgICAgICAgICAgIE92ZXJsYXlEaXYucmVtb3ZlQ2hpbGQoT3ZlcmxheURpdi5maXJzdENoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBPdmVybGF5RGl2LmlubmVySFRNTCA9ICcnO1xuICAgICAgICBPdmVybGF5RGl2LmNsYXNzTGlzdC5hZGQoJ2ZqLWhpZGUnKTtcbiAgICAgICAgZXZlbnRzLmZpcmVFdmVudChDb25zdC5PdmVybGF5RXZlbnRzLk9WRVJMQVlfRU5ERUQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIHNob3cgYW4gT3ZlcmxheVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFN0YXJ0T3ZlcmxheShpbmRleCkge1xuICAgICAgICB2YXIgdXJsID0gbnVsbDtcbiAgICAgICAgdmFyIGl0ZW0gPSBvdmVybGF5c1tpbmRleF07XG4gICAgICAgIG92ZXJsYXlzW2luZGV4XS5zdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgb3ZlcmxheXNbaW5kZXhdLmVuZFRpbWVyID1cbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IFN0b3BPdmVybGF5KGluZGV4KTsgfSwgaXRlbVtDb25zdC5GSkNPTkZJR19EVVJBVElPTl0gKiAxMDAwKTtcbiAgICAgICAgLy8gZW1wdHkgdGhlIGRpdiAmJiBzaG93IHRoZSBkaXZcbiAgICAgICAgd2hpbGUgKE92ZXJsYXlEaXYuaGFzQ2hpbGROb2RlcygpKSB7XG4gICAgICAgICAgICBPdmVybGF5RGl2LnJlbW92ZUNoaWxkKE92ZXJsYXlEaXYuZmlyc3RDaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgT3ZlcmxheUlubmVyRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIE92ZXJsYXlDbG9zaW5nRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIE92ZXJsYXlJbm5lckRpdi5pbm5lckhUTUwgPSAnJyArXG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cImZqLW92ZXJsYXktZGVzY3JpcHRpb25cIj4nICtcbiAgICAgICAgICAgICcgICA8cD4nICsgaXRlbVtDb25zdC5GSkNPTkZJR19EQVRBXSArICc8L3A+ICcgK1xuICAgICAgICAgICAgJzwvZGl2PiAnICtcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiZmotb3ZlcmxheS1saW5rXCI+JyArIGl0ZW1bQ29uc3QuRkpDT05GSUdfVVJMXSArICc8L2Rpdj4nO1xuICAgICAgICBPdmVybGF5SW5uZXJEaXYuc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInO1xuICAgICAgICBPdmVybGF5Q2xvc2luZ0Rpdi5pbm5lckhUTUwgPSAnJyArXG4gICAgICAgICAgICAnPGRpdj4nICtcbiAgICAgICAgICAgICcgICAgPHNwYW4gY2xhc3M9XCIgZmotb3ZlcmxheS1jbG9zaW5nICBmai1jb250cm9sLWVtYmQgZmotYnRuIGZqLWljb24td2luZG93Q2xvc2VcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L3NwYW4+JyArXG4gICAgICAgICAgICAnICAgIDxkaXYgY2xhc3M9XCJmai1vdmVybGF5LWFubm9uY2VcIj5Bbm5vbmNlPC9kaXY+JyArXG4gICAgICAgICAgICAnPC9kaXY+JztcbiAgICAgICAgT3ZlcmxheUNsb3NpbmdEaXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHsgU3RvcE92ZXJsYXkoaW5kZXgpOyB9KTtcbiAgICAgICAgT3ZlcmxheURpdi5hcHBlbmRDaGlsZChPdmVybGF5Q2xvc2luZ0Rpdik7XG4gICAgICAgIE92ZXJsYXlEaXYuYXBwZW5kQ2hpbGQoT3ZlcmxheUlubmVyRGl2KTtcbiAgICAgICAgT3ZlcmxheURpdi5jbGFzc0xpc3QucmVtb3ZlKCdmai1oaWRlJyk7XG4gICAgICAgIE92ZXJsYXlEaXYuY2xhc3NMaXN0LmFkZCgnb3Zlci1ITCcpO1xuICAgICAgICBldmVudHMuZmlyZUV2ZW50KENvbnN0Lk92ZXJsYXlFdmVudHMuT1ZFUkxBWV9TVEFSVEVEKTtcbiAgICAgICAgLy8gYWRkIGNsaWNrXG4gICAgICAgIHVybCA9IGl0ZW1bQ29uc3QuRkpDT05GSUdfVVJMXTtcbiAgICAgICAgbG9nZ2VyLmluZm8oJ1NldHRpbmcgY2xpY2sgb24gb3ZlcmxheSBnb2luZyB0byAgJywgdXJsKTtcbiAgICAgICAgT3ZlcmxheUlubmVyRGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7IGNsaWNrZWQoaW5kZXgpOyB9KTtcbiAgICAgICAgbG9nZ2VyLmxvZyhpbmRleCwgJ3lvdSBvdmVybGF5IGp1c3Qgc3RhcnRlZCBhbmQgd2lsbCBlbmQgaW4gJyArXG4gICAgICAgICAgICBpdGVtW0NvbnN0LkZKQ09ORklHX0RVUkFUSU9OXSArICcgc2VjJywgb3ZlcmxheXNbaW5kZXhdLmhhbmRsZXIpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiB0byBiZSBjYWxsZWQgZnJvbSBldmVudCAndGltZXVwZGF0ZScgZnJvbSB2aWRlb1xuICAgICAqIGNhbGxlZCB0byBjaGVjayBpZiBvdmVybGF5cyBoYXMgdG8gU3RhcnRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDaGVja092ZXJsYXlzKHNlY29uZGVzKSB7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgdmFyIGl0ZW0gPSBudWxsO1xuICAgICAgICB2YXIgc2hvdyA9IDA7XG4gICAgICAgIGlmIChzZXR0bGVkICE9PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IG92ZXJsYXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpdGVtID0gb3ZlcmxheXNbaV07XG4gICAgICAgICAgICBzaG93ID0gcGFyc2VJbnQoaXRlbVtDb25zdC5GSkNPTkZJR19TSE9XX0FUXSwgMTApO1xuICAgICAgICAgICAgaWYgKHNlY29uZGVzID09PSBzaG93KSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmluZm8oaSwgJyBzdGFydGluZyBvdmVybGF5IC4uICcpO1xuICAgICAgICAgICAgICAgIGlmIChvdmVybGF5c1tpXS5zdGFydGVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXIuaW5mbyhpLCAnIHN0YXJ0aW5nIGEgbmV3ICBvdmVybGF5IC4uICcpO1xuICAgICAgICAgICAgICAgICAgICBvdmVybGF5c1tpXS5zdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgU3RhcnRPdmVybGF5KGkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlci5pbmZvKGksICcgYWxyZWFkeSBzdGFydGVkICcsIGl0ZW1bQ29uc3QuRkpDT05GSUdfVVJMXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICcgQEAgJywgaXRlbVtDb25zdC5GSkNPTkZJR19TSE9XX0FUXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGluaXRpYWxpemUob3ZlcmRpdikge1xuICAgICAgICBPdmVybGF5RGl2ID0gb3ZlcmRpdjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgZnVuY3Rpb24gb24obmFtZSwgaGFuZGxlcikge1xuICAgICAgICByZXR1cm4gZXZlbnRzLm9uKG5hbWUsIGhhbmRsZXIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvZmYobmFtZSwgaGFuZGxlcikge1xuICAgICAgICByZXR1cm4gZXZlbnRzLm9mZihuYW1lLCBoYW5kbGVyKTtcbiAgICB9O1xuICAgIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIC8vIFBVQkxJQyBBUElcbiAgICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICByZXR1cm4ge1xuICAgICAgICBTdGFydE92ZXJsYXk6IFN0YXJ0T3ZlcmxheSxcbiAgICAgICAgU3RvcE92ZXJsYXk6IFN0b3BPdmVybGF5LFxuICAgICAgICBjbGlja2VkOiBjbGlja2VkLFxuICAgICAgICBpbml0aWFsaXplOiBpbml0aWFsaXplLFxuICAgICAgICBTZXR1cDogU2V0dXAsXG4gICAgICAgIG9uOiBvbixcbiAgICAgICAgb2ZmOiBvZmYsXG4gICAgICAgIENoZWNrT3ZlcmxheXM6IENoZWNrT3ZlcmxheXMsXG4gICAgICAgIGNvbnN0cnVjdG9yOiBPdmVybGF5c1xuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgT3ZlcmxheXM7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9qcy91aS9PdmVybGF5cy5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTs7O0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBOzs7Ozs7O0FBSEE7QUFDQTtBQUVBOzs7OztBQUtBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFLQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVRBO0FBV0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 15 */
/* unknown exports provided */
/* all exports used */
/*!*******************************!*\
  !*** ./src/js/ui/PlayerUi.js ***!
  \*******************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _Logger = __webpack_require__(/*! ../utils/Logger */ 0);\n\nvar _Logger2 = _interopRequireDefault(_Logger);\n\nvar _Thumbs = __webpack_require__(/*! ../ui//Thumbs */ 16);\n\nvar _Thumbs2 = _interopRequireDefault(_Thumbs);\n\nvar _Menus = __webpack_require__(/*! ../ui/Menus */ 13);\n\nvar _Menus2 = _interopRequireDefault(_Menus);\n\nvar _Utils = __webpack_require__(/*! ../utils/Utils */ 4);\n\nvar Utils = _interopRequireWildcard(_Utils);\n\nvar _fjplayerTmpl = __webpack_require__(/*! ../ui/fjplayer-tmpl */ 17);\n\nvar _fjplayerTmpl2 = _interopRequireDefault(_fjplayerTmpl);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n__webpack_require__(/*! ../../css/player.less */ 2);\n// require('../css/fjfa.css');\n\n\n/**\n * @module PlayerUi\n * @description The PlayerUi is the html UI for the player\n *\n */\nfunction PlayerUi(videoContId, VWidth, WHeight) {\n    var logger = new _Logger2.default(this),\n        mediaDuration = 0,\n        holdWidth = 0,\n        fjMainPlayer = null,\n        videoContainerId = videoContId,\n        fullScreenOnStart = false,\n        vwidth = VWidth,\n        vheight = WHeight,\n        expandScreen = false,\n        playerMenus = null,\n        timeout = null,\n        initialized = false,\n        HideControlsTimeout = 1500,\n        id = Date.now().toString().substr(6),\n        timerId = 'trd' + id,\n        durationId = 'drd' + id,\n        titleId = 'tld' + id,\n        errorDivId = 'errd' + id,\n        spinnerId = 'spin' + id,\n        BigPlayBtnId = 'bp' + id,\n        videoCaptionId = 'vcp' + id,\n        videoInfoId = 'vif' + id,\n        videoFigureId = 'vfg' + id,\n        videoId = 'voi' + id,\n        videoControlsId = 'vct' + id,\n        playpauseBtnId = 'ppb' + id,\n        playpreviousBtnId = 'pprb' + id,\n        playforwardBtnId = 'ppfb' + id,\n        muteBtnId = 'mbt' + id,\n        volumeBarId = 'vbr' + id,\n        volumeDivId = 'vvd' + id,\n        subtitlesBtnId = 'subd' + id,\n        audiosBtnId = 'audb' + id,\n        progressBarId = 'pgb' + id,\n        fullScreenBtnId = 'fsb' + id,\n        thumbsDivId = 'tbd' + id,\n        thumbsImgId = 'tbi' + id,\n        thumbstimerId = 'tbt' + id,\n        adsContainerDivId = 'adscd' + id,\n        overlaysContainerDivId = 'ovscd' + id,\n        menuContainerDivId = 'mncd' + id,\n        descriptionId = 'desc' + id,\n        videoContainer,\n        video = null,\n        videoController,\n        spinner = null,\n        videoControllerFigure,\n        playpauseBtn,\n        playpreviousBtn,\n        playforwardBtn,\n        muteBtn,\n        volumeBar,\n        progressBar,\n        fullScreenBtn,\n        timer,\n        durationDisplay,\n        videoFigure,\n        BigPlayBtn,\n        volumebar,\n        ThumbsMgr = null,\n        videoControls,\n        videoInfo,\n        fullScreenEnabled = true;\n\n    function create() {\n        var data = {\n            'videoFigureId': videoFigureId,\n            'fullScreenOnStart': fullScreenOnStart,\n            'videoId': videoId,\n            'vwidth': vwidth,\n            'videoInfoId': videoInfoId,\n            'titleId': titleId,\n            'errorDivId': errorDivId,\n            'spinnerId': spinnerId,\n            'BigPlayBtnId': BigPlayBtnId,\n            'videoCaptionId': videoCaptionId,\n            'thumbsDivId': thumbsDivId,\n            'thumbsImgId': thumbsImgId,\n            'thumbstimerId': thumbstimerId,\n            'menuContainerDivId': menuContainerDivId,\n            'adsContainerDivId': adsContainerDivId,\n            'videoControlsId': videoControlsId,\n            'progressBarId': progressBarId,\n            'playpreviousBtnId': playpreviousBtnId,\n            'playpauseBtnId': playpauseBtnId,\n            'playforwardBtnId': playforwardBtnId,\n            'muteBtnId': muteBtnId,\n            'volumeDivId': volumeDivId,\n            'volumeBarId': volumeBarId,\n            'descriptionId': descriptionId,\n            'fullScreenBtnId': fullScreenBtnId,\n            'subtitlesBtnId': subtitlesBtnId,\n            'audiosBtnId': audiosBtnId,\n            'timerId': timerId,\n            'durationId': durationId,\n            'overlaysContainerDivId': overlaysContainerDivId\n        };\n\n        logger.info(' container if of the player ', videoContainerId);\n        videoContainer = document.getElementById(videoContainerId);\n        if (!videoContainer) {\n            throw new Error('The video container element still null');\n        }\n        videoContainer.classList.add('fjPlayer');\n        videoContainer.innerHTML = new _fjplayerTmpl2.default().GetHtml(data);\n        video = null;\n        videoContainer = null;\n        videoController = document.getElementById(videoControlsId);\n        videoControllerFigure = document.getElementById(videoFigureId);\n        spinner = document.getElementById(spinnerId);\n        video = document.getElementById(videoId);\n        if (!video) {\n            throw new Error('The video element still null');\n        }\n        playpauseBtn = document.getElementById(playpauseBtnId);\n        playpreviousBtn = document.getElementById(playpreviousBtnId);\n        playforwardBtn = document.getElementById(playforwardBtnId);\n\n        muteBtn = document.getElementById(muteBtnId);\n        volumeBar = document.getElementById(volumeBarId);\n        progressBar = document.getElementById(progressBarId);\n        fullScreenBtn = document.getElementById(fullScreenBtnId);\n        timer = document.getElementById(timerId);\n        durationDisplay = document.getElementById(durationId);\n\n        videoFigure = document.getElementById(videoFigureId);\n        BigPlayBtn = document.getElementById(BigPlayBtnId);\n\n        videoControls = document.getElementById(videoControlsId);\n        videoInfo = document.getElementById(videoInfoId);\n        // Hide the default controls\n        video.controls = false;\n        // Display the user defined video controls\n        videoFigure.setAttribute('controls-hidden', true);\n        videoControls.classList.add('fj-hide');\n        videoInfo.classList.remove('fj-hide');\n        // Create Thumbs Object\n        ThumbsMgr = new _Thumbs2.default(document.getElementById(thumbstimerId), document.getElementById(thumbsImgId), document.getElementById(thumbsDivId), progressBar);\n\n        if (fullScreenOnStart === 'true') {\n            videoFigure.setAttribute('data-fullscreen', 'true');\n        }\n        // If the browser doesn't support the Fulscreen API then hide the fullscreen button\n        if (!fullScreenEnabled) {\n            fullScreenBtn.style.display = 'none';\n        }\n    }\n    // ************************************************************************************\n    // PLAYBACK\n    // ************************************************************************************\n    function onplaypauseClick() {\n        if (fjMainPlayer.isPaused() || fjMainPlayer.isEnded()) {\n            fjMainPlayer.play();\n        } else {\n            fjMainPlayer.pause();\n        }\n    }\n\n    function toggleplaypauseBtn() {\n        if (fjMainPlayer.isPlayingAds()) {\n            // hide big play button\n            BigPlayBtn.classList.add('fj-hide');\n            // hide video controls\n            videoFigure.setAttribute('controls-hidden', true);\n            videoControls.classList.add('fj-hide');\n            playerMenus.HideMenus();\n        } else {\n            if (fjMainPlayer.isPaused() || fjMainPlayer.isEnded()) {\n                playpauseBtn.classList.add('fj-icon-play');\n                playpauseBtn.classList.remove('fj-icon-pause');\n                // show big play button\n                BigPlayBtn.classList.remove('fj-hide');\n                // hide video controls\n                videoFigure.setAttribute('controls-hidden', true);\n                videoControls.classList.add('fj-hide');\n                playerMenus.HideMenus();\n                logger.log('UI is pausing !');\n            } else {\n                playpauseBtn.classList.remove('fj-icon-play');\n                playpauseBtn.classList.add('fj-icon-pause');\n                // hide big play button\n                BigPlayBtn.classList.add('fj-hide');\n                // show video controls\n                videoFigure.setAttribute('controls-hidden', false);\n                videoControls.classList.remove('fj-hide');\n                logger.log('UI is playing !');\n            }\n        }\n    }\n\n    function magicMouseLeave() {\n        if (!fjMainPlayer.isPaused() && !fjMainPlayer.isEnded() && !fjMainPlayer.isPlayingAds()) {\n            videoFigure.setAttribute('controls-hidden', true);\n            // delete fadeIn\n            videoControls.classList.remove('m-fadeIn');\n            videoInfo.classList.remove('m-fadeIn');\n            // add fadeOut\n            videoControls.classList.add('m-fadeOut');\n            videoInfo.classList.add('m-fadeOut');\n            // other\n            video.style.cursor = 'none';\n            playerMenus.HideMenus();\n            ThumbsMgr.hideThumbs(ThumbsMgr);\n        }\n    }\n\n    function magicMouseEnter() {\n        if (!fjMainPlayer.isPaused() && !fjMainPlayer.isEnded() && !fjMainPlayer.isPlayingAds()) {\n            videoFigure.setAttribute('controls-hidden', false);\n            // delete fadeOut\n            videoControls.classList.remove('m-fadeOut');\n            videoInfo.classList.remove('m-fadeOut');\n            // add fadein\n            videoControls.classList.add('m-fadeIn');\n            videoInfo.classList.add('m-fadeIn');\n            // other\n            video.style.cursor = 'auto';\n        }\n    }\n\n    function magicMouseMove() {\n        if (!fjMainPlayer.isPaused() && !fjMainPlayer.isEnded() && !fjMainPlayer.isPlayingAds()) {\n            if (video.style.cursor === 'none') {\n                magicMouseEnter();\n            } else {\n                if (timeout) {\n                    clearTimeout(timeout);\n                }\n                timeout = setTimeout(function () {\n                    magicMouseLeave();\n                }, HideControlsTimeout);\n            }\n        }\n    }\n\n    function SetupSubsAudsManager(mediaplayer) {\n        var done = false;\n        done = playerMenus.SetupAuds(mediaplayer);\n        logger.warn(' Will setup Audio menu  ', done);\n        if (done !== true) {\n            document.getElementById(audiosBtnId).classList.add('fj-hide');\n        } else {\n            document.getElementById(audiosBtnId).classList.remove('fj-hide');\n        }\n        done = playerMenus.SetupSubs(mediaplayer);\n        logger.warn(' Will setup Subs menu  ', done);\n        if (done !== true) {\n            document.getElementById(subtitlesBtnId).classList.add('fj-hide');\n        } else {\n            document.getElementById(subtitlesBtnId).classList.remove('fj-hide');\n        }\n    };\n    // ************************************************************************************\n    // VOLUME\n    // ************************************************************************************\n\n    function OnvbClick(e) {\n        var pos = volumeBar.value / 100;\n        logger.log(' volume from ', video.volume, ' to ', pos);\n        if (pos > 0.6) {\n            muteBtn.classList.remove('fj-icon-mute');\n            muteBtn.classList.remove('fj-icon-volDown');\n            muteBtn.classList.add('fj-icon-volUp');\n        } else if (pos > 0) {\n            muteBtn.classList.remove('fj-icon-mute');\n            muteBtn.classList.remove('fj-icon-volUp');\n            muteBtn.classList.add('fj-icon-volDown');\n        } else {\n            muteBtn.classList.remove('fj-icon-volDown');\n            muteBtn.classList.remove('fj-icon-volUp');\n            muteBtn.classList.add('fj-icon-mute');\n        }\n        video.volume = pos;\n        logger.log(' new volume is ', pos);\n    };\n\n    function onmuteClick(e) {\n        video.muted = !video.muted;\n        if (video.muted) {\n            volumeBar.value = 0;\n            muteBtn.classList.remove('fj-icon-volDown');\n            muteBtn.classList.remove('fj-icon-volUp');\n            muteBtn.classList.add('fj-icon-mute');\n        } else if (video.volume > 0.6) {\n            volumeBar.value = video.volume * 100;\n            muteBtn.classList.remove('fj-icon-mute');\n            muteBtn.classList.remove('fj-icon-volDown');\n            muteBtn.classList.add('fj-icon-volUp');\n        } else {\n            volumeBar.value = video.volume * 100;\n            muteBtn.classList.remove('fj-icon-mute');\n            muteBtn.classList.remove('fj-icon-volUp');\n            muteBtn.classList.add('fj-icon-volDown');\n        }\n    }\n\n    // ************************************************************************************\n    // SEEKING\n    // ************************************************************************************\n    function onprogressClick(event) {\n        var val = 0;\n        // var p = progressBar.value;\n        var rect = progressBar.getBoundingClientRect();\n        var p = (event.pageX - rect.left) * (mediaDuration / (rect.right - rect.left));\n        logger.log(' Seeking from ', Utils.duration(p), '/', Utils.duration(mediaDuration), 'to', Utils.duration(p), ' sec');\n        fjMainPlayer.seek(p);\n    }\n    // ************************************************************************************\n    // FULLSCREEN\n    // ************************************************************************************\n    function isFullScreen() {\n        return document.fullscreenElement || document.msFullscreenElement || document.mozFullScreen || document.webkitIsFullScreen;\n    }\n\n    function setFullscreenData(state) {\n        videoFigure.setAttribute('data-fullscreen', !!state);\n    }\n\n    function handleFullscreen() {\n        // If fullscreen mode is active...\n        if (isFullScreen()) {\n            // ...exit fullscreen mode\n            // (Note: this can only be called on document)\n            if (document.exitFullscreen) document.exitFullscreen();else if (document.mozCancelFullScreen) document.mozCancelFullScreen();else if (document.webkitCancelFullScreen) document.webkitCancelFullScreen();else if (document.msExitFullscreen) document.msExitFullscreen();\n            setFullscreenData(false);\n            fullScreenBtn.classList.remove('fj-icon-compressScreen');\n            fullScreenBtn.classList.add('fj-icon-fullScreen');\n        } else {\n            fullScreenBtn.classList.add('fj-icon-compressScreen');\n            fullScreenBtn.classList.remove('fj-icon-fullScreen');\n            // ...otherwise enter fullscreen mode\n            // (Note: can be called on document, but here the specific element is used as\n            // it will also ensure that the element's children, e.g. the custom controls, go fullscreen also)\n            if (videoFigure.requestFullscreen) videoFigure.requestFullscreen();else if (videoFigure.mozRequestFullScreen) videoFigure.mozRequestFullScreen();else if (videoFigure.webkitRequestFullScreen) {\n                // Safari 5.1 only allows proper fullscreen on the video element.\n                // This also works fine on other WebKit\n                // Zbrowsers as the following CSS (set in styles.css) hides the default\n                // controls that appear again, and\n                // ensures that our custom controls are visible:\n                // figure[data-fullscreen=true] video::-webkit-media-controls { display:none !important; }\n                // figure[data-fullscreen=true] .controls { z-index:2147483647; }\n                video.webkitRequestFullScreen();\n            } else if (videoFigure.msRequestFullscreen) videoFigure.msRequestFullscreen();\n            setFullscreenData(true);\n        }\n    }\n\n    function onFullScreenChange(e) {\n        if (e.type === 'fullscreenchange') {\n            logger.log(\" fullscreenchange >>> Full Scren changed Status \", !!(document.fullScreen || document.fullscreenElement));\n            setFullscreenData(!!(document.fullScreen || document.fullscreenElement));\n        }\n        if (e.type === 'webkitfullscreenchange') {\n            logger.log(\" webkitfullscreenchange >>> Full Scren changed Status \", !!document.webkitIsFullScreen);\n            setFullscreenData(!!document.webkitIsFullScreen);\n        }\n        if (e.type === 'mozfullscreenchange') {\n            logger.log(\" mozfullscreenchange >>> Full Scren changed Status \", !!document.mozFullScreen);\n            setFullscreenData(!!document.mozFullScreen);\n        }\n        if (e.type === 'msfullscreenchange') {\n            logger.log(\" msfullscreenchange >>> Full Scren changed Status \", !!document.msFullscreenElement);\n            setFullscreenData(!!document.msFullscreenElement);\n        }\n    }\n    // ************************************************************************************\n    // PUBLIC API\n    // ************************************************************************************\n    function goForError() {\n        // used to prepare to show error\n        magicMouseLeave();\n        BigPlayBtn.classList.add('fj-hide');\n    }\n\n    function setVolume(value) {\n        var pos, val;\n        if (typeof value === 'number') {\n            volumebar.value = value;\n        }\n        pos = volumeBar.value / 100;\n        logger.log(' volume from ', video.volume, ' to ', pos);\n\n        if (pos > 0.6) {\n            muteBtn.classList.remove('fj-icon-mute');\n            muteBtn.classList.remove('fj-icon-volDown');\n            muteBtn.classList.add('fj-icon-volUp');\n        } else if (pos > 0) {\n            muteBtn.classList.remove('fj-icon-mute');\n            muteBtn.classList.remove('fj-icon-volUp');\n            muteBtn.classList.add('fj-icon-volDown');\n        } else {\n            muteBtn.classList.remove('fj-icon-volDown');\n            muteBtn.classList.remove('fj-icon-volUp');\n            muteBtn.classList.add('fj-icon-mute');\n        }\n\n        video.volume = pos;\n        logger.log(' new volume is ', pos);\n    };\n\n    function setDuration(value) {\n        if (!isNaN(value)) {\n            mediaDuration = value;\n            durationDisplay.textContent = Utils.duration(value);\n            progressBar.max = value;\n        }\n    }\n\n    function UpdateProgress(value) {\n        if (!isNaN(value)) {\n            timer.textContent = Utils.duration(value);\n            progressBar.value = value;\n        }\n    }\n\n    function setTitle(ltitle) {\n        document.getElementById(titleId).innerHTML = ltitle;\n        document.getElementById(descriptionId).innerHTML = ltitle;\n    }\n\n    function getVideo() {\n        return video;\n    }\n\n    function getErrorDivId() {\n        return errorDivId;\n    }\n\n    function getAdsContainerDivId() {\n        return adsContainerDivId;\n    }\n\n    function getOverlaysContainerDivId() {\n        return overlaysContainerDivId;\n    }\n\n    function SetupThumbsManager(videoDuration, thumbsTrackIndex) {\n        if (thumbsTrackIndex !== null) {\n            return ThumbsMgr.Setup(getVideo(), videoDuration, thumbsTrackIndex);\n        }\n        return ThumbsMgr.reset();\n    }\n\n    function getVideoFigure() {\n        return videoControllerFigure;\n    }\n\n    function onResizeWindow() {\n        var intViewportWidth = window.innerWidth;\n        var intViewportHeight = window.innerHeight;\n        var newPercentage = intViewportWidth / holdWidth * 100 + \"%\";\n        var fjplayer = document.getElementById('playercontainer');\n        fjplayer.style.fontSize = newPercentage;\n        console.error(holdWidth, \" RESIED !!!!!!!!!!!!! \", intViewportWidth, '/', holdWidth, '>>>>>', newPercentage);\n    }\n\n    function onLoadWindow() {\n        console.error(holdWidth, \" LOADED ##########################\");\n        holdWidth = window.innerWidth;\n    }\n\n    function initialize(mainPlayer) {\n        create(videoContainerId);\n        fjMainPlayer = mainPlayer;\n        if (!fjMainPlayer) {\n            throw new Error('Please pass an instance of player when instantiating');\n        }\n\n        playerMenus = new _Menus2.default(video, subtitlesBtnId, audiosBtnId, menuContainerDivId);\n\n        // OverlaysMgr = new Overlays(this.video, document.getElementById(this.overlaysContainerDivId));\n        videoControllerFigure.addEventListener('mouseleave', magicMouseLeave);\n        videoControllerFigure.addEventListener('mouseenter', magicMouseEnter);\n        videoControllerFigure.addEventListener('mousemove', magicMouseMove);\n        BigPlayBtn.addEventListener('click', onplaypauseClick);\n        video.addEventListener('click', onplaypauseClick);\n        video.addEventListener('dblclick', handleFullscreen);\n        volumeBar.addEventListener('click', OnvbClick);\n        playpauseBtn.addEventListener('click', onplaypauseClick);\n        muteBtn.addEventListener('click', onmuteClick);\n        fullScreenBtn.addEventListener('click', handleFullscreen);\n        progressBar.addEventListener('click', onprogressClick);\n\n        // window.addEventListener('resize', onResizeWindow);\n        // window.addEventListener('load', onResizeWindow); // too late to catch event\n\n        document.addEventListener('fullscreenchange', onFullScreenChange);\n        document.addEventListener('MSFullscreenChange', onFullScreenChange);\n        document.addEventListener('mozfullscreenchange', onFullScreenChange);\n        document.addEventListener('webkitfullscreenchange', onFullScreenChange);\n\n        // progress bar\n        progressBar.min = 0;\n        progressBar.step = 0.01;\n        progressBar.value = 0;\n        // volume bar\n        volumeBar.min = 0;\n        volumeBar.step = 1;\n        volumeBar.max = 100;\n        volumeBar.value = 100;\n        initialized = true;\n    }\n\n    function hideVideo() {\n        BigPlayBtn.style.display = 'none';\n        videoInfo.style.display = 'none';\n        video.style.display = 'none';\n        videoController.style.display = 'none';\n    }\n\n    function ShowVideo() {\n        BigPlayBtn.style.display = 'block';\n        videoInfo.style.display = 'block';\n        video.style.display = 'block';\n        videoController.style.display = 'block';\n    }\n\n    function ShowSpinner() {\n        spinner.classList.remove('fj-hide');\n    }\n\n    function HideSpinner() {\n        if (spinner.classList.contains('fj-hide') === false) {\n            spinner.classList.add('fj-hide');\n        }\n    }\n\n    function disable() {\n        videoController.classList.add('disable');\n    }\n\n    function enable() {\n        videoController.classList.remove('disable');\n    }\n\n    function getVideoCaption() {\n        var ele = document.getElementById(videoCaptionId);\n        return ele;\n    }\n\n    function reset() {\n        if (initialized !== true) {\n            logger.warn('not yet initialized');\n            return;\n        }\n        console.warn(\" >>> Resetting player ui !!\");\n        ThumbsMgr.reset();\n        // OverlaysMgr = new Overlays(this.video, document.getElementById(this.overlaysContainerDivId));\n        videoControllerFigure.removeEventListener('mouseleave', magicMouseLeave);\n        videoControllerFigure.removeEventListener('mouseenter', magicMouseEnter);\n        videoControllerFigure.removeEventListener('mousemove', magicMouseMove);\n\n        BigPlayBtn.removeEventListener('click', onplaypauseClick);\n        video.removeEventListener('click', onplaypauseClick);\n        video.removeEventListener('dblclick', handleFullscreen);\n        volumeBar.removeEventListener('click', OnvbClick);\n        playpauseBtn.removeEventListener('click', onplaypauseClick);\n        muteBtn.removeEventListener('click', onmuteClick);\n        fullScreenBtn.removeEventListener('click', handleFullscreen);\n        progressBar.removeEventListener('click', onprogressClick);\n\n        /*\n        window.removeEventListener('resize', onResizeWindow);\n        window.removeEventListener('load', onResizeWindow);\n        */\n\n        document.removeEventListener('fullscreenchange', onFullScreenChange);\n        document.removeEventListener('MSFullscreenChange', onFullScreenChange);\n        document.removeEventListener('mozfullscreenchange', onFullScreenChange);\n        document.removeEventListener('webkitfullscreenchange', onFullScreenChange);\n\n        toggleplaypauseBtn();\n    }\n    // ************************************************************************************\n    // PUBLIC API\n    // ************************************************************************************\n    return {\n        setVolume: setVolume,\n        setDuration: setDuration,\n        UpdateProgress: UpdateProgress,\n        setTitle: setTitle,\n        getVideo: getVideo,\n        getAdsContainerDivId: getAdsContainerDivId,\n        getErrorDivId: getErrorDivId,\n        getOverlaysContainerDivId: getOverlaysContainerDivId,\n        SetupThumbsManager: SetupThumbsManager,\n        SetupSubsAudsManager: SetupSubsAudsManager,\n        getVideoFigure: getVideoFigure,\n        initialize: initialize,\n        toggleplaypauseBtn: toggleplaypauseBtn,\n        getVideoCaption: getVideoCaption,\n        hideVideo: hideVideo,\n        ShowVideo: ShowVideo,\n        disable: disable,\n        enable: enable,\n        reset: reset,\n        ShowSpinner: ShowSpinner,\n        HideSpinner: HideSpinner,\n        onplaypauseClick: onplaypauseClick,\n        goForError: goForError,\n        constructor: PlayerUi\n    };\n};\n\nexports.default = PlayerUi;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL3VpL1BsYXllclVpLmpzP2I0YjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IExvZ2dlciBmcm9tICcuLi91dGlscy9Mb2dnZXInO1xuaW1wb3J0IFRodW1icyBmcm9tICcuLi91aS8vVGh1bWJzJztcbmltcG9ydCBNZW51cyBmcm9tICcuLi91aS9NZW51cyc7XG5pbXBvcnQgKiBhcyBVdGlscyBmcm9tICcuLi91dGlscy9VdGlscyc7XG5pbXBvcnQgdG1wbCBmcm9tICcuLi91aS9manBsYXllci10bXBsJztcbnJlcXVpcmUoJy4uLy4uL2Nzcy9wbGF5ZXIubGVzcycpO1xuLy8gcmVxdWlyZSgnLi4vY3NzL2ZqZmEuY3NzJyk7XG5cblxuLyoqXG4gKiBAbW9kdWxlIFBsYXllclVpXG4gKiBAZGVzY3JpcHRpb24gVGhlIFBsYXllclVpIGlzIHRoZSBodG1sIFVJIGZvciB0aGUgcGxheWVyXG4gKlxuICovXG5mdW5jdGlvbiBQbGF5ZXJVaSh2aWRlb0NvbnRJZCwgVldpZHRoLCBXSGVpZ2h0KSB7XG4gICAgdmFyIGxvZ2dlciA9IG5ldyBMb2dnZXIodGhpcyksXG4gICAgICAgIG1lZGlhRHVyYXRpb24gPSAwLFxuICAgICAgICBob2xkV2lkdGggPSAwLFxuICAgICAgICBmak1haW5QbGF5ZXIgPSBudWxsLFxuICAgICAgICB2aWRlb0NvbnRhaW5lcklkID0gdmlkZW9Db250SWQsXG4gICAgICAgIGZ1bGxTY3JlZW5PblN0YXJ0ID0gZmFsc2UsXG4gICAgICAgIHZ3aWR0aCA9IFZXaWR0aCxcbiAgICAgICAgdmhlaWdodCA9IFdIZWlnaHQsXG4gICAgICAgIGV4cGFuZFNjcmVlbiA9IGZhbHNlLFxuICAgICAgICBwbGF5ZXJNZW51cyA9IG51bGwsXG4gICAgICAgIHRpbWVvdXQgPSBudWxsLFxuICAgICAgICBpbml0aWFsaXplZCA9IGZhbHNlLFxuICAgICAgICBIaWRlQ29udHJvbHNUaW1lb3V0ID0gMTUwMCxcbiAgICAgICAgaWQgPSBEYXRlLm5vdygpLnRvU3RyaW5nKCkuc3Vic3RyKDYpLFxuICAgICAgICB0aW1lcklkID0gJ3RyZCcgKyBpZCxcbiAgICAgICAgZHVyYXRpb25JZCA9ICdkcmQnICsgaWQsXG4gICAgICAgIHRpdGxlSWQgPSAndGxkJyArIGlkLFxuICAgICAgICBlcnJvckRpdklkID0gJ2VycmQnICsgaWQsXG4gICAgICAgIHNwaW5uZXJJZCA9ICdzcGluJyArIGlkLFxuICAgICAgICBCaWdQbGF5QnRuSWQgPSAnYnAnICsgaWQsXG4gICAgICAgIHZpZGVvQ2FwdGlvbklkID0gJ3ZjcCcgKyBpZCxcbiAgICAgICAgdmlkZW9JbmZvSWQgPSAndmlmJyArIGlkLFxuICAgICAgICB2aWRlb0ZpZ3VyZUlkID0gJ3ZmZycgKyBpZCxcbiAgICAgICAgdmlkZW9JZCA9ICd2b2knICsgaWQsXG4gICAgICAgIHZpZGVvQ29udHJvbHNJZCA9ICd2Y3QnICsgaWQsXG4gICAgICAgIHBsYXlwYXVzZUJ0bklkID0gJ3BwYicgKyBpZCxcbiAgICAgICAgcGxheXByZXZpb3VzQnRuSWQgPSAncHByYicgKyBpZCxcbiAgICAgICAgcGxheWZvcndhcmRCdG5JZCA9ICdwcGZiJyArIGlkLFxuICAgICAgICBtdXRlQnRuSWQgPSAnbWJ0JyArIGlkLFxuICAgICAgICB2b2x1bWVCYXJJZCA9ICd2YnInICsgaWQsXG4gICAgICAgIHZvbHVtZURpdklkID0gJ3Z2ZCcgKyBpZCxcbiAgICAgICAgc3VidGl0bGVzQnRuSWQgPSAnc3ViZCcgKyBpZCxcbiAgICAgICAgYXVkaW9zQnRuSWQgPSAnYXVkYicgKyBpZCxcbiAgICAgICAgcHJvZ3Jlc3NCYXJJZCA9ICdwZ2InICsgaWQsXG4gICAgICAgIGZ1bGxTY3JlZW5CdG5JZCA9ICdmc2InICsgaWQsXG4gICAgICAgIHRodW1ic0RpdklkID0gJ3RiZCcgKyBpZCxcbiAgICAgICAgdGh1bWJzSW1nSWQgPSAndGJpJyArIGlkLFxuICAgICAgICB0aHVtYnN0aW1lcklkID0gJ3RidCcgKyBpZCxcbiAgICAgICAgYWRzQ29udGFpbmVyRGl2SWQgPSAnYWRzY2QnICsgaWQsXG4gICAgICAgIG92ZXJsYXlzQ29udGFpbmVyRGl2SWQgPSAnb3ZzY2QnICsgaWQsXG4gICAgICAgIG1lbnVDb250YWluZXJEaXZJZCA9ICdtbmNkJyArIGlkLFxuICAgICAgICBkZXNjcmlwdGlvbklkID0gJ2Rlc2MnICsgaWQsXG4gICAgICAgIHZpZGVvQ29udGFpbmVyLFxuICAgICAgICB2aWRlbyA9IG51bGwsXG4gICAgICAgIHZpZGVvQ29udHJvbGxlcixcbiAgICAgICAgc3Bpbm5lciA9IG51bGwsXG4gICAgICAgIHZpZGVvQ29udHJvbGxlckZpZ3VyZSxcbiAgICAgICAgcGxheXBhdXNlQnRuLFxuICAgICAgICBwbGF5cHJldmlvdXNCdG4sXG4gICAgICAgIHBsYXlmb3J3YXJkQnRuLFxuICAgICAgICBtdXRlQnRuLFxuICAgICAgICB2b2x1bWVCYXIsXG4gICAgICAgIHByb2dyZXNzQmFyLFxuICAgICAgICBmdWxsU2NyZWVuQnRuLFxuICAgICAgICB0aW1lcixcbiAgICAgICAgZHVyYXRpb25EaXNwbGF5LFxuICAgICAgICB2aWRlb0ZpZ3VyZSxcbiAgICAgICAgQmlnUGxheUJ0bixcbiAgICAgICAgdm9sdW1lYmFyLFxuICAgICAgICBUaHVtYnNNZ3IgPSBudWxsLFxuICAgICAgICB2aWRlb0NvbnRyb2xzLFxuICAgICAgICB2aWRlb0luZm8sXG4gICAgICAgIGZ1bGxTY3JlZW5FbmFibGVkID0gdHJ1ZTtcblxuICAgIGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICAgICAgdmFyIGRhdGEgPSB7XG4gICAgICAgICAgICAndmlkZW9GaWd1cmVJZCc6IHZpZGVvRmlndXJlSWQsXG4gICAgICAgICAgICAnZnVsbFNjcmVlbk9uU3RhcnQnOiBmdWxsU2NyZWVuT25TdGFydCxcbiAgICAgICAgICAgICd2aWRlb0lkJzogdmlkZW9JZCxcbiAgICAgICAgICAgICd2d2lkdGgnOiB2d2lkdGgsXG4gICAgICAgICAgICAndmlkZW9JbmZvSWQnOiB2aWRlb0luZm9JZCxcbiAgICAgICAgICAgICd0aXRsZUlkJzogdGl0bGVJZCxcbiAgICAgICAgICAgICdlcnJvckRpdklkJzogZXJyb3JEaXZJZCxcbiAgICAgICAgICAgICdzcGlubmVySWQnOiBzcGlubmVySWQsXG4gICAgICAgICAgICAnQmlnUGxheUJ0bklkJzogQmlnUGxheUJ0bklkLFxuICAgICAgICAgICAgJ3ZpZGVvQ2FwdGlvbklkJzogdmlkZW9DYXB0aW9uSWQsXG4gICAgICAgICAgICAndGh1bWJzRGl2SWQnOiB0aHVtYnNEaXZJZCxcbiAgICAgICAgICAgICd0aHVtYnNJbWdJZCc6IHRodW1ic0ltZ0lkLFxuICAgICAgICAgICAgJ3RodW1ic3RpbWVySWQnOiB0aHVtYnN0aW1lcklkLFxuICAgICAgICAgICAgJ21lbnVDb250YWluZXJEaXZJZCc6IG1lbnVDb250YWluZXJEaXZJZCxcbiAgICAgICAgICAgICdhZHNDb250YWluZXJEaXZJZCc6IGFkc0NvbnRhaW5lckRpdklkLFxuICAgICAgICAgICAgJ3ZpZGVvQ29udHJvbHNJZCc6IHZpZGVvQ29udHJvbHNJZCxcbiAgICAgICAgICAgICdwcm9ncmVzc0JhcklkJzogcHJvZ3Jlc3NCYXJJZCxcbiAgICAgICAgICAgICdwbGF5cHJldmlvdXNCdG5JZCc6IHBsYXlwcmV2aW91c0J0bklkLFxuICAgICAgICAgICAgJ3BsYXlwYXVzZUJ0bklkJzogcGxheXBhdXNlQnRuSWQsXG4gICAgICAgICAgICAncGxheWZvcndhcmRCdG5JZCc6IHBsYXlmb3J3YXJkQnRuSWQsXG4gICAgICAgICAgICAnbXV0ZUJ0bklkJzogbXV0ZUJ0bklkLFxuICAgICAgICAgICAgJ3ZvbHVtZURpdklkJzogdm9sdW1lRGl2SWQsXG4gICAgICAgICAgICAndm9sdW1lQmFySWQnOiB2b2x1bWVCYXJJZCxcbiAgICAgICAgICAgICdkZXNjcmlwdGlvbklkJzogZGVzY3JpcHRpb25JZCxcbiAgICAgICAgICAgICdmdWxsU2NyZWVuQnRuSWQnOiBmdWxsU2NyZWVuQnRuSWQsXG4gICAgICAgICAgICAnc3VidGl0bGVzQnRuSWQnOiBzdWJ0aXRsZXNCdG5JZCxcbiAgICAgICAgICAgICdhdWRpb3NCdG5JZCc6IGF1ZGlvc0J0bklkLFxuICAgICAgICAgICAgJ3RpbWVySWQnOiB0aW1lcklkLFxuICAgICAgICAgICAgJ2R1cmF0aW9uSWQnOiBkdXJhdGlvbklkLFxuICAgICAgICAgICAgJ292ZXJsYXlzQ29udGFpbmVyRGl2SWQnOiBvdmVybGF5c0NvbnRhaW5lckRpdklkXG4gICAgICAgIH07XG5cbiAgICAgICAgbG9nZ2VyLmluZm8oJyBjb250YWluZXIgaWYgb2YgdGhlIHBsYXllciAnLCB2aWRlb0NvbnRhaW5lcklkKTtcbiAgICAgICAgdmlkZW9Db250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh2aWRlb0NvbnRhaW5lcklkKTtcbiAgICAgICAgaWYgKCF2aWRlb0NvbnRhaW5lcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgdmlkZW8gY29udGFpbmVyIGVsZW1lbnQgc3RpbGwgbnVsbCcpO1xuICAgICAgICB9XG4gICAgICAgIHZpZGVvQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2ZqUGxheWVyJyk7XG4gICAgICAgIHZpZGVvQ29udGFpbmVyLmlubmVySFRNTCA9IG5ldyB0bXBsKCkuR2V0SHRtbChkYXRhKTtcbiAgICAgICAgdmlkZW8gPSBudWxsO1xuICAgICAgICB2aWRlb0NvbnRhaW5lciA9IG51bGw7XG4gICAgICAgIHZpZGVvQ29udHJvbGxlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHZpZGVvQ29udHJvbHNJZCk7XG4gICAgICAgIHZpZGVvQ29udHJvbGxlckZpZ3VyZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHZpZGVvRmlndXJlSWQpO1xuICAgICAgICBzcGlubmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc3Bpbm5lcklkKTtcbiAgICAgICAgdmlkZW8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh2aWRlb0lkKTtcbiAgICAgICAgaWYgKCF2aWRlbykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgdmlkZW8gZWxlbWVudCBzdGlsbCBudWxsJyk7XG4gICAgICAgIH1cbiAgICAgICAgcGxheXBhdXNlQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocGxheXBhdXNlQnRuSWQpO1xuICAgICAgICBwbGF5cHJldmlvdXNCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwbGF5cHJldmlvdXNCdG5JZCk7XG4gICAgICAgIHBsYXlmb3J3YXJkQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocGxheWZvcndhcmRCdG5JZCk7XG5cbiAgICAgICAgbXV0ZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG11dGVCdG5JZCk7XG4gICAgICAgIHZvbHVtZUJhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHZvbHVtZUJhcklkKTtcbiAgICAgICAgcHJvZ3Jlc3NCYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwcm9ncmVzc0JhcklkKTtcbiAgICAgICAgZnVsbFNjcmVlbkJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGZ1bGxTY3JlZW5CdG5JZCk7XG4gICAgICAgIHRpbWVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGltZXJJZCk7XG4gICAgICAgIGR1cmF0aW9uRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGR1cmF0aW9uSWQpO1xuXG4gICAgICAgIHZpZGVvRmlndXJlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodmlkZW9GaWd1cmVJZCk7XG4gICAgICAgIEJpZ1BsYXlCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChCaWdQbGF5QnRuSWQpO1xuXG4gICAgICAgIHZpZGVvQ29udHJvbHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh2aWRlb0NvbnRyb2xzSWQpO1xuICAgICAgICB2aWRlb0luZm8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh2aWRlb0luZm9JZCk7XG4gICAgICAgIC8vIEhpZGUgdGhlIGRlZmF1bHQgY29udHJvbHNcbiAgICAgICAgdmlkZW8uY29udHJvbHMgPSBmYWxzZTtcbiAgICAgICAgLy8gRGlzcGxheSB0aGUgdXNlciBkZWZpbmVkIHZpZGVvIGNvbnRyb2xzXG4gICAgICAgIHZpZGVvRmlndXJlLnNldEF0dHJpYnV0ZSgnY29udHJvbHMtaGlkZGVuJywgdHJ1ZSk7XG4gICAgICAgIHZpZGVvQ29udHJvbHMuY2xhc3NMaXN0LmFkZCgnZmotaGlkZScpO1xuICAgICAgICB2aWRlb0luZm8uY2xhc3NMaXN0LnJlbW92ZSgnZmotaGlkZScpO1xuICAgICAgICAvLyBDcmVhdGUgVGh1bWJzIE9iamVjdFxuICAgICAgICBUaHVtYnNNZ3IgPSBuZXcgVGh1bWJzKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRodW1ic3RpbWVySWQpLFxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGh1bWJzSW1nSWQpLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aHVtYnNEaXZJZCksIHByb2dyZXNzQmFyKTtcblxuICAgICAgICBpZiAoZnVsbFNjcmVlbk9uU3RhcnQgPT09ICd0cnVlJykge1xuICAgICAgICAgICAgdmlkZW9GaWd1cmUuc2V0QXR0cmlidXRlKCdkYXRhLWZ1bGxzY3JlZW4nLCAndHJ1ZScpO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZSBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCB0aGUgRnVsc2NyZWVuIEFQSSB0aGVuIGhpZGUgdGhlIGZ1bGxzY3JlZW4gYnV0dG9uXG4gICAgICAgIGlmICghZnVsbFNjcmVlbkVuYWJsZWQpIHtcbiAgICAgICAgICAgIGZ1bGxTY3JlZW5CdG4uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICAvLyBQTEFZQkFDS1xuICAgIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIGZ1bmN0aW9uIG9ucGxheXBhdXNlQ2xpY2soKSB7XG4gICAgICAgIGlmIChmak1haW5QbGF5ZXIuaXNQYXVzZWQoKSB8fCBmak1haW5QbGF5ZXIuaXNFbmRlZCgpKSB7XG4gICAgICAgICAgICBmak1haW5QbGF5ZXIucGxheSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZmpNYWluUGxheWVyLnBhdXNlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0b2dnbGVwbGF5cGF1c2VCdG4oKSB7XG4gICAgICAgIGlmIChmak1haW5QbGF5ZXIuaXNQbGF5aW5nQWRzKCkpIHtcbiAgICAgICAgICAgIC8vIGhpZGUgYmlnIHBsYXkgYnV0dG9uXG4gICAgICAgICAgICBCaWdQbGF5QnRuLmNsYXNzTGlzdC5hZGQoJ2ZqLWhpZGUnKTtcbiAgICAgICAgICAgIC8vIGhpZGUgdmlkZW8gY29udHJvbHNcbiAgICAgICAgICAgIHZpZGVvRmlndXJlLnNldEF0dHJpYnV0ZSgnY29udHJvbHMtaGlkZGVuJywgdHJ1ZSk7XG4gICAgICAgICAgICB2aWRlb0NvbnRyb2xzLmNsYXNzTGlzdC5hZGQoJ2ZqLWhpZGUnKTtcbiAgICAgICAgICAgIHBsYXllck1lbnVzLkhpZGVNZW51cygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGZqTWFpblBsYXllci5pc1BhdXNlZCgpIHx8IGZqTWFpblBsYXllci5pc0VuZGVkKCkpIHtcbiAgICAgICAgICAgICAgICBwbGF5cGF1c2VCdG4uY2xhc3NMaXN0LmFkZCgnZmotaWNvbi1wbGF5Jyk7XG4gICAgICAgICAgICAgICAgcGxheXBhdXNlQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2ZqLWljb24tcGF1c2UnKTtcbiAgICAgICAgICAgICAgICAvLyBzaG93IGJpZyBwbGF5IGJ1dHRvblxuICAgICAgICAgICAgICAgIEJpZ1BsYXlCdG4uY2xhc3NMaXN0LnJlbW92ZSgnZmotaGlkZScpO1xuICAgICAgICAgICAgICAgIC8vIGhpZGUgdmlkZW8gY29udHJvbHNcbiAgICAgICAgICAgICAgICB2aWRlb0ZpZ3VyZS5zZXRBdHRyaWJ1dGUoJ2NvbnRyb2xzLWhpZGRlbicsIHRydWUpO1xuICAgICAgICAgICAgICAgIHZpZGVvQ29udHJvbHMuY2xhc3NMaXN0LmFkZCgnZmotaGlkZScpO1xuICAgICAgICAgICAgICAgIHBsYXllck1lbnVzLkhpZGVNZW51cygpO1xuICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coJ1VJIGlzIHBhdXNpbmcgIScpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwbGF5cGF1c2VCdG4uY2xhc3NMaXN0LnJlbW92ZSgnZmotaWNvbi1wbGF5Jyk7XG4gICAgICAgICAgICAgICAgcGxheXBhdXNlQnRuLmNsYXNzTGlzdC5hZGQoJ2ZqLWljb24tcGF1c2UnKTtcbiAgICAgICAgICAgICAgICAvLyBoaWRlIGJpZyBwbGF5IGJ1dHRvblxuICAgICAgICAgICAgICAgIEJpZ1BsYXlCdG4uY2xhc3NMaXN0LmFkZCgnZmotaGlkZScpO1xuICAgICAgICAgICAgICAgIC8vIHNob3cgdmlkZW8gY29udHJvbHNcbiAgICAgICAgICAgICAgICB2aWRlb0ZpZ3VyZS5zZXRBdHRyaWJ1dGUoJ2NvbnRyb2xzLWhpZGRlbicsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB2aWRlb0NvbnRyb2xzLmNsYXNzTGlzdC5yZW1vdmUoJ2ZqLWhpZGUnKTtcbiAgICAgICAgICAgICAgICBsb2dnZXIubG9nKCdVSSBpcyBwbGF5aW5nICEnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1hZ2ljTW91c2VMZWF2ZSgpIHtcbiAgICAgICAgaWYgKCFmak1haW5QbGF5ZXIuaXNQYXVzZWQoKSAmJiAhZmpNYWluUGxheWVyLmlzRW5kZWQoKSAmJiAhZmpNYWluUGxheWVyLmlzUGxheWluZ0FkcygpKSB7XG4gICAgICAgICAgICB2aWRlb0ZpZ3VyZS5zZXRBdHRyaWJ1dGUoJ2NvbnRyb2xzLWhpZGRlbicsIHRydWUpO1xuICAgICAgICAgICAgLy8gZGVsZXRlIGZhZGVJblxuICAgICAgICAgICAgdmlkZW9Db250cm9scy5jbGFzc0xpc3QucmVtb3ZlKCdtLWZhZGVJbicpO1xuICAgICAgICAgICAgdmlkZW9JbmZvLmNsYXNzTGlzdC5yZW1vdmUoJ20tZmFkZUluJyk7XG4gICAgICAgICAgICAvLyBhZGQgZmFkZU91dFxuICAgICAgICAgICAgdmlkZW9Db250cm9scy5jbGFzc0xpc3QuYWRkKCdtLWZhZGVPdXQnKTtcbiAgICAgICAgICAgIHZpZGVvSW5mby5jbGFzc0xpc3QuYWRkKCdtLWZhZGVPdXQnKTtcbiAgICAgICAgICAgIC8vIG90aGVyXG4gICAgICAgICAgICB2aWRlby5zdHlsZS5jdXJzb3IgPSAnbm9uZSc7XG4gICAgICAgICAgICBwbGF5ZXJNZW51cy5IaWRlTWVudXMoKTtcbiAgICAgICAgICAgIFRodW1ic01nci5oaWRlVGh1bWJzKFRodW1ic01ncik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYWdpY01vdXNlRW50ZXIoKSB7XG4gICAgICAgIGlmICghZmpNYWluUGxheWVyLmlzUGF1c2VkKCkgJiYgIWZqTWFpblBsYXllci5pc0VuZGVkKCkgJiYgIWZqTWFpblBsYXllci5pc1BsYXlpbmdBZHMoKSkge1xuICAgICAgICAgICAgdmlkZW9GaWd1cmUuc2V0QXR0cmlidXRlKCdjb250cm9scy1oaWRkZW4nLCBmYWxzZSk7XG4gICAgICAgICAgICAvLyBkZWxldGUgZmFkZU91dFxuICAgICAgICAgICAgdmlkZW9Db250cm9scy5jbGFzc0xpc3QucmVtb3ZlKCdtLWZhZGVPdXQnKTtcbiAgICAgICAgICAgIHZpZGVvSW5mby5jbGFzc0xpc3QucmVtb3ZlKCdtLWZhZGVPdXQnKTtcbiAgICAgICAgICAgIC8vIGFkZCBmYWRlaW5cbiAgICAgICAgICAgIHZpZGVvQ29udHJvbHMuY2xhc3NMaXN0LmFkZCgnbS1mYWRlSW4nKTtcbiAgICAgICAgICAgIHZpZGVvSW5mby5jbGFzc0xpc3QuYWRkKCdtLWZhZGVJbicpO1xuICAgICAgICAgICAgLy8gb3RoZXJcbiAgICAgICAgICAgIHZpZGVvLnN0eWxlLmN1cnNvciA9ICdhdXRvJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1hZ2ljTW91c2VNb3ZlKCkge1xuICAgICAgICBpZiAoIWZqTWFpblBsYXllci5pc1BhdXNlZCgpICYmICFmak1haW5QbGF5ZXIuaXNFbmRlZCgpICYmICFmak1haW5QbGF5ZXIuaXNQbGF5aW5nQWRzKCkpIHtcbiAgICAgICAgICAgIGlmICh2aWRlby5zdHlsZS5jdXJzb3IgPT09ICdub25lJykge1xuICAgICAgICAgICAgICAgIG1hZ2ljTW91c2VFbnRlcigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodGltZW91dCkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBtYWdpY01vdXNlTGVhdmUoKTtcbiAgICAgICAgICAgICAgICB9LCBIaWRlQ29udHJvbHNUaW1lb3V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIFNldHVwU3Vic0F1ZHNNYW5hZ2VyKG1lZGlhcGxheWVyKSB7XG4gICAgICAgIHZhciBkb25lID0gZmFsc2U7XG4gICAgICAgIGRvbmUgPSBwbGF5ZXJNZW51cy5TZXR1cEF1ZHMobWVkaWFwbGF5ZXIpO1xuICAgICAgICBsb2dnZXIud2FybignIFdpbGwgc2V0dXAgQXVkaW8gbWVudSAgJywgZG9uZSk7XG4gICAgICAgIGlmIChkb25lICE9PSB0cnVlKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChhdWRpb3NCdG5JZCkuY2xhc3NMaXN0LmFkZCgnZmotaGlkZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYXVkaW9zQnRuSWQpLmNsYXNzTGlzdC5yZW1vdmUoJ2ZqLWhpZGUnKTtcbiAgICAgICAgfVxuICAgICAgICBkb25lID0gcGxheWVyTWVudXMuU2V0dXBTdWJzKG1lZGlhcGxheWVyKTtcbiAgICAgICAgbG9nZ2VyLndhcm4oJyBXaWxsIHNldHVwIFN1YnMgbWVudSAgJywgZG9uZSk7XG4gICAgICAgIGlmIChkb25lICE9PSB0cnVlKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzdWJ0aXRsZXNCdG5JZCkuY2xhc3NMaXN0LmFkZCgnZmotaGlkZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc3VidGl0bGVzQnRuSWQpLmNsYXNzTGlzdC5yZW1vdmUoJ2ZqLWhpZGUnKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgLy8gVk9MVU1FXG4gICAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiAgICBmdW5jdGlvbiBPbnZiQ2xpY2soZSkge1xuICAgICAgICB2YXIgcG9zID0gdm9sdW1lQmFyLnZhbHVlIC8gMTAwO1xuICAgICAgICBsb2dnZXIubG9nKCcgdm9sdW1lIGZyb20gJywgdmlkZW8udm9sdW1lLCAnIHRvICcsIHBvcyk7XG4gICAgICAgIGlmIChwb3MgPiAwLjYpIHtcbiAgICAgICAgICAgIG11dGVCdG4uY2xhc3NMaXN0LnJlbW92ZSgnZmotaWNvbi1tdXRlJyk7XG4gICAgICAgICAgICBtdXRlQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2ZqLWljb24tdm9sRG93bicpO1xuICAgICAgICAgICAgbXV0ZUJ0bi5jbGFzc0xpc3QuYWRkKCdmai1pY29uLXZvbFVwJyk7XG4gICAgICAgIH0gZWxzZSBpZiAocG9zID4gMCkge1xuICAgICAgICAgICAgbXV0ZUJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdmai1pY29uLW11dGUnKTtcbiAgICAgICAgICAgIG11dGVCdG4uY2xhc3NMaXN0LnJlbW92ZSgnZmotaWNvbi12b2xVcCcpO1xuICAgICAgICAgICAgbXV0ZUJ0bi5jbGFzc0xpc3QuYWRkKCdmai1pY29uLXZvbERvd24nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG11dGVCdG4uY2xhc3NMaXN0LnJlbW92ZSgnZmotaWNvbi12b2xEb3duJyk7XG4gICAgICAgICAgICBtdXRlQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2ZqLWljb24tdm9sVXAnKTtcbiAgICAgICAgICAgIG11dGVCdG4uY2xhc3NMaXN0LmFkZCgnZmotaWNvbi1tdXRlJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmlkZW8udm9sdW1lID0gcG9zO1xuICAgICAgICBsb2dnZXIubG9nKCcgbmV3IHZvbHVtZSBpcyAnLCBwb3MpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBvbm11dGVDbGljayhlKSB7XG4gICAgICAgIHZpZGVvLm11dGVkID0gIXZpZGVvLm11dGVkO1xuICAgICAgICBpZiAodmlkZW8ubXV0ZWQpIHtcbiAgICAgICAgICAgIHZvbHVtZUJhci52YWx1ZSA9IDA7XG4gICAgICAgICAgICBtdXRlQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2ZqLWljb24tdm9sRG93bicpO1xuICAgICAgICAgICAgbXV0ZUJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdmai1pY29uLXZvbFVwJyk7XG4gICAgICAgICAgICBtdXRlQnRuLmNsYXNzTGlzdC5hZGQoJ2ZqLWljb24tbXV0ZScpO1xuICAgICAgICB9IGVsc2UgaWYgKHZpZGVvLnZvbHVtZSA+IDAuNikge1xuICAgICAgICAgICAgdm9sdW1lQmFyLnZhbHVlID0gdmlkZW8udm9sdW1lICogMTAwO1xuICAgICAgICAgICAgbXV0ZUJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdmai1pY29uLW11dGUnKTtcbiAgICAgICAgICAgIG11dGVCdG4uY2xhc3NMaXN0LnJlbW92ZSgnZmotaWNvbi12b2xEb3duJyk7XG4gICAgICAgICAgICBtdXRlQnRuLmNsYXNzTGlzdC5hZGQoJ2ZqLWljb24tdm9sVXAnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZvbHVtZUJhci52YWx1ZSA9IHZpZGVvLnZvbHVtZSAqIDEwMDtcbiAgICAgICAgICAgIG11dGVCdG4uY2xhc3NMaXN0LnJlbW92ZSgnZmotaWNvbi1tdXRlJyk7XG4gICAgICAgICAgICBtdXRlQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2ZqLWljb24tdm9sVXAnKTtcbiAgICAgICAgICAgIG11dGVCdG4uY2xhc3NMaXN0LmFkZCgnZmotaWNvbi12b2xEb3duJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICAvLyBTRUVLSU5HXG4gICAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgZnVuY3Rpb24gb25wcm9ncmVzc0NsaWNrKGV2ZW50KSB7XG4gICAgICAgIHZhciB2YWwgPSAwO1xuICAgICAgICAvLyB2YXIgcCA9IHByb2dyZXNzQmFyLnZhbHVlO1xuICAgICAgICB2YXIgcmVjdCA9IHByb2dyZXNzQmFyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB2YXIgcCA9IChldmVudC5wYWdlWCAtIHJlY3QubGVmdCkgKiAobWVkaWFEdXJhdGlvbiAvIChyZWN0LnJpZ2h0IC0gcmVjdC5sZWZ0KSk7XG4gICAgICAgIGxvZ2dlci5sb2coJyBTZWVraW5nIGZyb20gJywgVXRpbHMuZHVyYXRpb24ocCksICcvJyxcbiAgICAgICAgICAgIFV0aWxzLmR1cmF0aW9uKG1lZGlhRHVyYXRpb24pLCAndG8nLCBVdGlscy5kdXJhdGlvbihwKSwgJyBzZWMnKTtcbiAgICAgICAgZmpNYWluUGxheWVyLnNlZWsocCk7XG4gICAgfVxuICAgIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIC8vIEZVTExTQ1JFRU5cbiAgICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICBmdW5jdGlvbiBpc0Z1bGxTY3JlZW4oKSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudCB8fCBkb2N1bWVudC5tc0Z1bGxzY3JlZW5FbGVtZW50IHx8XG4gICAgICAgICAgICBkb2N1bWVudC5tb3pGdWxsU2NyZWVuIHx8IGRvY3VtZW50LndlYmtpdElzRnVsbFNjcmVlbjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRGdWxsc2NyZWVuRGF0YShzdGF0ZSkge1xuICAgICAgICB2aWRlb0ZpZ3VyZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtZnVsbHNjcmVlbicsICEhc3RhdGUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZUZ1bGxzY3JlZW4oKSB7XG4gICAgICAgIC8vIElmIGZ1bGxzY3JlZW4gbW9kZSBpcyBhY3RpdmUuLi5cbiAgICAgICAgaWYgKGlzRnVsbFNjcmVlbigpKSB7XG4gICAgICAgICAgICAvLyAuLi5leGl0IGZ1bGxzY3JlZW4gbW9kZVxuICAgICAgICAgICAgLy8gKE5vdGU6IHRoaXMgY2FuIG9ubHkgYmUgY2FsbGVkIG9uIGRvY3VtZW50KVxuICAgICAgICAgICAgaWYgKGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKSBkb2N1bWVudC5leGl0RnVsbHNjcmVlbigpO1xuICAgICAgICAgICAgZWxzZSBpZiAoZG9jdW1lbnQubW96Q2FuY2VsRnVsbFNjcmVlbikgZG9jdW1lbnQubW96Q2FuY2VsRnVsbFNjcmVlbigpO1xuICAgICAgICAgICAgZWxzZSBpZiAoZG9jdW1lbnQud2Via2l0Q2FuY2VsRnVsbFNjcmVlbikgZG9jdW1lbnQud2Via2l0Q2FuY2VsRnVsbFNjcmVlbigpO1xuICAgICAgICAgICAgZWxzZSBpZiAoZG9jdW1lbnQubXNFeGl0RnVsbHNjcmVlbikgZG9jdW1lbnQubXNFeGl0RnVsbHNjcmVlbigpO1xuICAgICAgICAgICAgc2V0RnVsbHNjcmVlbkRhdGEoZmFsc2UpO1xuICAgICAgICAgICAgZnVsbFNjcmVlbkJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdmai1pY29uLWNvbXByZXNzU2NyZWVuJyk7XG4gICAgICAgICAgICBmdWxsU2NyZWVuQnRuLmNsYXNzTGlzdC5hZGQoJ2ZqLWljb24tZnVsbFNjcmVlbicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZnVsbFNjcmVlbkJ0bi5jbGFzc0xpc3QuYWRkKCdmai1pY29uLWNvbXByZXNzU2NyZWVuJyk7XG4gICAgICAgICAgICBmdWxsU2NyZWVuQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2ZqLWljb24tZnVsbFNjcmVlbicpO1xuICAgICAgICAgICAgLy8gLi4ub3RoZXJ3aXNlIGVudGVyIGZ1bGxzY3JlZW4gbW9kZVxuICAgICAgICAgICAgLy8gKE5vdGU6IGNhbiBiZSBjYWxsZWQgb24gZG9jdW1lbnQsIGJ1dCBoZXJlIHRoZSBzcGVjaWZpYyBlbGVtZW50IGlzIHVzZWQgYXNcbiAgICAgICAgICAgIC8vIGl0IHdpbGwgYWxzbyBlbnN1cmUgdGhhdCB0aGUgZWxlbWVudCdzIGNoaWxkcmVuLCBlLmcuIHRoZSBjdXN0b20gY29udHJvbHMsIGdvIGZ1bGxzY3JlZW4gYWxzbylcbiAgICAgICAgICAgIGlmICh2aWRlb0ZpZ3VyZS5yZXF1ZXN0RnVsbHNjcmVlbikgdmlkZW9GaWd1cmUucmVxdWVzdEZ1bGxzY3JlZW4oKTtcbiAgICAgICAgICAgIGVsc2UgaWYgKHZpZGVvRmlndXJlLm1velJlcXVlc3RGdWxsU2NyZWVuKSB2aWRlb0ZpZ3VyZS5tb3pSZXF1ZXN0RnVsbFNjcmVlbigpO1xuICAgICAgICAgICAgZWxzZSBpZiAodmlkZW9GaWd1cmUud2Via2l0UmVxdWVzdEZ1bGxTY3JlZW4pIHtcbiAgICAgICAgICAgICAgICAvLyBTYWZhcmkgNS4xIG9ubHkgYWxsb3dzIHByb3BlciBmdWxsc2NyZWVuIG9uIHRoZSB2aWRlbyBlbGVtZW50LlxuICAgICAgICAgICAgICAgIC8vIFRoaXMgYWxzbyB3b3JrcyBmaW5lIG9uIG90aGVyIFdlYktpdFxuICAgICAgICAgICAgICAgIC8vIFpicm93c2VycyBhcyB0aGUgZm9sbG93aW5nIENTUyAoc2V0IGluIHN0eWxlcy5jc3MpIGhpZGVzIHRoZSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgLy8gY29udHJvbHMgdGhhdCBhcHBlYXIgYWdhaW4sIGFuZFxuICAgICAgICAgICAgICAgIC8vIGVuc3VyZXMgdGhhdCBvdXIgY3VzdG9tIGNvbnRyb2xzIGFyZSB2aXNpYmxlOlxuICAgICAgICAgICAgICAgIC8vIGZpZ3VyZVtkYXRhLWZ1bGxzY3JlZW49dHJ1ZV0gdmlkZW86Oi13ZWJraXQtbWVkaWEtY29udHJvbHMgeyBkaXNwbGF5Om5vbmUgIWltcG9ydGFudDsgfVxuICAgICAgICAgICAgICAgIC8vIGZpZ3VyZVtkYXRhLWZ1bGxzY3JlZW49dHJ1ZV0gLmNvbnRyb2xzIHsgei1pbmRleDoyMTQ3NDgzNjQ3OyB9XG4gICAgICAgICAgICAgICAgdmlkZW8ud2Via2l0UmVxdWVzdEZ1bGxTY3JlZW4oKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodmlkZW9GaWd1cmUubXNSZXF1ZXN0RnVsbHNjcmVlbikgdmlkZW9GaWd1cmUubXNSZXF1ZXN0RnVsbHNjcmVlbigpO1xuICAgICAgICAgICAgc2V0RnVsbHNjcmVlbkRhdGEodHJ1ZSk7XG5cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uRnVsbFNjcmVlbkNoYW5nZShlKSB7XG4gICAgICAgIGlmIChlLnR5cGUgPT09ICdmdWxsc2NyZWVuY2hhbmdlJykge1xuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIiBmdWxsc2NyZWVuY2hhbmdlID4+PiBGdWxsIFNjcmVuIGNoYW5nZWQgU3RhdHVzIFwiLCAhIShkb2N1bWVudC5mdWxsU2NyZWVuIHx8IGRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50KSk7XG4gICAgICAgICAgICBzZXRGdWxsc2NyZWVuRGF0YSghIShkb2N1bWVudC5mdWxsU2NyZWVuIHx8IGRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50KSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGUudHlwZSA9PT0gJ3dlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UnKSB7XG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiIHdlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UgPj4+IEZ1bGwgU2NyZW4gY2hhbmdlZCBTdGF0dXMgXCIsICEhZG9jdW1lbnQud2Via2l0SXNGdWxsU2NyZWVuKTtcbiAgICAgICAgICAgIHNldEZ1bGxzY3JlZW5EYXRhKCEhZG9jdW1lbnQud2Via2l0SXNGdWxsU2NyZWVuKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZS50eXBlID09PSAnbW96ZnVsbHNjcmVlbmNoYW5nZScpIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCIgbW96ZnVsbHNjcmVlbmNoYW5nZSA+Pj4gRnVsbCBTY3JlbiBjaGFuZ2VkIFN0YXR1cyBcIiwgISFkb2N1bWVudC5tb3pGdWxsU2NyZWVuKTtcbiAgICAgICAgICAgIHNldEZ1bGxzY3JlZW5EYXRhKCEhZG9jdW1lbnQubW96RnVsbFNjcmVlbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGUudHlwZSA9PT0gJ21zZnVsbHNjcmVlbmNoYW5nZScpIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCIgbXNmdWxsc2NyZWVuY2hhbmdlID4+PiBGdWxsIFNjcmVuIGNoYW5nZWQgU3RhdHVzIFwiLCAhIWRvY3VtZW50Lm1zRnVsbHNjcmVlbkVsZW1lbnQpO1xuICAgICAgICAgICAgc2V0RnVsbHNjcmVlbkRhdGEoISFkb2N1bWVudC5tc0Z1bGxzY3JlZW5FbGVtZW50KTtcbiAgICAgICAgfVxuXG4gICAgfVxuICAgIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIC8vIFBVQkxJQyBBUElcbiAgICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICBmdW5jdGlvbiBnb0ZvckVycm9yKCkge1xuICAgICAgICAvLyB1c2VkIHRvIHByZXBhcmUgdG8gc2hvdyBlcnJvclxuICAgICAgICBtYWdpY01vdXNlTGVhdmUoKTtcbiAgICAgICAgQmlnUGxheUJ0bi5jbGFzc0xpc3QuYWRkKCdmai1oaWRlJyk7XG5cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRWb2x1bWUodmFsdWUpIHtcbiAgICAgICAgdmFyIHBvcywgdmFsO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdm9sdW1lYmFyLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcG9zID0gdm9sdW1lQmFyLnZhbHVlIC8gMTAwO1xuICAgICAgICBsb2dnZXIubG9nKCcgdm9sdW1lIGZyb20gJywgdmlkZW8udm9sdW1lLCAnIHRvICcsIHBvcyk7XG5cbiAgICAgICAgaWYgKHBvcyA+IDAuNikge1xuICAgICAgICAgICAgbXV0ZUJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdmai1pY29uLW11dGUnKTtcbiAgICAgICAgICAgIG11dGVCdG4uY2xhc3NMaXN0LnJlbW92ZSgnZmotaWNvbi12b2xEb3duJyk7XG4gICAgICAgICAgICBtdXRlQnRuLmNsYXNzTGlzdC5hZGQoJ2ZqLWljb24tdm9sVXAnKTtcbiAgICAgICAgfSBlbHNlIGlmIChwb3MgPiAwKSB7XG4gICAgICAgICAgICBtdXRlQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2ZqLWljb24tbXV0ZScpO1xuICAgICAgICAgICAgbXV0ZUJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdmai1pY29uLXZvbFVwJyk7XG4gICAgICAgICAgICBtdXRlQnRuLmNsYXNzTGlzdC5hZGQoJ2ZqLWljb24tdm9sRG93bicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbXV0ZUJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdmai1pY29uLXZvbERvd24nKTtcbiAgICAgICAgICAgIG11dGVCdG4uY2xhc3NMaXN0LnJlbW92ZSgnZmotaWNvbi12b2xVcCcpO1xuICAgICAgICAgICAgbXV0ZUJ0bi5jbGFzc0xpc3QuYWRkKCdmai1pY29uLW11dGUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZpZGVvLnZvbHVtZSA9IHBvcztcbiAgICAgICAgbG9nZ2VyLmxvZygnIG5ldyB2b2x1bWUgaXMgJywgcG9zKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gc2V0RHVyYXRpb24odmFsdWUpIHtcbiAgICAgICAgaWYgKCFpc05hTih2YWx1ZSkpIHtcbiAgICAgICAgICAgIG1lZGlhRHVyYXRpb24gPSB2YWx1ZTtcbiAgICAgICAgICAgIGR1cmF0aW9uRGlzcGxheS50ZXh0Q29udGVudCA9IFV0aWxzLmR1cmF0aW9uKHZhbHVlKTtcbiAgICAgICAgICAgIHByb2dyZXNzQmFyLm1heCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gVXBkYXRlUHJvZ3Jlc3ModmFsdWUpIHtcbiAgICAgICAgaWYgKCFpc05hTih2YWx1ZSkpIHtcbiAgICAgICAgICAgIHRpbWVyLnRleHRDb250ZW50ID0gVXRpbHMuZHVyYXRpb24odmFsdWUpO1xuICAgICAgICAgICAgcHJvZ3Jlc3NCYXIudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldFRpdGxlKGx0aXRsZSkge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aXRsZUlkKS5pbm5lckhUTUwgPSBsdGl0bGU7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRlc2NyaXB0aW9uSWQpLmlubmVySFRNTCA9IGx0aXRsZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRWaWRlbygpIHtcbiAgICAgICAgcmV0dXJuIHZpZGVvO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldEVycm9yRGl2SWQoKSB7XG4gICAgICAgIHJldHVybiBlcnJvckRpdklkO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldEFkc0NvbnRhaW5lckRpdklkKCkge1xuICAgICAgICByZXR1cm4gYWRzQ29udGFpbmVyRGl2SWQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0T3ZlcmxheXNDb250YWluZXJEaXZJZCgpIHtcbiAgICAgICAgcmV0dXJuIG92ZXJsYXlzQ29udGFpbmVyRGl2SWQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gU2V0dXBUaHVtYnNNYW5hZ2VyKHZpZGVvRHVyYXRpb24sIHRodW1ic1RyYWNrSW5kZXgpIHtcbiAgICAgICAgaWYgKHRodW1ic1RyYWNrSW5kZXggIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBUaHVtYnNNZ3IuU2V0dXAoZ2V0VmlkZW8oKSwgdmlkZW9EdXJhdGlvbiwgdGh1bWJzVHJhY2tJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFRodW1ic01nci5yZXNldCgpO1xuXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0VmlkZW9GaWd1cmUoKSB7XG4gICAgICAgIHJldHVybiB2aWRlb0NvbnRyb2xsZXJGaWd1cmU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25SZXNpemVXaW5kb3coKSB7XG4gICAgICAgIHZhciBpbnRWaWV3cG9ydFdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgIHZhciBpbnRWaWV3cG9ydEhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgICAgdmFyIG5ld1BlcmNlbnRhZ2UgPSAoKGludFZpZXdwb3J0V2lkdGggLyBob2xkV2lkdGgpICogMTAwKSArIFwiJVwiO1xuICAgICAgICB2YXIgZmpwbGF5ZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGxheWVyY29udGFpbmVyJyk7XG4gICAgICAgIGZqcGxheWVyLnN0eWxlLmZvbnRTaXplID0gbmV3UGVyY2VudGFnZTtcbiAgICAgICAgY29uc29sZS5lcnJvcihob2xkV2lkdGgsIFwiIFJFU0lFRCAhISEhISEhISEhISEhIFwiLCBpbnRWaWV3cG9ydFdpZHRoLCAnLycsIGhvbGRXaWR0aCwgJz4+Pj4+JywgbmV3UGVyY2VudGFnZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25Mb2FkV2luZG93KCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKGhvbGRXaWR0aCwgXCIgTE9BREVEICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXCIpO1xuICAgICAgICBob2xkV2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbml0aWFsaXplKG1haW5QbGF5ZXIpIHtcbiAgICAgICAgY3JlYXRlKHZpZGVvQ29udGFpbmVySWQpO1xuICAgICAgICBmak1haW5QbGF5ZXIgPSBtYWluUGxheWVyO1xuICAgICAgICBpZiAoIWZqTWFpblBsYXllcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQbGVhc2UgcGFzcyBhbiBpbnN0YW5jZSBvZiBwbGF5ZXIgd2hlbiBpbnN0YW50aWF0aW5nJyk7XG4gICAgICAgIH1cblxuICAgICAgICBwbGF5ZXJNZW51cyA9IG5ldyBNZW51cyh2aWRlbywgc3VidGl0bGVzQnRuSWQsIGF1ZGlvc0J0bklkLCBtZW51Q29udGFpbmVyRGl2SWQpO1xuXG4gICAgICAgIC8vIE92ZXJsYXlzTWdyID0gbmV3IE92ZXJsYXlzKHRoaXMudmlkZW8sIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMub3ZlcmxheXNDb250YWluZXJEaXZJZCkpO1xuICAgICAgICB2aWRlb0NvbnRyb2xsZXJGaWd1cmUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIG1hZ2ljTW91c2VMZWF2ZSk7XG4gICAgICAgIHZpZGVvQ29udHJvbGxlckZpZ3VyZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgbWFnaWNNb3VzZUVudGVyKTtcbiAgICAgICAgdmlkZW9Db250cm9sbGVyRmlndXJlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG1hZ2ljTW91c2VNb3ZlKTtcbiAgICAgICAgQmlnUGxheUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9ucGxheXBhdXNlQ2xpY2spO1xuICAgICAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9ucGxheXBhdXNlQ2xpY2spO1xuICAgICAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKCdkYmxjbGljaycsIGhhbmRsZUZ1bGxzY3JlZW4pO1xuICAgICAgICB2b2x1bWVCYXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBPbnZiQ2xpY2spO1xuICAgICAgICBwbGF5cGF1c2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbnBsYXlwYXVzZUNsaWNrKTtcbiAgICAgICAgbXV0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9ubXV0ZUNsaWNrKTtcbiAgICAgICAgZnVsbFNjcmVlbkJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUZ1bGxzY3JlZW4pO1xuICAgICAgICBwcm9ncmVzc0Jhci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9ucHJvZ3Jlc3NDbGljayk7XG5cbiAgICAgICAgLy8gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIG9uUmVzaXplV2luZG93KTtcbiAgICAgICAgLy8gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBvblJlc2l6ZVdpbmRvdyk7IC8vIHRvbyBsYXRlIHRvIGNhdGNoIGV2ZW50XG5cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZnVsbHNjcmVlbmNoYW5nZScsIG9uRnVsbFNjcmVlbkNoYW5nZSk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ01TRnVsbHNjcmVlbkNoYW5nZScsIG9uRnVsbFNjcmVlbkNoYW5nZSk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vemZ1bGxzY3JlZW5jaGFuZ2UnLCBvbkZ1bGxTY3JlZW5DaGFuZ2UpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd3ZWJraXRmdWxsc2NyZWVuY2hhbmdlJywgb25GdWxsU2NyZWVuQ2hhbmdlKTtcblxuICAgICAgICAvLyBwcm9ncmVzcyBiYXJcbiAgICAgICAgcHJvZ3Jlc3NCYXIubWluID0gMDtcbiAgICAgICAgcHJvZ3Jlc3NCYXIuc3RlcCA9IDAuMDE7XG4gICAgICAgIHByb2dyZXNzQmFyLnZhbHVlID0gMDtcbiAgICAgICAgLy8gdm9sdW1lIGJhclxuICAgICAgICB2b2x1bWVCYXIubWluID0gMDtcbiAgICAgICAgdm9sdW1lQmFyLnN0ZXAgPSAxO1xuICAgICAgICB2b2x1bWVCYXIubWF4ID0gMTAwO1xuICAgICAgICB2b2x1bWVCYXIudmFsdWUgPSAxMDA7XG4gICAgICAgIGluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoaWRlVmlkZW8oKSB7XG4gICAgICAgIEJpZ1BsYXlCdG4uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgdmlkZW9JbmZvLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIHZpZGVvLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIHZpZGVvQ29udHJvbGxlci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIFNob3dWaWRlbygpIHtcbiAgICAgICAgQmlnUGxheUJ0bi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgdmlkZW9JbmZvLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICB2aWRlby5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgdmlkZW9Db250cm9sbGVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gU2hvd1NwaW5uZXIoKSB7XG4gICAgICAgIHNwaW5uZXIuY2xhc3NMaXN0LnJlbW92ZSgnZmotaGlkZScpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIEhpZGVTcGlubmVyKCkge1xuICAgICAgICBpZiAoc3Bpbm5lci5jbGFzc0xpc3QuY29udGFpbnMoJ2ZqLWhpZGUnKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHNwaW5uZXIuY2xhc3NMaXN0LmFkZCgnZmotaGlkZScpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGlzYWJsZSgpIHtcbiAgICAgICAgdmlkZW9Db250cm9sbGVyLmNsYXNzTGlzdC5hZGQoJ2Rpc2FibGUnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBlbmFibGUoKSB7XG4gICAgICAgIHZpZGVvQ29udHJvbGxlci5jbGFzc0xpc3QucmVtb3ZlKCdkaXNhYmxlJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0VmlkZW9DYXB0aW9uKCkge1xuICAgICAgICB2YXIgZWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodmlkZW9DYXB0aW9uSWQpO1xuICAgICAgICByZXR1cm4gZWxlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgICAgICBpZiAoaW5pdGlhbGl6ZWQgIT09IHRydWUpIHtcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKCdub3QgeWV0IGluaXRpYWxpemVkJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS53YXJuKFwiID4+PiBSZXNldHRpbmcgcGxheWVyIHVpICEhXCIpO1xuICAgICAgICBUaHVtYnNNZ3IucmVzZXQoKTtcbiAgICAgICAgLy8gT3ZlcmxheXNNZ3IgPSBuZXcgT3ZlcmxheXModGhpcy52aWRlbywgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5vdmVybGF5c0NvbnRhaW5lckRpdklkKSk7XG4gICAgICAgIHZpZGVvQ29udHJvbGxlckZpZ3VyZS5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgbWFnaWNNb3VzZUxlYXZlKTtcbiAgICAgICAgdmlkZW9Db250cm9sbGVyRmlndXJlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCBtYWdpY01vdXNlRW50ZXIpO1xuICAgICAgICB2aWRlb0NvbnRyb2xsZXJGaWd1cmUucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgbWFnaWNNb3VzZU1vdmUpO1xuXG4gICAgICAgIEJpZ1BsYXlCdG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbnBsYXlwYXVzZUNsaWNrKTtcbiAgICAgICAgdmlkZW8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbnBsYXlwYXVzZUNsaWNrKTtcbiAgICAgICAgdmlkZW8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignZGJsY2xpY2snLCBoYW5kbGVGdWxsc2NyZWVuKTtcbiAgICAgICAgdm9sdW1lQmFyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgT252YkNsaWNrKTtcbiAgICAgICAgcGxheXBhdXNlQnRuLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25wbGF5cGF1c2VDbGljayk7XG4gICAgICAgIG11dGVCdG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbm11dGVDbGljayk7XG4gICAgICAgIGZ1bGxTY3JlZW5CdG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVGdWxsc2NyZWVuKTtcbiAgICAgICAgcHJvZ3Jlc3NCYXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbnByb2dyZXNzQ2xpY2spO1xuXG4gICAgICAgIC8qXG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBvblJlc2l6ZVdpbmRvdyk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgb25SZXNpemVXaW5kb3cpO1xuICAgICAgICAqL1xuXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Z1bGxzY3JlZW5jaGFuZ2UnLCBvbkZ1bGxTY3JlZW5DaGFuZ2UpO1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdNU0Z1bGxzY3JlZW5DaGFuZ2UnLCBvbkZ1bGxTY3JlZW5DaGFuZ2UpO1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3pmdWxsc2NyZWVuY2hhbmdlJywgb25GdWxsU2NyZWVuQ2hhbmdlKTtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2Via2l0ZnVsbHNjcmVlbmNoYW5nZScsIG9uRnVsbFNjcmVlbkNoYW5nZSk7XG5cbiAgICAgICAgdG9nZ2xlcGxheXBhdXNlQnRuKCk7XG4gICAgfVxuICAgIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIC8vIFBVQkxJQyBBUElcbiAgICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICByZXR1cm4ge1xuICAgICAgICBzZXRWb2x1bWU6IHNldFZvbHVtZSxcbiAgICAgICAgc2V0RHVyYXRpb246IHNldER1cmF0aW9uLFxuICAgICAgICBVcGRhdGVQcm9ncmVzczogVXBkYXRlUHJvZ3Jlc3MsXG4gICAgICAgIHNldFRpdGxlOiBzZXRUaXRsZSxcbiAgICAgICAgZ2V0VmlkZW86IGdldFZpZGVvLFxuICAgICAgICBnZXRBZHNDb250YWluZXJEaXZJZDogZ2V0QWRzQ29udGFpbmVyRGl2SWQsXG4gICAgICAgIGdldEVycm9yRGl2SWQ6IGdldEVycm9yRGl2SWQsXG4gICAgICAgIGdldE92ZXJsYXlzQ29udGFpbmVyRGl2SWQ6IGdldE92ZXJsYXlzQ29udGFpbmVyRGl2SWQsXG4gICAgICAgIFNldHVwVGh1bWJzTWFuYWdlcjogU2V0dXBUaHVtYnNNYW5hZ2VyLFxuICAgICAgICBTZXR1cFN1YnNBdWRzTWFuYWdlcjogU2V0dXBTdWJzQXVkc01hbmFnZXIsXG4gICAgICAgIGdldFZpZGVvRmlndXJlOiBnZXRWaWRlb0ZpZ3VyZSxcbiAgICAgICAgaW5pdGlhbGl6ZTogaW5pdGlhbGl6ZSxcbiAgICAgICAgdG9nZ2xlcGxheXBhdXNlQnRuOiB0b2dnbGVwbGF5cGF1c2VCdG4sXG4gICAgICAgIGdldFZpZGVvQ2FwdGlvbjogZ2V0VmlkZW9DYXB0aW9uLFxuICAgICAgICBoaWRlVmlkZW86IGhpZGVWaWRlbyxcbiAgICAgICAgU2hvd1ZpZGVvOiBTaG93VmlkZW8sXG4gICAgICAgIGRpc2FibGU6IGRpc2FibGUsXG4gICAgICAgIGVuYWJsZTogZW5hYmxlLFxuICAgICAgICByZXNldDogcmVzZXQsXG4gICAgICAgIFNob3dTcGlubmVyOiBTaG93U3Bpbm5lcixcbiAgICAgICAgSGlkZVNwaW5uZXI6IEhpZGVTcGlubmVyLFxuICAgICAgICBvbnBsYXlwYXVzZUNsaWNrOiBvbnBsYXlwYXVzZUNsaWNrLFxuICAgICAgICBnb0ZvckVycm9yOiBnb0ZvckVycm9yLFxuICAgICAgICBjb25zdHJ1Y3RvcjogUGxheWVyVWlcbiAgICB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgUGxheWVyVWk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9qcy91aS9QbGF5ZXJVaS5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBK0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE5QkE7QUFDQTtBQWdDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF4QkE7QUEwQkE7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 16 */
/* unknown exports provided */
/* all exports used */
/*!*****************************!*\
  !*** ./src/js/ui/Thumbs.js ***!
  \*****************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _Logger = __webpack_require__(/*! ../utils/Logger */ 0);\n\nvar _Logger2 = _interopRequireDefault(_Logger);\n\nvar _Utils = __webpack_require__(/*! ../utils/Utils */ 4);\n\nvar Utils = _interopRequireWildcard(_Utils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n__webpack_require__(/*! ../../css/player.less */ 2);\n/**\n * @module Thumbs\n * @description The Thumbs module is responsible for rendering\n *  showing and hiding vtt pictures based on mousing mouse on progress bar.\n * @param vidElement the video element\n * @param vttThumbsTrackIndex the index of Vtt thumbs track in textTracks list of video\n * @param thumbImgElement the img element used for thumbs\n * @param thumbImgElement the div element used for thumbs\n * @param progressBarElement the progress element used for thumbs\n */\nfunction Thumbs(thtimer, thumbImgElement, thumbDivElement, progressBarElement) {\n    var logger = new _Logger2.default(this),\n        thumbsTrackIndex = -1,\n        video = null,\n        vidDuration = 0,\n        progressBar = progressBarElement,\n        thumbstimer = thtimer,\n        thumbsDiv = thumbDivElement,\n        thumbsImg = thumbImgElement;\n\n    function showThumbs() {\n        thumbsDiv.classList.remove('fj-hide');\n        thumbsDiv.classList.add('fj-show');\n    };\n\n    function hideThumbs() {\n        thumbsDiv.classList.remove('fj-show');\n        thumbsDiv.classList.add('fj-hide');\n    };\n\n    function renderThumbs(event) {\n        logger.warn('eventing Thumbs is', event);\n        // first we convert from mouse to time position ..\n        var c, i, url, xywh, left;\n        var rect = progressBar.getBoundingClientRect();\n        var p = (event.pageX - rect.left) * (vidDuration / (rect.right - rect.left));\n        var dur = Utils.duration(parseFloat(p));\n        if (p > vidDuration + 2 || p < 0) {\n            // some error ?\n            logger.warn(' Position is bigger than duration >>', p, vidDuration);\n            return;\n        }\n        logger.log(' current clicked  ', dur);\n        // update ui ..then we find the matching cue..\n        c = video.textTracks[thumbsTrackIndex].cues;\n        if (c == null) {\n            // track eleme,t is not supprted : Firefox\n            logger.error(' cues is null @ ', thumbsTrackIndex, ' not supported , Firefox ?');\n            return;\n        }\n\n        for (i = 0; i < c.length; i++) {\n            if (c[i].startTime <= p && c[i].endTime > p) {\n                break;\n            };\n        }\n        // ..next we unravel the JPG url and fragment query..\n        xywh = c[i].text.substr(c[i].text.indexOf('=') + 1).split(',');\n        left = -(rect.left - event.pageX + xywh[2] / 2);\n        // logger.log(' Render Thumbs  @ ', p, '#', dur, '  where pgX', event.pageX, ', displayed on left: ', left);\n        // ..and last we style the thumbnail overlay\n        url = 'url(' + c[i].text.split('#')[0] + ')';\n        // logger.log(' fetching thum from ', url);\n        thumbsImg.style.backgroundImage = url;\n        thumbsImg.style.backgroundPosition = '-' + xywh[0] + 'px -' + xywh[1] + 'px';\n        thumbsImg.style.width = xywh[2] + 'px';\n        thumbsImg.style.height = xywh[3] + 'px';\n        thumbstimer.innerHTML = dur;\n        thumbsDiv.style.left = left;\n        // thumbsDiv.style.top = top;\n        thumbsDiv.style.width = xywh[2] + 'px';\n    };\n\n    function reset() {\n        thumbsTrackIndex = -1;\n        progressBar.removeEventListener('mousemove', renderThumbs);\n        progressBar.removeEventListener('mouseleave', hideThumbs);\n        progressBar.removeEventListener('mouseover', showThumbs);\n    };\n\n    function Setup(vidElement, videoDuration, thumbsTrindex) {\n        reset();\n        video = vidElement;\n        vidDuration = videoDuration;\n        thumbsTrackIndex = thumbsTrindex;\n        logger.info(' Setting index thumbs tracks on ', thumbsTrackIndex, ' and video duration ', vidDuration);\n        if (progressBar && thumbsTrackIndex !== -1) {\n            progressBar.addEventListener('mousemove', renderThumbs);\n            progressBar.addEventListener('mouseleave', hideThumbs);\n            progressBar.addEventListener('mouseover', showThumbs);\n            return true;\n        }\n        return false;\n    };\n    // ************************************************************************************\n    // PUBLIC API\n    // ************************************************************************************\n    return {\n        Setup: Setup,\n        reset: reset,\n        hideThumbs: hideThumbs,\n        showThumbs: showThumbs,\n        off: removeEventListener,\n        constructor: Thumbs\n    };\n};\nexports.default = Thumbs;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL3VpL1RodW1icy5qcz82MzExIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBMb2dnZXIgZnJvbSAnLi4vdXRpbHMvTG9nZ2VyJztcbmltcG9ydCAqIGFzIFV0aWxzIGZyb20gJy4uL3V0aWxzL1V0aWxzJztcbnJlcXVpcmUoJy4uLy4uL2Nzcy9wbGF5ZXIubGVzcycpO1xuLyoqXG4gKiBAbW9kdWxlIFRodW1ic1xuICogQGRlc2NyaXB0aW9uIFRoZSBUaHVtYnMgbW9kdWxlIGlzIHJlc3BvbnNpYmxlIGZvciByZW5kZXJpbmdcbiAqICBzaG93aW5nIGFuZCBoaWRpbmcgdnR0IHBpY3R1cmVzIGJhc2VkIG9uIG1vdXNpbmcgbW91c2Ugb24gcHJvZ3Jlc3MgYmFyLlxuICogQHBhcmFtIHZpZEVsZW1lbnQgdGhlIHZpZGVvIGVsZW1lbnRcbiAqIEBwYXJhbSB2dHRUaHVtYnNUcmFja0luZGV4IHRoZSBpbmRleCBvZiBWdHQgdGh1bWJzIHRyYWNrIGluIHRleHRUcmFja3MgbGlzdCBvZiB2aWRlb1xuICogQHBhcmFtIHRodW1iSW1nRWxlbWVudCB0aGUgaW1nIGVsZW1lbnQgdXNlZCBmb3IgdGh1bWJzXG4gKiBAcGFyYW0gdGh1bWJJbWdFbGVtZW50IHRoZSBkaXYgZWxlbWVudCB1c2VkIGZvciB0aHVtYnNcbiAqIEBwYXJhbSBwcm9ncmVzc0JhckVsZW1lbnQgdGhlIHByb2dyZXNzIGVsZW1lbnQgdXNlZCBmb3IgdGh1bWJzXG4gKi9cbmZ1bmN0aW9uIFRodW1icyh0aHRpbWVyLCB0aHVtYkltZ0VsZW1lbnQsIHRodW1iRGl2RWxlbWVudCwgcHJvZ3Jlc3NCYXJFbGVtZW50KSB7XG4gICAgdmFyIGxvZ2dlciA9IG5ldyBMb2dnZXIodGhpcyksXG4gICAgICAgIHRodW1ic1RyYWNrSW5kZXggPSAtMSxcbiAgICAgICAgdmlkZW8gPSBudWxsLFxuICAgICAgICB2aWREdXJhdGlvbiA9IDAsXG4gICAgICAgIHByb2dyZXNzQmFyID0gcHJvZ3Jlc3NCYXJFbGVtZW50LFxuICAgICAgICB0aHVtYnN0aW1lciA9IHRodGltZXIsXG4gICAgICAgIHRodW1ic0RpdiA9IHRodW1iRGl2RWxlbWVudCxcbiAgICAgICAgdGh1bWJzSW1nID0gdGh1bWJJbWdFbGVtZW50O1xuXG4gICAgZnVuY3Rpb24gc2hvd1RodW1icygpIHtcbiAgICAgICAgdGh1bWJzRGl2LmNsYXNzTGlzdC5yZW1vdmUoJ2ZqLWhpZGUnKTtcbiAgICAgICAgdGh1bWJzRGl2LmNsYXNzTGlzdC5hZGQoJ2ZqLXNob3cnKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gaGlkZVRodW1icygpIHtcbiAgICAgICAgdGh1bWJzRGl2LmNsYXNzTGlzdC5yZW1vdmUoJ2ZqLXNob3cnKTtcbiAgICAgICAgdGh1bWJzRGl2LmNsYXNzTGlzdC5hZGQoJ2ZqLWhpZGUnKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gcmVuZGVyVGh1bWJzKGV2ZW50KSB7XG4gICAgICAgIGxvZ2dlci53YXJuKCdldmVudGluZyBUaHVtYnMgaXMnLCBldmVudCk7XG4gICAgICAgIC8vIGZpcnN0IHdlIGNvbnZlcnQgZnJvbSBtb3VzZSB0byB0aW1lIHBvc2l0aW9uIC4uXG4gICAgICAgIHZhciBjLCBpLCB1cmwsIHh5d2gsIGxlZnQ7XG4gICAgICAgIHZhciByZWN0ID0gcHJvZ3Jlc3NCYXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHZhciBwID0gKGV2ZW50LnBhZ2VYIC0gcmVjdC5sZWZ0KSAqICh2aWREdXJhdGlvbiAvIChyZWN0LnJpZ2h0IC0gcmVjdC5sZWZ0KSk7XG4gICAgICAgIHZhciBkdXIgPSBVdGlscy5kdXJhdGlvbihwYXJzZUZsb2F0KHApKTtcbiAgICAgICAgaWYgKChwID4gKHZpZER1cmF0aW9uICsgMikpIHx8IChwIDwgMCkpIHtcbiAgICAgICAgICAgIC8vIHNvbWUgZXJyb3IgP1xuICAgICAgICAgICAgbG9nZ2VyLndhcm4oJyBQb3NpdGlvbiBpcyBiaWdnZXIgdGhhbiBkdXJhdGlvbiA+PicsIHAsIHZpZER1cmF0aW9uKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsb2dnZXIubG9nKCcgY3VycmVudCBjbGlja2VkICAnLCBkdXIpO1xuICAgICAgICAvLyB1cGRhdGUgdWkgLi50aGVuIHdlIGZpbmQgdGhlIG1hdGNoaW5nIGN1ZS4uXG4gICAgICAgIGMgPSB2aWRlby50ZXh0VHJhY2tzW3RodW1ic1RyYWNrSW5kZXhdLmN1ZXM7XG4gICAgICAgIGlmIChjID09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIHRyYWNrIGVsZW1lLHQgaXMgbm90IHN1cHBydGVkIDogRmlyZWZveFxuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCcgY3VlcyBpcyBudWxsIEAgJywgdGh1bWJzVHJhY2tJbmRleCwgJyBub3Qgc3VwcG9ydGVkICwgRmlyZWZveCA/Jyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGNbaV0uc3RhcnRUaW1lIDw9IHAgJiYgY1tpXS5lbmRUaW1lID4gcCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICAvLyAuLm5leHQgd2UgdW5yYXZlbCB0aGUgSlBHIHVybCBhbmQgZnJhZ21lbnQgcXVlcnkuLlxuICAgICAgICB4eXdoID0gY1tpXS50ZXh0LnN1YnN0cihjW2ldLnRleHQuaW5kZXhPZignPScpICsgMSkuc3BsaXQoJywnKTtcbiAgICAgICAgbGVmdCA9IC0ocmVjdC5sZWZ0IC0gZXZlbnQucGFnZVggKyAoeHl3aFsyXSAvIDIpKTtcbiAgICAgICAgLy8gbG9nZ2VyLmxvZygnIFJlbmRlciBUaHVtYnMgIEAgJywgcCwgJyMnLCBkdXIsICcgIHdoZXJlIHBnWCcsIGV2ZW50LnBhZ2VYLCAnLCBkaXNwbGF5ZWQgb24gbGVmdDogJywgbGVmdCk7XG4gICAgICAgIC8vIC4uYW5kIGxhc3Qgd2Ugc3R5bGUgdGhlIHRodW1ibmFpbCBvdmVybGF5XG4gICAgICAgIHVybCA9ICd1cmwoJyArIGNbaV0udGV4dC5zcGxpdCgnIycpWzBdICsgJyknO1xuICAgICAgICAvLyBsb2dnZXIubG9nKCcgZmV0Y2hpbmcgdGh1bSBmcm9tICcsIHVybCk7XG4gICAgICAgIHRodW1ic0ltZy5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSB1cmw7XG4gICAgICAgIHRodW1ic0ltZy5zdHlsZS5iYWNrZ3JvdW5kUG9zaXRpb24gPSAnLScgKyB4eXdoWzBdICsgJ3B4IC0nICsgeHl3aFsxXSArICdweCc7XG4gICAgICAgIHRodW1ic0ltZy5zdHlsZS53aWR0aCA9IHh5d2hbMl0gKyAncHgnO1xuICAgICAgICB0aHVtYnNJbWcuc3R5bGUuaGVpZ2h0ID0geHl3aFszXSArICdweCc7XG4gICAgICAgIHRodW1ic3RpbWVyLmlubmVySFRNTCA9IGR1cjtcbiAgICAgICAgdGh1bWJzRGl2LnN0eWxlLmxlZnQgPSBsZWZ0O1xuICAgICAgICAvLyB0aHVtYnNEaXYuc3R5bGUudG9wID0gdG9wO1xuICAgICAgICB0aHVtYnNEaXYuc3R5bGUud2lkdGggPSB4eXdoWzJdICsgJ3B4JztcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgICAgIHRodW1ic1RyYWNrSW5kZXggPSAtMTtcbiAgICAgICAgcHJvZ3Jlc3NCYXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgcmVuZGVyVGh1bWJzKTtcbiAgICAgICAgcHJvZ3Jlc3NCYXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIGhpZGVUaHVtYnMpO1xuICAgICAgICBwcm9ncmVzc0Jhci5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBzaG93VGh1bWJzKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gU2V0dXAodmlkRWxlbWVudCwgdmlkZW9EdXJhdGlvbiwgdGh1bWJzVHJpbmRleCkge1xuICAgICAgICByZXNldCgpO1xuICAgICAgICB2aWRlbyA9IHZpZEVsZW1lbnQ7XG4gICAgICAgIHZpZER1cmF0aW9uID0gdmlkZW9EdXJhdGlvbjtcbiAgICAgICAgdGh1bWJzVHJhY2tJbmRleCA9IHRodW1ic1RyaW5kZXg7XG4gICAgICAgIGxvZ2dlci5pbmZvKCcgU2V0dGluZyBpbmRleCB0aHVtYnMgdHJhY2tzIG9uICcsIHRodW1ic1RyYWNrSW5kZXgsICcgYW5kIHZpZGVvIGR1cmF0aW9uICcsIHZpZER1cmF0aW9uKTtcbiAgICAgICAgaWYgKHByb2dyZXNzQmFyICYmICh0aHVtYnNUcmFja0luZGV4ICE9PSAtMSkpIHtcbiAgICAgICAgICAgIHByb2dyZXNzQmFyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHJlbmRlclRodW1icyk7XG4gICAgICAgICAgICBwcm9ncmVzc0Jhci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgaGlkZVRodW1icyk7XG4gICAgICAgICAgICBwcm9ncmVzc0Jhci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBzaG93VGh1bWJzKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIC8vIFBVQkxJQyBBUElcbiAgICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICByZXR1cm4ge1xuICAgICAgICBTZXR1cDogU2V0dXAsXG4gICAgICAgIHJlc2V0OiByZXNldCxcbiAgICAgICAgaGlkZVRodW1iczogaGlkZVRodW1icyxcbiAgICAgICAgc2hvd1RodW1iczogc2hvd1RodW1icyxcbiAgICAgICAgb2ZmOiByZW1vdmVFdmVudExpc3RlbmVyLFxuICAgICAgICBjb25zdHJ1Y3RvcjogVGh1bWJzXG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBUaHVtYnM7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9qcy91aS9UaHVtYnMuanMiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7QUFEQTtBQUNBOzs7OztBQUFBO0FBQ0E7Ozs7Ozs7Ozs7QUFVQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBUUE7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 17 */
/* unknown exports provided */
/* all exports used */
/*!************************************!*\
  !*** ./src/js/ui/fjplayer-tmpl.js ***!
  \************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n/**\n * @module playerTemplate\n * @description The playerTemplate\n *\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nfunction playerTemplate() {\n    var _OPEN_DELIMITER = '<%=',\n        _CLOSE_DELIMITER = '%>',\n        _REGEX_STRING = '(<%=|%>)',\n        _DEFAULT_DELIMITER = '%',\n        regExpChars = /[|\\\\{}()[\\]^$+*?.]/g,\n        template = '<figure id=\\\"<%= videoFigureId %>\\\" class=\"fj-figure\" controls-hidden=\"true\" data-fullscreen=\\\"<%= fullScreenOnStart %>\\\"> ' + '    <!-- video element -->  ' + '    <video id=\\\"<%= videoId %>\\\" class=\"fj-video\" width=\\ \"<%= vwidth %>\\\"> </video> ' + '    <!-- Horizental Tpp --> ' + '    <div class=\"fj-horizental-top\" id=\\\"<%= videoInfoId %>\\\"> ' + '        <span class=\" fj-vertical-left  fj-control  fj-btn  fj-icon-leftarrow\" aria-hidden=\"true\"> </span> ' + '        <div class=\" fj-vertical-left  fj-vertical-separator \"></div> ' + '        <div class=\" fj-vertical-left  fj-control  fj-btn fj-title \" id=\\\"<%= titleId %>\\\"> </div> ' + '        <span class=\" fj-vertical-right fj-control  fj-btn  fj-icon-share  \" aria-hidden=\"true\"> </span> ' + '        <div class=\" fj-vertical-right  fj-vertical-separator \"></div> ' + '        <span class=\" fj-vertical-right fj-control  fj-btn  fj-icon-download \" aria-hidden=\"true\"> </span> ' + '    </div> ' + '    <!-- Horizental Center --> ' + '    <div class=\"fj-horizental-center\"> ' + '       <div class=\"fj-vertical-center\">' + '           <div id=\\\"<%= errorDivId %>\\\" class=\" fj-hide\"> </div> ' + '           <div id=\\\"<%= spinnerId %>\\\" class=\" fj-hide spinner\"> </div> ' + '               <span class=\" fj-control fj-big-btn  fj-icon-play\"  aria-hidden=\"true\" id=\\\"<%= BigPlayBtnId %>\\\"></span> ' + '       </div> ' + '    </div> ' + '    <!-- this will contains ads video or ads overlays --> ' + '    <div id=\\\"<%=adsContainerDivId%>\\\" class=\"\"></div> ' + '    <!-- Horizental Bottom Up used for menu  --> ' + '    <div class=\"fj-horizental-bottomUpper\"> ' + '        <!-- video caption ued by dash player for caption --> ' + '        <div id=\\\"<%=videoCaptionId %>\\\"></div> ' + '        <!-- this present the thumbs image if exist--> ' + '        <div class=\"thumbsBlockDiv  fj-hide\" id=\\\"<%= thumbsDivId %>\\\" > ' + '            <span class=\"thumbsBlock\" id=\\\"<%= thumbsImgId %>\\\"></span> ' + '            <span class=\"fjcontrols-control-text\" id=\\\"<%= thumbstimerId %>\\\"></span> ' + '        </div> ' + '        <!-- this present the subtitles or audios menu if exist  and when clicked--> ' + '        <div class=\"fj-vertical-left\" id=\\\"<%=menuContainerDivId %>\\\"> ' + '        </div> ' + '    </div> ' + '    <!-- Horizental Bottom down used for fj controls  --> ' + '    <div class=\"fj-horizental-bottomLower\"  id=\\\"<%=videoControlsId%>\\\"> ' + '        <!--  the video progress Bar --> ' + '        <div class=\"fj-vertical-center\"> ' + '            <input class=\" fj-control-embd fj-video-progress\" id=\\\"<%=progressBarId%>\\\" type=\"range\" min=\"0\" /> ' + '        </div> ' + '        <!--  play,previous and next controls  --> ' + '        <span class=\" fj-vertical-left fj-control-embd fj-btn  fj-icon-playPrevious\" aria-hidden=\"true\" id=\\\"<%=playpreviousBtnId%>\\\" title=\"previous\"> </span> ' + '        <span class=\" fj-vertical-left fj-control-embd fj-btn  fj-icon-play\" aria-hidden=\"true\" id=\\\"<%=playpauseBtnId%>\\\" title=\"Play\"> </span> ' + '        <span class=\" fj-vertical-left fj-control-embd fj-btn  fj-icon-playNext\" aria-hidden=\"true\" id=\\\"<%=playforwardBtnId%>\\\" title=\"next\"> </span> ' + '        <!--  mute and volume bar controls  --> ' + '        <span class=\" fj-vertical-left fj-control-embd fj-btn  fj-icon-volUp\" aria-hidden=\"true\" id=\\\"<%=muteBtnId%>\\\" title=\"mute\"> </span> ' + '        <div class=\"fj-vertical-left  volumebar\" id=\\\"<%=volumeDivId%>\\\"> ' + '            <input id=\\\"<%=volumeBarId%>\\\" class=\"fj-control-embd\" type=\"range\" min=\"0\"  /> ' + '        </div> ' + '        <!--  more description of the stream   --> ' + '        <div class=\" fj-vertical-left fj-text \" title=\"Description\" id=\\\"<%=descriptionId%>\\\"> ' + '            <span></span> ' + '        </div> ' + '        <!--  full screen, audio and subtitles controls  --> ' + '        <span class=\" fj-vertical-right fj-control-embd fj-btn  fj-icon-fullScreen \" aria-hidden=\"true\" id=\\\"<%=fullScreenBtnId%>\\\" title=\"Fullscreen\"> </span> ' + '        <span class=\" fj-vertical-right fj-control-embd fj-btn  fj-icon-subs\" aria-hidden=\"true\" id=\\\"<%=subtitlesBtnId%>\\\" title=\"Subtitles\"> </span> ' + '        <span class=\" fj-vertical-right fj-control-embd fj-btn  fj-icon-audios\" aria-hidden=\"true\" id=\\\"<%=audiosBtnId%>\\\" title=\"Audios\"> </span> ' + '        <!--  timers   --> ' + '        <div class=\" fj-vertical-right fj-text \" title=\"times\"> ' + '            <span id=\\\"<%= timerId %>\\\">0:00:00</span><span>/</span><span id=\\\"<%= durationId %>\\\">0:00:00</span> ' + '        </div> ' + '    </div> ' + '    <!--  this will contains overlays   --> ' + '    <div id=\\\"<%= overlaysContainerDivId %>\\\" class=\"fj-overlayContainer fj-hide\"> ' + '    </div> ' + '</figure> ';\n    /**\n     *\n     */\n    function createRegex() {\n        var str = _REGEX_STRING;\n        var delim = String(_DEFAULT_DELIMITER).replace(regExpChars, '\\\\$&');\n        str = str.replace(/%/g, delim);\n        return new RegExp(str);\n    };\n    /**\n     *\n     * @param {*} templateStr\n     */\n    function parseTemplateText(templateStr) {\n        var reg = createRegex();\n        var str = templateStr;\n        var result = reg.exec(str);\n        var arr = [];\n        var firstPos;\n\n        while (result) {\n            firstPos = result.index;\n            if (firstPos !== 0) {\n                arr.push(str.substring(0, firstPos));\n                str = str.slice(firstPos);\n            }\n            arr.push(result[0]);\n            str = str.slice(result[0].length);\n            result = reg.exec(str);\n        }\n\n        if (str) {\n            arr.push(str);\n        }\n        return arr;\n    };\n    /**\n     *\n     * @param {*} matchedArr\n     * @param {*} dataObj\n     */\n    function generateHtml(matchedArr, dataObj) {\n        var newArr = [],\n            k = 0,\n            opening = false,\n            closing = false,\n            key,\n            done = '';\n        for (var i in matchedArr) {\n            if (matchedArr[i] === _OPEN_DELIMITER) {\n                opening = true;\n            } else if (matchedArr[i] === _CLOSE_DELIMITER) {\n                opening = false;\n                closing = true;\n            } else {\n\n                if (opening === true && closed === false) {\n                    // wr'in key\n                    key = matchedArr[i];\n                    key = key.replace(/ +/g, \"\");\n                    // console.error(\" W>>>>>>>><>  \", key);\n                    if (dataObj.hasOwnProperty(key)) {\n                        newArr[k] = dataObj[key];\n                    } else {\n                        throw new Error(\" Needed Key is Not found key for html player template :\", matchedArr[i]);\n                    }\n                } else {\n                    newArr[k] = matchedArr[i];\n                }\n                k++;\n            }\n        }\n        done = newArr.join(\"\");\n        return done;\n    }\n    /**\n     * \n     * @param {*} data \n     */\n    function GetHtml(data) {\n        var matches = parseTemplateText(template);\n        return generateHtml(matches, data);\n    };\n    // ************************************************************************************\n    // PUBLIC API\n    // ************************************************************************************\n    return {\n        GetHtml: GetHtml,\n        constructor: playerTemplate\n    };\n};\nexports.default = playerTemplate;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL3VpL2ZqcGxheWVyLXRtcGwuanM/YWJiYyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG4vKipcbiAqIEBtb2R1bGUgcGxheWVyVGVtcGxhdGVcbiAqIEBkZXNjcmlwdGlvbiBUaGUgcGxheWVyVGVtcGxhdGVcbiAqXG4gKi9cbmZ1bmN0aW9uIHBsYXllclRlbXBsYXRlKCkge1xuICAgIHZhciBfT1BFTl9ERUxJTUlURVIgPSAnPCU9JyxcbiAgICAgICAgX0NMT1NFX0RFTElNSVRFUiA9ICclPicsXG4gICAgICAgIF9SRUdFWF9TVFJJTkcgPSAnKDwlPXwlPiknLFxuICAgICAgICBfREVGQVVMVF9ERUxJTUlURVIgPSAnJScsXG4gICAgICAgIHJlZ0V4cENoYXJzID0gL1t8XFxcXHt9KClbXFxdXiQrKj8uXS9nLFxuICAgICAgICB0ZW1wbGF0ZSA9XG4gICAgICAgICc8ZmlndXJlIGlkPVxcXCI8JT0gdmlkZW9GaWd1cmVJZCAlPlxcXCIgY2xhc3M9XCJmai1maWd1cmVcIiBjb250cm9scy1oaWRkZW49XCJ0cnVlXCIgZGF0YS1mdWxsc2NyZWVuPVxcXCI8JT0gZnVsbFNjcmVlbk9uU3RhcnQgJT5cXFwiPiAnICtcbiAgICAgICAgJyAgICA8IS0tIHZpZGVvIGVsZW1lbnQgLS0+ICAnICtcbiAgICAgICAgJyAgICA8dmlkZW8gaWQ9XFxcIjwlPSB2aWRlb0lkICU+XFxcIiBjbGFzcz1cImZqLXZpZGVvXCIgd2lkdGg9XFwgXCI8JT0gdndpZHRoICU+XFxcIj4gPC92aWRlbz4gJyArXG4gICAgICAgICcgICAgPCEtLSBIb3JpemVudGFsIFRwcCAtLT4gJyArXG4gICAgICAgICcgICAgPGRpdiBjbGFzcz1cImZqLWhvcml6ZW50YWwtdG9wXCIgaWQ9XFxcIjwlPSB2aWRlb0luZm9JZCAlPlxcXCI+ICcgK1xuICAgICAgICAnICAgICAgICA8c3BhbiBjbGFzcz1cIiBmai12ZXJ0aWNhbC1sZWZ0ICBmai1jb250cm9sICBmai1idG4gIGZqLWljb24tbGVmdGFycm93XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+IDwvc3Bhbj4gJyArXG4gICAgICAgICcgICAgICAgIDxkaXYgY2xhc3M9XCIgZmotdmVydGljYWwtbGVmdCAgZmotdmVydGljYWwtc2VwYXJhdG9yIFwiPjwvZGl2PiAnICtcbiAgICAgICAgJyAgICAgICAgPGRpdiBjbGFzcz1cIiBmai12ZXJ0aWNhbC1sZWZ0ICBmai1jb250cm9sICBmai1idG4gZmotdGl0bGUgXCIgaWQ9XFxcIjwlPSB0aXRsZUlkICU+XFxcIj4gPC9kaXY+ICcgK1xuICAgICAgICAnICAgICAgICA8c3BhbiBjbGFzcz1cIiBmai12ZXJ0aWNhbC1yaWdodCBmai1jb250cm9sICBmai1idG4gIGZqLWljb24tc2hhcmUgIFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiA8L3NwYW4+ICcgK1xuICAgICAgICAnICAgICAgICA8ZGl2IGNsYXNzPVwiIGZqLXZlcnRpY2FsLXJpZ2h0ICBmai12ZXJ0aWNhbC1zZXBhcmF0b3IgXCI+PC9kaXY+ICcgK1xuICAgICAgICAnICAgICAgICA8c3BhbiBjbGFzcz1cIiBmai12ZXJ0aWNhbC1yaWdodCBmai1jb250cm9sICBmai1idG4gIGZqLWljb24tZG93bmxvYWQgXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+IDwvc3Bhbj4gJyArXG4gICAgICAgICcgICAgPC9kaXY+ICcgK1xuICAgICAgICAnICAgIDwhLS0gSG9yaXplbnRhbCBDZW50ZXIgLS0+ICcgK1xuICAgICAgICAnICAgIDxkaXYgY2xhc3M9XCJmai1ob3JpemVudGFsLWNlbnRlclwiPiAnICtcbiAgICAgICAgJyAgICAgICA8ZGl2IGNsYXNzPVwiZmotdmVydGljYWwtY2VudGVyXCI+JyArXG4gICAgICAgICcgICAgICAgICAgIDxkaXYgaWQ9XFxcIjwlPSBlcnJvckRpdklkICU+XFxcIiBjbGFzcz1cIiBmai1oaWRlXCI+IDwvZGl2PiAnICtcbiAgICAgICAgJyAgICAgICAgICAgPGRpdiBpZD1cXFwiPCU9IHNwaW5uZXJJZCAlPlxcXCIgY2xhc3M9XCIgZmotaGlkZSBzcGlubmVyXCI+IDwvZGl2PiAnICtcbiAgICAgICAgJyAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiIGZqLWNvbnRyb2wgZmotYmlnLWJ0biAgZmotaWNvbi1wbGF5XCIgIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIGlkPVxcXCI8JT0gQmlnUGxheUJ0bklkICU+XFxcIj48L3NwYW4+ICcgK1xuICAgICAgICAnICAgICAgIDwvZGl2PiAnICtcbiAgICAgICAgJyAgICA8L2Rpdj4gJyArXG4gICAgICAgICcgICAgPCEtLSB0aGlzIHdpbGwgY29udGFpbnMgYWRzIHZpZGVvIG9yIGFkcyBvdmVybGF5cyAtLT4gJyArXG4gICAgICAgICcgICAgPGRpdiBpZD1cXFwiPCU9YWRzQ29udGFpbmVyRGl2SWQlPlxcXCIgY2xhc3M9XCJcIj48L2Rpdj4gJyArXG4gICAgICAgICcgICAgPCEtLSBIb3JpemVudGFsIEJvdHRvbSBVcCB1c2VkIGZvciBtZW51ICAtLT4gJyArXG4gICAgICAgICcgICAgPGRpdiBjbGFzcz1cImZqLWhvcml6ZW50YWwtYm90dG9tVXBwZXJcIj4gJyArXG4gICAgICAgICcgICAgICAgIDwhLS0gdmlkZW8gY2FwdGlvbiB1ZWQgYnkgZGFzaCBwbGF5ZXIgZm9yIGNhcHRpb24gLS0+ICcgK1xuICAgICAgICAnICAgICAgICA8ZGl2IGlkPVxcXCI8JT12aWRlb0NhcHRpb25JZCAlPlxcXCI+PC9kaXY+ICcgK1xuICAgICAgICAnICAgICAgICA8IS0tIHRoaXMgcHJlc2VudCB0aGUgdGh1bWJzIGltYWdlIGlmIGV4aXN0LS0+ICcgK1xuICAgICAgICAnICAgICAgICA8ZGl2IGNsYXNzPVwidGh1bWJzQmxvY2tEaXYgIGZqLWhpZGVcIiBpZD1cXFwiPCU9IHRodW1ic0RpdklkICU+XFxcIiA+ICcgK1xuICAgICAgICAnICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0aHVtYnNCbG9ja1wiIGlkPVxcXCI8JT0gdGh1bWJzSW1nSWQgJT5cXFwiPjwvc3Bhbj4gJyArXG4gICAgICAgICcgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZqY29udHJvbHMtY29udHJvbC10ZXh0XCIgaWQ9XFxcIjwlPSB0aHVtYnN0aW1lcklkICU+XFxcIj48L3NwYW4+ICcgK1xuICAgICAgICAnICAgICAgICA8L2Rpdj4gJyArXG4gICAgICAgICcgICAgICAgIDwhLS0gdGhpcyBwcmVzZW50IHRoZSBzdWJ0aXRsZXMgb3IgYXVkaW9zIG1lbnUgaWYgZXhpc3QgIGFuZCB3aGVuIGNsaWNrZWQtLT4gJyArXG4gICAgICAgICcgICAgICAgIDxkaXYgY2xhc3M9XCJmai12ZXJ0aWNhbC1sZWZ0XCIgaWQ9XFxcIjwlPW1lbnVDb250YWluZXJEaXZJZCAlPlxcXCI+ICcgK1xuICAgICAgICAnICAgICAgICA8L2Rpdj4gJyArXG4gICAgICAgICcgICAgPC9kaXY+ICcgK1xuICAgICAgICAnICAgIDwhLS0gSG9yaXplbnRhbCBCb3R0b20gZG93biB1c2VkIGZvciBmaiBjb250cm9scyAgLS0+ICcgK1xuICAgICAgICAnICAgIDxkaXYgY2xhc3M9XCJmai1ob3JpemVudGFsLWJvdHRvbUxvd2VyXCIgIGlkPVxcXCI8JT12aWRlb0NvbnRyb2xzSWQlPlxcXCI+ICcgK1xuICAgICAgICAnICAgICAgICA8IS0tICB0aGUgdmlkZW8gcHJvZ3Jlc3MgQmFyIC0tPiAnICtcbiAgICAgICAgJyAgICAgICAgPGRpdiBjbGFzcz1cImZqLXZlcnRpY2FsLWNlbnRlclwiPiAnICtcbiAgICAgICAgJyAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cIiBmai1jb250cm9sLWVtYmQgZmotdmlkZW8tcHJvZ3Jlc3NcIiBpZD1cXFwiPCU9cHJvZ3Jlc3NCYXJJZCU+XFxcIiB0eXBlPVwicmFuZ2VcIiBtaW49XCIwXCIgLz4gJyArXG4gICAgICAgICcgICAgICAgIDwvZGl2PiAnICtcbiAgICAgICAgJyAgICAgICAgPCEtLSAgcGxheSxwcmV2aW91cyBhbmQgbmV4dCBjb250cm9scyAgLS0+ICcgK1xuICAgICAgICAnICAgICAgICA8c3BhbiBjbGFzcz1cIiBmai12ZXJ0aWNhbC1sZWZ0IGZqLWNvbnRyb2wtZW1iZCBmai1idG4gIGZqLWljb24tcGxheVByZXZpb3VzXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgaWQ9XFxcIjwlPXBsYXlwcmV2aW91c0J0bklkJT5cXFwiIHRpdGxlPVwicHJldmlvdXNcIj4gPC9zcGFuPiAnICtcbiAgICAgICAgJyAgICAgICAgPHNwYW4gY2xhc3M9XCIgZmotdmVydGljYWwtbGVmdCBmai1jb250cm9sLWVtYmQgZmotYnRuICBmai1pY29uLXBsYXlcIiBhcmlhLWhpZGRlbj1cInRydWVcIiBpZD1cXFwiPCU9cGxheXBhdXNlQnRuSWQlPlxcXCIgdGl0bGU9XCJQbGF5XCI+IDwvc3Bhbj4gJyArXG4gICAgICAgICcgICAgICAgIDxzcGFuIGNsYXNzPVwiIGZqLXZlcnRpY2FsLWxlZnQgZmotY29udHJvbC1lbWJkIGZqLWJ0biAgZmotaWNvbi1wbGF5TmV4dFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIGlkPVxcXCI8JT1wbGF5Zm9yd2FyZEJ0bklkJT5cXFwiIHRpdGxlPVwibmV4dFwiPiA8L3NwYW4+ICcgK1xuICAgICAgICAnICAgICAgICA8IS0tICBtdXRlIGFuZCB2b2x1bWUgYmFyIGNvbnRyb2xzICAtLT4gJyArXG4gICAgICAgICcgICAgICAgIDxzcGFuIGNsYXNzPVwiIGZqLXZlcnRpY2FsLWxlZnQgZmotY29udHJvbC1lbWJkIGZqLWJ0biAgZmotaWNvbi12b2xVcFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIGlkPVxcXCI8JT1tdXRlQnRuSWQlPlxcXCIgdGl0bGU9XCJtdXRlXCI+IDwvc3Bhbj4gJyArXG4gICAgICAgICcgICAgICAgIDxkaXYgY2xhc3M9XCJmai12ZXJ0aWNhbC1sZWZ0ICB2b2x1bWViYXJcIiBpZD1cXFwiPCU9dm9sdW1lRGl2SWQlPlxcXCI+ICcgK1xuICAgICAgICAnICAgICAgICAgICAgPGlucHV0IGlkPVxcXCI8JT12b2x1bWVCYXJJZCU+XFxcIiBjbGFzcz1cImZqLWNvbnRyb2wtZW1iZFwiIHR5cGU9XCJyYW5nZVwiIG1pbj1cIjBcIiAgLz4gJyArXG4gICAgICAgICcgICAgICAgIDwvZGl2PiAnICtcbiAgICAgICAgJyAgICAgICAgPCEtLSAgbW9yZSBkZXNjcmlwdGlvbiBvZiB0aGUgc3RyZWFtICAgLS0+ICcgK1xuICAgICAgICAnICAgICAgICA8ZGl2IGNsYXNzPVwiIGZqLXZlcnRpY2FsLWxlZnQgZmotdGV4dCBcIiB0aXRsZT1cIkRlc2NyaXB0aW9uXCIgaWQ9XFxcIjwlPWRlc2NyaXB0aW9uSWQlPlxcXCI+ICcgK1xuICAgICAgICAnICAgICAgICAgICAgPHNwYW4+PC9zcGFuPiAnICtcbiAgICAgICAgJyAgICAgICAgPC9kaXY+ICcgK1xuICAgICAgICAnICAgICAgICA8IS0tICBmdWxsIHNjcmVlbiwgYXVkaW8gYW5kIHN1YnRpdGxlcyBjb250cm9scyAgLS0+ICcgK1xuICAgICAgICAnICAgICAgICA8c3BhbiBjbGFzcz1cIiBmai12ZXJ0aWNhbC1yaWdodCBmai1jb250cm9sLWVtYmQgZmotYnRuICBmai1pY29uLWZ1bGxTY3JlZW4gXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgaWQ9XFxcIjwlPWZ1bGxTY3JlZW5CdG5JZCU+XFxcIiB0aXRsZT1cIkZ1bGxzY3JlZW5cIj4gPC9zcGFuPiAnICtcbiAgICAgICAgJyAgICAgICAgPHNwYW4gY2xhc3M9XCIgZmotdmVydGljYWwtcmlnaHQgZmotY29udHJvbC1lbWJkIGZqLWJ0biAgZmotaWNvbi1zdWJzXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgaWQ9XFxcIjwlPXN1YnRpdGxlc0J0bklkJT5cXFwiIHRpdGxlPVwiU3VidGl0bGVzXCI+IDwvc3Bhbj4gJyArXG4gICAgICAgICcgICAgICAgIDxzcGFuIGNsYXNzPVwiIGZqLXZlcnRpY2FsLXJpZ2h0IGZqLWNvbnRyb2wtZW1iZCBmai1idG4gIGZqLWljb24tYXVkaW9zXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgaWQ9XFxcIjwlPWF1ZGlvc0J0bklkJT5cXFwiIHRpdGxlPVwiQXVkaW9zXCI+IDwvc3Bhbj4gJyArXG4gICAgICAgICcgICAgICAgIDwhLS0gIHRpbWVycyAgIC0tPiAnICtcbiAgICAgICAgJyAgICAgICAgPGRpdiBjbGFzcz1cIiBmai12ZXJ0aWNhbC1yaWdodCBmai10ZXh0IFwiIHRpdGxlPVwidGltZXNcIj4gJyArXG4gICAgICAgICcgICAgICAgICAgICA8c3BhbiBpZD1cXFwiPCU9IHRpbWVySWQgJT5cXFwiPjA6MDA6MDA8L3NwYW4+PHNwYW4+Lzwvc3Bhbj48c3BhbiBpZD1cXFwiPCU9IGR1cmF0aW9uSWQgJT5cXFwiPjA6MDA6MDA8L3NwYW4+ICcgK1xuICAgICAgICAnICAgICAgICA8L2Rpdj4gJyArXG4gICAgICAgICcgICAgPC9kaXY+ICcgK1xuICAgICAgICAnICAgIDwhLS0gIHRoaXMgd2lsbCBjb250YWlucyBvdmVybGF5cyAgIC0tPiAnICtcbiAgICAgICAgJyAgICA8ZGl2IGlkPVxcXCI8JT0gb3ZlcmxheXNDb250YWluZXJEaXZJZCAlPlxcXCIgY2xhc3M9XCJmai1vdmVybGF5Q29udGFpbmVyIGZqLWhpZGVcIj4gJyArXG4gICAgICAgICcgICAgPC9kaXY+ICcgK1xuICAgICAgICAnPC9maWd1cmU+ICc7XG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVSZWdleCgpIHtcbiAgICAgICAgdmFyIHN0ciA9IF9SRUdFWF9TVFJJTkc7XG4gICAgICAgIHZhciBkZWxpbSA9IFN0cmluZyhfREVGQVVMVF9ERUxJTUlURVIpLnJlcGxhY2UocmVnRXhwQ2hhcnMsICdcXFxcJCYnKTtcbiAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UoLyUvZywgZGVsaW0pO1xuICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChzdHIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHRlbXBsYXRlU3RyXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFyc2VUZW1wbGF0ZVRleHQodGVtcGxhdGVTdHIpIHtcbiAgICAgICAgdmFyIHJlZyA9IGNyZWF0ZVJlZ2V4KCk7XG4gICAgICAgIHZhciBzdHIgPSB0ZW1wbGF0ZVN0cjtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHJlZy5leGVjKHN0cik7XG4gICAgICAgIHZhciBhcnIgPSBbXTtcbiAgICAgICAgdmFyIGZpcnN0UG9zO1xuXG4gICAgICAgIHdoaWxlIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGZpcnN0UG9zID0gcmVzdWx0LmluZGV4O1xuICAgICAgICAgICAgaWYgKGZpcnN0UG9zICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgYXJyLnB1c2goc3RyLnN1YnN0cmluZygwLCBmaXJzdFBvcykpO1xuICAgICAgICAgICAgICAgIHN0ciA9IHN0ci5zbGljZShmaXJzdFBvcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhcnIucHVzaChyZXN1bHRbMF0pO1xuICAgICAgICAgICAgc3RyID0gc3RyLnNsaWNlKHJlc3VsdFswXS5sZW5ndGgpO1xuICAgICAgICAgICAgcmVzdWx0ID0gcmVnLmV4ZWMoc3RyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdHIpIHtcbiAgICAgICAgICAgIGFyci5wdXNoKHN0cik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFycjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSBtYXRjaGVkQXJyXG4gICAgICogQHBhcmFtIHsqfSBkYXRhT2JqXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2VuZXJhdGVIdG1sKG1hdGNoZWRBcnIsIGRhdGFPYmopIHtcbiAgICAgICAgdmFyIG5ld0FyciA9IFtdLFxuICAgICAgICAgICAgayA9IDAsXG4gICAgICAgICAgICBvcGVuaW5nID0gZmFsc2UsXG4gICAgICAgICAgICBjbG9zaW5nID0gZmFsc2UsXG4gICAgICAgICAgICBrZXksXG4gICAgICAgICAgICBkb25lID0gJyc7XG4gICAgICAgIGZvciAodmFyIGkgaW4gbWF0Y2hlZEFycikge1xuICAgICAgICAgICAgaWYgKG1hdGNoZWRBcnJbaV0gPT09IF9PUEVOX0RFTElNSVRFUikge1xuICAgICAgICAgICAgICAgIG9wZW5pbmcgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChtYXRjaGVkQXJyW2ldID09PSBfQ0xPU0VfREVMSU1JVEVSKSB7XG4gICAgICAgICAgICAgICAgb3BlbmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGNsb3NpbmcgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIGlmIChvcGVuaW5nID09PSB0cnVlICYmIGNsb3NlZCA9PT0gZmFsc2UpIHsgLy8gd3InaW4ga2V5XG4gICAgICAgICAgICAgICAgICAgIGtleSA9IG1hdGNoZWRBcnJbaV07XG4gICAgICAgICAgICAgICAgICAgIGtleSA9IGtleS5yZXBsYWNlKC8gKy9nLCBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5lcnJvcihcIiBXPj4+Pj4+Pj48PiAgXCIsIGtleSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhT2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0FycltrXSA9IGRhdGFPYmpba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIiBOZWVkZWQgS2V5IGlzIE5vdCBmb3VuZCBrZXkgZm9yIGh0bWwgcGxheWVyIHRlbXBsYXRlIDpcIiwgbWF0Y2hlZEFycltpXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBuZXdBcnJba10gPSBtYXRjaGVkQXJyW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBrKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZG9uZSA9IG5ld0Fyci5qb2luKFwiXCIpO1xuICAgICAgICByZXR1cm4gZG9uZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIHsqfSBkYXRhIFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEdldEh0bWwoZGF0YSkge1xuICAgICAgICB2YXIgbWF0Y2hlcyA9IHBhcnNlVGVtcGxhdGVUZXh0KHRlbXBsYXRlKTtcbiAgICAgICAgcmV0dXJuIGdlbmVyYXRlSHRtbChtYXRjaGVzLCBkYXRhKTtcbiAgICB9O1xuICAgIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIC8vIFBVQkxJQyBBUElcbiAgICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICByZXR1cm4ge1xuICAgICAgICBHZXRIdG1sOiBHZXRIdG1sLFxuICAgICAgICBjb25zdHJ1Y3RvcjogcGxheWVyVGVtcGxhdGVcbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IHBsYXllclRlbXBsYXRlO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvanMvdWkvZmpwbGF5ZXItdG1wbC5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7Ozs7Ozs7O0FBS0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUF5RUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 18 */
/* unknown exports provided */
/* all exports used */
/*!*********************************!*\
  !*** ./src/js/utils/FjError.js ***!
  \*********************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _Logger = __webpack_require__(/*! ../utils/Logger */ 0);\n\nvar _Logger2 = _interopRequireDefault(_Logger);\n\nvar _constants = __webpack_require__(/*! ../defs/constants */ 1);\n\nvar Const = _interopRequireWildcard(_constants);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n__webpack_require__(/*! ../../css/player.less */ 2);\n\n/**\n * @module Overlay\n * @description The Overlays is that manage overlays of a video :\n *     it manage overlays for information ads , media or ovelay on ads video.\n */\nfunction FjError(code, type, message, overlaysDiv) {\n    var logger = new _Logger2.default(this),\n        errorCode = code,\n        errorType = type,\n        errorMsg = message,\n        OverlayDiv = overlaysDiv,\n        OverlayClosingDiv = null,\n        OverlayInnerDiv = null;\n\n    StartOverlay();\n\n    function StopOverlay(index) {\n        var el = OverlayDiv;\n        var elClone = null;\n        // hide the div\n        logger.warn(index, 'you overlay  is now stopped ');\n        // remove the click event\n        el = OverlayDiv;\n        elClone = el.cloneNode(true);\n        el.parentNode.replaceChild(elClone, el);\n        OverlayDiv = elClone;\n        // hide the overlay , empty the div\n        while (OverlayDiv.hasChildNodes()) {\n            OverlayDiv.removeChild(OverlayDiv.firstChild);\n        }\n        OverlayDiv.innerHTML = '';\n        OverlayDiv.classList.add('fj-hide');\n        OverlayDiv.classList.remove('over-HL-error');\n    };\n\n    /**\n     * Used to show an Overlay\n     */\n    function StartOverlay() {\n        // empty the div && show the div\n        OverlayDiv.classList.add('over-HL-error');\n        while (OverlayDiv.hasChildNodes()) {\n            OverlayDiv.removeChild(OverlayDiv.firstChild);\n        }\n        OverlayInnerDiv = document.createElement('div');\n        OverlayClosingDiv = document.createElement('div');\n        OverlayInnerDiv.innerHTML = '' + '<div class=\"fj-overlay-description\">' + '   <p>' + errorMsg + '</p> ' + '</div> ' + '<div class=\"fj-overlay-link\">' + errorCode + '</div>';\n        OverlayInnerDiv.style.cursor = 'pointer';\n        OverlayClosingDiv.innerHTML = '' + '<div>' + '    <span class=\" fj-overlay-closing  fj-control-embd fj-btn fj-icon-windowClose\" aria-hidden=\"true\"></span>' + '    <div class=\"fj-overlay-error\">' + errorType + '</div>' + '</div>';\n        OverlayClosingDiv.addEventListener('click', function () {\n            StopOverlay();\n        });\n        OverlayDiv.appendChild(OverlayClosingDiv);\n        OverlayDiv.appendChild(OverlayInnerDiv);\n        OverlayDiv.classList.remove('fj-hide');\n        OverlayDiv.classList.add('over-HL');\n    };\n\n    // ************************************************************************************\n    // PUBLIC API\n    // ************************************************************************************\n    return {\n        constructor: FjError\n    };\n};\nexports.default = FjError;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL3V0aWxzL0ZqRXJyb3IuanM/ZDIwYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTG9nZ2VyIGZyb20gJy4uL3V0aWxzL0xvZ2dlcic7XG5yZXF1aXJlKCcuLi8uLi9jc3MvcGxheWVyLmxlc3MnKTtcbmltcG9ydCAqIGFzIENvbnN0IGZyb20gJy4uL2RlZnMvY29uc3RhbnRzJztcbi8qKlxuICogQG1vZHVsZSBPdmVybGF5XG4gKiBAZGVzY3JpcHRpb24gVGhlIE92ZXJsYXlzIGlzIHRoYXQgbWFuYWdlIG92ZXJsYXlzIG9mIGEgdmlkZW8gOlxuICogICAgIGl0IG1hbmFnZSBvdmVybGF5cyBmb3IgaW5mb3JtYXRpb24gYWRzICwgbWVkaWEgb3Igb3ZlbGF5IG9uIGFkcyB2aWRlby5cbiAqL1xuZnVuY3Rpb24gRmpFcnJvcihjb2RlLCB0eXBlLCBtZXNzYWdlLCBvdmVybGF5c0Rpdikge1xuICAgIHZhciBsb2dnZXIgPSBuZXcgTG9nZ2VyKHRoaXMpLFxuICAgICAgICBlcnJvckNvZGUgPSBjb2RlLFxuICAgICAgICBlcnJvclR5cGUgPSB0eXBlLFxuICAgICAgICBlcnJvck1zZyA9IG1lc3NhZ2UsXG4gICAgICAgIE92ZXJsYXlEaXYgPSBvdmVybGF5c0RpdixcbiAgICAgICAgT3ZlcmxheUNsb3NpbmdEaXYgPSBudWxsLFxuICAgICAgICBPdmVybGF5SW5uZXJEaXYgPSBudWxsO1xuXG4gICAgU3RhcnRPdmVybGF5KCk7XG5cbiAgICBmdW5jdGlvbiBTdG9wT3ZlcmxheShpbmRleCkge1xuICAgICAgICB2YXIgZWwgPSBPdmVybGF5RGl2O1xuICAgICAgICB2YXIgZWxDbG9uZSA9IG51bGw7XG4gICAgICAgIC8vIGhpZGUgdGhlIGRpdlxuICAgICAgICBsb2dnZXIud2FybihpbmRleCwgJ3lvdSBvdmVybGF5ICBpcyBub3cgc3RvcHBlZCAnKTtcbiAgICAgICAgLy8gcmVtb3ZlIHRoZSBjbGljayBldmVudFxuICAgICAgICBlbCA9IE92ZXJsYXlEaXY7XG4gICAgICAgIGVsQ2xvbmUgPSBlbC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICAgIGVsLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGVsQ2xvbmUsIGVsKTtcbiAgICAgICAgT3ZlcmxheURpdiA9IGVsQ2xvbmU7XG4gICAgICAgIC8vIGhpZGUgdGhlIG92ZXJsYXkgLCBlbXB0eSB0aGUgZGl2XG4gICAgICAgIHdoaWxlIChPdmVybGF5RGl2Lmhhc0NoaWxkTm9kZXMoKSkge1xuICAgICAgICAgICAgT3ZlcmxheURpdi5yZW1vdmVDaGlsZChPdmVybGF5RGl2LmZpcnN0Q2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIE92ZXJsYXlEaXYuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIE92ZXJsYXlEaXYuY2xhc3NMaXN0LmFkZCgnZmotaGlkZScpO1xuICAgICAgICBPdmVybGF5RGl2LmNsYXNzTGlzdC5yZW1vdmUoJ292ZXItSEwtZXJyb3InKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXNlZCB0byBzaG93IGFuIE92ZXJsYXlcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTdGFydE92ZXJsYXkoKSB7XG4gICAgICAgIC8vIGVtcHR5IHRoZSBkaXYgJiYgc2hvdyB0aGUgZGl2XG4gICAgICAgIE92ZXJsYXlEaXYuY2xhc3NMaXN0LmFkZCgnb3Zlci1ITC1lcnJvcicpO1xuICAgICAgICB3aGlsZSAoT3ZlcmxheURpdi5oYXNDaGlsZE5vZGVzKCkpIHtcbiAgICAgICAgICAgIE92ZXJsYXlEaXYucmVtb3ZlQ2hpbGQoT3ZlcmxheURpdi5maXJzdENoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBPdmVybGF5SW5uZXJEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgT3ZlcmxheUNsb3NpbmdEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgT3ZlcmxheUlubmVyRGl2LmlubmVySFRNTCA9ICcnICtcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiZmotb3ZlcmxheS1kZXNjcmlwdGlvblwiPicgK1xuICAgICAgICAgICAgJyAgIDxwPicgKyBlcnJvck1zZyArICc8L3A+ICcgK1xuICAgICAgICAgICAgJzwvZGl2PiAnICtcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiZmotb3ZlcmxheS1saW5rXCI+JyArIGVycm9yQ29kZSArICc8L2Rpdj4nO1xuICAgICAgICBPdmVybGF5SW5uZXJEaXYuc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInO1xuICAgICAgICBPdmVybGF5Q2xvc2luZ0Rpdi5pbm5lckhUTUwgPSAnJyArXG4gICAgICAgICAgICAnPGRpdj4nICtcbiAgICAgICAgICAgICcgICAgPHNwYW4gY2xhc3M9XCIgZmotb3ZlcmxheS1jbG9zaW5nICBmai1jb250cm9sLWVtYmQgZmotYnRuIGZqLWljb24td2luZG93Q2xvc2VcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L3NwYW4+JyArXG4gICAgICAgICAgICAnICAgIDxkaXYgY2xhc3M9XCJmai1vdmVybGF5LWVycm9yXCI+JyArIGVycm9yVHlwZSArICc8L2Rpdj4nICtcbiAgICAgICAgICAgICc8L2Rpdj4nO1xuICAgICAgICBPdmVybGF5Q2xvc2luZ0Rpdi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkgeyBTdG9wT3ZlcmxheSgpOyB9KTtcbiAgICAgICAgT3ZlcmxheURpdi5hcHBlbmRDaGlsZChPdmVybGF5Q2xvc2luZ0Rpdik7XG4gICAgICAgIE92ZXJsYXlEaXYuYXBwZW5kQ2hpbGQoT3ZlcmxheUlubmVyRGl2KTtcbiAgICAgICAgT3ZlcmxheURpdi5jbGFzc0xpc3QucmVtb3ZlKCdmai1oaWRlJyk7XG4gICAgICAgIE92ZXJsYXlEaXYuY2xhc3NMaXN0LmFkZCgnb3Zlci1ITCcpO1xuICAgIH07XG5cbiAgICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICAvLyBQVUJMSUMgQVBJXG4gICAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgcmV0dXJuIHtcbiAgICAgICAgY29uc3RydWN0b3I6IEZqRXJyb3JcbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IEZqRXJyb3I7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9qcy91dGlscy9GakVycm9yLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBOzs7QUFDQTtBQUNBO0FBREE7QUFDQTs7Ozs7QUFGQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFLQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 19 */
/* unknown exports provided */
/* all exports used */
/*!*****************************************************************!*\
  !*** ./~/css-loader!./~/less-loader/dist!./src/css/player.less ***!
  \*****************************************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("exports = module.exports = __webpack_require__(/*! ../../~/css-loader/lib/css-base.js */ 20)();\n// imports\n\n\n// module\nexports.push([module.i, \"/* include the Font Awesome CSS */\\n.fj-icon-leftarrow {\\n  font-family: \\\"FontAwesome\\\";\\n  font-size: 1.3em;\\n  content: \\\"\\\\F060\\\";\\n}\\n.fj-icon-leftarrow:before {\\n  content: \\\"\\\\F060\\\";\\n}\\n.fj-icon-download {\\n  font-family: \\\"FontAwesome\\\";\\n  font-size: 1.3em;\\n  content: \\\"\\\\F019\\\";\\n}\\n.fj-icon-download:before {\\n  content: \\\"\\\\F019\\\";\\n}\\n.fj-icon-share {\\n  font-family: \\\"FontAwesome\\\";\\n  font-size: 1.3em;\\n  content: \\\"\\\\F1E0\\\";\\n}\\n.fj-icon-share:before {\\n  content: \\\"\\\\F1E0\\\";\\n}\\n.fj-icon-play {\\n  font-family: \\\"FontAwesome\\\";\\n  font-size: 1.3em;\\n  content: \\\"\\\\F04B\\\";\\n}\\n.fj-icon-play:before {\\n  content: \\\"\\\\F04B\\\";\\n}\\n.fj-icon-playNext {\\n  font-family: \\\"FontAwesome\\\";\\n  font-size: 1.3em;\\n  content: \\\"\\\\F051\\\";\\n}\\n.fj-icon-playNext:before {\\n  content: \\\"\\\\F051\\\";\\n}\\n.fj-icon-playPrevious {\\n  font-family: \\\"FontAwesome\\\";\\n  font-size: 1.3em;\\n  content: \\\"\\\\F048\\\";\\n}\\n.fj-icon-playPrevious:before {\\n  content: \\\"\\\\F048\\\";\\n}\\n.fj-icon-pause {\\n  font-family: \\\"FontAwesome\\\";\\n  font-size: 1.3em;\\n  content: \\\"\\\\F04C\\\";\\n}\\n.fj-icon-pause:before {\\n  content: \\\"\\\\F04C\\\";\\n}\\n.fj-icon-volUp {\\n  font-family: \\\"FontAwesome\\\";\\n  font-size: 1.3em;\\n  content: \\\"\\\\F028\\\";\\n}\\n.fj-icon-volUp:before {\\n  content: \\\"\\\\F028\\\";\\n}\\n.fj-icon-volDown {\\n  font-family: \\\"FontAwesome\\\";\\n  font-size: 1.3em;\\n  content: \\\"\\\\F027\\\";\\n}\\n.fj-icon-volDown:before {\\n  content: \\\"\\\\F027\\\";\\n}\\n.fj-icon-mute {\\n  font-family: \\\"FontAwesome\\\";\\n  font-size: 1.3em;\\n  content: \\\"\\\\F026\\\";\\n}\\n.fj-icon-mute:before {\\n  content: \\\"\\\\F026\\\";\\n}\\n.fj-icon-audios {\\n  font-family: \\\"FontAwesome\\\";\\n  font-size: 1.3em;\\n  content: \\\"\\\\F130\\\";\\n}\\n.fj-icon-audios:before {\\n  content: \\\"\\\\F130\\\";\\n}\\n.fj-icon-subs {\\n  font-family: \\\"FontAwesome\\\";\\n  font-size: 1.3em;\\n  content: \\\"\\\\F20A\\\";\\n}\\n.fj-icon-subs:before {\\n  content: \\\"\\\\F20A\\\";\\n}\\n.fj-icon-fullScreen {\\n  font-family: \\\"FontAwesome\\\";\\n  font-size: 1.3em;\\n  content: \\\"\\\\F0B2\\\";\\n}\\n.fj-icon-fullScreen:before {\\n  content: \\\"\\\\F0B2\\\";\\n}\\n.fj-icon-compressScreen {\\n  font-family: \\\"FontAwesome\\\";\\n  font-size: 1.3em;\\n  content: \\\"\\\\F066\\\";\\n}\\n.fj-icon-compressScreen:before {\\n  content: \\\"\\\\F066\\\";\\n}\\n.fj-icon-windowClose {\\n  font-family: \\\"FontAwesome\\\";\\n  font-size: 1.3em;\\n  content: \\\"\\\\F00D\\\";\\n}\\n.fj-icon-windowClose:before {\\n  content: \\\"\\\\F00D\\\";\\n}\\n/*---------- general & component -----------*/\\n.fj-player {\\n  margin: 0 auto;\\n}\\n.fj-figure {\\n  background-color: #000000;\\n  color: #FFFFFF;\\n  text-align: center;\\n  position: relative;\\n  margin: 0px auto 0px auto;\\n  display: inline-block;\\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\\n  font-size: 12px;\\n  width: 100%;\\n}\\n.fj-control {\\n  background-color: rgba(0, 0, 0, 0.6);\\n  color: #FFFFFF;\\n  opacity: 0.75;\\n  cursor: pointer;\\n}\\n.fj-control-embd {\\n  color: #FFFFFF;\\n  opacity: 0.75;\\n  cursor: pointer;\\n}\\n.fj-control-embd:hover,\\n.fj-control:hover {\\n  opacity: 1;\\n  background: #6c6c6c;\\n}\\n.fj-video-progress {\\n  margin-bottom: 0.5%;\\n  margin-top: 0.5%;\\n  padding-left: 1px;\\n  padding-right: 1px;\\n}\\n/*---------- position Horizental -----------*/\\n.divTspanitleSeparator {\\n  position: relative;\\n  visibility: visible;\\n  text-overflow: ellipsis;\\n  overflow: hidden;\\n  margin: 0px;\\n  white-space: nowrap;\\n  display: inline-block;\\n  max-width: 766px;\\n  font-size: 12px;\\n  padding: 10px;\\n}\\n.fj-horizental-top {\\n  z-index: 2147483647;\\n  border-radius: 5px;\\n  top: 5%;\\n  width: 80%;\\n  position: absolute;\\n  left: 10%;\\n}\\n.fj-horizental-center {\\n  z-index: 2147483647;\\n  border-radius: 5px;\\n  top: 45%;\\n  width: 80%;\\n  position: absolute;\\n  left: 10%;\\n}\\n.fj-horizental-bottomMenus {\\n  z-index: 2147483647;\\n  position: absolute;\\n  border-radius: 5px;\\n  bottom: 22%;\\n  opacity: 0.8;\\n  background: rgba(10, 10, 10, 0.8);\\n  width: 90%;\\n  margin-left: 5%;\\n  display: relative;\\n}\\n.fj-horizental-bottomUpper {\\n  z-index: 2147483647;\\n  position: absolute;\\n  border-radius: 5px;\\n  bottom: 12%;\\n  opacity: 0.8;\\n  background: rgba(10, 10, 10, 0.8);\\n  width: 90%;\\n  margin-left: 5%;\\n  display: relative;\\n}\\n.fj-horizental-bottomLower {\\n  z-index: 2147483647;\\n  position: absolute;\\n  border-radius: 5px;\\n  bottom: 2%;\\n  opacity: 0.8;\\n  background: rgba(10, 10, 10, 0.8);\\n  width: 90%;\\n  left: 5%;\\n  display: relative;\\n}\\n.fj-text {\\n  color: #FFFFFF;\\n  cursor: default;\\n  padding-right: 5px ;\\n  padding-top: 1% ;\\n  white-space: nowrap;\\n  display: inline-block;\\n}\\n/*---------- position Vertical -----------*/\\n.fj-vertical-separator {\\n  position: relative;\\n  visibility: visible;\\n  text-overflow: ellipsis;\\n  overflow: hidden;\\n  margin: 0px;\\n  white-space: nowrap;\\n  display: inline-block;\\n  max-width: 766px;\\n  font-size: 12px;\\n  padding: 10px;\\n}\\n.fj-vertical-left {\\n  position: relative;\\n  float: left;\\n}\\n.fj-vertical-center {\\n  position: relative;\\n}\\n.fj-vertical-right {\\n  position: relative;\\n  float: right;\\n}\\n/*---------- types -----------*/\\n.fj-video {\\n  background-color: rgba(0, 0, 0, 0.6);\\n  -webkit-background-size: cover;\\n  -moz-background-size: cover;\\n  -o-background-size: cover;\\n  background-size: cover;\\n}\\n.fj-btn {\\n  border-top-left-radius: 5px;\\n  border-top-right-radius: 5px;\\n  border-bottom-right-radius: 5px;\\n  border-bottom-left-radius: 5px;\\n  padding: 5px 10px 5px 10px;\\n  margin: 0.05em 0.1em 0.05em  0.1em;\\n  white-space: nowrap;\\n  display: inline-block;\\n}\\n.fj-big-btn {\\n  color: #FF0000;\\n  border-top-left-radius: 5px;\\n  border-top-right-radius: 5px;\\n  border-bottom-right-radius: 5px;\\n  border-bottom-left-radius: 5px;\\n  padding-left: 10px;\\n  padding-right: 10px;\\n  padding-top: 5px;\\n  padding-bottom: 5px;\\n  text-overflow: ellipsis;\\n  overflow: hidden;\\n  white-space: nowrap;\\n  display: inline-block;\\n  font-size: 4em ;\\n  margin-top: -15px;\\n  margin-left: -15px;\\n}\\n.fj-title {\\n  background-color: rgba(0, 0, 0, 0.6);\\n}\\n.fj-hide {\\n  visibility: hidden;\\n  display: none;\\n}\\n.fj-overlayContainer {\\n  height: 100%;\\n  margin: 0 auto;\\n}\\n.fj-overlay {\\n  position: absolute;\\n  background: rgba(0, 0, 0, 0.5);\\n  float: left;\\n  font-size: 12px;\\n  padding: 5px;\\n  border-radius: 5px;\\n  z-index: 2147483647;\\n  top: 20%;\\n  left: 20%;\\n  height: auto;\\n}\\n/* ----------------------- spinner  ------------------------ */\\n@keyframes spinner {\\n  to {\\n    transform: rotate(360deg);\\n  }\\n}\\n.spinner:before {\\n  content: '';\\n  box-sizing: border-box;\\n  z-index: 2147483647;\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  width: 30px;\\n  height: 30px;\\n  margin-top: -15px;\\n  margin-left: -15px;\\n  border-radius: 50%;\\n  border: 3px solid #8F9B9E;\\n  border-top-color: #FF0000;\\n  animation: spinner .6s linear infinite;\\n}\\n/*_________________________ RANGE ________________________*/\\n.volumebar {\\n  margin-top: 1%;\\n  padding-left: 1%;\\n  padding-right: 3%;\\n  border-left: none;\\n  border-right: none;\\n}\\ninput[type=\\\"range\\\"] {\\n  margin: auto;\\n  -webkit-appearance: none;\\n  -moz-appearance: none;\\n  position: relative;\\n  overflow: hidden;\\n  height: 6px;\\n  width: 98% !important;\\n  border-radius: 5px;\\n  cursor: pointer;\\n  margin-top: 2px;\\n  margin-bottom: 2px;\\n}\\ninput[type=range]:focus {\\n  outline: none;\\n}\\ninput[type='range']::-webkit-slider-runnable-track {\\n  background: #8F9B9E;\\n  border-radius: 5px;\\n}\\ninput[type='range']::-webkit-slider-thumb,\\ninput[type='range']::-webkit-media-slider-thumb {\\n  background: #8F9B9E;\\n  box-shadow: -100vw 0 0 100vw #FF0000;\\n  border: 2px solid #3C4447;\\n  color: #FF0000;\\n  height: 6px;\\n  border-radius: 100%;\\n}\\ninput[type='range']::-moz-range-track {\\n  background: #8F9B9E;\\n  height: 6px;\\n  border-radius: 5px;\\n}\\ninput[type='range']::-moz-range-thumb {\\n  color: #FF0000;\\n  height: 6px;\\n  border: 2px solid #3C4447;\\n  border-radius: 5px;\\n  box-shadow: -100vw 0 0 100vw #FF0000;\\n}\\n/* todo \\ninput[type=\\\"range\\\"]::-moz-range-progress {\\n     background-color: #FF0000;\\n}\\ninput[type='range']::-ms-fill-upper {\\n    background-color: @fjProgressForeground;\\n}\\ninput[type='range']::-ms-fill-lower {\\n    background-color: @fjThemeColor;\\n}*/\\n/* animation */\\n.m-fadeOut {\\n  visibility: hidden;\\n  opacity: 0;\\n  transition: visibility 200ms, opacity 200ms;\\n}\\n.m-fadeIn {\\n  visibility: visible;\\n  opacity: 1;\\n}\\n/* ---------------------- Menu style --------------------- */\\n.fj-list-title {\\n  cursor: default;\\n  font-weight: bold;\\n  padding: 5px;\\n}\\n.settingMenuDiv {\\n  position: absolute;\\n  background: rgba(10, 10, 10, 0.8);\\n  bottom: 10%;\\n  left: 85%;\\n  margin-bottom: 15px;\\n  border-radius: 5px;\\n  padding-right: 5px;\\n  list-style-type: none;\\n}\\n.settingMenuDivnt div,\\n.settingMenuDivnt ul {\\n  display: inline;\\n  list-style-type: none;\\n}\\n.fj-list {\\n  list-style-type: none;\\n  padding-left: 25px;\\n}\\n.settingMenuSubMenuRight {\\n  float: left;\\n  width: 100%;\\n  border-left: 1px solid #2A2A2A;\\n  padding-left: 5px;\\n  padding-right: 5px;\\n}\\n.subtitles-menu-item-actif {\\n  cursor: pointer;\\n  text-align: left;\\n  border-radius: 5px;\\n  opacity: 1;\\n}\\n.subtitles-menu-item-actif:before {\\n  content: \\\"\\\\F00C\\\";\\n  /* FontAwesome Unicode */\\n  font-family: FontAwesome;\\n  display: inline-block;\\n  margin-left: -1.3em;\\n  /* same as padding-left set on li */\\n  width: 1.3em;\\n  /* same as padding-left set on li */\\n}\\n.subtitles-menu-item {\\n  cursor: pointer;\\n  text-align: left;\\n  list-style-type: none;\\n  opacity: 0.9;\\n}\\n/*------------------ OVERLAYS -------------*/\\n.fj-overlays-container {\\n  width: 100%;\\n  height: 100%;\\n  margin: 0 auto;\\n  padding: 0px;\\n  /*position: relative;*/\\n  position: absolute;\\n}\\n.over-HL {\\n  position: absolute;\\n  background: rgba(0, 0, 0, 0.5);\\n  float: left;\\n  padding: 5px;\\n  border-radius: 5px;\\n  z-index: 2147483647;\\n  /****/\\n  top: 25%;\\n  left: 20%;\\n  height: auto;\\n}\\n.over-HL-error {\\n  position: absolute;\\n  background: rgba(255, 0, 0, 0.5);\\n  float: left;\\n  padding: 5px;\\n  border-radius: 5px;\\n  z-index: 2147483647;\\n  /****/\\n  top: 25%;\\n  left: 20%;\\n  height: auto;\\n}\\n.over-HR {\\n  position: absolute;\\n  background: rgba(0, 0, 0, 0.5);\\n  float: left;\\n  padding: 5px;\\n  border-radius: 5px;\\n  z-index: 2147483647;\\n  /****/\\n  top: 25%;\\n  left: 80%;\\n  height: auto;\\n}\\n.fj-overlay-closing {\\n  float: right;\\n  text-decoration: none;\\n  display: inline-block;\\n}\\n.fj-overlay-annonce {\\n  color: #77ff77;\\n  font-size: 1em;\\n  float: left;\\n  text-decoration: none;\\n  display: inline-block;\\n}\\n.fj-overlay-error {\\n  color: #ff0000;\\n  font-size: 1em;\\n  float: left;\\n  text-decoration: none;\\n  display: inline-block;\\n}\\n.fj-overlay-link {\\n  color: #ffff00;\\n  font-size: 0.8em;\\n  float: left;\\n  text-decoration: none;\\n  display: inline-block;\\n}\\n.fj-overlay-description {\\n  font-size: 1.2em;\\n  float: right;\\n  text-decoration: none;\\n  display: inline-block;\\n}\\n/* ---------------------- Thumbs style --------------------- */\\n.thumbsBlockDiv {\\n  position: absolute;\\n  margin-bottom: 15px;\\n  padding-top: 5px;\\n  border-radius: 5px;\\n  bottom: 8%;\\n  background: rgba(10, 10, 10, 0.8);\\n}\\n.thumbsBlock {\\n  display: table-cell;\\n  border-radius: 5px;\\n  vertical-align: top;\\n  display: inline-block;\\n}\\n/*=====================================================================================================*/\\nfigure[controls-hidden=false] video::-webkit-media-text-track-display {\\n  position: relative !important ;\\n  /*absolute*/\\n  top: 80%  !important;\\n  /* 0 */\\n}\\n/*\\nvideo::cue {\\n  // add style here\\n}\\n*/\\nfigure[controls-hidden=false] video::-moz-media-text-track-display {\\n  position: relative !important ;\\n  /*absolute*/\\n  top: 80%  !important;\\n  /* 0 */\\n}\\n/*_________________________________ FULL SCREEN __________________________*/\\n/* fullscreen */\\nhtml:-ms-fullscreen {\\n  width: 100%;\\n}\\n:-webkit-full-screen {\\n  background-color: transparent;\\n}\\n/* hide controls on fullscreen with WebKit */\\nfigure[data-fullscreen=true] video::-webkit-media-controls {\\n  display: none !important;\\n}\\nfigure[data-fullscreen=true] video::-moz-media-controls {\\n  display: none !important;\\n}\\nfigure[data-fullscreen=true] {\\n  max-width: 100%;\\n  width: 100%;\\n  margin: 0;\\n  padding: 0;\\n}\\nfigure[data-fullscreen=true] video {\\n  height: 100%;\\n}\\nfigure[data-fullscreen=true] .volumebar {\\n  width: 35%;\\n}\\nfigure[data-fullscreen=true] .fj-title {\\n  font-size: 3em;\\n}\\nfigure[data-fullscreen=true] .fj-text {\\n  font-size: 2em;\\n}\\nfigure[data-fullscreen=true] .fj-big-btn {\\n  font-size: 8em;\\n}\\nfigure[data-fullscreen=true] .fj-btn {\\n  font-size: 3em;\\n  margin-bottom: 5px;\\n}\\nfigure[data-fullscreen=true] .spinner::before {\\n  width: 55px;\\n  height: 55px;\\n  border: 5px solid #8F9B9E;\\n  border-top-color: #FF0000;\\n}\\n\", \"\"]);\n\n// exports\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY3NzL3BsYXllci5sZXNzPzQ1MDciXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLyogaW5jbHVkZSB0aGUgRm9udCBBd2Vzb21lIENTUyAqL1xcbi5mai1pY29uLWxlZnRhcnJvdyB7XFxuICBmb250LWZhbWlseTogXFxcIkZvbnRBd2Vzb21lXFxcIjtcXG4gIGZvbnQtc2l6ZTogMS4zZW07XFxuICBjb250ZW50OiBcXFwiXFxcXEYwNjBcXFwiO1xcbn1cXG4uZmotaWNvbi1sZWZ0YXJyb3c6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjA2MFxcXCI7XFxufVxcbi5mai1pY29uLWRvd25sb2FkIHtcXG4gIGZvbnQtZmFtaWx5OiBcXFwiRm9udEF3ZXNvbWVcXFwiO1xcbiAgZm9udC1zaXplOiAxLjNlbTtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjAxOVxcXCI7XFxufVxcbi5mai1pY29uLWRvd25sb2FkOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwMTlcXFwiO1xcbn1cXG4uZmotaWNvbi1zaGFyZSB7XFxuICBmb250LWZhbWlseTogXFxcIkZvbnRBd2Vzb21lXFxcIjtcXG4gIGZvbnQtc2l6ZTogMS4zZW07XFxuICBjb250ZW50OiBcXFwiXFxcXEYxRTBcXFwiO1xcbn1cXG4uZmotaWNvbi1zaGFyZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMUUwXFxcIjtcXG59XFxuLmZqLWljb24tcGxheSB7XFxuICBmb250LWZhbWlseTogXFxcIkZvbnRBd2Vzb21lXFxcIjtcXG4gIGZvbnQtc2l6ZTogMS4zZW07XFxuICBjb250ZW50OiBcXFwiXFxcXEYwNEJcXFwiO1xcbn1cXG4uZmotaWNvbi1wbGF5OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwNEJcXFwiO1xcbn1cXG4uZmotaWNvbi1wbGF5TmV4dCB7XFxuICBmb250LWZhbWlseTogXFxcIkZvbnRBd2Vzb21lXFxcIjtcXG4gIGZvbnQtc2l6ZTogMS4zZW07XFxuICBjb250ZW50OiBcXFwiXFxcXEYwNTFcXFwiO1xcbn1cXG4uZmotaWNvbi1wbGF5TmV4dDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDUxXFxcIjtcXG59XFxuLmZqLWljb24tcGxheVByZXZpb3VzIHtcXG4gIGZvbnQtZmFtaWx5OiBcXFwiRm9udEF3ZXNvbWVcXFwiO1xcbiAgZm9udC1zaXplOiAxLjNlbTtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjA0OFxcXCI7XFxufVxcbi5mai1pY29uLXBsYXlQcmV2aW91czpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDQ4XFxcIjtcXG59XFxuLmZqLWljb24tcGF1c2Uge1xcbiAgZm9udC1mYW1pbHk6IFxcXCJGb250QXdlc29tZVxcXCI7XFxuICBmb250LXNpemU6IDEuM2VtO1xcbiAgY29udGVudDogXFxcIlxcXFxGMDRDXFxcIjtcXG59XFxuLmZqLWljb24tcGF1c2U6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjA0Q1xcXCI7XFxufVxcbi5mai1pY29uLXZvbFVwIHtcXG4gIGZvbnQtZmFtaWx5OiBcXFwiRm9udEF3ZXNvbWVcXFwiO1xcbiAgZm9udC1zaXplOiAxLjNlbTtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjAyOFxcXCI7XFxufVxcbi5mai1pY29uLXZvbFVwOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwMjhcXFwiO1xcbn1cXG4uZmotaWNvbi12b2xEb3duIHtcXG4gIGZvbnQtZmFtaWx5OiBcXFwiRm9udEF3ZXNvbWVcXFwiO1xcbiAgZm9udC1zaXplOiAxLjNlbTtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjAyN1xcXCI7XFxufVxcbi5mai1pY29uLXZvbERvd246YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjAyN1xcXCI7XFxufVxcbi5mai1pY29uLW11dGUge1xcbiAgZm9udC1mYW1pbHk6IFxcXCJGb250QXdlc29tZVxcXCI7XFxuICBmb250LXNpemU6IDEuM2VtO1xcbiAgY29udGVudDogXFxcIlxcXFxGMDI2XFxcIjtcXG59XFxuLmZqLWljb24tbXV0ZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDI2XFxcIjtcXG59XFxuLmZqLWljb24tYXVkaW9zIHtcXG4gIGZvbnQtZmFtaWx5OiBcXFwiRm9udEF3ZXNvbWVcXFwiO1xcbiAgZm9udC1zaXplOiAxLjNlbTtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjEzMFxcXCI7XFxufVxcbi5mai1pY29uLWF1ZGlvczpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTMwXFxcIjtcXG59XFxuLmZqLWljb24tc3VicyB7XFxuICBmb250LWZhbWlseTogXFxcIkZvbnRBd2Vzb21lXFxcIjtcXG4gIGZvbnQtc2l6ZTogMS4zZW07XFxuICBjb250ZW50OiBcXFwiXFxcXEYyMEFcXFwiO1xcbn1cXG4uZmotaWNvbi1zdWJzOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyMEFcXFwiO1xcbn1cXG4uZmotaWNvbi1mdWxsU2NyZWVuIHtcXG4gIGZvbnQtZmFtaWx5OiBcXFwiRm9udEF3ZXNvbWVcXFwiO1xcbiAgZm9udC1zaXplOiAxLjNlbTtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjBCMlxcXCI7XFxufVxcbi5mai1pY29uLWZ1bGxTY3JlZW46YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjBCMlxcXCI7XFxufVxcbi5mai1pY29uLWNvbXByZXNzU2NyZWVuIHtcXG4gIGZvbnQtZmFtaWx5OiBcXFwiRm9udEF3ZXNvbWVcXFwiO1xcbiAgZm9udC1zaXplOiAxLjNlbTtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjA2NlxcXCI7XFxufVxcbi5mai1pY29uLWNvbXByZXNzU2NyZWVuOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwNjZcXFwiO1xcbn1cXG4uZmotaWNvbi13aW5kb3dDbG9zZSB7XFxuICBmb250LWZhbWlseTogXFxcIkZvbnRBd2Vzb21lXFxcIjtcXG4gIGZvbnQtc2l6ZTogMS4zZW07XFxuICBjb250ZW50OiBcXFwiXFxcXEYwMERcXFwiO1xcbn1cXG4uZmotaWNvbi13aW5kb3dDbG9zZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDBEXFxcIjtcXG59XFxuLyotLS0tLS0tLS0tIGdlbmVyYWwgJiBjb21wb25lbnQgLS0tLS0tLS0tLS0qL1xcbi5mai1wbGF5ZXIge1xcbiAgbWFyZ2luOiAwIGF1dG87XFxufVxcbi5mai1maWd1cmUge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwMDAwMDtcXG4gIGNvbG9yOiAjRkZGRkZGO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgbWFyZ2luOiAwcHggYXV0byAwcHggYXV0bztcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gIGZvbnQtZmFtaWx5OiAnU2Vnb2UgVUknLCBUYWhvbWEsIEdlbmV2YSwgVmVyZGFuYSwgc2Fucy1zZXJpZjtcXG4gIGZvbnQtc2l6ZTogMTJweDtcXG4gIHdpZHRoOiAxMDAlO1xcbn1cXG4uZmotY29udHJvbCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNik7XFxuICBjb2xvcjogI0ZGRkZGRjtcXG4gIG9wYWNpdHk6IDAuNzU7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcbi5mai1jb250cm9sLWVtYmQge1xcbiAgY29sb3I6ICNGRkZGRkY7XFxuICBvcGFjaXR5OiAwLjc1O1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG4uZmotY29udHJvbC1lbWJkOmhvdmVyLFxcbi5mai1jb250cm9sOmhvdmVyIHtcXG4gIG9wYWNpdHk6IDE7XFxuICBiYWNrZ3JvdW5kOiAjNmM2YzZjO1xcbn1cXG4uZmotdmlkZW8tcHJvZ3Jlc3Mge1xcbiAgbWFyZ2luLWJvdHRvbTogMC41JTtcXG4gIG1hcmdpbi10b3A6IDAuNSU7XFxuICBwYWRkaW5nLWxlZnQ6IDFweDtcXG4gIHBhZGRpbmctcmlnaHQ6IDFweDtcXG59XFxuLyotLS0tLS0tLS0tIHBvc2l0aW9uIEhvcml6ZW50YWwgLS0tLS0tLS0tLS0qL1xcbi5kaXZUc3Bhbml0bGVTZXBhcmF0b3Ige1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgdmlzaWJpbGl0eTogdmlzaWJsZTtcXG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIG1hcmdpbjogMHB4O1xcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gIG1heC13aWR0aDogNzY2cHg7XFxuICBmb250LXNpemU6IDEycHg7XFxuICBwYWRkaW5nOiAxMHB4O1xcbn1cXG4uZmotaG9yaXplbnRhbC10b3Age1xcbiAgei1pbmRleDogMjE0NzQ4MzY0NztcXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcXG4gIHRvcDogNSU7XFxuICB3aWR0aDogODAlO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgbGVmdDogMTAlO1xcbn1cXG4uZmotaG9yaXplbnRhbC1jZW50ZXIge1xcbiAgei1pbmRleDogMjE0NzQ4MzY0NztcXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcXG4gIHRvcDogNDUlO1xcbiAgd2lkdGg6IDgwJTtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGxlZnQ6IDEwJTtcXG59XFxuLmZqLWhvcml6ZW50YWwtYm90dG9tTWVudXMge1xcbiAgei1pbmRleDogMjE0NzQ4MzY0NztcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcXG4gIGJvdHRvbTogMjIlO1xcbiAgb3BhY2l0eTogMC44O1xcbiAgYmFja2dyb3VuZDogcmdiYSgxMCwgMTAsIDEwLCAwLjgpO1xcbiAgd2lkdGg6IDkwJTtcXG4gIG1hcmdpbi1sZWZ0OiA1JTtcXG4gIGRpc3BsYXk6IHJlbGF0aXZlO1xcbn1cXG4uZmotaG9yaXplbnRhbC1ib3R0b21VcHBlciB7XFxuICB6LWluZGV4OiAyMTQ3NDgzNjQ3O1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xcbiAgYm90dG9tOiAxMiU7XFxuICBvcGFjaXR5OiAwLjg7XFxuICBiYWNrZ3JvdW5kOiByZ2JhKDEwLCAxMCwgMTAsIDAuOCk7XFxuICB3aWR0aDogOTAlO1xcbiAgbWFyZ2luLWxlZnQ6IDUlO1xcbiAgZGlzcGxheTogcmVsYXRpdmU7XFxufVxcbi5mai1ob3JpemVudGFsLWJvdHRvbUxvd2VyIHtcXG4gIHotaW5kZXg6IDIxNDc0ODM2NDc7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBib3JkZXItcmFkaXVzOiA1cHg7XFxuICBib3R0b206IDIlO1xcbiAgb3BhY2l0eTogMC44O1xcbiAgYmFja2dyb3VuZDogcmdiYSgxMCwgMTAsIDEwLCAwLjgpO1xcbiAgd2lkdGg6IDkwJTtcXG4gIGxlZnQ6IDUlO1xcbiAgZGlzcGxheTogcmVsYXRpdmU7XFxufVxcbi5mai10ZXh0IHtcXG4gIGNvbG9yOiAjRkZGRkZGO1xcbiAgY3Vyc29yOiBkZWZhdWx0O1xcbiAgcGFkZGluZy1yaWdodDogNXB4IDtcXG4gIHBhZGRpbmctdG9wOiAxJSA7XFxuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbn1cXG4vKi0tLS0tLS0tLS0gcG9zaXRpb24gVmVydGljYWwgLS0tLS0tLS0tLS0qL1xcbi5mai12ZXJ0aWNhbC1zZXBhcmF0b3Ige1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgdmlzaWJpbGl0eTogdmlzaWJsZTtcXG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIG1hcmdpbjogMHB4O1xcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gIG1heC13aWR0aDogNzY2cHg7XFxuICBmb250LXNpemU6IDEycHg7XFxuICBwYWRkaW5nOiAxMHB4O1xcbn1cXG4uZmotdmVydGljYWwtbGVmdCB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBmbG9hdDogbGVmdDtcXG59XFxuLmZqLXZlcnRpY2FsLWNlbnRlciB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcbi5mai12ZXJ0aWNhbC1yaWdodCB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBmbG9hdDogcmlnaHQ7XFxufVxcbi8qLS0tLS0tLS0tLSB0eXBlcyAtLS0tLS0tLS0tLSovXFxuLmZqLXZpZGVvIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC42KTtcXG4gIC13ZWJraXQtYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcXG4gIC1tb3otYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcXG4gIC1vLWJhY2tncm91bmQtc2l6ZTogY292ZXI7XFxuICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xcbn1cXG4uZmotYnRuIHtcXG4gIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDVweDtcXG4gIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiA1cHg7XFxuICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogNXB4O1xcbiAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogNXB4O1xcbiAgcGFkZGluZzogNXB4IDEwcHggNXB4IDEwcHg7XFxuICBtYXJnaW46IDAuMDVlbSAwLjFlbSAwLjA1ZW0gIDAuMWVtO1xcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG59XFxuLmZqLWJpZy1idG4ge1xcbiAgY29sb3I6ICNGRjAwMDA7XFxuICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiA1cHg7XFxuICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogNXB4O1xcbiAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDVweDtcXG4gIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDVweDtcXG4gIHBhZGRpbmctbGVmdDogMTBweDtcXG4gIHBhZGRpbmctcmlnaHQ6IDEwcHg7XFxuICBwYWRkaW5nLXRvcDogNXB4O1xcbiAgcGFkZGluZy1ib3R0b206IDVweDtcXG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBmb250LXNpemU6IDRlbSA7XFxuICBtYXJnaW4tdG9wOiAtMTVweDtcXG4gIG1hcmdpbi1sZWZ0OiAtMTVweDtcXG59XFxuLmZqLXRpdGxlIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC42KTtcXG59XFxuLmZqLWhpZGUge1xcbiAgdmlzaWJpbGl0eTogaGlkZGVuO1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuLmZqLW92ZXJsYXlDb250YWluZXIge1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgbWFyZ2luOiAwIGF1dG87XFxufVxcbi5mai1vdmVybGF5IHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC41KTtcXG4gIGZsb2F0OiBsZWZ0O1xcbiAgZm9udC1zaXplOiAxMnB4O1xcbiAgcGFkZGluZzogNXB4O1xcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xcbiAgei1pbmRleDogMjE0NzQ4MzY0NztcXG4gIHRvcDogMjAlO1xcbiAgbGVmdDogMjAlO1xcbiAgaGVpZ2h0OiBhdXRvO1xcbn1cXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBzcGlubmVyICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cXG5Aa2V5ZnJhbWVzIHNwaW5uZXIge1xcbiAgdG8ge1xcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpO1xcbiAgfVxcbn1cXG4uc3Bpbm5lcjpiZWZvcmUge1xcbiAgY29udGVudDogJyc7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgei1pbmRleDogMjE0NzQ4MzY0NztcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogNTAlO1xcbiAgbGVmdDogNTAlO1xcbiAgd2lkdGg6IDMwcHg7XFxuICBoZWlnaHQ6IDMwcHg7XFxuICBtYXJnaW4tdG9wOiAtMTVweDtcXG4gIG1hcmdpbi1sZWZ0OiAtMTVweDtcXG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcXG4gIGJvcmRlcjogM3B4IHNvbGlkICM4RjlCOUU7XFxuICBib3JkZXItdG9wLWNvbG9yOiAjRkYwMDAwO1xcbiAgYW5pbWF0aW9uOiBzcGlubmVyIC42cyBsaW5lYXIgaW5maW5pdGU7XFxufVxcbi8qX19fX19fX19fX19fX19fX19fX19fX19fXyBSQU5HRSBfX19fX19fX19fX19fX19fX19fX19fX18qL1xcbi52b2x1bWViYXIge1xcbiAgbWFyZ2luLXRvcDogMSU7XFxuICBwYWRkaW5nLWxlZnQ6IDElO1xcbiAgcGFkZGluZy1yaWdodDogMyU7XFxuICBib3JkZXItbGVmdDogbm9uZTtcXG4gIGJvcmRlci1yaWdodDogbm9uZTtcXG59XFxuaW5wdXRbdHlwZT1cXFwicmFuZ2VcXFwiXSB7XFxuICBtYXJnaW46IGF1dG87XFxuICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7XFxuICAtbW96LWFwcGVhcmFuY2U6IG5vbmU7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgaGVpZ2h0OiA2cHg7XFxuICB3aWR0aDogOTglICFpbXBvcnRhbnQ7XFxuICBib3JkZXItcmFkaXVzOiA1cHg7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICBtYXJnaW4tdG9wOiAycHg7XFxuICBtYXJnaW4tYm90dG9tOiAycHg7XFxufVxcbmlucHV0W3R5cGU9cmFuZ2VdOmZvY3VzIHtcXG4gIG91dGxpbmU6IG5vbmU7XFxufVxcbmlucHV0W3R5cGU9J3JhbmdlJ106Oi13ZWJraXQtc2xpZGVyLXJ1bm5hYmxlLXRyYWNrIHtcXG4gIGJhY2tncm91bmQ6ICM4RjlCOUU7XFxuICBib3JkZXItcmFkaXVzOiA1cHg7XFxufVxcbmlucHV0W3R5cGU9J3JhbmdlJ106Oi13ZWJraXQtc2xpZGVyLXRodW1iLFxcbmlucHV0W3R5cGU9J3JhbmdlJ106Oi13ZWJraXQtbWVkaWEtc2xpZGVyLXRodW1iIHtcXG4gIGJhY2tncm91bmQ6ICM4RjlCOUU7XFxuICBib3gtc2hhZG93OiAtMTAwdncgMCAwIDEwMHZ3ICNGRjAwMDA7XFxuICBib3JkZXI6IDJweCBzb2xpZCAjM0M0NDQ3O1xcbiAgY29sb3I6ICNGRjAwMDA7XFxuICBoZWlnaHQ6IDZweDtcXG4gIGJvcmRlci1yYWRpdXM6IDEwMCU7XFxufVxcbmlucHV0W3R5cGU9J3JhbmdlJ106Oi1tb3otcmFuZ2UtdHJhY2sge1xcbiAgYmFja2dyb3VuZDogIzhGOUI5RTtcXG4gIGhlaWdodDogNnB4O1xcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xcbn1cXG5pbnB1dFt0eXBlPSdyYW5nZSddOjotbW96LXJhbmdlLXRodW1iIHtcXG4gIGNvbG9yOiAjRkYwMDAwO1xcbiAgaGVpZ2h0OiA2cHg7XFxuICBib3JkZXI6IDJweCBzb2xpZCAjM0M0NDQ3O1xcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xcbiAgYm94LXNoYWRvdzogLTEwMHZ3IDAgMCAxMDB2dyAjRkYwMDAwO1xcbn1cXG4vKiB0b2RvIFxcbmlucHV0W3R5cGU9XFxcInJhbmdlXFxcIl06Oi1tb3otcmFuZ2UtcHJvZ3Jlc3Mge1xcbiAgICAgYmFja2dyb3VuZC1jb2xvcjogI0ZGMDAwMDtcXG59XFxuaW5wdXRbdHlwZT0ncmFuZ2UnXTo6LW1zLWZpbGwtdXBwZXIge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBAZmpQcm9ncmVzc0ZvcmVncm91bmQ7XFxufVxcbmlucHV0W3R5cGU9J3JhbmdlJ106Oi1tcy1maWxsLWxvd2VyIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogQGZqVGhlbWVDb2xvcjtcXG59Ki9cXG4vKiBhbmltYXRpb24gKi9cXG4ubS1mYWRlT3V0IHtcXG4gIHZpc2liaWxpdHk6IGhpZGRlbjtcXG4gIG9wYWNpdHk6IDA7XFxuICB0cmFuc2l0aW9uOiB2aXNpYmlsaXR5IDIwMG1zLCBvcGFjaXR5IDIwMG1zO1xcbn1cXG4ubS1mYWRlSW4ge1xcbiAgdmlzaWJpbGl0eTogdmlzaWJsZTtcXG4gIG9wYWNpdHk6IDE7XFxufVxcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gTWVudSBzdHlsZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cXG4uZmotbGlzdC10aXRsZSB7XFxuICBjdXJzb3I6IGRlZmF1bHQ7XFxuICBmb250LXdlaWdodDogYm9sZDtcXG4gIHBhZGRpbmc6IDVweDtcXG59XFxuLnNldHRpbmdNZW51RGl2IHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGJhY2tncm91bmQ6IHJnYmEoMTAsIDEwLCAxMCwgMC44KTtcXG4gIGJvdHRvbTogMTAlO1xcbiAgbGVmdDogODUlO1xcbiAgbWFyZ2luLWJvdHRvbTogMTVweDtcXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcXG4gIHBhZGRpbmctcmlnaHQ6IDVweDtcXG4gIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcXG59XFxuLnNldHRpbmdNZW51RGl2bnQgZGl2LFxcbi5zZXR0aW5nTWVudURpdm50IHVsIHtcXG4gIGRpc3BsYXk6IGlubGluZTtcXG4gIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcXG59XFxuLmZqLWxpc3Qge1xcbiAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xcbiAgcGFkZGluZy1sZWZ0OiAyNXB4O1xcbn1cXG4uc2V0dGluZ01lbnVTdWJNZW51UmlnaHQge1xcbiAgZmxvYXQ6IGxlZnQ7XFxuICB3aWR0aDogMTAwJTtcXG4gIGJvcmRlci1sZWZ0OiAxcHggc29saWQgIzJBMkEyQTtcXG4gIHBhZGRpbmctbGVmdDogNXB4O1xcbiAgcGFkZGluZy1yaWdodDogNXB4O1xcbn1cXG4uc3VidGl0bGVzLW1lbnUtaXRlbS1hY3RpZiB7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICB0ZXh0LWFsaWduOiBsZWZ0O1xcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xcbiAgb3BhY2l0eTogMTtcXG59XFxuLnN1YnRpdGxlcy1tZW51LWl0ZW0tYWN0aWY6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjAwQ1xcXCI7XFxuICAvKiBGb250QXdlc29tZSBVbmljb2RlICovXFxuICBmb250LWZhbWlseTogRm9udEF3ZXNvbWU7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBtYXJnaW4tbGVmdDogLTEuM2VtO1xcbiAgLyogc2FtZSBhcyBwYWRkaW5nLWxlZnQgc2V0IG9uIGxpICovXFxuICB3aWR0aDogMS4zZW07XFxuICAvKiBzYW1lIGFzIHBhZGRpbmctbGVmdCBzZXQgb24gbGkgKi9cXG59XFxuLnN1YnRpdGxlcy1tZW51LWl0ZW0ge1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgdGV4dC1hbGlnbjogbGVmdDtcXG4gIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcXG4gIG9wYWNpdHk6IDAuOTtcXG59XFxuLyotLS0tLS0tLS0tLS0tLS0tLS0gT1ZFUkxBWVMgLS0tLS0tLS0tLS0tLSovXFxuLmZqLW92ZXJsYXlzLWNvbnRhaW5lciB7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG4gIG1hcmdpbjogMCBhdXRvO1xcbiAgcGFkZGluZzogMHB4O1xcbiAgLypwb3NpdGlvbjogcmVsYXRpdmU7Ki9cXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG59XFxuLm92ZXItSEwge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjUpO1xcbiAgZmxvYXQ6IGxlZnQ7XFxuICBwYWRkaW5nOiA1cHg7XFxuICBib3JkZXItcmFkaXVzOiA1cHg7XFxuICB6LWluZGV4OiAyMTQ3NDgzNjQ3O1xcbiAgLyoqKiovXFxuICB0b3A6IDI1JTtcXG4gIGxlZnQ6IDIwJTtcXG4gIGhlaWdodDogYXV0bztcXG59XFxuLm92ZXItSEwtZXJyb3Ige1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDAsIDAsIDAuNSk7XFxuICBmbG9hdDogbGVmdDtcXG4gIHBhZGRpbmc6IDVweDtcXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcXG4gIHotaW5kZXg6IDIxNDc0ODM2NDc7XFxuICAvKioqKi9cXG4gIHRvcDogMjUlO1xcbiAgbGVmdDogMjAlO1xcbiAgaGVpZ2h0OiBhdXRvO1xcbn1cXG4ub3Zlci1IUiB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuNSk7XFxuICBmbG9hdDogbGVmdDtcXG4gIHBhZGRpbmc6IDVweDtcXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcXG4gIHotaW5kZXg6IDIxNDc0ODM2NDc7XFxuICAvKioqKi9cXG4gIHRvcDogMjUlO1xcbiAgbGVmdDogODAlO1xcbiAgaGVpZ2h0OiBhdXRvO1xcbn1cXG4uZmotb3ZlcmxheS1jbG9zaW5nIHtcXG4gIGZsb2F0OiByaWdodDtcXG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG59XFxuLmZqLW92ZXJsYXktYW5ub25jZSB7XFxuICBjb2xvcjogIzc3ZmY3NztcXG4gIGZvbnQtc2l6ZTogMWVtO1xcbiAgZmxvYXQ6IGxlZnQ7XFxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxufVxcbi5mai1vdmVybGF5LWVycm9yIHtcXG4gIGNvbG9yOiAjZmYwMDAwO1xcbiAgZm9udC1zaXplOiAxZW07XFxuICBmbG9hdDogbGVmdDtcXG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG59XFxuLmZqLW92ZXJsYXktbGluayB7XFxuICBjb2xvcjogI2ZmZmYwMDtcXG4gIGZvbnQtc2l6ZTogMC44ZW07XFxuICBmbG9hdDogbGVmdDtcXG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG59XFxuLmZqLW92ZXJsYXktZGVzY3JpcHRpb24ge1xcbiAgZm9udC1zaXplOiAxLjJlbTtcXG4gIGZsb2F0OiByaWdodDtcXG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG59XFxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBUaHVtYnMgc3R5bGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXFxuLnRodW1ic0Jsb2NrRGl2IHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIG1hcmdpbi1ib3R0b206IDE1cHg7XFxuICBwYWRkaW5nLXRvcDogNXB4O1xcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xcbiAgYm90dG9tOiA4JTtcXG4gIGJhY2tncm91bmQ6IHJnYmEoMTAsIDEwLCAxMCwgMC44KTtcXG59XFxuLnRodW1ic0Jsb2NrIHtcXG4gIGRpc3BsYXk6IHRhYmxlLWNlbGw7XFxuICBib3JkZXItcmFkaXVzOiA1cHg7XFxuICB2ZXJ0aWNhbC1hbGlnbjogdG9wO1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbn1cXG4vKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cXG5maWd1cmVbY29udHJvbHMtaGlkZGVuPWZhbHNlXSB2aWRlbzo6LXdlYmtpdC1tZWRpYS10ZXh0LXRyYWNrLWRpc3BsYXkge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlICFpbXBvcnRhbnQgO1xcbiAgLyphYnNvbHV0ZSovXFxuICB0b3A6IDgwJSAgIWltcG9ydGFudDtcXG4gIC8qIDAgKi9cXG59XFxuLypcXG52aWRlbzo6Y3VlIHtcXG4gIC8vIGFkZCBzdHlsZSBoZXJlXFxufVxcbiovXFxuZmlndXJlW2NvbnRyb2xzLWhpZGRlbj1mYWxzZV0gdmlkZW86Oi1tb3otbWVkaWEtdGV4dC10cmFjay1kaXNwbGF5IHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZSAhaW1wb3J0YW50IDtcXG4gIC8qYWJzb2x1dGUqL1xcbiAgdG9wOiA4MCUgICFpbXBvcnRhbnQ7XFxuICAvKiAwICovXFxufVxcbi8qX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fIEZVTEwgU0NSRUVOIF9fX19fX19fX19fX19fX19fX19fX19fX19fKi9cXG4vKiBmdWxsc2NyZWVuICovXFxuaHRtbDotbXMtZnVsbHNjcmVlbiB7XFxuICB3aWR0aDogMTAwJTtcXG59XFxuOi13ZWJraXQtZnVsbC1zY3JlZW4ge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxufVxcbi8qIGhpZGUgY29udHJvbHMgb24gZnVsbHNjcmVlbiB3aXRoIFdlYktpdCAqL1xcbmZpZ3VyZVtkYXRhLWZ1bGxzY3JlZW49dHJ1ZV0gdmlkZW86Oi13ZWJraXQtbWVkaWEtY29udHJvbHMge1xcbiAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xcbn1cXG5maWd1cmVbZGF0YS1mdWxsc2NyZWVuPXRydWVdIHZpZGVvOjotbW96LW1lZGlhLWNvbnRyb2xzIHtcXG4gIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDtcXG59XFxuZmlndXJlW2RhdGEtZnVsbHNjcmVlbj10cnVlXSB7XFxuICBtYXgtd2lkdGg6IDEwMCU7XFxuICB3aWR0aDogMTAwJTtcXG4gIG1hcmdpbjogMDtcXG4gIHBhZGRpbmc6IDA7XFxufVxcbmZpZ3VyZVtkYXRhLWZ1bGxzY3JlZW49dHJ1ZV0gdmlkZW8ge1xcbiAgaGVpZ2h0OiAxMDAlO1xcbn1cXG5maWd1cmVbZGF0YS1mdWxsc2NyZWVuPXRydWVdIC52b2x1bWViYXIge1xcbiAgd2lkdGg6IDM1JTtcXG59XFxuZmlndXJlW2RhdGEtZnVsbHNjcmVlbj10cnVlXSAuZmotdGl0bGUge1xcbiAgZm9udC1zaXplOiAzZW07XFxufVxcbmZpZ3VyZVtkYXRhLWZ1bGxzY3JlZW49dHJ1ZV0gLmZqLXRleHQge1xcbiAgZm9udC1zaXplOiAyZW07XFxufVxcbmZpZ3VyZVtkYXRhLWZ1bGxzY3JlZW49dHJ1ZV0gLmZqLWJpZy1idG4ge1xcbiAgZm9udC1zaXplOiA4ZW07XFxufVxcbmZpZ3VyZVtkYXRhLWZ1bGxzY3JlZW49dHJ1ZV0gLmZqLWJ0biB7XFxuICBmb250LXNpemU6IDNlbTtcXG4gIG1hcmdpbi1ib3R0b206IDVweDtcXG59XFxuZmlndXJlW2RhdGEtZnVsbHNjcmVlbj10cnVlXSAuc3Bpbm5lcjo6YmVmb3JlIHtcXG4gIHdpZHRoOiA1NXB4O1xcbiAgaGVpZ2h0OiA1NXB4O1xcbiAgYm9yZGVyOiA1cHggc29saWQgIzhGOUI5RTtcXG4gIGJvcmRlci10b3AtY29sb3I6ICNGRjAwMDA7XFxufVxcblwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jc3MtbG9hZGVyIS4vfi9sZXNzLWxvYWRlci9kaXN0IS4vc3JjL2Nzcy9wbGF5ZXIubGVzc1xuLy8gbW9kdWxlIGlkID0gMTlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 20 */
/* unknown exports provided */
/* all exports used */
/*!**************************************!*\
  !*** ./~/css-loader/lib/css-base.js ***!
  \**************************************/
/***/ (function(module, exports) {

eval("/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzP2RhMDQiXSwic291cmNlc0NvbnRlbnQiOlsiLypcclxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxyXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcclxuKi9cclxuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcclxuXHR2YXIgbGlzdCA9IFtdO1xyXG5cclxuXHQvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXHJcblx0bGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xyXG5cdFx0dmFyIHJlc3VsdCA9IFtdO1xyXG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGl0ZW0gPSB0aGlzW2ldO1xyXG5cdFx0XHRpZihpdGVtWzJdKSB7XHJcblx0XHRcdFx0cmVzdWx0LnB1c2goXCJAbWVkaWEgXCIgKyBpdGVtWzJdICsgXCJ7XCIgKyBpdGVtWzFdICsgXCJ9XCIpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJlc3VsdC5wdXNoKGl0ZW1bMV0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcmVzdWx0LmpvaW4oXCJcIik7XHJcblx0fTtcclxuXHJcblx0Ly8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcclxuXHRsaXN0LmkgPSBmdW5jdGlvbihtb2R1bGVzLCBtZWRpYVF1ZXJ5KSB7XHJcblx0XHRpZih0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIilcclxuXHRcdFx0bW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgXCJcIl1dO1xyXG5cdFx0dmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpZCA9IHRoaXNbaV1bMF07XHJcblx0XHRcdGlmKHR5cGVvZiBpZCA9PT0gXCJudW1iZXJcIilcclxuXHRcdFx0XHRhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XHJcblx0XHR9XHJcblx0XHRmb3IoaSA9IDA7IGkgPCBtb2R1bGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpdGVtID0gbW9kdWxlc1tpXTtcclxuXHRcdFx0Ly8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxyXG5cdFx0XHQvLyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIG5vdCAxMDAlIHBlcmZlY3QgZm9yIHdlaXJkIG1lZGlhIHF1ZXJ5IGNvbWJpbmF0aW9uc1xyXG5cdFx0XHQvLyAgd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxyXG5cdFx0XHQvLyAgSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxyXG5cdFx0XHRpZih0eXBlb2YgaXRlbVswXSAhPT0gXCJudW1iZXJcIiB8fCAhYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xyXG5cdFx0XHRcdGlmKG1lZGlhUXVlcnkgJiYgIWl0ZW1bMl0pIHtcclxuXHRcdFx0XHRcdGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xyXG5cdFx0XHRcdH0gZWxzZSBpZihtZWRpYVF1ZXJ5KSB7XHJcblx0XHRcdFx0XHRpdGVtWzJdID0gXCIoXCIgKyBpdGVtWzJdICsgXCIpIGFuZCAoXCIgKyBtZWRpYVF1ZXJ5ICsgXCIpXCI7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGxpc3QucHVzaChpdGVtKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH07XHJcblx0cmV0dXJuIGxpc3Q7XHJcbn07XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1xuLy8gbW9kdWxlIGlkID0gMjBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 21 */
/* unknown exports provided */
/* all exports used */
/*!******************************************************!*\
  !*** ./~/shaka-player/dist/shaka-player.compiled.js ***!
  \******************************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_RESULT__;(function(){var g={};\n(function(window){var k,aa=this;aa.ue=!0;function m(a,b){var c=a.split(\".\"),d=aa;c[0]in d||!d.execScript||d.execScript(\"var \"+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d[e]?d=d[e]:d=d[e]={}:d[e]=b}function ba(a){var b=p;function c(){}c.prototype=b.prototype;a.ze=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.we=function(a,c,f){return b.prototype[c].apply(a,Array.prototype.slice.call(arguments,2))}};/*\n\n Copyright 2016 Google Inc.\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n     http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nfunction ca(a){this.c=Math.exp(Math.log(.5)/a);this.b=this.a=0}function da(a,b,c){var d=Math.pow(a.c,b);c=c*(1-d)+d*a.a;isNaN(c)||(a.a=c,a.b+=b)}function ea(a){return a.a/(1-Math.pow(a.c,a.b))};function fa(){this.c=new ca(2);this.f=new ca(5);this.a=0;this.b=5E5}fa.prototype.setDefaultEstimate=function(a){this.b=a};fa.prototype.getBandwidthEstimate=function(){return 128E3>this.a?this.b:Math.min(ea(this.c),ea(this.f))};function ga(){};function t(a,b,c,d){this.severity=a;this.category=b;this.code=c;this.data=Array.prototype.slice.call(arguments,3)}m(\"shaka.util.Error\",t);t.prototype.toString=function(){return\"shaka.util.Error \"+JSON.stringify(this,null,\"  \")};t.Severity={RECOVERABLE:1,CRITICAL:2};t.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9};\nt.Code={UNSUPPORTED_SCHEME:1E3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,UNKNOWN_DATA_URI_ENCODING:1005,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,INVALID_TEXT_HEADER:2E3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,BUFFER_READ_OUT_OF_BOUNDS:3E3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,\nMP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,UNABLE_TO_GUESS_MANIFEST_TYPE:4E3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,\nDASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,UNPLAYABLE_PERIOD:4011,RESTRICTIONS_CANNOT_BE_MET:4012,NO_PERIODS:4014,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_COULD_NOT_GUESS_MIME_TYPE:4021,HLS_MASTER_PLAYLIST_NOT_PROVIDED:4022,\nHLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,INVALID_STREAMS_CHOSEN:5005,NO_RECOGNIZED_KEY_SYSTEMS:6E3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,\nOFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,LOAD_INTERRUPTED:7E3,CAST_API_UNAVAILABLE:8E3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9E3,INDEXED_DB_ERROR:9001,OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,STORE_ALREADY_IN_PROGRESS:9006,NO_INIT_DATA_FOR_OFFLINE:9007};var ha=/^(?:([^:/?#.]+):)?(?:\\/\\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$/;function ia(a){var b;a instanceof ia?(ja(this,a.$),this.Aa=a.Aa,this.ba=a.ba,ka(this,a.Ia),this.W=a.W,la(this,ma(a.a)),this.ta=a.ta):a&&(b=String(a).match(ha))?(ja(this,b[1]||\"\",!0),this.Aa=na(b[2]||\"\"),this.ba=na(b[3]||\"\",!0),ka(this,b[4]),this.W=na(b[5]||\"\",!0),la(this,b[6]||\"\",!0),this.ta=na(b[7]||\"\")):this.a=new pa(null)}k=ia.prototype;k.$=\"\";k.Aa=\"\";k.ba=\"\";k.Ia=null;k.W=\"\";k.ta=\"\";\nk.toString=function(){var a=[],b=this.$;b&&a.push(qa(b,ra,!0),\":\");if(b=this.ba){a.push(\"//\");var c=this.Aa;c&&a.push(qa(c,ra,!0),\"@\");a.push(encodeURIComponent(b).replace(/%25([0-9a-fA-F]{2})/g,\"%$1\"));b=this.Ia;null!=b&&a.push(\":\",String(b))}if(b=this.W)this.ba&&\"/\"!=b.charAt(0)&&a.push(\"/\"),a.push(qa(b,\"/\"==b.charAt(0)?sa:ta,!0));(b=this.a.toString())&&a.push(\"?\",b);(b=this.ta)&&a.push(\"#\",qa(b,ua));return a.join(\"\")};\nk.resolve=function(a){var b=new ia(this);\"data\"===b.$&&(b=new ia);var c=!!a.$;c?ja(b,a.$):c=!!a.Aa;c?b.Aa=a.Aa:c=!!a.ba;c?b.ba=a.ba:c=null!=a.Ia;var d=a.W;if(c)ka(b,a.Ia);else if(c=!!a.W){if(\"/\"!=d.charAt(0))if(this.ba&&!this.W)d=\"/\"+d;else{var e=b.W.lastIndexOf(\"/\");-1!=e&&(d=b.W.substr(0,e+1)+d)}if(\"..\"==d||\".\"==d)d=\"\";else if(-1!=d.indexOf(\"./\")||-1!=d.indexOf(\"/.\")){for(var e=!d.lastIndexOf(\"/\",0),d=d.split(\"/\"),f=[],g=0;g<d.length;){var h=d[g++];\".\"==h?e&&g==d.length&&f.push(\"\"):\"..\"==h?((1<\nf.length||1==f.length&&\"\"!=f[0])&&f.pop(),e&&g==d.length&&f.push(\"\")):(f.push(h),e=!0)}d=f.join(\"/\")}}c?b.W=d:c=\"\"!==a.a.toString();c?la(b,ma(a.a)):c=!!a.ta;c&&(b.ta=a.ta);return b};function ja(a,b,c){a.$=c?na(b,!0):b;a.$&&(a.$=a.$.replace(/:$/,\"\"))}function ka(a,b){if(b){b=Number(b);if(isNaN(b)||0>b)throw Error(\"Bad port number \"+b);a.Ia=b}else a.Ia=null}function la(a,b,c){b instanceof pa?a.a=b:(c||(b=qa(b,va)),a.a=new pa(b))}function na(a,b){return a?b?decodeURI(a):decodeURIComponent(a):\"\"}\nfunction qa(a,b,c){return\"string\"==typeof a?(a=encodeURI(a).replace(b,wa),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,\"%$1\")),a):null}function wa(a){a=a.charCodeAt(0);return\"%\"+(a>>4&15).toString(16)+(a&15).toString(16)}var ra=/[#\\/\\?@]/g,ta=/[\\#\\?:]/g,sa=/[\\#\\?]/g,va=/[\\#\\?@]/g,ua=/#/g;function pa(a){this.b=a||null}pa.prototype.a=null;pa.prototype.c=null;\npa.prototype.toString=function(){if(this.b)return this.b;if(!this.a)return\"\";var a=[],b;for(b in this.a)for(var c=encodeURIComponent(b),d=this.a[b],e=0;e<d.length;e++){var f=c;\"\"!==d[e]&&(f+=\"=\"+encodeURIComponent(d[e]));a.push(f)}return this.b=a.join(\"&\")};function ma(a){var b=new pa;b.b=a.b;if(a.a){var c={},d;for(d in a.a)c[d]=a.a[d].concat();b.a=c;b.c=a.c}return b};function xa(a,b){return a.reduce(function(a,b,e){return b[\"catch\"](a.bind(null,e))}.bind(null,b),Promise.reject())}function x(a,b){return a.concat(b)}function y(){}function ya(a){return null!=a}function za(a){return function(b){return b!=a}}function Aa(a,b,c){return c.indexOf(a)==b};function z(a,b){if(!b.length)return a;var c=b.map(function(a){return new ia(a)});return a.map(function(a){return new ia(a)}).map(function(a){return c.map(a.resolve.bind(a))}).reduce(x,[]).map(function(a){return a.toString()})}function Ba(a,b){return{keySystem:a,licenseServerUri:\"\",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:\"\",videoRobustness:\"\",serverCertificate:null,initData:b||[],keyIds:[]}};function Ca(a,b,c,d,e){var f=e in d,g;for(g in b){var h=e+\".\"+g,l=f?d[e]:c[g],n=!!{\".abr.manager\":!0}[h]||!!{serverCertificate:!0}[g];if(f||g in a)void 0===b[g]?void 0===l||f?delete a[g]:a[g]=l:n?a[g]=b[g]:\"object\"==typeof a[g]&&\"object\"==typeof b[g]?Ca(a[g],b[g],l,d,h):typeof b[g]==typeof l&&(a[g]=b[g])}}function Da(a){return JSON.parse(JSON.stringify(a))};function A(){var a,b,c=new Promise(function(c,e){a=c;b=e});c.resolve=a;c.reject=b;return c};function B(a){this.f=!1;this.a=[];this.b=[];this.c=[];this.h=a||null}m(\"shaka.net.NetworkingEngine\",B);B.RequestType={MANIFEST:0,SEGMENT:1,LICENSE:2,APP:3};var Ea={};B.registerScheme=function(a,b){Ea[a]=b};B.unregisterScheme=function(a){delete Ea[a]};B.prototype.Jd=function(a){this.b.push(a)};B.prototype.registerRequestFilter=B.prototype.Jd;B.prototype.me=function(a){var b=this.b;a=b.indexOf(a);0<=a&&b.splice(a,1)};B.prototype.unregisterRequestFilter=B.prototype.me;\nB.prototype.Gc=function(){this.b=[]};B.prototype.clearAllRequestFilters=B.prototype.Gc;B.prototype.Kd=function(a){this.c.push(a)};B.prototype.registerResponseFilter=B.prototype.Kd;B.prototype.ne=function(a){var b=this.c;a=b.indexOf(a);0<=a&&b.splice(a,1)};B.prototype.unregisterResponseFilter=B.prototype.ne;B.prototype.Hc=function(){this.c=[]};B.prototype.clearAllResponseFilters=B.prototype.Hc;function Fa(){return{maxAttempts:2,baseDelay:1E3,backoffFactor:2,fuzzFactor:.5,timeout:0}}\nfunction C(a,b){return{uris:a,method:\"GET\",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:b}}B.prototype.m=function(){this.f=!0;this.b=[];this.c=[];for(var a=[],b=0;b<this.a.length;++b)a.push(this.a[b][\"catch\"](y));return Promise.all(a)};B.prototype.destroy=B.prototype.m;\nB.prototype.request=function(a,b){if(this.f)return Promise.reject();b.method=b.method||\"GET\";b.headers=b.headers||{};b.retryParameters=b.retryParameters?Da(b.retryParameters):Fa();b.uris=Da(b.uris);var c=Date.now(),d=Promise.resolve();this.b.forEach(function(c){d=d.then(c.bind(null,a,b))});d=d[\"catch\"](function(a){throw new t(2,1,1006,a);});d=d.then(function(){for(var d=Date.now()-c,f=b.retryParameters||{},g=f.maxAttempts||1,h=f.backoffFactor||2,f=null==f.baseDelay?1E3:f.baseDelay,l=this.g(a,b,0,\nd),n=1;n<g;n++)l=l[\"catch\"](function(c,e,f){if(f&&1==f.severity){f=new A;var g=b.retryParameters||{};window.setTimeout(f.resolve,c*(1+(2*Math.random()-1)*(null==g.fuzzFactor?.5:g.fuzzFactor)));return f.then(this.g.bind(this,a,b,e,d))}throw f;}.bind(this,f,n%b.uris.length)),f*=h;return l}.bind(this));this.a.push(d);return d.then(function(b){0<=this.a.indexOf(d)&&this.a.splice(this.a.indexOf(d),1);this.h&&!b.fromCache&&1==a&&this.h(b.timeMs,b.data.byteLength);return b}.bind(this))[\"catch\"](function(a){a&&\n(a.severity=2);0<=this.a.indexOf(d)&&this.a.splice(this.a.indexOf(d),1);return Promise.reject(a)}.bind(this))};B.prototype.request=B.prototype.request;\nB.prototype.g=function(a,b,c,d){if(this.f)return Promise.reject();var e=new ia(b.uris[c]),f=e.$;f||(f=location.protocol,f=f.slice(0,-1),ja(e,f),b.uris[c]=e.toString());f=Ea[f];if(!f)return Promise.reject(new t(2,1,1E3,e));var g=Date.now();return f(b.uris[c],b,a).then(function(b){void 0==b.timeMs&&(b.timeMs=Date.now()-g);var c=Date.now(),e=Promise.resolve();this.c.forEach(function(c){e=e.then(function(){return Promise.resolve(c(a,b))}.bind(this))});e=e[\"catch\"](function(a){var b=2;a instanceof t&&\n(b=a.severity);throw new t(b,1,1007,a);});return e.then(function(){b.timeMs+=Date.now()-c;b.timeMs+=d;return b})}.bind(this))};function Ga(a,b,c){for(var d=0;d<a.length;++d)if(c(a[d],b))return d;return-1};function Ha(){this.a={}}Ha.prototype.push=function(a,b){this.a.hasOwnProperty(a)?this.a[a].push(b):this.a[a]=[b]};Ha.prototype.get=function(a){return(a=this.a[a])?a.slice():null};Ha.prototype.remove=function(a,b){var c=this.a[a];if(c)for(var d=0;d<c.length;++d)c[d]==b&&(c.splice(d,1),--d)};function D(){this.a=new Ha}D.prototype.m=function(){Ia(this);this.a=null;return Promise.resolve()};function E(a,b,c,d){a.a&&(b=new Ja(b,c,d),a.a.push(c,b))}function Ka(a,b,c,d){E(a,b,c,function(a){this.ha(b,c);d(a)}.bind(a))}D.prototype.ha=function(a,b){if(this.a)for(var c=this.a.get(b)||[],d=0;d<c.length;++d){var e=c[d];e.target==a&&(e.ha(),this.a.remove(b,e))}};function Ia(a){if(a.a){var b=a.a,c=[],d;for(d in b.a)c.push.apply(c,b.a[d]);for(b=0;b<c.length;++b)c[b].ha();a.a.a={}}}\nfunction Ja(a,b,c){this.target=a;this.type=b;this.a=c;this.target.addEventListener(b,c,!1)}Ja.prototype.ha=function(){this.target.removeEventListener(this.type,this.a,!1);this.a=this.target=null};function La(a){return!a||!Object.keys(a).length}function Ma(a){return Object.keys(a).map(function(b){return a[b]})}function Na(a,b){return Object.keys(a).reduce(function(c,d){c[d]=b(a[d],d);return c},{})}function Oa(a,b){return Object.keys(a).every(function(c){return b(c,a[c])})};function F(a){if(!a)return\"\";a=new Uint8Array(a);239==a[0]&&187==a[1]&&191==a[2]&&(a=a.subarray(3));a=escape(Pa(a));try{return decodeURIComponent(a)}catch(b){throw new t(2,2,2004);}}m(\"shaka.util.StringUtils.fromUTF8\",F);\nfunction Qa(a,b){if(!a)return\"\";if(a.byteLength%2)throw new t(2,2,2004);if(a instanceof ArrayBuffer)var c=a;else{var d=new Uint8Array(a.byteLength);d.set(new Uint8Array(a));c=d.buffer}var d=a.byteLength/2,e=new Uint16Array(d);c=new DataView(c);for(var f=0;f<d;f++)e[f]=c.getUint16(2*f,b);return Pa(e)}m(\"shaka.util.StringUtils.fromUTF16\",Qa);\nfunction Ra(a){var b=new Uint8Array(a);if(239==b[0]&&187==b[1]&&191==b[2])return F(b);if(254==b[0]&&255==b[1])return Qa(b.subarray(2),!1);if(255==b[0]&&254==b[1])return Qa(b.subarray(2),!0);var c=function(a,b){return a.byteLength<=b||32<=a[b]&&126>=a[b]}.bind(null,b);if(b[0]||b[2]){if(!b[1]&&!b[3])return Qa(a,!0);if(c(0)&&c(1)&&c(2)&&c(3))return F(a)}else return Qa(a,!1);throw new t(2,2,2003);}m(\"shaka.util.StringUtils.fromBytesAutoDetect\",Ra);\nfunction Sa(a){a=unescape(encodeURIComponent(a));for(var b=new Uint8Array(a.length),c=0;c<a.length;++c)b[c]=a.charCodeAt(c);return b.buffer}m(\"shaka.util.StringUtils.toUTF8\",Sa);function Pa(a){for(var b=\"\",c=0;c<a.length;c+=16E3)b+=String.fromCharCode.apply(null,a.subarray(c,c+16E3));return b};function Ta(a){this.a=null;this.b=function(){this.a=null;a()}.bind(this)}Ta.prototype.cancel=function(){null!=this.a&&(clearTimeout(this.a),this.a=null)};function Ua(a){a.cancel();a.a=setTimeout(a.b,500)};function Va(a,b){var c=void 0==b?!0:b,d=window.btoa(String.fromCharCode.apply(null,a)).replace(/\\+/g,\"-\").replace(/\\//g,\"_\");return c?d:d.replace(/=*$/,\"\")}m(\"shaka.util.Uint8ArrayUtils.toBase64\",Va);function Wa(a){a=window.atob(a.replace(/-/g,\"+\").replace(/_/g,\"/\"));for(var b=new Uint8Array(a.length),c=0;c<a.length;++c)b[c]=a.charCodeAt(c);return b}m(\"shaka.util.Uint8ArrayUtils.fromBase64\",Wa);\nfunction Xa(a){for(var b=new Uint8Array(a.length/2),c=0;c<a.length;c+=2)b[c/2]=window.parseInt(a.substr(c,2),16);return b}m(\"shaka.util.Uint8ArrayUtils.fromHex\",Xa);function Ya(a){for(var b=\"\",c=0;c<a.length;++c){var d=a[c].toString(16);1==d.length&&(d=\"0\"+d);b+=d}return b}m(\"shaka.util.Uint8ArrayUtils.toHex\",Ya);function Za(a,b){if(!a&&!b)return!0;if(!a||!b||a.length!=b.length)return!1;for(var c=0;c<a.length;++c)if(a[c]!=b[c])return!1;return!0}m(\"shaka.util.Uint8ArrayUtils.equal\",Za);\nm(\"shaka.util.Uint8ArrayUtils.concat\",function(a){for(var b=0,c=0;c<arguments.length;++c)b+=arguments[c].length;for(var b=new Uint8Array(b),d=0,c=0;c<arguments.length;++c)b.set(arguments[c],d),d+=arguments[c].length;return b});function $a(a,b,c,d){this.j=this.i=this.v=null;this.J=!1;this.b=null;this.f=new D;this.a=[];this.o=[];this.l=new A;this.ka=a;this.h=null;this.g=function(a){this.l.reject(a);b(a)}.bind(this);this.A={};this.Ba=c;this.la=d;this.B=new Ta(this.Id.bind(this));this.ja=this.c=!1;this.G=[];this.ia=!1;this.P=setInterval(this.Hd.bind(this),1E3);this.l[\"catch\"](function(){})}k=$a.prototype;\nk.m=function(){this.c=!0;var a=this.a.map(function(a){return(a.aa.close()||Promise.resolve())[\"catch\"](y)});this.l.reject();this.f&&a.push(this.f.m());this.j&&a.push(this.j.setMediaKeys(null)[\"catch\"](y));this.P&&(clearInterval(this.P),this.P=null);this.B&&this.B.cancel();this.f=this.j=this.i=this.v=this.b=this.B=null;this.a=[];this.o=[];this.la=this.g=this.h=this.ka=null;return Promise.all(a)};k.configure=function(a){this.h=a};\nk.init=function(a,b){var c={},d=[];this.ja=b;this.o=a.offlineSessionIds;ab(this,a,b||0<a.offlineSessionIds.length,c,d);return d.length?bb(this,c,d):(this.J=!0,Promise.resolve())};\nfunction cb(a,b){if(!a.i)return Ka(a.f,b,\"encrypted\",function(){this.g(new t(2,6,6010))}.bind(a)),Promise.resolve();a.j=b;Ka(a.f,a.j,\"play\",a.od.bind(a));var c=a.j.setMediaKeys(a.i),c=c[\"catch\"](function(a){return Promise.reject(new t(2,6,6003,a.message))}),d=null;a.b.serverCertificate&&(d=a.i.setServerCertificate(a.b.serverCertificate).then(function(){})[\"catch\"](function(a){return Promise.reject(new t(2,6,6004,a.message))}));return Promise.all([c,d]).then(function(){if(this.c)return Promise.reject();\ndb(this);this.b.initData.length||this.o.length||E(this.f,this.j,\"encrypted\",this.dd.bind(this))}.bind(a))[\"catch\"](function(a){return this.c?Promise.resolve():Promise.reject(a)}.bind(a))}function eb(a,b){return Promise.all(b.map(function(a){return fb(this,a).then(function(a){if(a){for(var b=new A,c=0;c<this.a.length;c++)if(this.a[c].aa==a){this.a[c].ib=b;break}return Promise.all([a.remove(),b])}}.bind(this))}.bind(a)))}\nfunction db(a){var b=a.b?a.b.initData:[];b.forEach(function(a){gb(this,a.initDataType,a.initData)}.bind(a));a.o.forEach(function(a){fb(this,a)}.bind(a));b.length||a.o.length||a.l.resolve();return a.l}k.keySystem=function(){return this.b?this.b.keySystem:\"\"};function hb(a){return a.a.map(function(a){return a.aa.sessionId})}k.ab=function(){var a=this.a.map(function(a){a=a.aa.expiration;return isNaN(a)?Infinity:a});return Math.min.apply(Math,a)};\nfunction ab(a,b,c,d,e){var f=ib(a);b.periods.forEach(function(a){a.variants.forEach(function(a){f&&(a.drmInfos=[f]);a.drmInfos.forEach(function(b){jb(this,b);window.cast&&window.cast.__platform__&&\"com.microsoft.playready\"==b.keySystem&&(b.keySystem=\"com.chromecast.playready\");var f=d[b.keySystem];f||(f={audioCapabilities:[],videoCapabilities:[],distinctiveIdentifier:\"optional\",persistentState:c?\"required\":\"optional\",sessionTypes:[c?\"persistent-license\":\"temporary\"],label:b.keySystem,drmInfos:[]},\nd[b.keySystem]=f,e.push(b.keySystem));f.drmInfos.push(b);b.distinctiveIdentifierRequired&&(f.distinctiveIdentifier=\"required\");b.persistentStateRequired&&(f.persistentState=\"required\");var g=[];a.video&&g.push(a.video);a.audio&&g.push(a.audio);g.forEach(function(a){var c=\"video\"==a.type?f.videoCapabilities:f.audioCapabilities,d=(\"video\"==a.type?b.videoRobustness:b.audioRobustness)||\"\",e=a.mimeType;a.codecs&&(e+='; codecs=\"'+a.codecs+'\"');c.push({robustness:d,contentType:e})}.bind(this))}.bind(this))}.bind(this))}.bind(a))}\nfunction bb(a,b,c){if(1==c.length&&\"\"==c[0])return Promise.reject(new t(2,6,6E3));var d=new A,e=d;[!0,!1].forEach(function(a){c.forEach(function(c){var d=b[c];d.drmInfos.some(function(a){return!!a.licenseServerUri})==a&&(d.audioCapabilities.length||delete d.audioCapabilities,d.videoCapabilities.length||delete d.videoCapabilities,e=e[\"catch\"](function(){return this.c?Promise.reject():navigator.requestMediaKeySystemAccess(c,[d])}.bind(this)))}.bind(this))}.bind(a));e=e[\"catch\"](function(){return Promise.reject(new t(2,\n6,6001))});e=e.then(function(a){if(this.c)return Promise.reject();var c=0<=navigator.userAgent.indexOf(\"Edge/\"),d=a.getConfiguration();this.v=(d.audioCapabilities||[]).concat(d.videoCapabilities||[]).map(function(a){return a.contentType});c&&(this.v=null);c=b[a.keySystem];kb(this,a.keySystem,c,c.drmInfos);return this.b.licenseServerUri?a.createMediaKeys():Promise.reject(new t(2,6,6012))}.bind(a)).then(function(a){if(this.c)return Promise.reject();this.i=a;this.J=!0}.bind(a))[\"catch\"](function(a){if(this.c)return Promise.resolve();\nthis.v=this.b=null;return a instanceof t?Promise.reject(a):Promise.reject(new t(2,6,6002,a.message))}.bind(a));d.reject();return e}\nfunction jb(a,b){var c=b.keySystem;if(c){if(!b.licenseServerUri){var d=a.h.servers[c];d&&(b.licenseServerUri=d)}b.keyIds||(b.keyIds=[]);if(c=a.h.advanced[c])b.distinctiveIdentifierRequired||(b.distinctiveIdentifierRequired=c.distinctiveIdentifierRequired),b.persistentStateRequired||(b.persistentStateRequired=c.persistentStateRequired),b.videoRobustness||(b.videoRobustness=c.videoRobustness),b.audioRobustness||(b.audioRobustness=c.audioRobustness),b.serverCertificate||(b.serverCertificate=c.serverCertificate)}}\nfunction ib(a){if(La(a.h.clearKeys))return null;var b=[],c=[],d;for(d in a.h.clearKeys){var e=a.h.clearKeys[d],f=Xa(d),e=Xa(e),f={kty:\"oct\",kid:Va(f,!1),k:Va(e,!1)};b.push(f);c.push(f.kid)}a=JSON.stringify({keys:b});c=JSON.stringify({kids:c});c=[{initData:new Uint8Array(Sa(c)),initDataType:\"keyids\"}];return{keySystem:\"org.w3.clearkey\",licenseServerUri:\"data:application/json;base64,\"+window.btoa(a),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:\"\",videoRobustness:\"\",serverCertificate:null,\ninitData:c,keyIds:[]}}function kb(a,b,c,d){var e=[],f=[],g=[],h=[];lb(d,e,f,g,h);a.b={keySystem:b,licenseServerUri:e[0],distinctiveIdentifierRequired:\"required\"==c.distinctiveIdentifier,persistentStateRequired:\"required\"==c.persistentState,audioRobustness:c.audioCapabilities?c.audioCapabilities[0].robustness:\"\",videoRobustness:c.videoCapabilities?c.videoCapabilities[0].robustness:\"\",serverCertificate:f[0],initData:g,keyIds:h}}\nfunction lb(a,b,c,d,e){function f(a,b){return a.keyId&&a.keyId==b.keyId?!0:a.initDataType==b.initDataType&&Za(a.initData,b.initData)}a.forEach(function(a){-1==b.indexOf(a.licenseServerUri)&&b.push(a.licenseServerUri);a.serverCertificate&&-1==Ga(c,a.serverCertificate,Za)&&c.push(a.serverCertificate);a.initData&&a.initData.forEach(function(a){-1==Ga(d,a,f)&&d.push(a)});if(a.keyIds)for(var g=0;g<a.keyIds.length;++g)-1==e.indexOf(a.keyIds[g])&&e.push(a.keyIds[g])})}\nk.dd=function(a){for(var b=new Uint8Array(a.initData),c=0;c<this.a.length;++c)if(Za(b,this.a[c].initData))return;gb(this,a.initDataType,b)};\nfunction fb(a,b){try{var c=a.i.createSession(\"persistent-license\")}catch(f){var d=new t(2,6,6005,f.message);a.g(d);return Promise.reject(d)}E(a.f,c,\"message\",a.ic.bind(a));E(a.f,c,\"keystatuseschange\",a.cc.bind(a));var e={initData:null,aa:c,loaded:!1,xb:Infinity,ib:null};a.a.push(e);return c.load(b).then(function(a){if(!this.c){if(a)return e.loaded=!0,this.a.every(function(a){return a.loaded})&&this.l.resolve(),c;this.a.splice(this.a.indexOf(e),1);this.g(new t(2,6,6013))}}.bind(a),function(a){this.c||\n(this.a.splice(this.a.indexOf(e),1),this.g(new t(2,6,6005,a.message)))}.bind(a))}\nfunction gb(a,b,c){try{var d=a.ja?a.i.createSession(\"persistent-license\"):a.i.createSession()}catch(e){a.g(new t(2,6,6005,e.message));return}E(a.f,d,\"message\",a.ic.bind(a));E(a.f,d,\"keystatuseschange\",a.cc.bind(a));a.a.push({initData:c,aa:d,loaded:!1,xb:Infinity,ib:null});d.generateRequest(b,c.buffer)[\"catch\"](function(a){if(!this.c){for(var b=0;b<this.a.length;++b)if(this.a[b].aa==d){this.a.splice(b,1);break}this.g(new t(2,6,6006,a.message))}}.bind(a))}\nk.ic=function(a){this.h.delayLicenseRequestUntilPlayed&&this.j.paused&&!this.ia?this.G.push(a):mb(this,a)};\nfunction mb(a,b){for(var c=b.target,d,e=0;e<a.a.length;e++)if(a.a[e].aa==c){d=a.a[e].ib;break}e=C([a.b.licenseServerUri],a.h.retryParameters);e.body=b.message;e.method=\"POST\";\"com.microsoft.playready\"==a.b.keySystem&&nb(e);a.ka.request(2,e).then(function(a){return this.c?Promise.reject():c.update(a.data).then(function(){d&&d.resolve()})}.bind(a),function(a){if(this.c)return Promise.resolve();a=new t(2,6,6007,a);this.g(a);d&&d.reject(a)}.bind(a))[\"catch\"](function(a){if(this.c)return Promise.resolve();\na=new t(2,6,6008,a.message);this.g(a);d&&d.reject(a)}.bind(a))}\nfunction nb(a){var b=String.fromCharCode.apply(null,new Uint8Array(a.body));if(b.indexOf(\"<PlayReadyKeyMessage\"))a.headers[\"Content-Type\"]=\"text/xml; charset=utf-8\";else{for(var b=Qa(a.body,!0),b=(new DOMParser).parseFromString(b,\"application/xml\"),c=b.getElementsByTagName(\"HttpHeader\"),d=0;d<c.length;++d)a.headers[c[d].querySelector(\"name\").textContent]=c[d].querySelector(\"value\").textContent;a.body=Wa(b.querySelector(\"Challenge\").textContent).buffer}}\nk.cc=function(a){a=a.target;var b;for(b=0;b<this.a.length&&this.a[b].aa!=a;++b);if(b!=this.a.length){var c=!1;a.keyStatuses.forEach(function(a,d){if(\"string\"==typeof d){var e=d;d=a;a=e}if(\"com.microsoft.playready\"==this.b.keySystem&&16==d.byteLength){var e=new DataView(d),f=e.getUint32(0,!0),l=e.getUint16(4,!0),n=e.getUint16(6,!0);e.setUint32(0,f,!1);e.setUint16(4,l,!1);e.setUint16(6,n,!1)}\"com.microsoft.playready\"==this.b.keySystem&&\"status-pending\"==a&&(a=\"usable\");\"status-pending\"!=a&&(this.a[b].loaded=\n!0,this.a.every(function(a){return a.loaded})&&this.l.resolve());\"expired\"==a&&(c=!0);e=Ya(new Uint8Array(d));this.A[e]=a}.bind(this));var d=a.expiration-Date.now();(0>d||c&&1E3>d)&&!this.a[b].ib&&(this.a.splice(b,1),a.close());Ua(this.B)}};k.Id=function(){function a(a,c){return\"expired\"==c}!La(this.A)&&Oa(this.A,a)&&this.g(new t(2,6,6014));this.Ba(this.A)};\nfunction ob(){var a=[],b=[{contentType:'video/mp4; codecs=\"avc1.42E01E\"'},{contentType:'video/webm; codecs=\"vp8\"'}],c=[{videoCapabilities:b,persistentState:\"required\",sessionTypes:[\"persistent-license\"]},{videoCapabilities:b}],d={};\"org.w3.clearkey com.widevine.alpha com.microsoft.playready com.apple.fps.2_0 com.apple.fps.1_0 com.apple.fps com.adobe.primetime\".split(\" \").forEach(function(b){var e=navigator.requestMediaKeySystemAccess(b,c).then(function(a){var c=a.getConfiguration().sessionTypes;d[b]=\n{persistentState:c?0<=c.indexOf(\"persistent-license\"):!1};return a.createMediaKeys()})[\"catch\"](function(){d[b]=null});a.push(e)});return Promise.all(a).then(function(){return d})}k.od=function(){for(var a=0;a<this.G.length;a++)mb(this,this.G[a]);this.ia=!0;this.G=[]};function pb(a,b){var c=a.keySystem();return!b.drmInfos.length||b.drmInfos.some(function(a){return a.keySystem==c})}\nfunction qb(a,b){if(!a.length)return b;if(!b.length)return a;for(var c=[],d=0;d<a.length;d++)for(var e=0;e<b.length;e++)if(a[d].keySystem==b[e].keySystem){var f=a[d],e=b[e],g=[],g=g.concat(f.initData||[]),g=g.concat(e.initData||[]),h=[],h=h.concat(f.keyIds),h=h.concat(e.keyIds);c.push({keySystem:f.keySystem,licenseServerUri:f.licenseServerUri||e.licenseServerUri,distinctiveIdentifierRequired:f.distinctiveIdentifierRequired||e.distinctiveIdentifierRequired,persistentStateRequired:f.persistentStateRequired||\ne.persistentStateRequired,videoRobustness:f.videoRobustness||e.videoRobustness,audioRobustness:f.audioRobustness||e.audioRobustness,serverCertificate:f.serverCertificate||e.serverCertificate,initData:g,keyIds:h});break}return c}k.Hd=function(){this.a.forEach(function(a){var b=a.xb,c=a.aa.expiration;isNaN(c)&&(c=Infinity);c!=b&&(this.la(a.aa.sessionId,c),a.xb=c)}.bind(this))};function rb(a){this.f=null;this.c=a;this.h=0;this.g=Infinity;this.a=this.b=null}var sb={};function tb(a,b){sb[a]=b.length?ub.bind(null,b):b}m(\"shaka.media.TextEngine.registerParser\",tb);m(\"shaka.media.TextEngine.unregisterParser\",function(a){delete sb[a]});function vb(a,b,c){return a>=b?null:new VTTCue(a,b,c)}m(\"shaka.media.TextEngine.makeCue\",vb);rb.prototype.m=function(){this.c&&wb(this,function(){return!0});this.c=this.f=null;return Promise.resolve()};\nfunction xb(a,b,c,d){return Promise.resolve().then(function(){if(this.c)if(null==c||null==d)this.f.parseInit(b);else{for(var a=this.f.parseMedia(b,{periodStart:this.h,segmentStart:c,segmentEnd:d}),f=0;f<a.length&&!(a[f].startTime>=this.g);++f)this.c.addCue(a[f]);null==this.b&&(this.b=c);this.a=Math.min(d,this.g)}}.bind(a))}\nrb.prototype.remove=function(a,b){return Promise.resolve().then(function(){this.c&&(wb(this,function(c){return c.startTime>=b||c.endTime<=a?!1:!0}),null==this.b||b<=this.b||a>=this.a||(a<=this.b&&b>=this.a?this.b=this.a=null:a<=this.b&&b<this.a?this.b=b:a>this.b&&b>=this.a&&(this.a=a)))}.bind(this))};function wb(a,b){for(var c=a.c.cues,d=[],e=0;e<c.length;++e)b(c[e])&&d.push(c[e]);for(e=0;e<d.length;++e)a.c.removeCue(d[e])}function ub(a){this.Na=a}\nub.prototype.parseInit=function(a){this.Na(a,0,null,null)};ub.prototype.parseMedia=function(a,b){return this.Na(a,b.periodStart,b.segmentStart,b.segmentEnd)};function yb(a){return!a||1==a.length&&1E-6>a.end(0)-a.start(0)?null:a.length?a.end(a.length-1):null}function zb(a,b){return!a||!a.length||1==a.length&&1E-6>a.end(0)-a.start(0)?!1:b>=a.start(0)&&b<=a.end(a.length-1)}function Ab(a,b){if(!a||!a.length||1==a.length&&1E-6>a.end(0)-a.start(0))return 0;for(var c=0,d=a.length-1;0<=d&&a.end(d)>b;--d)c+=a.end(d)-Math.max(a.start(d),b);return c};function Bb(a,b,c){this.f=a;this.N=b;this.i=c;this.c={};this.a=null;this.b={};this.g=new D;this.h=!1}\nfunction Cb(){var a={};'video/mp4; codecs=\"avc1.42E01E\",video/mp4; codecs=\"avc3.42E01E\",video/mp4; codecs=\"hvc1.1.6.L93.90\",audio/mp4; codecs=\"mp4a.40.2\",audio/mp4; codecs=\"ac-3\",audio/mp4; codecs=\"ec-3\",video/webm; codecs=\"vp8\",video/webm; codecs=\"vp9\",video/webm; codecs=\"av1\",audio/webm; codecs=\"vorbis\",audio/webm; codecs=\"opus\",video/mp2t; codecs=\"avc1.42E01E\",video/mp2t; codecs=\"avc3.42E01E\",video/mp2t; codecs=\"hvc1.1.6.L93.90\",video/mp2t; codecs=\"mp4a.40.2\",video/mp2t; codecs=\"ac-3\",video/mp2t; codecs=\"ec-3\",video/mp2t; codecs=\"mp4a.40.2\",text/vtt,application/mp4; codecs=\"wvtt\",application/ttml+xml,application/mp4; codecs=\"stpp\"'.split(\",\").forEach(function(b){a[b]=!!sb[b]||\nMediaSource.isTypeSupported(b);var c=b.split(\";\")[0];a[c]=a[c]||a[b]});return a}k=Bb.prototype;k.m=function(){this.h=!0;var a=[],b;for(b in this.b){var c=this.b[b],d=c[0];this.b[b]=c.slice(0,1);d&&a.push(d.p[\"catch\"](y));for(d=1;d<c.length;++d)c[d].p[\"catch\"](y),c[d].p.reject()}this.a&&a.push(this.a.m());return Promise.all(a).then(function(){this.g.m();this.a=this.i=this.N=this.f=this.g=null;this.c={};this.b={}}.bind(this))};\nk.init=function(a){for(var b in a){var c=a[b];\"text\"==b?Db(this,c):(c=this.N.addSourceBuffer(c),E(this.g,c,\"error\",this.he.bind(this,b)),E(this.g,c,\"updateend\",this.Ha.bind(this,b)),this.c[b]=c,this.b[b]=[])}};function Db(a,b){a.a||(a.a=new rb(a.i));a.a.f=new sb[b]}function Eb(a,b){if(\"text\"==b)var c=a.a.b;else c=Fb(a,b),c=!c||1==c.length&&1E-6>c.end(0)-c.start(0)?null:1==c.length&&0>c.start(0)?0:c.length?c.start(0):null;return c}function Fb(a,b){try{return a.c[b].buffered}catch(c){return null}}\nfunction Gb(a,b,c,d,e){return\"text\"==b?xb(a.a,c,d,e):Ib(a,b,a.ge.bind(a,b,c))}k.remove=function(a,b,c){return\"text\"==a?this.a.remove(b,c):Ib(this,a,this.oc.bind(this,a,b,c))};function Jb(a,b){return\"text\"==b?a.a.remove(0,Infinity):Ib(a,b,a.oc.bind(a,b,0,a.N.duration))}function Kb(a,b,c,d){if(\"text\"==b)return a.a.h=c,null!=d&&(a.a.g=d),Promise.resolve();null==d&&(d=Infinity);return Promise.all([Ib(a,b,a.Cc.bind(a,b)),Ib(a,b,a.Xd.bind(a,b,c)),Ib(a,b,a.Vd.bind(a,b,d))])}\nk.endOfStream=function(a){return Lb(this,function(){a?this.N.endOfStream(a):this.N.endOfStream()}.bind(this))};k.pa=function(a){return Lb(this,function(){this.N.duration=a}.bind(this))};k.Y=function(){return this.N.duration};k.ge=function(a,b){this.c[a].appendBuffer(b)};k.oc=function(a,b,c){c<=b?this.Ha(a):this.c[a].remove(b,c)};k.Cc=function(a){var b=this.c[a].appendWindowEnd;this.c[a].abort();this.c[a].appendWindowEnd=b;this.Ha(a)};k.Mc=function(a){this.f.currentTime-=.001;this.Ha(a)};\nk.Xd=function(a,b){this.c[a].timestampOffset=b;this.Ha(a)};k.Vd=function(a,b){this.c[a].appendWindowEnd=b+.04;this.Ha(a)};k.he=function(a){this.b[a][0].p.reject(new t(2,3,3014,this.f.error?this.f.error.code:0))};k.Ha=function(a){var b=this.b[a][0];b&&(b.p.resolve(),Mb(this,a))};\nfunction Ib(a,b,c){if(a.h)return Promise.reject();c={start:c,p:new A};a.b[b].push(c);if(1==a.b[b].length)try{c.start()}catch(d){\"QuotaExceededError\"==d.name?c.p.reject(new t(2,3,3017,b)):c.p.reject(new t(2,3,3015,d)),Mb(a,b)}return c.p}\nfunction Lb(a,b){if(a.h)return Promise.reject();var c=[],d;for(d in a.c){var e=new A,f={start:function(a){a.resolve()}.bind(null,e),p:e};a.b[d].push(f);c.push(e);1==a.b[d].length&&f.start()}return Promise.all(c).then(function(){var a;try{b()}catch(l){var c=Promise.reject(new t(2,3,3015,l))}for(a in this.c)Mb(this,a);return c}.bind(a),function(){return Promise.reject()}.bind(a))}function Mb(a,b){a.b[b].shift();var c=a.b[b][0];if(c)try{c.start()}catch(d){c.p.reject(new t(2,3,3015,d)),Mb(a,b)}};function Nb(a,b,c){return c==b||a>=Ob&&c==b.split(\"-\")[0]||a>=Pb&&c.split(\"-\")[0]==b.split(\"-\")[0]?!0:!1}var Ob=1,Pb=2;function Qb(a){a=a.toLowerCase().split(\"-\");var b=Rb[a[0]];b&&(a[0]=b);return a.join(\"-\")}\nvar Rb={aar:\"aa\",abk:\"ab\",afr:\"af\",aka:\"ak\",alb:\"sq\",amh:\"am\",ara:\"ar\",arg:\"an\",arm:\"hy\",asm:\"as\",ava:\"av\",ave:\"ae\",aym:\"ay\",aze:\"az\",bak:\"ba\",bam:\"bm\",baq:\"eu\",bel:\"be\",ben:\"bn\",bih:\"bh\",bis:\"bi\",bod:\"bo\",bos:\"bs\",bre:\"br\",bul:\"bg\",bur:\"my\",cat:\"ca\",ces:\"cs\",cha:\"ch\",che:\"ce\",chi:\"zh\",chu:\"cu\",chv:\"cv\",cor:\"kw\",cos:\"co\",cre:\"cr\",cym:\"cy\",cze:\"cs\",dan:\"da\",deu:\"de\",div:\"dv\",dut:\"nl\",dzo:\"dz\",ell:\"el\",eng:\"en\",epo:\"eo\",est:\"et\",eus:\"eu\",ewe:\"ee\",fao:\"fo\",fas:\"fa\",fij:\"fj\",fin:\"fi\",fra:\"fr\",fre:\"fr\",\nfry:\"fy\",ful:\"ff\",geo:\"ka\",ger:\"de\",gla:\"gd\",gle:\"ga\",glg:\"gl\",glv:\"gv\",gre:\"el\",grn:\"gn\",guj:\"gu\",hat:\"ht\",hau:\"ha\",heb:\"he\",her:\"hz\",hin:\"hi\",hmo:\"ho\",hrv:\"hr\",hun:\"hu\",hye:\"hy\",ibo:\"ig\",ice:\"is\",ido:\"io\",iii:\"ii\",iku:\"iu\",ile:\"ie\",ina:\"ia\",ind:\"id\",ipk:\"ik\",isl:\"is\",ita:\"it\",jav:\"jv\",jpn:\"ja\",kal:\"kl\",kan:\"kn\",kas:\"ks\",kat:\"ka\",kau:\"kr\",kaz:\"kk\",khm:\"km\",kik:\"ki\",kin:\"rw\",kir:\"ky\",kom:\"kv\",kon:\"kg\",kor:\"ko\",kua:\"kj\",kur:\"ku\",lao:\"lo\",lat:\"la\",lav:\"lv\",lim:\"li\",lin:\"ln\",lit:\"lt\",ltz:\"lb\",lub:\"lu\",\nlug:\"lg\",mac:\"mk\",mah:\"mh\",mal:\"ml\",mao:\"mi\",mar:\"mr\",may:\"ms\",mkd:\"mk\",mlg:\"mg\",mlt:\"mt\",mon:\"mn\",mri:\"mi\",msa:\"ms\",mya:\"my\",nau:\"na\",nav:\"nv\",nbl:\"nr\",nde:\"nd\",ndo:\"ng\",nep:\"ne\",nld:\"nl\",nno:\"nn\",nob:\"nb\",nor:\"no\",nya:\"ny\",oci:\"oc\",oji:\"oj\",ori:\"or\",orm:\"om\",oss:\"os\",pan:\"pa\",per:\"fa\",pli:\"pi\",pol:\"pl\",por:\"pt\",pus:\"ps\",que:\"qu\",roh:\"rm\",ron:\"ro\",rum:\"ro\",run:\"rn\",rus:\"ru\",sag:\"sg\",san:\"sa\",sin:\"si\",slk:\"sk\",slo:\"sk\",slv:\"sl\",sme:\"se\",smo:\"sm\",sna:\"sn\",snd:\"sd\",som:\"so\",sot:\"st\",spa:\"es\",sqi:\"sq\",\nsrd:\"sc\",srp:\"sr\",ssw:\"ss\",sun:\"su\",swa:\"sw\",swe:\"sv\",tah:\"ty\",tam:\"ta\",tat:\"tt\",tel:\"te\",tgk:\"tg\",tgl:\"tl\",tha:\"th\",tib:\"bo\",tir:\"ti\",ton:\"to\",tsn:\"tn\",tso:\"ts\",tuk:\"tk\",tur:\"tr\",twi:\"tw\",uig:\"ug\",ukr:\"uk\",urd:\"ur\",uzb:\"uz\",ven:\"ve\",vie:\"vi\",vol:\"vo\",wel:\"cy\",wln:\"wa\",wol:\"wo\",xho:\"xh\",yid:\"yi\",yor:\"yo\",zha:\"za\",zho:\"zh\",zul:\"zu\"};function Sb(a,b,c){var d=a.video;return d&&(d.width<b.minWidth||d.width>b.maxWidth||d.width>c.width||d.height<b.minHeight||d.height>b.maxHeight||d.height>c.height||d.width*d.height<b.minPixels||d.width*d.height>b.maxPixels)||a.bandwidth<b.minBandwidth||a.bandwidth>b.maxBandwidth?!1:!0}function Tb(a,b,c){var d=!1;a.variants.forEach(function(a){var e=a.allowedByApplication;a.allowedByApplication=Sb(a,b,c);e!=a.allowedByApplication&&(d=!0)});return d}\nfunction Ub(a,b,c){var d=b.video,e=b.audio;for(b=0;b<c.variants.length;++b){var f=c.variants[b],g=a,h=e,l=d;(g&&g.J&&!pb(g,f)?0:Vb(f.audio,g,h)&&Vb(f.video,g,l))||(c.variants.splice(b,1),--b)}for(b=0;b<c.textStreams.length;++b)a=c.textStreams[b],sb[Wb(a.mimeType,a.codecs)]||(c.textStreams.splice(b,1),--b)}\nfunction Vb(a,b,c){if(!a)return!0;var d=null;b&&b.J&&(d=b.v);b=Wb(a.mimeType,a.codecs);return!sb[b]&&!MediaSource.isTypeSupported(b)||d&&a.encrypted&&0>d.indexOf(b)||c&&(a.mimeType!=c.mimeType||a.codecs.split(\".\")[0]!=c.codecs.split(\".\")[0])?!1:!0}\nfunction Xb(a,b,c){return Yb(a.variants).map(function(a){var d;a.video&&a.audio?d=c==a.video.id&&b==a.audio.id:d=a.video&&c==a.video.id||a.audio&&b==a.audio.id;var f=\"\";a.video&&(f+=a.video.codecs);a.audio&&(\"\"!=f&&(f+=\", \"),f+=a.audio.codecs);var g=a.audio?a.audio.codecs:null,h=a.video?a.video.codecs:null,l=null;a.video?l=a.video.mimeType:a.audio&&(l=a.audio.mimeType);var n=null;a.audio?n=a.audio.kind:a.video&&(n=a.video.kind);return{id:a.id,active:d,type:\"variant\",bandwidth:a.bandwidth,language:a.language,\nkind:n||null,width:a.video?a.video.width:null,height:a.video?a.video.height:null,frameRate:a.video?a.video.frameRate:void 0,mimeType:l,codecs:f,audioCodec:g,videoCodec:h,primary:a.primary}})}function Zb(a,b){return a.textStreams.map(function(a){return{id:a.id,active:b==a.id,type:\"text\",language:a.language,kind:a.kind,mimeType:a.mimeType,codecs:a.codecs||null,audioCodec:null,videoCodec:null,primary:a.primary}})}\nfunction $b(a,b){for(var c=0;c<a.variants.length;c++)if(a.variants[c].id==b.id)return a.variants[c];return null}function ac(a,b){for(var c=0;c<a.textStreams.length;c++)if(a.textStreams[c].id==b.id)return a.textStreams[c];return null}function Yb(a){return a.filter(function(a){return a.allowedByApplication&&a.allowedByKeySystem})}\nfunction bc(a,b,c){var d=Yb(a.variants),e=d.filter(function(a){return a.language==d[0].language});a=d.filter(function(a){return a.primary});a.length&&(e=a);if(b){var f=Qb(b);[Pb,Ob,0].forEach(function(a){var b=!1;d.forEach(function(d){f=Qb(f);var g=Qb(d.language);Nb(a,f,g)&&(b?e.push(d):(e=[d],b=!0),c&&(c.audio=!0))})})}return e}\nfunction cc(a,b,c){var d=a.textStreams,e=d;a=d.filter(function(a){return a.primary});a.length&&(e=a);if(b){var f=Qb(b);[Pb,Ob,0].forEach(function(a){var b=!1;d.forEach(function(d){var g=Qb(d.language);Nb(a,f,g)&&(b?e.push(d):(e=[d],b=!0),c&&(c.text=!0))})})}return e}function dc(a,b,c){for(var d=0;d<c.length;d++)if(c[d].audio==a&&c[d].video==b)return c[d];return null}\nfunction ec(a,b,c){function d(a,b){return null==a?null==b:b.id==a}for(var e=0;e<c.length;e++)if(d(a,c[e].audio)&&d(b,c[e].video))return c[e];return null}function Wb(a,b){var c=a;b&&(c+='; codecs=\"'+b+'\"');return c}function fc(a,b){for(var c=a.periods.length-1;0<c;--c)if(b>=a.periods[c].startTime)return c;return 0}\nfunction gc(a,b){for(var c=0;c<a.periods.length;++c){var d=a.periods[c];if(\"text\"==b.type)for(var e=0;e<d.textStreams.length;++e){if(d.textStreams[e]==b)return c}else for(e=0;e<d.variants.length;++e){var f=d.variants[e];if(f.audio==b||f.video==b||f.video&&f.video.trickModeVideo==b)return c}}return-1};function G(){this.f=null;this.b=!1;this.a=new fa;this.h=[];this.g=[];this.j=!1;this.c=null;this.i={minWidth:0,maxWidth:Infinity,minHeight:0,maxHeight:Infinity,minPixels:0,maxPixels:Infinity,minBandwidth:0,maxBandwidth:Infinity}}m(\"shaka.abr.SimpleAbrManager\",G);G.prototype.stop=function(){this.f=null;this.b=!1;this.h=[];this.g=[];this.c=null};G.prototype.stop=G.prototype.stop;G.prototype.init=function(a){this.f=a};G.prototype.init=G.prototype.init;\nG.prototype.chooseStreams=function(a){var b={};if(-1<a.indexOf(\"audio\")||-1<a.indexOf(\"video\")){var c=this.h;var d=hc(this.i,c);var e=this.a.getBandwidthEstimate();if(c.length&&!d.length)throw new t(2,4,4012);for(var c=d[0],f=0;f<d.length;++f){var g=d[f],h=(d[f+1]||{bandwidth:Infinity}).bandwidth/.85;e>=g.bandwidth/.95&&e<=h&&(c=g)}(d=c)&&d.video&&(b.video=d.video);d&&d.audio&&(b.audio=d.audio)}-1<a.indexOf(\"text\")&&(b.text=this.g[0]);this.c=Date.now();return b};G.prototype.chooseStreams=G.prototype.chooseStreams;\nG.prototype.enable=function(){this.b=!0};G.prototype.enable=G.prototype.enable;G.prototype.disable=function(){this.b=!1};G.prototype.disable=G.prototype.disable;G.prototype.segmentDownloaded=function(a,b){var c=this.a;if(!(16E3>b)){var d=8E3*b/a,e=a/1E3;c.a+=b;da(c.c,e,d);da(c.f,e,d)}if(null!=this.c&&this.b)a:{if(!this.j){if(!(128E3<=this.a.a))break a;this.j=!0}else if(8E3>Date.now()-this.c)break a;c=this.chooseStreams([\"audio\",\"video\"]);this.a.getBandwidthEstimate();this.f(c)}};\nG.prototype.segmentDownloaded=G.prototype.segmentDownloaded;G.prototype.getBandwidthEstimate=function(){return this.a.getBandwidthEstimate()};G.prototype.getBandwidthEstimate=G.prototype.getBandwidthEstimate;G.prototype.setDefaultEstimate=function(a){this.a.setDefaultEstimate(a)};G.prototype.setDefaultEstimate=G.prototype.setDefaultEstimate;G.prototype.setRestrictions=function(a){this.i=a};G.prototype.setRestrictions=G.prototype.setRestrictions;G.prototype.setVariants=function(a){this.h=a};\nG.prototype.setVariants=G.prototype.setVariants;G.prototype.setTextStreams=function(a){this.g=a};G.prototype.setTextStreams=G.prototype.setTextStreams;function hc(a,b){return b.filter(function(b){return Sb(b,a,{width:Infinity,height:Infinity})}).sort(function(a,b){return a.bandwidth-b.bandwidth})};function H(a,b){var c=b||{},d;for(d in c)this[d]=c[d];this.defaultPrevented=this.cancelable=this.bubbles=!1;this.timeStamp=window.performance&&window.performance.now?window.performance.now():Date.now();this.type=a;this.isTrusted=!1;this.target=this.currentTarget=null;this.a=!1}H.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)};H.prototype.stopImmediatePropagation=function(){this.a=!0};H.prototype.stopPropagation=function(){};var ic=\"ended play playing pause pausing ratechange seeked seeking timeupdate volumechange\".split(\" \"),jc=\"buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume\".split(\" \"),kc=[\"loop\",\"playbackRate\"],lc=[\"pause\",\"play\"],mc=\"adaptation buffering emsg error loading unloading texttrackvisibility timelineregionadded timelineregionenter timelineregionexit trackschanged\".split(\" \"),nc=\"drmInfo getAudioLanguages getConfiguration getExpiration getManifestUri getPlaybackRate getPlayheadTimeAsDate getTextLanguages getTextTracks getTracks getStats getVariantTracks isBuffering isInProgress isLive isTextTrackVisible keySystem seekRange\".split(\" \"),\noc=[[\"getConfiguration\",\"configure\"]],pc=[[\"isTextTrackVisible\",\"setTextTrackVisibility\"]],qc=\"addTextTrack cancelTrickPlay configure resetConfiguration selectAudioLanguage selectTextLanguage selectTextTrack selectTrack selectVariantTrack setTextTrackVisibility trickPlay\".split(\" \"),rc=[\"load\",\"unload\"];\nfunction sc(a){return JSON.stringify(a,function(a,c){if(\"manager\"!=a&&\"function\"!=typeof c){if(c instanceof Event||c instanceof H){var b={},e;for(e in c){var f=c[e];f&&\"object\"==typeof f||e in Event||(b[e]=f)}return b}if(c instanceof TimeRanges)for(b={__type__:\"TimeRanges\",length:c.length,start:[],end:[]},e=0;e<c.length;++e)b.start.push(c.start(e)),b.end.push(c.end(e));else b=\"number\"==typeof c?isNaN(c)?\"NaN\":isFinite(c)?c:0>c?\"-Infinity\":\"Infinity\":c;return b}})}\nfunction tc(a){return JSON.parse(a,function(a,c){return\"NaN\"==c?NaN:\"-Infinity\"==c?-Infinity:\"Infinity\"==c?Infinity:c&&\"object\"==typeof c&&\"TimeRanges\"==c.__type__?uc(c):c})}function uc(a){return{length:a.length,start:function(b){return a.start[b]},end:function(b){return a.end[b]}}};function vc(a,b,c,d,e){this.J=a;this.l=b;this.B=c;this.G=d;this.v=e;this.c=this.j=this.h=!1;this.A=\"\";this.a=this.i=null;this.b={video:{},player:{}};this.o=0;this.f={};this.g=null}k=vc.prototype;k.m=function(){wc(this);this.a&&(this.a.leave(function(){},function(){}),this.a=null);this.G=this.B=this.l=null;this.c=this.j=this.h=!1;this.g=this.f=this.b=this.i=null;return Promise.resolve()};k.V=function(){return this.c};k.Db=function(){return this.A};\nk.init=function(){if(window.chrome&&chrome.cast&&chrome.cast.isAvailable){delete window.__onGCastApiAvailable;this.h=!0;this.l();var a=new chrome.cast.SessionRequest(this.J),a=new chrome.cast.ApiConfig(a,this.ed.bind(this),this.qd.bind(this),\"origin_scoped\");chrome.cast.initialize(a,function(){},function(){})}else window.__onGCastApiAvailable=function(a){a&&this.init()}.bind(this)};k.Gb=function(a){this.i=a;this.c&&xc(this,{type:\"appData\",appData:this.i})};\nk.cast=function(a){if(!this.h)return Promise.reject(new t(1,8,8E3));if(!this.j)return Promise.reject(new t(1,8,8001));if(this.c)return Promise.reject(new t(1,8,8002));this.g=new A;chrome.cast.requestSession(this.zb.bind(this,a),this.ac.bind(this));return this.g};k.$a=function(){this.c&&(wc(this),this.a&&(this.a.stop(function(){},function(){}),this.a=null))};\nk.get=function(a,b){if(\"video\"==a){if(0<=lc.indexOf(b))return this.nc.bind(this,a,b)}else if(\"player\"==a){if(0<=qc.indexOf(b))return this.nc.bind(this,a,b);if(0<=rc.indexOf(b))return this.Md.bind(this,a,b);if(0<=nc.indexOf(b))return this.jc.bind(this,a,b)}return this.jc(a,b)};k.set=function(a,b,c){this.b[a][b]=c;xc(this,{type:\"set\",targetName:a,property:b,value:c})};\nk.zb=function(a,b){this.a=b;this.a.addUpdateListener(this.bc.bind(this));this.a.addMessageListener(\"urn:x-cast:com.google.shaka.v2\",this.kd.bind(this));this.bc();xc(this,{type:\"init\",initState:a,appData:this.i});this.g.resolve()};k.ac=function(a){var b=8003;switch(a.code){case \"cancel\":b=8004;break;case \"timeout\":b=8005;break;case \"receiver_unavailable\":b=8006}this.g.reject(new t(2,8,b,a))};k.jc=function(a,b){return this.b[a][b]};\nk.nc=function(a,b){xc(this,{type:\"call\",targetName:a,methodName:b,args:Array.prototype.slice.call(arguments,2)})};k.Md=function(a,b){var c=Array.prototype.slice.call(arguments,2),d=new A,e=this.o.toString();this.o++;this.f[e]=d;xc(this,{type:\"asyncCall\",targetName:a,methodName:b,args:c,id:e});return d};k.ed=function(a){var b=this.v();this.g=new A;this.zb(b,a)};k.qd=function(a){this.j=\"available\"==a;this.l()};\nk.bc=function(){var a=this.a?\"connected\"==this.a.status:!1;if(this.c&&!a){this.G();for(var b in this.b)this.b[b]={};wc(this)}this.A=(this.c=a)?this.a.receiver.friendlyName:\"\";this.l()};function wc(a){for(var b in a.f){var c=a.f[b];delete a.f[b];c.reject(new t(1,7,7E3))}}\nk.kd=function(a,b){var c=tc(b);switch(c.type){case \"event\":var d=c.targetName,e=c.event;this.B(d,new H(e.type,e));break;case \"update\":e=c.update;for(d in e){var c=this.b[d]||{};for(f in e[d])c[f]=e[d][f]}break;case \"asyncComplete\":d=c.id;var f=c.error;c=this.f[d];delete this.f[d];if(c)if(f){d=new t(f.severity,f.category,f.code);for(e in f)d[e]=f[e];c.reject(d)}else c.resolve()}};function xc(a,b){var c=sc(b);a.a.sendMessage(\"urn:x-cast:com.google.shaka.v2\",c,function(){},ga)};function p(){this.lb=new Ha;this.Ta=this}p.prototype.addEventListener=function(a,b){this.lb.push(a,b)};p.prototype.removeEventListener=function(a,b){this.lb.remove(a,b)};p.prototype.dispatchEvent=function(a){for(var b=this.lb.get(a.type)||[],c=0;c<b.length;++c){a.target=this.Ta;a.currentTarget=this.Ta;var d=b[c];try{d.handleEvent?d.handleEvent(a):d.call(this,a)}catch(e){}if(a.a)break}return a.defaultPrevented};function I(a,b,c){p.call(this);this.c=a;this.b=b;this.h=this.f=this.g=this.i=this.j=null;this.a=new vc(c,this.ce.bind(this),this.de.bind(this),this.ee.bind(this),this.Tb.bind(this));yc(this)}ba(I);m(\"shaka.cast.CastProxy\",I);I.prototype.m=function(a){a&&this.a&&this.a.$a();a=[this.h?this.h.m():null,this.b?this.b.m():null,this.a?this.a.m():null];this.a=this.h=this.i=this.j=this.b=this.c=null;return Promise.all(a)};I.prototype.destroy=I.prototype.m;I.prototype.Xc=function(){return this.j};\nI.prototype.getVideo=I.prototype.Xc;I.prototype.Rc=function(){return this.i};I.prototype.getPlayer=I.prototype.Rc;I.prototype.Dc=function(){return this.a?this.a.h&&this.a.j:!1};I.prototype.canCast=I.prototype.Dc;I.prototype.V=function(){return this.a?this.a.V():!1};I.prototype.isCasting=I.prototype.V;I.prototype.Db=function(){return this.a?this.a.Db():\"\"};I.prototype.receiverName=I.prototype.Db;I.prototype.cast=function(){var a=this.Tb();return this.a.cast(a).then(function(){return this.b.hb()}.bind(this))};\nI.prototype.cast=I.prototype.cast;I.prototype.Gb=function(a){this.a.Gb(a)};I.prototype.setAppData=I.prototype.Gb;I.prototype.ke=function(){var a=this.a;if(a.c){var b=a.v();chrome.cast.requestSession(a.zb.bind(a,b),a.ac.bind(a))}};I.prototype.suggestDisconnect=I.prototype.ke;I.prototype.$a=function(){this.a.$a()};I.prototype.forceDisconnect=I.prototype.$a;\nfunction yc(a){a.a.init();a.h=new D;ic.forEach(function(a){E(this.h,this.c,a,this.re.bind(this))}.bind(a));mc.forEach(function(a){E(this.h,this.b,a,this.Gd.bind(this))}.bind(a));a.j={};for(var b in a.c)Object.defineProperty(a.j,b,{configurable:!1,enumerable:!0,get:a.qe.bind(a,b),set:a.se.bind(a,b)});a.i={};for(b in a.b)Object.defineProperty(a.i,b,{configurable:!1,enumerable:!0,get:a.Fd.bind(a,b)});a.g=new p;a.g.Ta=a.j;a.f=new p;a.f.Ta=a.i}k=I.prototype;\nk.Tb=function(){var a={video:{},player:{},playerAfterLoad:{},manifest:this.b.Ya,startTime:null};this.c.pause();kc.forEach(function(b){a.video[b]=this.c[b]}.bind(this));this.c.ended||(a.startTime=this.c.currentTime);oc.forEach(function(b){var c=b[1];b=this.b[b[0]]();a.player[c]=b}.bind(this));pc.forEach(function(b){var c=b[1];b=this.b[b[0]]();a.playerAfterLoad[c]=b}.bind(this));return a};k.ce=function(){this.dispatchEvent(new H(\"caststatuschanged\"))};\nk.ee=function(){oc.forEach(function(a){var b=a[1];a=this.a.get(\"player\",a[0])();this.b[b](a)}.bind(this));var a=this.a.get(\"player\",\"getManifestUri\")(),b=this.a.get(\"video\",\"ended\"),c=Promise.resolve(),d=this.c.autoplay,e=null;b||(e=this.a.get(\"video\",\"currentTime\"));a&&(this.c.autoplay=!1,c=this.b.load(a,e),c[\"catch\"](function(a){this.b.dispatchEvent(new H(\"error\",{detail:a}))}.bind(this)));var f={};kc.forEach(function(a){f[a]=this.a.get(\"video\",a)}.bind(this));c.then(function(){kc.forEach(function(a){this.c[a]=\nf[a]}.bind(this));pc.forEach(function(a){var b=a[1];a=this.a.get(\"player\",a[0])();this.b[b](a)}.bind(this));this.c.autoplay=d;a&&this.c.play()}.bind(this))};\nk.qe=function(a){if(\"addEventListener\"==a)return this.g.addEventListener.bind(this.g);if(\"removeEventListener\"==a)return this.g.removeEventListener.bind(this.g);if(this.a.V()&&!Object.keys(this.a.b.video).length){var b=this.c[a];if(\"function\"!=typeof b)return b}return this.a.V()?this.a.get(\"video\",a):(b=this.c[a],\"function\"==typeof b&&(b=b.bind(this.c)),b)};k.se=function(a,b){this.a.V()?this.a.set(\"video\",a,b):this.c[a]=b};k.re=function(a){this.a.V()||this.g.dispatchEvent(new H(a.type,a))};\nk.Fd=function(a){return\"addEventListener\"==a?this.f.addEventListener.bind(this.f):\"removeEventListener\"==a?this.f.removeEventListener.bind(this.f):\"getNetworkingEngine\"==a?this.b.Ub.bind(this.b):this.a.V()&&!Object.keys(this.a.b.video).length&&0<=nc.indexOf(a)||!this.a.V()?(a=this.b[a],a.bind(this.b)):this.a.get(\"player\",a)};k.Gd=function(a){this.a.V()||this.f.dispatchEvent(a)};k.de=function(a,b){this.a.V()&&(\"video\"==a?this.g.dispatchEvent(b):\"player\"==a&&this.f.dispatchEvent(b))};function J(a,b,c,d){p.call(this);this.a=a;this.b=b;this.j={video:a,player:b};this.l=c||function(){};this.o=d||function(a){return a};this.i=!1;this.f=!0;this.h=this.g=this.c=null;zc(this)}ba(J);m(\"shaka.cast.CastReceiver\",J);J.prototype.isConnected=function(){return this.i};J.prototype.isConnected=J.prototype.isConnected;J.prototype.Zc=function(){return this.f};J.prototype.isIdle=J.prototype.Zc;\nJ.prototype.m=function(){var a=this.b?this.b.m():Promise.resolve();null!=this.h&&window.clearTimeout(this.h);this.l=this.j=this.b=this.a=null;this.i=!1;this.f=!0;this.h=this.g=this.c=null;return a.then(function(){cast.receiver.CastReceiverManager.getInstance().stop()})};J.prototype.destroy=J.prototype.m;\nfunction zc(a){var b=cast.receiver.CastReceiverManager.getInstance();b.onSenderConnected=a.hc.bind(a);b.onSenderDisconnected=a.hc.bind(a);b.onSystemVolumeChanged=a.Kc.bind(a);a.g=b.getCastMessageBus(\"urn:x-cast:com.google.cast.media\");a.g.onMessage=a.fd.bind(a);a.c=b.getCastMessageBus(\"urn:x-cast:com.google.shaka.v2\");a.c.onMessage=a.td.bind(a);b.start();ic.forEach(function(a){this.a.addEventListener(a,this.kc.bind(this,\"video\"))}.bind(a));mc.forEach(function(a){this.b.addEventListener(a,this.kc.bind(this,\n\"player\"))}.bind(a));cast.__platform__&&cast.__platform__.canDisplayType('video/mp4; codecs=\"avc1.640028\"; width=3840; height=2160')?a.b.Hb(3840,2160):a.b.Hb(1920,1080);a.b.addEventListener(\"loading\",function(){this.f=!1;Ac(this)}.bind(a));a.a.addEventListener(\"playing\",function(){this.f=!1;Ac(this)}.bind(a));a.a.addEventListener(\"pause\",function(){Ac(this)}.bind(a));a.b.addEventListener(\"unloading\",function(){this.f=!0;Ac(this)}.bind(a));a.a.addEventListener(\"ended\",function(){window.setTimeout(function(){this.a&&\nthis.a.ended&&(this.f=!0,Ac(this))}.bind(this),5E3)}.bind(a))}k=J.prototype;k.hc=function(){this.i=!!cast.receiver.CastReceiverManager.getInstance().getSenders().length;Ac(this)};function Ac(a){Promise.resolve().then(function(){this.dispatchEvent(new H(\"caststatuschanged\"));L(this,0)}.bind(a))}\nfunction Bc(a,b,c){for(var d in b.player)a.b[d](b.player[d]);a.l(c);c=Promise.resolve();var e=a.a.autoplay;b.manifest&&(a.a.autoplay=!1,c=a.b.load(b.manifest,b.startTime),c[\"catch\"](function(a){this.b.dispatchEvent(new H(\"error\",{detail:a}))}.bind(a)));c.then(function(){var a;for(a in b.video){var c=b.video[a];this.a[a]=c}for(a in b.playerAfterLoad)c=b.playerAfterLoad[a],this.b[a](c);this.a.autoplay=e;b.manifest&&(this.a.play(),L(this,0))}.bind(a))}\nk.kc=function(a,b){this.Ab();Cc(this,{type:\"event\",targetName:a,event:b},this.c)};k.Ab=function(){null!=this.h&&window.clearTimeout(this.h);this.h=window.setTimeout(this.Ab.bind(this),500);var a={video:{},player:{}};jc.forEach(function(b){a.video[b]=this.a[b]}.bind(this));nc.forEach(function(b){a.player[b]=this.b[b]()}.bind(this));var b=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();b&&(a.video.volume=b.level,a.video.muted=b.muted);Cc(this,{type:\"update\",update:a},this.c)};\nk.Kc=function(){var a=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();a&&Cc(this,{type:\"update\",update:{video:{volume:a.level,muted:a.muted}}},this.c);Cc(this,{type:\"event\",targetName:\"video\",event:{type:\"volumechange\"}},this.c)};\nk.td=function(a){var b=tc(a.data);switch(b.type){case \"init\":Bc(this,b.initState,b.appData);this.Ab();break;case \"appData\":this.l(b.appData);break;case \"set\":var c=b.targetName,d=b.property,e=b.value;if(\"video\"==c)if(b=cast.receiver.CastReceiverManager.getInstance(),\"volume\"==d){b.setSystemVolumeLevel(e);break}else if(\"muted\"==d){b.setSystemVolumeMuted(e);break}this.j[c][d]=e;break;case \"call\":c=b.targetName;d=b.methodName;e=b.args;c=this.j[c];c[d].apply(c,e);break;case \"asyncCall\":c=b.targetName,\nd=b.methodName,e=b.args,b=b.id,a=a.senderId,c=this.j[c],c[d].apply(c,e).then(this.tc.bind(this,a,b,null),this.tc.bind(this,a,b))}};\nk.fd=function(a){var b=tc(a.data);switch(b.type){case \"PLAY\":this.a.play();L(this,0);break;case \"PAUSE\":this.a.pause();L(this,0);break;case \"SEEK\":a=b.currentTime;var c=b.resumeState;null!=a&&(this.a.currentTime=Number(a));c&&\"PLAYBACK_START\"==c?(this.a.play(),L(this,0)):c&&\"PLAYBACK_PAUSE\"==c&&(this.a.pause(),L(this,0));break;case \"STOP\":this.b.hb().then(function(){L(this,0)}.bind(this));break;case \"GET_STATUS\":L(this,Number(b.requestId));break;case \"VOLUME\":c=b.volume;a=c.level;var c=c.muted,d=\nthis.a.volume,e=this.a.muted;null!=a&&(this.a.volume=Number(a));null!=c&&(this.a.muted=c);d==this.a.volume&&e==this.a.muted||L(this,0);break;case \"LOAD\":c=b.media.contentId;a=b.currentTime;var f=this.o(c);this.a.autoplay=!0;this.b.load(f,a).then(function(){L(this,0,{contentId:f,streamType:this.b.da()?\"LIVE\":\"BUFFERED\",contentType:\"\"})}.bind(this))[\"catch\"](function(a){var c=\"LOAD_FAILED\";7==a.category&&7E3==a.code&&(c=\"LOAD_CANCELLED\");Cc(this,{requestId:Number(b.requestId),type:c},this.g)}.bind(this));\nbreak;default:Cc(this,{requestId:Number(b.requestId),type:\"INVALID_REQUEST\",reason:\"INVALID_COMMAND\"},this.g)}};k.tc=function(a,b,c){Cc(this,{type:\"asyncComplete\",id:b,error:c},this.c,a)};function Cc(a,b,c,d){a.i&&(a=sc(b),d?c.getCastChannel(d).send(a):c.broadcast(a))}\nfunction L(a,b,c){var d=Dc,d={mediaSessionId:0,playbackRate:a.a.playbackRate,playerState:a.f?d.IDLE:a.b.ka?d.yc:a.a.paused?d.zc:d.Ac,currentTime:a.a.currentTime,supportedMediaCommands:15,volume:{level:a.a.volume,muted:a.a.muted}};c&&(d.media=c);Cc(a,{requestId:b,type:\"MEDIA_STATUS\",status:[d]},a.g)}var Dc={IDLE:\"IDLE\",Ac:\"PLAYING\",yc:\"BUFFERING\",zc:\"PAUSED\"};function Ec(a,b){var c=M(a,b);return 1!=c.length?null:c[0]}function M(a,b){return Array.prototype.filter.call(a.childNodes,function(a){return a.tagName==b})}function Fc(a){var b=a.firstChild;return b&&b.nodeType==Node.TEXT_NODE?a.textContent.trim():null}function N(a,b,c,d){var e=null;a=a.getAttribute(b);null!=a&&(e=c(a));return null==e?void 0!=d?d:null:e}function Gc(a){if(!a)return null;a=Date.parse(a);return isNaN(a)?null:Math.floor(a/1E3)}\nfunction Hc(a){if(!a)return null;a=/^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$/.exec(a);if(!a)return null;a=31536E3*Number(a[1]||null)+2592E3*Number(a[2]||null)+86400*Number(a[3]||null)+3600*Number(a[4]||null)+60*Number(a[5]||null)+Number(a[6]||null);return isFinite(a)?a:null}function Ic(a){var b=/([0-9]+)-([0-9]+)/.exec(a);if(!b)return null;a=Number(b[1]);if(!isFinite(a))return null;b=Number(b[2]);return isFinite(b)?{start:a,end:b}:null}\nfunction Jc(a){a=Number(a);return a%1?null:a}function Kc(a){a=Number(a);return!(a%1)&&0<a?a:null}function Lc(a){a=Number(a);return!(a%1)&&0<=a?a:null}function Mc(a){var b;a=(b=a.match(/^(\\d+)\\/(\\d+)$/))?Number(b[1]/b[2]):Number(a);return isNaN(a)?null:a};var Nc={\"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b\":\"org.w3.clearkey\",\"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed\":\"com.widevine.alpha\",\"urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95\":\"com.microsoft.playready\",\"urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb\":\"com.adobe.primetime\"};\nfunction Oc(a,b,c){a=Pc(a);var d=null,e=null,f=[],g=[],h=a.map(function(a){return a.keyId}).filter(ya);if(0<h.length&&(e=h[0],h.some(za(e))))throw new t(2,4,4010);c||(g=a.filter(function(a){return\"urn:mpeg:dash:mp4protection:2011\"==a.qc?(d=a.init||d,!1):!0}),0<g.length&&(f=Qc(d,b,g),f.length||(f=[Ba(\"\",d)])));0<a.length&&(c||!g.length)&&(f=Ma(Nc).map(function(a){return Ba(a,d)}));e&&f.forEach(function(a){a.initData.forEach(function(a){a.keyId=e})});return{Qb:e,xe:d,drmInfos:f,Sb:!0}}\nfunction Rc(a,b,c,d){var e=Oc(a,b,d);if(c.Sb){a=1==c.drmInfos.length&&!c.drmInfos[0].keySystem;b=!e.drmInfos.length;if(!c.drmInfos.length||a&&!b)c.drmInfos=e.drmInfos;c.Sb=!1}else if(0<e.drmInfos.length&&(c.drmInfos=c.drmInfos.filter(function(a){return e.drmInfos.some(function(b){return b.keySystem==a.keySystem})}),!c.drmInfos.length))throw new t(2,4,4008);return e.Qb||c.Qb}function Qc(a,b,c){return c.map(function(c){var d=Nc[c.qc];return d?[Ba(d,c.init||a)]:b(c.node)||[]}).reduce(x,[])}\nfunction Pc(a){return a.map(function(a){var b=a.getAttribute(\"schemeIdUri\"),d=a.getAttribute(\"cenc:default_KID\"),e=M(a,\"cenc:pssh\").map(Fc);if(!b)return null;b=b.toLowerCase();if(d&&(d=d.replace(/-/g,\"\").toLowerCase(),0<=d.indexOf(\" \")))throw new t(2,4,4009);var f=[];try{f=e.map(function(a){return{initDataType:\"cenc\",initData:Wa(a),keyId:null}})}catch(g){throw new t(2,4,4007);}return{node:a,qc:b,keyId:d,init:0<f.length?f:null}}).filter(ya)};function Sc(a,b,c,d,e){null!=e&&(e=Math.round(e));var f={RepresentationID:b,Number:c,Bandwidth:d,Time:e};return a.replace(/\\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)d)?\\$/g,function(a,b,c){if(\"$$\"==a)return\"$\";var d=f[b];if(null==d)return a;\"RepresentationID\"==b&&c&&(c=void 0);a=d.toString();c=window.parseInt(c,10)||1;return Array(Math.max(0,c-a.length)+1).join(\"0\")+a})}\nfunction Tc(a,b){var c=Uc(a,b,\"timescale\"),d=1;c&&(d=Kc(c)||1);c=Uc(a,b,\"duration\");(c=Kc(c||\"\"))&&(c/=d);var e=Uc(a,b,\"startNumber\"),f=Uc(a,b,\"presentationTimeOffset\"),g=Lc(e||\"\");if(null==e||null==g)g=1;var h=Vc(a,b,\"SegmentTimeline\"),e=null;if(h){for(var e=d,l=Number(f),n=a.R.duration||Infinity,h=M(h,\"S\"),q=[],r=0,v=0;v<h.length;++v){var u=h[v],w=N(u,\"t\",Lc),K=N(u,\"d\",Lc),u=N(u,\"r\",Jc);null!=w&&(w-=l);if(!K)break;w=null!=w?w:r;u=u||0;if(0>u)if(v+1<h.length){u=N(h[v+1],\"t\",Lc);if(null==u)break;\nelse if(w>=u)break;u=Math.ceil((u-w)/K)-1}else{if(Infinity==n)break;else if(w/e>=n)break;u=Math.ceil((n*e-w)/K)-1}0<q.length&&w!=r&&(q[q.length-1].end=w/e);for(var oa=0;oa<=u;++oa)r=w+K,q.push({start:w/e,end:r/e,oe:w}),w=r}e=q}return{timescale:d,O:c,ya:g,presentationTimeOffset:Number(f)/d||0,Nb:Number(f),F:e}}function Uc(a,b,c){return[b(a.w),b(a.S),b(a.T)].filter(ya).map(function(a){return a.getAttribute(c)}).reduce(function(a,b){return a||b})}\nfunction Vc(a,b,c){return[b(a.w),b(a.S),b(a.T)].filter(ya).map(function(a){return Ec(a,c)}).reduce(function(a,b){return a||b})};function Wc(a,b,c){this.a=a;this.X=b;this.M=c}m(\"shaka.media.InitSegmentReference\",Wc);function O(a,b,c,d,e,f){this.position=a;this.startTime=b;this.endTime=c;this.a=d;this.X=e;this.M=f}m(\"shaka.media.SegmentReference\",O);function P(a,b){this.H=a;this.a=b==Xc;this.u=0}m(\"shaka.util.DataViewReader\",P);var Xc=1;P.Endianness={te:0,ve:Xc};P.prototype.Z=function(){return this.u<this.H.byteLength};P.prototype.hasMoreData=P.prototype.Z;P.prototype.Tc=function(){return this.u};P.prototype.getPosition=P.prototype.Tc;P.prototype.Oc=function(){return this.H.byteLength};P.prototype.getLength=P.prototype.Oc;P.prototype.Cb=function(){try{var a=this.H.getUint8(this.u)}catch(b){Yc()}this.u+=1;return a};P.prototype.readUint8=P.prototype.Cb;\nP.prototype.mc=function(){try{var a=this.H.getUint16(this.u,this.a)}catch(b){Yc()}this.u+=2;return a};P.prototype.readUint16=P.prototype.mc;P.prototype.D=function(){try{var a=this.H.getUint32(this.u,this.a)}catch(b){Yc()}this.u+=4;return a};P.prototype.readUint32=P.prototype.D;P.prototype.lc=function(){try{var a=this.H.getInt32(this.u,this.a)}catch(b){Yc()}this.u+=4;return a};P.prototype.readInt32=P.prototype.lc;\nP.prototype.Pa=function(){try{if(this.a){var a=this.H.getUint32(this.u,!0);var b=this.H.getUint32(this.u+4,!0)}else b=this.H.getUint32(this.u,!1),a=this.H.getUint32(this.u+4,!1)}catch(c){Yc()}if(2097151<b)throw new t(2,3,3001);this.u+=8;return b*Math.pow(2,32)+a};P.prototype.readUint64=P.prototype.Pa;P.prototype.Ja=function(a){this.u+a>this.H.byteLength&&Yc();var b=this.H.buffer.slice(this.u,this.u+a);this.u+=a;return new Uint8Array(b)};P.prototype.readBytes=P.prototype.Ja;\nP.prototype.I=function(a){this.u+a>this.H.byteLength&&Yc();this.u+=a};P.prototype.skip=P.prototype.I;P.prototype.Bb=function(){for(var a=this.u;this.Z()&&this.H.getUint8(this.u);)this.u+=1;a=this.H.buffer.slice(a,this.u);this.u+=1;return F(a)};P.prototype.readTerminatedString=P.prototype.Bb;function Yc(){throw new t(2,3,3E3);};function Q(){this.b=[];this.a=[]}m(\"shaka.util.Mp4Parser\",Q);Q.prototype.C=function(a,b){var c=Zc(a);this.b[c]=0;this.a[c]=b;return this};Q.prototype.box=Q.prototype.C;Q.prototype.ca=function(a,b){var c=Zc(a);this.b[c]=1;this.a[c]=b;return this};Q.prototype.fullBox=Q.prototype.ca;Q.prototype.parse=function(a){for(a=new P(new DataView(a),0);a.Z();)this.eb(0,a)};Q.prototype.parse=Q.prototype.parse;\nQ.prototype.eb=function(a,b){var c=b.u,d=b.D(),e=b.D();switch(d){case 0:d=b.H.byteLength-c;break;case 1:d=b.Pa()}var f=this.a[e];if(f){var g=null,h=null;1==this.b[e]&&(h=b.D(),g=h>>>24,h&=16777215);e=c+d-b.u;e=0<e?b.Ja(e).buffer:new ArrayBuffer(0);e=new P(new DataView(e),0);f({Na:this,version:g,Lc:h,s:e,size:d,start:c+a})}else b.I(c+d-b.u)};Q.prototype.parseNext=Q.prototype.eb;function R(a){for(;a.s.Z();)a.Na.eb(a.start,a.s)}Q.children=R;\nfunction $c(a){for(var b=a.s.D();0<b;--b)a.Na.eb(a.start,a.s)}Q.sampleDescription=$c;function ad(a){return function(b){a(b.s.Ja(b.s.H.byteLength-b.s.u))}}Q.allData=ad;function Zc(a){for(var b=0,c=0;c<a.length;c++)b=b<<8|a.charCodeAt(c);return b};function bd(a,b,c,d){var e,f=(new Q).ca(\"sidx\",function(a){e=cd(b,d,c,a)});a&&f.parse(a);if(e)return e;throw new t(2,3,3004);}\nfunction cd(a,b,c,d){var e=[];d.s.I(4);var f=d.s.D();if(!f)throw new t(2,3,3005);if(d.version){var g=d.s.Pa();var h=d.s.Pa()}else g=d.s.D(),h=d.s.D();d.s.I(2);var l=d.s.mc();b=g-b;a=a+d.size+h;for(h=0;h<l;h++){var n=d.s.D();g=(n&2147483648)>>>31;var n=n&2147483647,q=d.s.D();d.s.I(4);if(1==g)throw new t(2,3,3006);e.push(new O(e.length,b/f,(b+q)/f,function(){return c},a,a+n-1));b+=q;a+=n}return e};function S(a){this.a=a}m(\"shaka.media.SegmentIndex\",S);S.prototype.m=function(){this.a=null;return Promise.resolve()};S.prototype.destroy=S.prototype.m;S.prototype.find=function(a){for(var b=this.a.length-1;0<=b;--b){var c=this.a[b];if(a>=c.startTime&&a<c.endTime)return c.position}return this.a.length&&a<this.a[0].startTime?this.a[0].position:null};S.prototype.find=S.prototype.find;S.prototype.get=function(a){if(!this.a.length)return null;a-=this.a[0].position;return 0>a||a>=this.a.length?null:this.a[a]};\nS.prototype.get=S.prototype.get;S.prototype.vb=function(a){for(var b,c,d=[],e=c=0;c<this.a.length&&e<a.length;){var f=this.a[c];b=a[e];f.startTime<b.startTime?(d.push(f),c++):(f.startTime>b.startTime||(.1<Math.abs(f.endTime-b.endTime)?d.push(b):d.push(f),c++),e++)}for(;c<this.a.length;)d.push(this.a[c++]);if(d.length)for(c=d[d.length-1].position+1;e<a.length;)b=a[e++],b=new O(c++,b.startTime,b.endTime,b.a,b.X,b.M),d.push(b);else d=a;this.a=d};S.prototype.merge=S.prototype.vb;\nS.prototype.ob=function(a){for(var b=0;b<this.a.length&&!(this.a[b].endTime>a);++b);this.a.splice(0,b)};S.prototype.evict=S.prototype.ob;function dd(a,b){if(a.a.length){var c=a.a[a.a.length-1];c.startTime>b||(a.a[a.a.length-1]=new O(c.position,c.startTime,b,c.a,c.X,c.M))}};function ed(a){this.b=a;this.a=new P(a,0);fd||(fd=[new Uint8Array([255]),new Uint8Array([127,255]),new Uint8Array([63,255,255]),new Uint8Array([31,255,255,255]),new Uint8Array([15,255,255,255,255]),new Uint8Array([7,255,255,255,255,255]),new Uint8Array([3,255,255,255,255,255,255]),new Uint8Array([1,255,255,255,255,255,255,255])])}var fd;ed.prototype.Z=function(){return this.a.Z()};\nfunction gd(a){var b=hd(a);if(7<b.length)throw new t(2,3,3002);for(var c=0,d=0;d<b.length;d++)c=256*c+b[d];b=c;c=hd(a);a:{for(d=0;d<fd.length;d++)if(Za(c,fd[d])){d=!0;break a}d=!1}if(d)c=a.b.byteLength-a.a.u;else{if(8==c.length&&c[1]&224)throw new t(2,3,3001);for(var d=c[0]&(1<<8-c.length)-1,e=1;e<c.length;e++)d=256*d+c[e];c=d}c=a.a.u+c<=a.b.byteLength?c:a.b.byteLength-a.a.u;d=new DataView(a.b.buffer,a.b.byteOffset+a.a.u,c);a.a.I(c);return new id(b,d)}\nfunction hd(a){var b=a.a.Cb(),c;for(c=1;8>=c&&!(b&1<<8-c);c++);if(8<c)throw new t(2,3,3002);var d=new Uint8Array(c);d[0]=b;for(b=1;b<c;b++)d[b]=a.a.Cb();return d}function id(a,b){this.id=a;this.a=b}function jd(a){if(8<a.a.byteLength)throw new t(2,3,3002);if(8==a.a.byteLength&&a.a.getUint8(0)&224)throw new t(2,3,3001);for(var b=0,c=0;c<a.a.byteLength;c++)var d=a.a.getUint8(c),b=256*b+d;return b};function kd(){}\nkd.prototype.parse=function(a,b,c,d){var e;b=new ed(new DataView(b));if(440786851!=gd(b).id)throw new t(2,3,3008);var f=gd(b);if(408125543!=f.id)throw new t(2,3,3009);b=f.a.byteOffset;f=new ed(f.a);for(e=null;f.Z();){var g=gd(f);if(357149030==g.id){e=g;break}}if(!e)throw new t(2,3,3010);f=new ed(e.a);e=1E6;for(g=null;f.Z();){var h=gd(f);if(2807729==h.id)e=jd(h);else if(17545==h.id)if(g=h,4==g.a.byteLength)g=g.a.getFloat32(0);else if(8==g.a.byteLength)g=g.a.getFloat64(0);else throw new t(2,3,3003);\n}if(null==g)throw new t(2,3,3011);f=e/1E9;e=g*f;a=gd(new ed(new DataView(a)));if(475249515!=a.id)throw new t(2,3,3007);return ld(a,b,f,e,c,d)};function ld(a,b,c,d,e,f){function g(){return e}var h=[];a=new ed(a.a);for(var l=-1,n=-1;a.Z();){var q=gd(a);if(187==q.id){var r=md(q);r&&(q=c*(r.pe-f),r=b+r.Ld,0<=l&&h.push(new O(h.length,l,q,g,n,r-1)),l=q,n=r)}}0<=l&&h.push(new O(h.length,l,d,g,n,null));return h}\nfunction md(a){var b=new ed(a.a);a=gd(b);if(179!=a.id)throw new t(2,3,3013);a=jd(a);b=gd(b);if(183!=b.id)throw new t(2,3,3012);for(var b=new ed(b.a),c=0;b.Z();){var d=gd(b);if(241==d.id){c=jd(d);break}}return{pe:a,Ld:c}};function nd(a,b){var c=Vc(a,b,\"Initialization\");if(!c)return null;var d=a.w.U,e=c.getAttribute(\"sourceURL\");e&&(d=z(a.w.U,[e]));var e=0,f=null;if(c=N(c,\"range\",Ic))e=c.start,f=c.end;return new Wc(function(){return d},e,f)}\nfunction od(a,b){var c=Uc(a,pd,\"presentationTimeOffset\"),d=nd(a,pd);var e=Number(c);var f=a.w.contentType,g=a.w.mimeType.split(\"/\")[1];if(\"text\"!=f&&\"mp4\"!=g&&\"webm\"!=g)throw new t(2,4,4006);if(\"webm\"==g&&!d)throw new t(2,4,4005);var f=Vc(a,pd,\"RepresentationIndex\"),h=Uc(a,pd,\"indexRange\"),l=a.w.U,h=Ic(h||\"\");if(f){var n=f.getAttribute(\"sourceURL\");n&&(l=z(a.w.U,[n]));h=N(f,\"range\",Ic,h)}if(!h)throw new t(2,4,4002);e=qd(a,b,d,l,h.start,h.end,g,e);return{createSegmentIndex:e.createSegmentIndex,findSegmentPosition:e.findSegmentPosition,\ngetSegmentReference:e.getSegmentReference,initSegmentReference:d,presentationTimeOffset:Number(c)||0}}\nfunction qd(a,b,c,d,e,f,g,h){var l=a.presentationTimeline,n=!a.Ca||!a.R.sb,q=a.R.duration,r=b,v=null;return{createSegmentIndex:function(){var a=[r(d,e,f),\"webm\"==g?r(c.a(),c.X,c.M):null];r=null;return Promise.all(a).then(function(a){var b=a[0];a=a[1]||null;b=\"mp4\"==g?bd(b,e,d,h):(new kd).parse(b,a,d,h);l.Ga(0,b);v=new S(b);n&&dd(v,q)})},findSegmentPosition:function(a){return v.find(a)},getSegmentReference:function(a){return v.get(a)}}}function pd(a){return a.Qa};function rd(a,b){var c=nd(a,sd);var d=td(a);var e=Tc(a,sd),f=e.ya;f||(f=1);var g=0;e.O?g=e.O*(f-1):e.F&&0<e.F.length&&(g=e.F[0].start);d={O:e.O,startTime:g,ya:f,presentationTimeOffset:e.presentationTimeOffset,F:e.F,Fa:d};if(!d.O&&!d.F&&1<d.Fa.length)throw new t(2,4,4002);if(!d.O&&!a.R.duration&&!d.F&&1==d.Fa.length)throw new t(2,4,4002);if(d.F&&!d.F.length)throw new t(2,4,4002);f=e=null;a.T.id&&a.w.id&&(f=a.T.id+\",\"+a.w.id,e=b[f]);g=ud(a.R.duration,d.ya,a.w.U,d);e?(e.vb(g),e.ob(a.presentationTimeline.ma()-\na.R.start)):(a.presentationTimeline.Ga(0,g),e=new S(g),f&&a.Ca&&(b[f]=e));a.Ca&&a.R.sb||dd(e,a.R.duration);return{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:e.find.bind(e),getSegmentReference:e.get.bind(e),initSegmentReference:c,presentationTimeOffset:d.presentationTimeOffset}}function sd(a){return a.oa}\nfunction ud(a,b,c,d){var e=d.Fa.length;d.F&&d.F.length!=d.Fa.length&&(e=Math.min(d.F.length,d.Fa.length));for(var f=[],g=d.startTime,h=0;h<e;h++){var l=d.Fa[h],n=z(c,[l.ad]);var q=null!=d.O?g+d.O:d.F?d.F[h].end:g+a;f.push(new O(h+b,g,q,function(a){return a}.bind(null,n),l.start,l.end));g=q}return f}\nfunction td(a){return[a.w.oa,a.S.oa,a.T.oa].filter(ya).map(function(a){return M(a,\"SegmentURL\")}).reduce(function(a,c){return 0<a.length?a:c}).map(function(b){b.getAttribute(\"indexRange\")&&!a.Yb&&(a.Yb=!0);var c=b.getAttribute(\"media\");b=N(b,\"mediaRange\",Ic,{start:0,end:null});return{ad:c,start:b.start,end:b.end}})};function vd(a,b,c,d){var e=wd(a);var f=Tc(a,xd);var g=Uc(a,xd,\"media\"),h=Uc(a,xd,\"index\");f={O:f.O,timescale:f.timescale,ya:f.ya,presentationTimeOffset:f.presentationTimeOffset,Nb:f.Nb,F:f.F,ub:g,La:h};g=0+(f.La?1:0);g+=f.F?1:0;g+=f.O?1:0;if(!g)throw new t(2,4,4002);1!=g&&(f.La&&(f.F=null),f.O=null);if(!f.La&&!f.ub)throw new t(2,4,4002);if(f.La){c=a.w.mimeType.split(\"/\")[1];if(\"mp4\"!=c&&\"webm\"!=c)throw new t(2,4,4006);if(\"webm\"==c&&!e)throw new t(2,4,4005);d=Sc(f.La,a.w.id,null,a.bandwidth||null,\nnull);d=z(a.w.U,[d]);a=qd(a,b,e,d,0,null,c,f.presentationTimeOffset)}else f.O?(d||a.presentationTimeline.wb(f.O),a=yd(a,f)):(d=b=null,a.T.id&&a.w.id&&(d=a.T.id+\",\"+a.w.id,b=c[d]),g=zd(a,f),b?(b.vb(g),b.ob(a.presentationTimeline.ma()-a.R.start)):(a.presentationTimeline.Ga(0,g),b=new S(g),d&&a.Ca&&(c[d]=b)),a.Ca&&a.R.sb||dd(b,a.R.duration),a={createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:b.find.bind(b),getSegmentReference:b.get.bind(b)});return{createSegmentIndex:a.createSegmentIndex,\nfindSegmentPosition:a.findSegmentPosition,getSegmentReference:a.getSegmentReference,initSegmentReference:e,presentationTimeOffset:f.presentationTimeOffset}}function xd(a){return a.Ra}\nfunction yd(a,b){var c=a.R.duration,d=b.O,e=b.ya,f=b.timescale,g=b.ub,h=a.bandwidth||null,l=a.w.id,n=a.w.U;return{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(a){return 0>a||c&&a>=c?null:Math.floor(a/d)},getSegmentReference:function(a){var b=a*d;return 0>b||c&&b>=c?null:new O(a,b,b+d,function(){var c=Sc(g,l,a+e,h,b*f);return z(n,[c])},0,null)}}}\nfunction zd(a,b){for(var c=[],d=0;d<b.F.length;d++){var e=d+b.ya;c.push(new O(e,b.F[d].start,b.F[d].end,function(a,b,c,d,e,q){a=Sc(a,b,e,c,q);return z(d,[a]).map(function(a){return a.toString()})}.bind(null,b.ub,a.w.id,a.bandwidth||null,a.w.U,e,b.F[d].oe+b.Nb),0,null))}return c}function wd(a){var b=Uc(a,xd,\"initialization\");if(!b)return null;var c=a.w.id,d=a.bandwidth||null,e=a.w.U;return new Wc(function(){var a=Sc(b,c,null,d,null);return z(e,[a])},0,null)};var Ad={},Bd={};m(\"shaka.media.ManifestParser.registerParserByExtension\",function(a,b){Bd[a]=b});m(\"shaka.media.ManifestParser.registerParserByMime\",function(a,b){Ad[a]=b});function Cd(){var a={},b;for(b in Ad)a[b]=!0;for(b in Bd)a[b]=!0;[\"application/dash+xml\",\"application/x-mpegurl\",\"application/vnd.apple.mpegurl\",\"application/vnd.ms-sstr+xml\"].forEach(function(b){a[b]=!!Ad[b]});[\"mpd\",\"m3u8\",\"ism\"].forEach(function(b){a[b]=!!Bd[b]});return a}\nfunction Dd(a,b,c,d){var e=d;e||(d=(new ia(a)).W.split(\"/\").pop().split(\".\"),1<d.length&&(d=d.pop().toLowerCase(),e=Bd[d]));if(e)return Promise.resolve(e);c=C([a],c);c.method=\"HEAD\";return b.request(0,c).then(function(b){(b=b.headers[\"content-type\"])&&(b=b.toLowerCase());return(e=Ad[b])?e:Promise.reject(new t(2,4,4E3,a))},function(a){a.severity=2;return Promise.reject(a)})};function T(a,b){this.f=a;this.i=b;this.c=this.a=Infinity;this.b=1;this.h=0;this.g=!0}m(\"shaka.media.PresentationTimeline\",T);T.prototype.Y=function(){return this.a};T.prototype.getDuration=T.prototype.Y;T.prototype.pa=function(a){this.a=a};T.prototype.setDuration=T.prototype.pa;T.prototype.Uc=function(){return this.f};T.prototype.getPresentationStartTime=T.prototype.Uc;T.prototype.uc=function(a){this.h=a};T.prototype.setClockOffset=T.prototype.uc;T.prototype.wc=function(a){this.g=a};\nT.prototype.setStatic=T.prototype.wc;T.prototype.Vc=function(){return this.c};T.prototype.getSegmentAvailabilityDuration=T.prototype.Vc;T.prototype.vc=function(a){this.c=a};T.prototype.setSegmentAvailabilityDuration=T.prototype.vc;T.prototype.Ga=function(a,b){b.length&&(this.b=b.reduce(function(a,b){return Math.max(a,b.endTime-b.startTime)},this.b))};T.prototype.notifySegments=T.prototype.Ga;T.prototype.wb=function(a){this.b=Math.max(this.b,a)};T.prototype.notifyMaxSegmentDuration=T.prototype.wb;\nT.prototype.da=function(){return Infinity==this.a&&!this.g};T.prototype.isLive=T.prototype.da;T.prototype.va=function(){return Infinity!=this.a&&!this.g};T.prototype.isInProgress=T.prototype.va;T.prototype.ma=function(){return this.Da(0)};T.prototype.getSegmentAvailabilityStart=T.prototype.ma;T.prototype.Da=function(a){if(Infinity==this.c)return 0;var b=this.ua();return Math.max(0,Math.min(b-this.c+a,b))};T.prototype.getSafeAvailabilityStart=T.prototype.Da;\nT.prototype.ua=function(){return this.da()||this.va()?Math.min(Math.max(0,(Date.now()+this.h)/1E3-this.b-this.f),this.a):this.a};T.prototype.getSegmentAvailabilityEnd=T.prototype.ua;T.prototype.bb=function(){return Math.max(0,this.ua()-(this.da()||this.va()?this.i:0))};T.prototype.getSeekRangeEnd=T.prototype.bb;function Ed(){this.a=this.b=null;this.g=[];this.c=null;this.i=[];this.h=1;this.j={};this.l=0;this.f=null}m(\"shaka.dash.DashParser\",Ed);k=Ed.prototype;k.configure=function(a){this.b=a};k.start=function(a,b){this.g=[a];this.a=b;return Fd(this).then(function(){this.a&&Gd(this,0);return this.c}.bind(this))};k.stop=function(){this.b=this.a=null;this.g=[];this.c=null;this.i=[];this.j={};null!=this.f&&(window.clearTimeout(this.f),this.f=null);return Promise.resolve()};k.update=function(){Fd(this)[\"catch\"](function(a){if(this.a)this.a.onError(a)}.bind(this))};\nk.onExpirationUpdated=function(){};function Fd(a){return a.a.networkingEngine.request(0,C(a.g,a.b.retryParameters)).then(function(a){if(this.a)return Hd(this,a.data,a.uri)}.bind(a))}\nfunction Hd(a,b,c){var d=F(b),e=new DOMParser,f=null;b=null;try{f=e.parseFromString(d,\"text/xml\")}catch(v){}f&&\"MPD\"==f.documentElement.tagName&&(b=f.documentElement);b&&0<b.getElementsByTagName(\"parsererror\").length&&(b=null);if(!b)throw new t(2,4,4001);c=[c];d=M(b,\"Location\").map(Fc).filter(ya);0<d.length&&(c=a.g=d);d=M(b,\"BaseURL\").map(Fc);c=z(c,d);var g=N(b,\"minBufferTime\",Hc);a.l=N(b,\"minimumUpdatePeriod\",Hc,-1);var h=N(b,\"availabilityStartTime\",Gc),d=N(b,\"timeShiftBufferDepth\",Hc),l=N(b,\"suggestedPresentationDelay\",\nHc),e=N(b,\"maxSegmentDuration\",Hc),f=b.getAttribute(\"type\")||\"static\";if(a.c)var n=a.c.presentationTimeline;else{var q=Math.max(10,1.5*g);n=new T(h,null!=l?l:q)}var h=Id(a,{Ca:\"static\"!=f,presentationTimeline:n,T:null,R:null,S:null,w:null,bandwidth:void 0,Yb:!1},c,b),l=h.duration,r=h.periods;n.wc(\"static\"==f);n.pa(l||Infinity);n.vc(null!=d?d:Infinity);n.wb(e||1);if(a.c)return Promise.resolve();b=M(b,\"UTCTiming\");return Jd(a,c,b,n.da()).then(function(a){this.a&&(n.uc(a),this.c={presentationTimeline:n,\nperiods:r,offlineSessionIds:[],minBufferTime:g||0})}.bind(a))}\nfunction Id(a,b,c,d){var e=N(d,\"mediaPresentationDuration\",Hc),f=[],g=0;d=M(d,\"Period\");for(var h=0;h<d.length;h++){var l=d[h],g=N(l,\"start\",Hc,g),n=N(l,\"duration\",Hc),q=null;if(h!=d.length-1){var r=N(d[h+1],\"start\",Hc);null!=r&&(q=r-g)}else null!=e&&(q=e-g);null==q&&(q=n);l=Kd(a,b,c,{start:g,duration:q,node:l,sb:null==q||h==d.length-1});f.push(l);n=b.T.id;a.i.every(za(n))&&(a.a.filterPeriod(l),a.i.push(n),a.c&&a.c.periods.push(l));if(null==q){g=null;break}g+=q}return null!=e?{periods:f,duration:e}:\n{periods:f,duration:g}}\nfunction Kd(a,b,c,d){b.T=Ld(d.node,null,c);b.R=d;b.T.id||(b.T.id=\"__shaka_period_\"+d.start);M(d.node,\"EventStream\").forEach(a.Dd.bind(a,d.start,d.duration));c=M(d.node,\"AdaptationSet\").map(a.Bd.bind(a,b)).filter(ya);var e=c.map(function(a){return a.Nd}).reduce(x,[]),f=e.filter(Aa);if(b.Ca&&e.length!=f.length)throw new t(2,4,4018);var g=c.filter(function(a){return!a.Mb});c.filter(function(a){return a.Mb}).forEach(function(a){var b=a.streams[0],c=a.Mb;g.forEach(function(a){a.id==c&&a.streams.forEach(function(a){a.trickModeVideo=\nb})})});e=Md(g,\"video\");f=Md(g,\"audio\");if(!e.length&&!f.length)throw new t(2,4,4004);f.length||(f=[null]);e.length||(e=[null]);b=[];for(c=0;c<f.length;c++)for(var h=0;h<e.length;h++)Nd(a,f[c],e[h],b);a=Md(g,\"text\");e=[];for(c=0;c<a.length;c++)e.push.apply(e,a[c].streams);return{startTime:d.start,textStreams:e,variants:b}}function Md(a,b){return a.filter(function(a){return a.contentType==b})}\nfunction Nd(a,b,c,d){if(b||c)if(b&&c){var e=b.drmInfos;var f=c.drmInfos;if(e.length&&f.length?0<qb(e,f).length:1)for(var g=qb(b.drmInfos,c.drmInfos),e=0;e<b.streams.length;e++)for(var h=0;h<c.streams.length;h++)f=c.streams[h].bandwidth+b.streams[e].bandwidth,f={id:a.h++,language:b.language,primary:b.tb||c.tb,audio:b.streams[e],video:c.streams[h],bandwidth:f,drmInfos:g,allowedByApplication:!0,allowedByKeySystem:!0},d.push(f)}else for(g=b||c,e=0;e<g.streams.length;e++)f=g.streams[e].bandwidth,f={id:a.h++,\nlanguage:g.language||\"und\",primary:g.tb,audio:b?g.streams[e]:null,video:c?g.streams[e]:null,bandwidth:f,drmInfos:g.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0},d.push(f)}\nk.Bd=function(a,b){a.S=Ld(b,a.T,null);var c=!1,d=M(b,\"Role\"),e=void 0;\"text\"==a.S.contentType&&(e=\"subtitle\");for(var f=0;f<d.length;f++){var g=d[f].getAttribute(\"schemeIdUri\");if(null==g||\"urn:mpeg:dash:role:2011\"==g)switch(g=d[f].getAttribute(\"value\"),g){case \"main\":c=!0;break;case \"caption\":case \"subtitle\":e=g}}var h=null,l=!1;M(b,\"EssentialProperty\").forEach(function(a){\"http://dashif.org/guidelines/trickmode\"==a.getAttribute(\"schemeIdUri\")?h=a.getAttribute(\"value\"):l=!0});if(l)return null;var d=\nM(b,\"ContentProtection\"),n=Oc(d,this.b.dash.customScheme,this.b.dash.ignoreDrmInfo),d=Qb(b.getAttribute(\"lang\")||\"und\"),f=M(b,\"Representation\"),e=f.map(this.Ed.bind(this,a,n,e,d,c)).filter(function(a){return!!a});if(!e.length)throw new t(2,4,4003);a.S.contentType||(a.S.contentType=Od(e[0].mimeType,e[0].codecs),e.forEach(function(b){b.type=a.S.contentType}));e.forEach(function(a){n.drmInfos.forEach(function(b){a.keyId&&b.keyIds.push(a.keyId)})});f=f.map(function(a){return a.getAttribute(\"id\")}).filter(ya);\nreturn{id:a.S.id||\"__fake__\"+this.h++,contentType:a.S.contentType,language:d,tb:c,streams:e,drmInfos:n.drmInfos,Mb:h,Nd:f}};\nk.Ed=function(a,b,c,d,e,f){a.w=Ld(f,a.S,null);if(!Pd(a.w))return null;a.bandwidth=N(f,\"bandwidth\",Kc)||void 0;var g=this.Od.bind(this);if(a.w.Qa)g=od(a,g);else if(a.w.oa)g=rd(a,this.j);else if(a.w.Ra)g=vd(a,g,this.j,!!this.c);else{var h=a.w.U,l=a.R.duration||0;g={createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(a){return 0<=a&&a<l?1:null},getSegmentReference:function(a){return 1!=a?null:new O(1,0,l,function(){return h},0,null)},initSegmentReference:null,presentationTimeOffset:0}}f=\nM(f,\"ContentProtection\");f=Rc(f,this.b.dash.customScheme,b,this.b.dash.ignoreDrmInfo);return{id:this.h++,createSegmentIndex:g.createSegmentIndex,findSegmentPosition:g.findSegmentPosition,getSegmentReference:g.getSegmentReference,initSegmentReference:g.initSegmentReference,presentationTimeOffset:g.presentationTimeOffset,mimeType:a.w.mimeType,codecs:a.w.codecs,frameRate:a.w.frameRate,bandwidth:a.bandwidth,width:a.w.width,height:a.w.height,kind:c,encrypted:0<b.drmInfos.length,keyId:f,language:d,type:a.S.contentType,\nprimary:e,trickModeVideo:null,containsEmsgBoxes:a.w.containsEmsgBoxes}};k.fe=function(){this.f=null;var a=Date.now();Fd(this).then(function(){this.a&&Gd(this,(Date.now()-a)/1E3)}.bind(this))[\"catch\"](function(a){this.a&&(a.severity=1,this.a.onError(a),Gd(this,0))}.bind(this))};function Gd(a,b){0>a.l||(a.f=window.setTimeout(a.fe.bind(a),1E3*Math.max(Math.max(3,a.l)-b,0)))}\nfunction Ld(a,b,c){b=b||{contentType:\"\",mimeType:\"\",codecs:\"\",containsEmsgBoxes:!1,frameRate:void 0};c=c||b.U;var d=M(a,\"BaseURL\").map(Fc),e=a.getAttribute(\"contentType\")||b.contentType,f=a.getAttribute(\"mimeType\")||b.mimeType,g=a.getAttribute(\"codecs\")||b.codecs,h=N(a,\"frameRate\",Mc)||b.frameRate,l=!!M(a,\"InbandEventStream\").length;e||(e=Od(f,g));return{U:z(c,d),Qa:Ec(a,\"SegmentBase\")||b.Qa,oa:Ec(a,\"SegmentList\")||b.oa,Ra:Ec(a,\"SegmentTemplate\")||b.Ra,width:N(a,\"width\",Lc)||b.width,height:N(a,\"height\",\nLc)||b.height,contentType:e,mimeType:f,codecs:g,frameRate:h,containsEmsgBoxes:l||b.containsEmsgBoxes,id:a.getAttribute(\"id\")}}function Pd(a){var b=0+(a.Qa?1:0);b+=a.oa?1:0;b+=a.Ra?1:0;if(!b)return\"text\"==a.contentType||\"application\"==a.contentType?!0:!1;1!=b&&(a.Qa&&(a.oa=null),a.Ra=null);return!0}\nfunction Qd(a,b,c,d){b=z(b,[c]);b=C(b,a.b.retryParameters);b.method=d;return a.a.networkingEngine.request(0,b).then(function(a){if(\"HEAD\"==d){if(!a.headers||!a.headers.date)return 0;a=a.headers.date}else a=F(a.data);a=Date.parse(a);return isNaN(a)?0:a-Date.now()})}\nfunction Jd(a,b,c,d){c=c.map(function(a){return{scheme:a.getAttribute(\"schemeIdUri\"),value:a.getAttribute(\"value\")}});var e=a.b.dash.clockSyncUri;d&&!c.length&&e&&c.push({scheme:\"urn:mpeg:dash:utc:http-head:2014\",value:e});return xa(c,function(a){var c=a.value;switch(a.scheme){case \"urn:mpeg:dash:utc:http-head:2014\":case \"urn:mpeg:dash:utc:http-head:2012\":return Qd(this,b,c,\"HEAD\");case \"urn:mpeg:dash:utc:http-xsdate:2014\":case \"urn:mpeg:dash:utc:http-iso:2014\":case \"urn:mpeg:dash:utc:http-xsdate:2012\":case \"urn:mpeg:dash:utc:http-iso:2012\":return Qd(this,\nb,c,\"GET\");case \"urn:mpeg:dash:utc:direct:2014\":case \"urn:mpeg:dash:utc:direct:2012\":return a=Date.parse(c),isNaN(a)?0:a-Date.now();case \"urn:mpeg:dash:utc:http-ntp:2014\":case \"urn:mpeg:dash:utc:ntp:2014\":case \"urn:mpeg:dash:utc:sntp:2014\":return Promise.reject();default:return Promise.reject()}}.bind(a))[\"catch\"](function(){return 0})}\nk.Dd=function(a,b,c){var d=c.getAttribute(\"schemeIdUri\")||\"\",e=c.getAttribute(\"value\")||\"\",f=N(c,\"timescale\",Lc)||1;M(c,\"Event\").forEach(function(c){var g=N(c,\"presentationTime\",Lc)||0,l=N(c,\"duration\",Lc)||0,g=g/f+a,l=g+l/f;null!=b&&(g=Math.min(g,a+b),l=Math.min(l,a+b));c={schemeIdUri:d,value:e,startTime:g,endTime:l,id:c.getAttribute(\"id\")||\"\",eventElement:c};this.a.onTimelineRegionAdded(c)}.bind(this))};\nk.Od=function(a,b,c){a=C(a,this.b.retryParameters);null!=b&&(a.headers.Range=\"bytes=\"+b+\"-\"+(null!=c?c:\"\"));return this.a.networkingEngine.request(1,a).then(function(a){return a.data})};function Od(a,b){return sb[Wb(a,b)]?\"text\":a.split(\"/\")[0]}Bd.mpd=Ed;Ad[\"application/dash+xml\"]=Ed;function Rd(a,b,c,d){this.uri=a;this.type=b;this.ga=c;this.segments=d||null}function Sd(a,b,c,d){this.id=a;this.name=b;this.a=c;this.value=d||null}Sd.prototype.toString=function(){function a(a){return a.name+'=\"'+a.value+'\"'}return this.value?\"#\"+this.name+\":\"+this.value:0<this.a.length?\"#\"+this.name+\":\"+this.a.map(a).join(\",\"):\"#\"+this.name};function Td(a,b){this.name=a;this.value=b}Sd.prototype.getAttribute=function(a){var b=this.a.filter(function(b){return b.name==a});return b.length?b[0]:null};\nfunction Ud(a,b,c){c=c||null;return(a=a.getAttribute(b))?a.value:c}function Vd(a,b){this.ga=b;this.uri=a};function Wd(a,b){return a.filter(function(a){return a.name==b})}function Xd(a,b){var c=Wd(a,b);return c.length?c[0]:null}function Yd(a,b,c){return a.filter(function(a){var d=a.getAttribute(\"TYPE\");a=a.getAttribute(\"GROUP-ID\");return d.value==b&&a.value==c})};function Zd(a){this.b=a;this.a=0}function $d(a,b){b.lastIndex=a.a;var c=(c=b.exec(a.b))?{position:c.index,length:c[0].length,Qd:c}:null;if(a.a==a.b.length||!c||c.position!=a.a)return null;a.a+=c.length;return c.Qd}function ae(a){return a.a==a.b.length?null:(a=$d(a,/[^ \\t\\n]*/gm))?a[0]:null};function be(){this.a=0}\nfunction ce(a,b,c){b=F(b);b=b.replace(/\\r\\n|\\r(?=[^\\n]|$)/gm,\"\\n\").trim();var d=b.split(/\\n+/m);if(!/^#EXTM3U($|[ \\t\\n])/m.test(d[0]))throw new t(2,4,4015);b=0;for(var e=[],f=1;f<d.length;)if(/^#(?!EXT)/m.test(d[f]))f+=1;else{var g=d[f];g=de(a.a++,g);if(0<=ee.indexOf(g.name))b=1;else if(0<=fe.indexOf(g.name)){if(1!=b)throw new t(2,4,4017);d=d.splice(f,d.length-f);a=ge(a,d);return new Rd(c,b,e,a)}e.push(g);f+=1;\"EXT-X-STREAM-INF\"==g.name&&(g.a.push(new Td(\"URI\",d[f])),f+=1)}return new Rd(c,b,e)}\nfunction ge(a,b){var c=[],d=[];b.forEach(function(a){/^(#EXT)/.test(a)?(a=de(this.a++,a),d.push(a)):/^#(?!EXT)/m.test(a)||(c.push(new Vd(a.trim(),d)),d=[])}.bind(a));return c}function de(a,b){var c=b.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!c)throw new t(2,4,4016);var d=c[1],e=c[2],c=[];if(e&&0<=e.indexOf(\"=\"))for(var e=new Zd(e),f,g=/([^=]+)=(?:\"([^\"]*)\"|([^\",]*))(?:,|$)/g;f=$d(e,g);)c.push(new Td(f[1],f[2]||f[3]));else if(e)return new Sd(a,d,c,e);return new Sd(a,d,c)}\nvar ee=\"EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-MAP EXT-X-I-FRAMES-ONLY\".split(\" \"),fe=\"EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE\".split(\" \");function he(a){return new Promise(function(b){var c=he.parse(a);b({uri:a,data:c.data,headers:{\"content-type\":c.contentType}})})}m(\"shaka.net.DataUriPlugin\",he);\nhe.parse=function(a){var b=a.split(\":\");if(2>b.length||\"data\"!=b[0])throw new t(2,1,1004,a);b=b.slice(1).join(\":\").split(\",\");if(2>b.length)throw new t(2,1,1004,a);var c=b[0],b=window.decodeURIComponent(b.slice(1).join(\",\")),c=c.split(\";\"),d=null;1<c.length&&(d=c[1]);if(\"base64\"==d)a=Wa(b).buffer;else{if(d)throw new t(2,1,1005,a);a=Sa(b)}return{data:a,contentType:c[0]}};Ea.data=he;function ie(){this.b=this.c=null;this.i=1;this.g={};this.f={};this.a=null;this.j=\"\";this.h=new be}m(\"shaka.hls.HlsParser\",ie);k=ie.prototype;k.configure=function(a){this.b=a};k.start=function(a,b){this.c=b;this.j=a;return this.c.networkingEngine.request(0,C([a],this.b.retryParameters)).then(function(b){return je(this,b.data,a)}.bind(this))};k.stop=function(){this.b=this.c=null;this.g={};return Promise.resolve()};k.update=function(){};k.onExpirationUpdated=function(){};\nfunction je(a,b,c){b=ce(a.h,b,c);if(0!=b.type)throw new t(2,4,4022);a.a=new T(null,0);return le(a,b).then(function(a){this.c.filterPeriod(a);return{presentationTimeline:this.a,periods:[a],offlineSessionIds:[],minBufferTime:0}}.bind(a))}\nfunction le(a,b){var c=Wd(b.ga,\"EXT-X-STREAM-INF\").map(function(a){return me(this,a,b)}.bind(a)),d=Wd(b.ga,\"EXT-X-MEDIA\").filter(function(a){return\"SUBTITLES\"==U(a,\"TYPE\")}.bind(a)).map(function(a){return ne(this,a,b)}.bind(a));return Promise.all(c).then(function(a){return Promise.all(d).then(function(b){var c=a.reduce(x,[]);oe(this,c);return{startTime:0,variants:c,textStreams:b}}.bind(this))}.bind(a))}\nfunction me(a,b,c){var d=Number(U(b,\"BANDWIDTH\")),e=Ud(b,\"CODECS\",\"avc1.42E01E,mp4a.40.2\").split(\",\"),f=b.getAttribute(\"RESOLUTION\"),g=null,h=null,l=Ud(b,\"FRAME-RATE\");if(f)var n=f.value.split(\"x\"),g=n[0],h=n[1];var q=pe(a,c);c=Wd(c.ga,\"EXT-X-MEDIA\");var r=Ud(b,\"AUDIO\"),v=Ud(b,\"VIDEO\");r?c=Yd(c,\"AUDIO\",r):v&&(c=Yd(c,\"VIDEO\",v));c=c.map(function(a){return qe(this,a,e,q)}.bind(a));var u=[],w=[];return Promise.all(c).then(function(a){r?u=a:v&&(w=a);if(u.length||w.length)var c=u.length?\"video\":\"audio\";\nelse 1==e.length?c=f||l?\"video\":\"audio\":(c=\"video\",e=[e.join(\",\")]);a=e;var d=U(b,\"URI\");return re(this,d,a,c,q,\"und\",!1)}.bind(a)).then(function(a){\"audio\"==a.stream.type?u=[a]:w=[a];return se(this,u,w,d,g,h,l)}.bind(a))}\nfunction se(a,b,c,d,e,f,g){c.forEach(function(a){if(a=a.stream)a.width=Number(e)||void 0,a.height=Number(f)||void 0,a.frameRate=Number(g)||void 0}.bind(a));b.length||(b=[null]);c.length||(c=[null]);for(var h=[],l=0;l<b.length;l++)for(var n=0;n<c.length;n++){var q=b[l]?b[l].stream:null,r=c[n]?c[n].stream:null,v=b[l]?b[l].drmInfos:null,u=c[n]?c[n].drmInfos:null;if(q&&r)if(v.length&&u.length?0<qb(v,u).length:1)var w=qb(v,u);else continue;else q?w=v:r&&(w=u);h.push(te(a,q,r,d,w))}return h}\nfunction te(a,b,c,d,e){return{id:a.i++,language:b?b.language:\"und\",primary:!!b&&b.primary||!!c&&c.primary,audio:b,video:c,bandwidth:d,drmInfos:e,allowedByApplication:!0,allowedByKeySystem:!0}}function ne(a,b,c){U(b,\"TYPE\");c=pe(a,c);return qe(a,b,[],c).then(function(a){return a.stream})}\nfunction qe(a,b,c,d){if(a.g[b.id])return Promise.resolve().then(function(){return this.g[b.id]}.bind(a));var e=U(b,\"TYPE\").toLowerCase();\"subtitles\"==e&&(e=\"text\");var f=Qb(Ud(b,\"LANGUAGE\",\"und\")),g=b.getAttribute(\"DEFAULT\"),h=b.getAttribute(\"AUTOSELECT\"),l=U(b,\"URI\");return re(a,l,c,e,d,f,!!g||!!h).then(function(a){return this.g[b.id]=a}.bind(a))}\nfunction re(a,b,c,d,e,f,g){b=z([a.j],[b])[0];return a.c.networkingEngine.request(0,C([b],a.b.retryParameters)).then(function(a){a=ce(this.h,a.data,a.uri);if(1!=a.type)throw new t(2,4,4017);e=pe(this,a)||e;var b=null;\"text\"!=d&&(b=ve(a));var h=Xd(a.ga,\"EXT-X-MEDIA-SEQUENCE\"),h=we(this,a,h?Number(h.value):0);this.a.Ga(0,h);var q=h[h.length-1].endTime-h[0].startTime,r=this.a.Y();(Infinity==r||r<q)&&this.a.pa(q);var v=xe(d,c),u=void 0;\"text\"==d&&(u=\"subtitle\");var w=new S(h),K=[];a.segments.forEach(function(a){a=\nWd(a.ga,\"EXT-X-KEY\");K.push.apply(K,a)});var oa=!1,Hb=[],ke=null;K.forEach(function(a){if(\"NONE\"!=U(a,\"METHOD\")){oa=!0;var b=U(a,\"KEYFORMAT\");if(a=(b=ye[b])?b(a):null)a.keyIds.length&&(ke=a.keyIds[0]),Hb.push(a)}});if(oa&&!Hb.length)throw new t(2,4,4026);return ze(this,d,h[0].a()[0]).then(function(a){a={id:this.i++,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:w.find.bind(w),getSegmentReference:w.get.bind(w),initSegmentReference:b,presentationTimeOffset:e||0,mimeType:a,codecs:v,\nkind:u,encrypted:oa,keyId:ke,language:f,type:d,primary:g,trickModeVideo:null,containsEmsgBoxes:!1,frameRate:void 0,width:void 0,height:void 0,bandwidth:void 0};this.f[a.id]=w;return{stream:a,ye:w,drmInfos:Hb}}.bind(this))}.bind(a))}\nfunction ve(a){var b=Wd(a.ga,\"EXT-X-MAP\");if(!b.length)return null;if(1<b.length)throw new t(2,4,4020);var b=b[0],c=U(b,\"URI\"),d=z([a.uri],[c])[0];a=0;c=null;if(b=Ud(b,\"BYTERANGE\"))a=b.split(\"@\"),b=Number(a[0]),a=Number(a[1]),c=a+b-1;return new Wc(function(){return[d]},a,c)}\nfunction we(a,b,c){var d=b.segments,e=[];d.forEach(function(a){var f=a.ga,h=z([b.uri],[a.uri])[0],l=Ae(f).value.split(\",\"),l=Number(l[0]),n;(a=d.indexOf(a))?n=e[a-1].endTime:n=0;var l=n+l,q=0,r=null;if(f=Xd(f,\"EXT-X-BYTERANGE\"))f=f.value.split(\"@\"),r=Number(f[0]),f[1]?q=Number(f[1]):q=e[a-1].M,r=q+r-1,a==d.length-1&&(r=null);e.push(new O(c+a,n,l,function(){return[h]},q,r))}.bind(a));return e}\nfunction oe(a,b){b.forEach(function(a){var b=this.a.Y(),c=a.video;a=a.audio;c&&this.f[c.id]&&dd(this.f[c.id],b);a&&this.f[a.id]&&dd(this.f[a.id],b)}.bind(a))}function xe(a,b){if(1==b.length)return b[0];if(\"text\"==a)return\"\";var c=Be;\"audio\"==a&&(c=Ce);for(var d=0;d<c.length;d++)for(var e=0;e<b.length;e++)if(c[d].test(b[e].trim()))return b[e].trim();throw new t(2,4,4025,b);}\nfunction ze(a,b,c){var d=c.split(\".\"),e=d[d.length-1];if(\"text\"==b)return Promise.resolve(\"text/vtt\");d=De;\"video\"==b&&(d=Ee);if(b=d[e])return Promise.resolve(b);c=C([c],a.b.retryParameters);c.method=\"HEAD\";return a.c.networkingEngine.request(1,c).then(function(a){a=a.headers[\"content-type\"];if(!a)throw new t(2,4,4021,e);return a})}function pe(a,b){var c=Xd(b.ga,\"EXT-X-START\");return c?Number(U(c,\"TIME-OFFSET\")):a.b.hls.defaultTimeOffset}\nfunction U(a,b){var c=a.getAttribute(b);if(!c)throw new t(2,4,4023,b);return c.value}function Ae(a){a=Xd(a,\"EXTINF\");if(!a)throw new t(2,4,4024,\"EXTINF\");return a}\nvar Be=[/^(avc)/,/^(hvc)/,/^(vp[8-9])$/,/^(av1)$/,/^(mp4v)/],Ce=[/^(vorbis)/,/^(opus)/,/^(mp4a)/,/^(ac-3)$/,/^(ec-3)$/],De={mp4:\"audio/mp4\",m4s:\"audio/mp4\",m4i:\"audio/mp4\",m4a:\"audio/mp4\",ts:\"video/mp2t\"},Ee={mp4:\"video/mp4\",m4s:\"video/mp4\",m4i:\"video/mp4\",m4v:\"video/mp4\",ts:\"video/mp2t\"},ye={\"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed\":function(a){if(\"SAMPLE-AES-CENC\"!=U(a,\"METHOD\"))return null;var b=U(a,\"URI\"),b=he.parse(b),b=new Uint8Array(b.data),b=Ba(\"com.widevine.alpha\",[{initDataType:\"cenc\",\ninitData:b}]);if(a=Ud(a,\"KEYID\"))b.keyIds=[a.substr(2).toLowerCase()];return b}};Bd.m3u8=ie;Ad[\"application/x-mpegurl\"]=ie;Ad[\"application/vnd.apple.mpegurl\"]=ie;function Fe(){}Fe.prototype.parseInit=function(){};\nFe.prototype.parseMedia=function(a,b){var c=F(a),d=[],e=new DOMParser,f=null;try{f=e.parseFromString(c,\"text/xml\")}catch(Hb){throw new t(2,2,2005);}if(f){var g=f.getElementsByTagName(\"tt\")[0];if(g){e=g.getAttribute(\"ttp:frameRate\");f=g.getAttribute(\"ttp:subFrameRate\");var h=g.getAttribute(\"ttp:frameRateMultiplier\");var l=g.getAttribute(\"ttp:tickRate\");c=g.getAttribute(\"xml:space\")||\"default\"}else throw new t(2,2,2005);if(\"default\"!=c&&\"preserve\"!=c)throw new t(2,2,2005);c=\"default\"==c;e=new Ge(e,\nf,h,l);f=He(g.getElementsByTagName(\"styling\")[0]);h=He(g.getElementsByTagName(\"layout\")[0]);g=He(g.getElementsByTagName(\"body\")[0]);for(l=0;l<g.length;l++){var n=g[l],q=b.periodStart,r=e;var v=f;var u=h,w=c;if(n.hasAttribute(\"begin\")||n.hasAttribute(\"end\")||!/^\\s*$/.test(n.textContent)){Ie(n,w);var w=Je(n.getAttribute(\"begin\"),r),K=Je(n.getAttribute(\"end\"),r),r=Je(n.getAttribute(\"dur\"),r),oa=n.textContent;null==K&&null!=r&&(K=w+r);if(null==w||null==K)throw new t(2,2,2001);if(q=vb(w+q,K+q,oa)){w=Ke(n,\n\"region\",u);u=q;if(K=Le(n,w,v,\"tts:extent\"))if(r=Me.exec(K))u.size=Number(r[1]);r=Le(n,w,v,\"tts:writingMode\");K=!0;\"tb\"==r||\"tblr\"==r?u.vertical=\"lr\":\"tbrl\"==r?u.vertical=\"rl\":K=!1;if(r=Le(n,w,v,\"tts:origin\"))if(r=Me.exec(r))K?(u.position=Number(r[2]),u.line=Number(r[1])):(u.position=Number(r[1]),u.line=Number(r[2])),u.snapToLines=!1;if(v=Le(n,w,v,\"tts:textAlign\"))u.align=v,\"center\"==v&&(\"center\"!=u.align&&(u.align=\"middle\"),u.position=\"auto\"),u.positionAlign=Ne[v],u.lineAlign=Oe[v];v=q}else v=null}else v=\nnull;v&&d.push(v)}}return d};var Pe=/^(\\d{2,}):(\\d{2}):(\\d{2}):(\\d{2})\\.?(\\d+)?$/,Qe=/^(?:(\\d{2,}):)?(\\d{2}):(\\d{2})$/,Re=/^(?:(\\d{2,}):)?(\\d{2}):(\\d{2}\\.\\d{2,})$/,Se=/^(\\d*\\.?\\d*)f$/,Te=/^(\\d*\\.?\\d*)t$/,Ue=/^(?:(\\d*\\.?\\d*)h)?(?:(\\d*\\.?\\d*)m)?(?:(\\d*\\.?\\d*)s)?(?:(\\d*\\.?\\d*)ms)?$/,Me=/^(\\d{1,2}|100)% (\\d{1,2}|100)%$/,Oe={left:\"start\",center:\"center\",right:\"end\",start:\"start\",end:\"end\"},Ne={left:\"line-left\",center:\"center\",right:\"line-right\"};\nfunction He(a){var b=[];if(!a)return b;for(var c=a.childNodes,d=0;d<c.length;d++){var e=\"span\"==c[d].nodeName&&\"p\"==a.nodeName;c[d].nodeType!=Node.ELEMENT_NODE||\"br\"==c[d].nodeName||e||(e=He(c[d]),b=b.concat(e))}b.length||b.push(a);return b}function Ie(a,b){for(var c=a.childNodes,d=0;d<c.length;d++)if(\"br\"==c[d].nodeName&&0<d)c[d-1].textContent+=\"\\n\";else if(0<c[d].childNodes.length)Ie(c[d],b);else if(b){var e=c[d].textContent.trim(),e=e.replace(/\\s+/g,\" \");c[d].textContent=e}}\nfunction Le(a,b,c,d){for(var e=He(b),f=0;f<e.length;f++){var g=e[f].getAttribute(d);if(g)return g}e=Ke;return(a=e(b,\"style\",c)||e(a,\"style\",c))?a.getAttribute(d):null}function Ke(a,b,c){if(!a||1>c.length)return null;var d=null,e=a;for(a=null;e&&!(a=e.getAttribute(b))&&(e=e.parentNode,e instanceof Element););if(b=a)for(a=0;a<c.length;a++)if(c[a].getAttribute(\"xml:id\")==b){d=c[a];break}return d}\nfunction Je(a,b){var c=null;if(Pe.test(a))var c=Pe.exec(a),d=Number(c[1]),e=Number(c[2]),f=Number(c[3]),g=Number(c[4]),g=g+(Number(c[5])||0)/b.b,f=f+g/b.frameRate,c=f+60*e+3600*d;else Qe.test(a)?c=Ve(Qe,a):Re.test(a)?c=Ve(Re,a):Se.test(a)?(c=Se.exec(a),c=Number(c[1])/b.frameRate):Te.test(a)?(c=Te.exec(a),c=Number(c[1])/b.a):Ue.test(a)&&(c=Ve(Ue,a));return c}\nfunction Ve(a,b){var c=a.exec(b);return c&&\"\"!=c[0]?(Number(c[4])||0)/1E3+(Number(c[3])||0)+60*(Number(c[2])||0)+3600*(Number(c[1])||0):null}function Ge(a,b,c,d){this.frameRate=Number(a)||30;this.b=Number(b)||1;this.a=Number(d);this.a||(this.a=a?this.frameRate*this.b:1);c&&(a=/^(\\d+) (\\d+)$/g.exec(c))&&(this.frameRate*=a[1]/a[2])}tb(\"application/ttml+xml\",Fe);function We(){this.a=new Fe}We.prototype.parseInit=function(a){var b=!1;(new Q).C(\"moov\",R).C(\"trak\",R).C(\"mdia\",R).C(\"minf\",R).C(\"stbl\",R).ca(\"stsd\",$c).C(\"stpp\",function(){b=!0}).parse(a);if(!b)throw new t(2,2,2007);};We.prototype.parseMedia=function(a,b){var c=!1,d=[];(new Q).C(\"mdat\",ad(function(a){c=!0;d=this.a.parseMedia(a.buffer,b)}.bind(this))).parse(a);if(!c)throw new t(2,2,2007);return d};tb('application/mp4; codecs=\"stpp\"',We);function Xe(){}Xe.prototype.parseInit=function(){};\nXe.prototype.parseMedia=function(a,b){var c=F(a),c=c.replace(/\\r\\n|\\r(?=[^\\n]|$)/gm,\"\\n\"),c=c.split(/\\n{2,}/m);if(!/^WEBVTT($|[ \\t\\n])/m.test(c[0]))throw new t(2,2,2E3);var d=b.segmentStart;if(0<=c[0].indexOf(\"X-TIMESTAMP-MAP\")){var e=c[0].match(/LOCAL:((?:(\\d{1,}):)?(\\d{2}):(\\d{2})\\.(\\d{3}))/m),f=c[0].match(/MPEGTS:(\\d+)/m);e&&f&&(d=Ye(new Zd(e[1])),d=b.periodStart+(Number(f[1])/9E4-d))}f=[];for(e=1;e<c.length;e++){var g=c[e].split(\"\\n\"),h=d;if(1==g.length&&!g[0]||/^NOTE($|[ \\t])/.test(g[0]))var l=\nnull;else{l=null;0>g[0].indexOf(\"--\\x3e\")&&(l=g[0],g.splice(0,1));var n=new Zd(g[0]),q=Ye(n),r=$d(n,/[ \\t]+--\\x3e[ \\t]+/g),v=Ye(n);if(null==q||!r||null==v)throw new t(2,2,2001);if(g=vb(q+h,v+h,g.slice(1).join(\"\\n\").trim())){$d(n,/[ \\t]+/gm);for(h=ae(n);h;)Ze(g,h),$d(n,/[ \\t]+/gm),h=ae(n);null!=l&&(g.id=l);l=g}else l=null}l&&f.push(l)}return f};\nfunction Ze(a,b){var c;if(c=/^align:(start|middle|center|end|left|right)$/.exec(b))a.align=c[1],\"center\"==c[1]&&\"center\"!=a.align&&(a.position=\"auto\",a.align=\"middle\");else if(c=/^vertical:(lr|rl)$/.exec(b))a.vertical=c[1];else if(c=/^size:(\\d{1,2}|100)%$/.exec(b))a.size=Number(c[1]);else if(c=/^position:(\\d{1,2}|100)%(?:,(line-left|line-right|center|start|end))?$/.exec(b))a.position=Number(c[1]),c[2]&&(a.positionAlign=c[2]);else if(c=/^line:(\\d{1,2}|100)%(?:,(start|end|center))?$/.exec(b))a.snapToLines=\n!1,a.line=Number(c[1]),c[2]&&(a.lineAlign=c[2]);else if(c=/^line:(-?\\d+)(?:,(start|end|center))?$/.exec(b))a.snapToLines=!0,a.line=Number(c[1]),c[2]&&(a.lineAlign=c[2])}function Ye(a){a=$d(a,/(?:(\\d{1,}):)?(\\d{2}):(\\d{2})\\.(\\d{3})/g);if(!a)return null;var b=Number(a[2]),c=Number(a[3]);return 59<b||59<c?null:Number(a[4])/1E3+c+60*b+3600*(Number(a[1])||0)}tb(\"text/vtt\",Xe);tb('text/vtt; codecs=\"vtt\"',Xe);function $e(){this.a=null}$e.prototype.parseInit=function(a){var b=!1;(new Q).C(\"moov\",R).C(\"trak\",R).C(\"mdia\",R).ca(\"mdhd\",function(a){0==a.version?(a.s.I(4),a.s.I(4),this.a=a.s.D(),a.s.I(4)):(a.s.I(8),a.s.I(8),this.a=a.s.D(),a.s.I(8));a.s.I(4)}.bind(this)).C(\"minf\",R).C(\"stbl\",R).ca(\"stsd\",$c).C(\"wvtt\",function(){b=!0}).parse(a);if(!this.a)throw new t(2,2,2008);if(!b)throw new t(2,2,2008);};\n$e.prototype.parseMedia=function(a,b){var c=0,d=[],e=[],f=[],g=!1,h=!1,l=!1;(new Q).C(\"moof\",R).C(\"traf\",R).ca(\"tfdt\",function(a){g=!0;c=a.version?a.s.Pa():a.s.D()}).ca(\"trun\",function(a){h=!0;var b=a.version,c=a.Lc;a=a.s;var e=a.D();c&1&&a.I(4);c&4&&a.I(4);for(var f=[],g=0;g<e;g++){var l={duration:null,Lb:null};c&256&&(l.duration=a.D());c&512&&a.I(4);c&1024&&a.I(4);c&2048&&(l.Lb=b?a.lc():a.D());f.push(l)}d=f}).C(\"vtte\",function(){e.push(null)}).C(\"vttc\",ad(function(a){e.push(a.buffer)})).C(\"mdat\",\nfunction(a){l=!0;R(a)}).parse(a);if(!l&&!g&&!h)throw new t(2,2,2008);for(var n=c,q=0;q<d.length;q++){var r=d[q],v=e[q];if(r.duration){var u=r.Lb?c+r.Lb:n,n=u+r.duration;v&&f.push(af(v,b.periodStart+u/this.a,b.periodStart+n/this.a))}}return f};function af(a,b,c){var d,e,f;(new Q).C(\"payl\",ad(function(a){d=F(a)})).C(\"iden\",ad(function(a){e=F(a)})).C(\"sttg\",ad(function(a){f=F(a)})).parse(a);return d?bf(d,e,f,b,c):null}\nfunction bf(a,b,c,d,e){(a=vb(d,e,a))&&b&&(a.id=b);if(a&&c)for(b=new Zd(c),c=ae(b);c;)Ze(a,c),$d(b,/[ \\t]+/gm),c=ae(b);return a}tb('application/mp4; codecs=\"wvtt\"',$e);function cf(a,b,c,d,e,f){this.a=a;this.c=b;this.l=c;this.A=d;this.J=e;this.G=f;this.b=new D;this.h=!1;this.g=1;this.j=this.f=null;this.B=a.readyState;this.i=!1;this.P=this.v=-1;this.o=!1;0<a.readyState?this.dc():Ka(this.b,a,\"loadedmetadata\",this.dc.bind(this));b=this.fc.bind(this);E(this.b,a,\"ratechange\",this.pd.bind(this));E(this.b,a,\"waiting\",b);this.j=setInterval(b,250)}k=cf.prototype;\nk.m=function(){var a=this.b.m();this.b=null;null!=this.f&&(window.clearInterval(this.f),this.f=null);null!=this.j&&(window.clearInterval(this.j),this.j=null);this.G=this.J=this.l=this.c=this.a=null;return a};function df(a,b){0<a.a.readyState?a.a.currentTime=ef(a,b):a.A=b}function ff(a){return 0<a.a.readyState?ef(a,a.a.currentTime):gf(a)}function gf(a){if(a.A)return ef(a,a.A);a=a.c.presentationTimeline;return Infinity>a.Y()?a.ma():a.bb()}k.pb=function(){return this.g};\nfunction hf(a,b){null!=a.f&&(window.clearInterval(a.f),a.f=null);a.g=b;a.a.playbackRate=a.h||0>b?0:b;!a.h&&0>b&&(a.f=window.setInterval(function(){this.a.currentTime+=b/4}.bind(a),250))}k.yb=function(){this.o=!0;this.fc()};k.pd=function(){this.a.playbackRate!=(this.h||0>this.g?0:this.g)&&hf(this,this.a.playbackRate)};\nk.dc=function(){var a=gf(this);.001>Math.abs(this.a.currentTime-a)?(E(this.b,this.a,\"seeking\",this.gc.bind(this)),E(this.b,this.a,\"playing\",this.ec.bind(this))):(Ka(this.b,this.a,\"seeking\",this.rd.bind(this)),this.a.currentTime=a)};k.rd=function(){E(this.b,this.a,\"seeking\",this.gc.bind(this));E(this.b,this.a,\"playing\",this.ec.bind(this))};\nk.fc=function(){if(this.a.readyState){this.a.readyState!=this.B&&(this.i=!1,this.B=this.a.readyState);var a=this.l.smallGapLimit,b=this.a.currentTime,c=this.a.buffered;a:{if(c&&c.length&&!(1==c.length&&1E-6>c.end(0)-c.start(0))){var d=.1;/(Edge|Trident)\\//.test(navigator.userAgent)&&(d=.5);for(var e=0;e<c.length;e++)if(c.start(e)>b&&(!e||c.end(e-1)-b<=d)){d=e;break a}}d=null}if(null==d){if(3>this.a.readyState&&0<this.a.playbackRate)if(this.P!=b)this.P=b,this.v=Date.now();else if(this.v<Date.now()-\n1E3)for(this.v=Date.now()+5E3,d=0;d<c.length;d++)if(b>=c.start(d)&&b<c.end(d)-.5){this.a.currentTime=this.a.currentTime;break}}else if(d||this.o)if(e=c.start(d),!(e>=this.c.presentationTimeline.bb())){var f=e-b,a=f<=a,g=!1;a||this.i||(this.i=!0,f=new H(\"largegap\",{currentTime:b,gapSize:f}),f.cancelable=!0,this.G(f),this.l.jumpLargeGaps&&!f.defaultPrevented&&(g=!0));if(a||g)d&&c.end(d-1),jf(this,b,e)}}};\nk.gc=function(){this.o=!1;var a=this.a.currentTime,b=kf(this,a);.001<Math.abs(b-a)?jf(this,a,b):(this.i=!1,this.J())};k.ec=function(){var a=this.a.currentTime,b=kf(this,a);.001<Math.abs(b-a)&&jf(this,a,b)};function kf(a,b){var c=zb.bind(null,a.a.buffered),d=1*Math.max(a.c.minBufferTime||0,a.l.rebufferingGoal),e=a.c.presentationTimeline,f=e.ua(),g=e.Da(d),h=e.Da(5),d=e.Da(d+5);return b>f?f:b<e.Da(0)?c(h)?h:d:b>=g||c(b)?b:d}\nfunction jf(a,b,c){a.a.currentTime=c;var d=0,e=function(){!this.a||10<=d++||this.a.currentTime!=b||(this.a.currentTime=c,setTimeout(e,100))}.bind(a);setTimeout(e,100)}function ef(a,b){var c=a.c.presentationTimeline.ma();if(b<c)return c;c=a.c.presentationTimeline.ua();return b>c?c:b};function lf(a,b,c,d,e,f){this.a=a;this.g=b;this.A=c;this.l=d;this.h=e;this.B=f;this.c=[];this.j=new D;this.b=!1;this.i=-1;this.f=null;mf(this)}lf.prototype.m=function(){var a=this.j?this.j.m():Promise.resolve();this.j=null;nf(this);this.B=this.h=this.l=this.A=this.g=this.a=null;this.c=[];return a};\nlf.prototype.v=function(a){if(!this.c.some(function(b){return b.info.schemeIdUri==a.schemeIdUri&&b.info.startTime==a.startTime&&b.info.endTime==a.endTime})){var b={info:a,status:1};this.c.push(b);var c=new H(\"timelineregionadded\",{detail:of(a)});this.h(c);this.o(!0,b)}};function of(a){var b=Da(a);b.eventElement=a.eventElement;return b}\nlf.prototype.o=function(a,b){var c=b.info.startTime>this.a.currentTime?1:b.info.endTime<this.a.currentTime?3:2,d=2==b.status,e=2==c;if(c!=b.status){if(!a||d||e)d||this.h(new H(\"timelineregionenter\",{detail:of(b.info)})),e||this.h(new H(\"timelineregionexit\",{detail:of(b.info)}));b.status=c}};function mf(a){nf(a);a.f=window.setTimeout(a.G.bind(a),250)}function nf(a){a.f&&(window.clearTimeout(a.f),a.f=null)}\nlf.prototype.G=function(){this.f=null;mf(this);var a=fc(this.g,this.a.currentTime);a!=this.i&&(-1!=this.i&&this.B(),this.i=a);var a=Ab(this.a.buffered,this.a.currentTime),b=yb(this.a.buffered)>=this.g.presentationTimeline.ua()-.1||this.a.ended;if(this.b){var c=1*Math.max(this.g.minBufferTime||0,this.A.rebufferingGoal);(b||a>=c)&&0!=this.b&&(this.b=!1,this.l(!1))}else!b&&.5>a&&1!=this.b&&(this.b=!0,this.l(!0));this.c.forEach(this.o.bind(this,!1))};function pf(a,b){this.a=b;this.b=a;this.h=null;this.i=1;this.o=Promise.resolve();this.g=[];this.j={};this.c={};this.f=this.l=this.v=!1}k=pf.prototype;k.m=function(){for(var a in this.c)qf(this.c[a]);this.h=this.c=this.j=this.g=this.o=this.b=this.a=null;this.f=!0;return Promise.resolve()};k.configure=function(a){this.h=a};k.init=function(){var a=this.a.$b(this.b.periods[fc(this.b,ff(this.a.Oa))]);return La(a)?Promise.reject(new t(2,5,5005)):rf(this,a).then(function(){this.a&&this.a.gd&&this.a.gd()}.bind(this))};\nfunction V(a){return a.b.periods[fc(a.b,ff(a.a.Oa))]}function sf(a){return Na(a.c,function(a){return a.na||a.stream})}function tf(a,b){var c={};c.text=b;return rf(a,c)}function uf(a,b){var c=a.c.video;if(c){var d=c.stream;if(d)if(b){var e=d.trickModeVideo;if(e){var f=c.na;f||(vf(a,\"video\",e,!1),c.na=d)}}else if(f=c.na)c.na=null,vf(a,\"video\",f,!0)}}\nfunction vf(a,b,c,d){var e=a.c[b];!e&&\"text\"==b&&a.h.ignoreTextStreamFailures?tf(a,c):e&&(e.na&&(c.trickModeVideo?(e.na=c,c=c.trickModeVideo):e.na=null),\"text\"==b&&Db(a.a.K,Wb(c.mimeType,c.codecs)),(b=a.g[gc(a.b,c)])&&b.Ka&&(b=a.j[c.id])&&b.Ka&&e.stream!=c&&(e.stream=c,e.cb=!0,d&&(e.sa?e.kb=!0:e.wa?(e.ra=!0,e.kb=!0):(qf(e),wf(a,e,!0)))))}\nfunction xf(a){var b=ff(a.a.Oa);if(!Object.keys(a.c).every(function(a){var c=this.a.K;\"text\"==a?(a=c.a,a=b>=a.b&&b<a.a):(a=Fb(c,a),a=zb(a,b));return a}.bind(a)))for(var c in a.c){var d=a.c[c];d.sa||d.ra||(d.wa?d.ra=!0:null==Eb(a.a.K,c)?null==d.qa&&yf(a,d,0):(qf(d),wf(a,d,!1)))}}\nfunction rf(a,b,c){var d=fc(a.b,ff(a.a.Oa)),e=Na(b,function(a){return Wb(a.mimeType,a.codecs)});a.a.K.init(e);zf(a);e=Ma(b);return Af(a,e).then(function(){if(!this.f)for(var a in b){var e=b[a];this.c[a]||(this.c[a]={stream:e,type:a,Ea:null,ea:null,na:null,cb:!0,Ma:d,endOfStream:!1,wa:!1,qa:null,ra:!1,kb:!1,sa:!1,Eb:!1,rb:!1,pc:c||0},yf(this,this.c[a],0))}}.bind(a))}\nfunction Bf(a,b){var c=a.g[b];if(c)return c.L;c={L:new A,Ka:!1};a.g[b]=c;var d=a.b.periods[b].variants.map(function(a){var b=[];a.audio&&b.push(a.audio);a.video&&b.push(a.video);a.video&&a.video.trickModeVideo&&b.push(a.video.trickModeVideo);return b}).reduce(x,[]).filter(Aa);d.push.apply(d,a.b.periods[b].textStreams);a.o=a.o.then(function(){if(!this.f)return Af(this,d)}.bind(a)).then(function(){this.f||(this.g[b].L.resolve(),this.g[b].Ka=!0)}.bind(a))[\"catch\"](function(a){this.f||(this.g[b].L.reject(),\ndelete this.g[b],this.a.onError(a))}.bind(a));return c.L}\nfunction Af(a,b){b.map(function(a){return a.id}).filter(Aa);for(var c=[],d=0;d<b.length;++d){var e=b[d];var f=a.j[e.id];f?c.push(f.L):(a.j[e.id]={L:new A,Ka:!1},c.push(e.createSegmentIndex()))}return Promise.all(c).then(function(){if(!this.f)for(var a=0;a<b.length;++a){var c=this.j[b[a].id];c.Ka||(c.L.resolve(),c.Ka=!0)}}.bind(a))[\"catch\"](function(a){if(!this.f)return this.j[e.id].L.reject(),delete this.j[e.id],Promise.reject(a)}.bind(a))}\nfunction zf(a){var b=a.b.presentationTimeline.Y();Infinity>b?a.a.K.pa(b):a.a.K.pa(Math.pow(2,32))}k.ie=function(a){if(!this.f&&!a.wa&&null!=a.qa&&!a.sa)if(a.qa=null,a.ra)wf(this,a,a.kb);else{try{var b=Cf(this,a);null!=b&&(yf(this,a,b),a.rb=!1)}catch(c){this.a.onError(c);return}b=Ma(this.c);Df(this,a);b.every(function(a){return a.endOfStream})&&this.a.K.endOfStream().then(function(){this.b.presentationTimeline.pa(this.a.K.Y())}.bind(this))}};\nfunction Cf(a,b){var c=ff(a.a.Oa),d=b.Ea&&b.ea?a.b.periods[gc(a.b,b.Ea)].startTime+b.ea.endTime:Math.max(c,b.pc);b.pc=0;var e=gc(a.b,b.stream),f=fc(a.b,d);var g=a.a.K;var h=b.type;\"text\"==h?(g=g.a,g=null==g.a||g.a<c?0:g.a-Math.max(c,g.b)):(g=Fb(g,h),g=Ab(g,c));h=Math.max(a.i*Math.max(a.b.minBufferTime||0,a.h.rebufferingGoal),a.i*a.h.bufferingGoal);if(d>=a.b.presentationTimeline.Y())return b.endOfStream=!0,null;b.endOfStream=!1;b.Ma=f;if(f!=e)return null;if(g>=h)return.5;d=a.a.K;f=b.type;d=\"text\"==\nf?d.a.a:yb(Fb(d,f));b.ea&&b.stream==b.Ea?(f=b.ea.position+1,d=Ef(a,b,e,f)):(f=b.ea?b.stream.findSegmentPosition(Math.max(0,a.b.periods[gc(a.b,b.Ea)].startTime+b.ea.endTime-a.b.periods[e].startTime)):b.stream.findSegmentPosition(Math.max(0,(d||c)-a.b.periods[e].startTime)),null==f?d=null:(g=null,null==d&&(g=Ef(a,b,e,Math.max(0,f-1))),d=g||Ef(a,b,e,f)));if(!d)return 1;Ff(a,b,c,e,d);return null}\nfunction Ef(a,b,c,d){c=a.b.periods[c];b=b.stream.getSegmentReference(d);if(!b)return null;a=a.b.presentationTimeline;d=a.ua();return c.startTime+b.endTime<a.ma()||c.startTime+b.startTime>d?null:b}\nfunction Ff(a,b,c,d,e){var f=a.b.periods[d],g=b.stream,h=a.b.periods[d+1],l=null,l=h?h.startTime:a.b.presentationTimeline.Y();d=Gf(a,b,d,l);b.wa=!0;b.cb=!1;h=Hf(a,e);Promise.all([d,h]).then(function(a){if(!this.f&&!this.l)return If(this,b,c,f,g,e,a[1])}.bind(a)).then(function(){this.f||this.l||(b.wa=!1,b.Eb=!1,b.ra||this.a.yb(),yf(this,b,0),Jf(this,g))}.bind(a))[\"catch\"](function(a){this.f||this.l||(b.wa=!1,1001==a.code||1002==a.code||1003==a.code?\"text\"==b.type&&this.h.ignoreTextStreamFailures&&\n1001==a.code?delete this.c.text:(a.severity=1,this.a.onError(a),yf(this,b,4)):3017==a.code?Kf(this,b,a):\"text\"==b.type&&this.h.ignoreTextStreamFailures?delete this.c.text:(b.rb=!0,a.severity=2,this.a.onError(a)))}.bind(a))}function Kf(a,b,c){if(!Ma(a.c).some(function(a){return a!=b&&a.Eb})){var d=Math.round(100*a.i);if(20<d)a.i-=.2;else if(4<d)a.i-=.04;else{b.rb=!0;a.l=!0;a.a.onError(c);return}b.Eb=!0}yf(a,b,4)}\nfunction Gf(a,b,c,d){if(!b.cb)return Promise.resolve();c=Kb(a.a.K,b.type,a.b.periods[c].startTime-b.stream.presentationTimeOffset,d);if(!b.stream.initSegmentReference)return c;a=Hf(a,b.stream.initSegmentReference).then(function(a){if(!this.f)return Gb(this.a.K,b.type,a,null,null)}.bind(a))[\"catch\"](function(a){b.cb=!0;return Promise.reject(a)});return Promise.all([c,a])}\nfunction If(a,b,c,d,e,f,g){e.containsEmsgBoxes&&(new Q).ca(\"emsg\",a.Cd.bind(a,d,f)).parse(g);return Lf(a,b,c).then(function(){if(!this.f)return Gb(this.a.K,b.type,g,f.startTime+d.startTime,f.endTime+d.startTime)}.bind(a)).then(function(){if(!this.f)return b.Ea=e,b.ea=f,Promise.resolve()}.bind(a))}\nk.Cd=function(a,b,c){var d=c.s.Bb(),e=c.s.Bb(),f=c.s.D(),g=c.s.D(),h=c.s.D(),l=c.s.D();c=c.s.Ja(c.s.H.byteLength-c.s.u);a=a.startTime+b.startTime+g/f;if(\"urn:mpeg:dash:event:2012\"==d)this.a.hd();else this.a.onEvent(new H(\"emsg\",{detail:{startTime:a,endTime:a+h/f,schemeIdUri:d,value:e,timescale:f,presentationTimeDelta:g,eventDuration:h,id:l,messageData:c}}))};\nfunction Lf(a,b,c){var d=Eb(a.a.K,b.type);if(null==d)return Promise.resolve();c=c-d-a.h.bufferBehind;return 0>=c?Promise.resolve():a.a.K.remove(b.type,d,d+c).then(function(){}.bind(a))}function Jf(a,b){if(!a.v&&(a.v=Ma(a.c).every(function(a){return\"text\"==a.type?!0:!a.ra&&!a.sa&&a.ea}),a.v)){var c=gc(a.b,b);a.g[c]||Bf(a,c).then(function(){this.a.Zb()}.bind(a))[\"catch\"](y);for(c=0;c<a.b.periods.length;++c)Bf(a,c)[\"catch\"](y);a.a.ud&&a.a.ud()}}\nfunction Df(a,b){if(b.Ma!=gc(a.b,b.stream)){var c=b.Ma,d=Ma(a.c);d.every(function(a){return a.Ma==c})&&d.every(Mf)&&Bf(a,c).then(function(){if(!this.f&&d.every(function(a){var b=gc(this.b,a.stream);return Mf(a)&&a.Ma==c&&b!=c}.bind(this))){var a=this.b.periods[c],b=this.a.$b(a),g;for(g in this.c)if(!b[g]&&\"text\"!=g){this.a.onError(new t(2,5,5005));return}for(g in b)if(!this.c[g])if(\"text\"==g)rf(this,{text:b.text},a.startTime),delete b[g];else{this.a.onError(new t(2,5,5005));return}for(g in this.c)(a=\nb[g])?(vf(this,g,a,!1),yf(this,this.c[g],0)):delete this.c[g];this.a.Zb()}}.bind(a))[\"catch\"](y)}}function Mf(a){return!a.wa&&null==a.qa&&!a.ra&&!a.sa}function Hf(a,b){var c=C(b.a(),a.h.retryParameters);if(b.X||null!=b.M){var d=\"bytes=\"+b.X+\"-\";null!=b.M&&(d+=b.M);c.headers.Range=d}return a.a.bd.request(1,c).then(function(a){return a.data})}\nfunction wf(a,b,c){b.ra=!1;b.kb=!1;b.sa=!0;Jb(a.a.K,b.type).then(function(){if(!this.f&&c){var a=this.a.K,e=b.type;return\"text\"==e?Promise.resolve():Ib(a,e,a.Mc.bind(a,e))}}.bind(a)).then(function(){this.f||(b.Ea=null,b.ea=null,b.sa=!1,b.endOfStream=!1,yf(this,b,0))}.bind(a))}function yf(a,b,c){b.qa=window.setTimeout(a.ie.bind(a,b),1E3*c)}function qf(a){null!=a.qa&&(window.clearTimeout(a.qa),a.qa=null)};function Nf(a,b){return new Promise(function(c,d){var e=new XMLHttpRequest;e.open(b.method,a,!0);e.responseType=\"arraybuffer\";e.timeout=b.retryParameters.timeout;e.withCredentials=b.allowCrossSiteCredentials;e.onload=function(b){b=b.target;var e=b.getAllResponseHeaders().split(\"\\r\\n\").reduce(function(a,b){var c=b.split(\": \");a[c[0].toLowerCase()]=c.slice(1).join(\": \");return a},{});if(200<=b.status&&299>=b.status&&202!=b.status)b.responseURL&&(a=b.responseURL),c({uri:a,data:b.response,headers:e,fromCache:!!e[\"x-shaka-from-cache\"]});\nelse{var f=null;try{f=Ra(b.response)}catch(n){}d(new t(401==b.status||403==b.status?2:1,1,1001,a,b.status,f,e))}};e.onerror=function(){d(new t(1,1,1002,a))};e.ontimeout=function(){d(new t(1,1,1003,a))};for(var f in b.headers)e.setRequestHeader(f,b.headers[f]);e.send(b.body)})}m(\"shaka.net.HttpPlugin\",Nf);Ea.http=Nf;Ea.https=Nf;function Of(){this.a=null;this.b=[];this.c={}}k=Of.prototype;k.init=function(a,b){return Pf(this,a,b).then(function(){var b=Object.keys(a);return Promise.all(b.map(function(a){return Qf(this,a).then(function(b){this.c[a]=b}.bind(this))}.bind(this)))}.bind(this))};k.m=function(){return Promise.all(this.b.map(function(a){try{a.transaction.abort()}catch(b){}return a.L[\"catch\"](y)})).then(function(){this.a&&(this.a.close(),this.a=null)}.bind(this))};\nk.get=function(a,b){var c;return Rf(this,a,\"readonly\",function(a){c=a.get(b)}).then(function(){return c.result})};k.forEach=function(a,b){return Rf(this,a,\"readonly\",function(a){a.openCursor().onsuccess=function(a){if(a=a.target.result)b(a.value),a[\"continue\"]()}})};function Sf(a,b,c){return Rf(a,b,\"readwrite\",function(a){a.put(c)})}k.remove=function(a,b){return Rf(this,a,\"readwrite\",function(a){a[\"delete\"](b)})};\nfunction Tf(a,b,c){return Rf(a,\"segment\",\"readwrite\",function(a){for(var d=0;d<b.length;d++)a[\"delete\"](b[d]).onsuccess=c||function(){}})}function Qf(a,b){var c=0;return Rf(a,b,\"readonly\",function(a){a.openCursor(null,\"prev\").onsuccess=function(a){(a=a.target.result)&&(c=a.key+1)}}).then(function(){return c})}\nfunction Rf(a,b,c,d){var e={transaction:a.a.transaction([b],c),L:new A};e.transaction.oncomplete=function(){this.b.splice(this.b.indexOf(e),1);e.L.resolve()}.bind(a);e.transaction.onabort=function(a){this.b.splice(this.b.indexOf(e),1);Uf(e.transaction,e.L,a)}.bind(a);e.transaction.onerror=function(a){a.preventDefault()}.bind(a);b=e.transaction.objectStore(b);d(b);a.b.push(e);return e.L}\nfunction Pf(a,b,c){var d=window.indexedDB.open(\"shaka_offline_db\",1),e=!1,f=new A;d.onupgradeneeded=function(a){e=!0;a=a.target.result;for(var c in b)a.createObjectStore(c,{keyPath:b[c]})};d.onsuccess=function(a){c&&!e?(a.target.result.close(),setTimeout(function(){Pf(this,b,c-1).then(f.resolve,f.reject)}.bind(this),1E3)):(this.a=a.target.result,f.resolve())}.bind(a);d.onerror=Uf.bind(null,d,f);return f}\nfunction Uf(a,b,c){a.error?b.reject(new t(2,9,9001,a.error)):b.reject(new t(2,9,9002));c.preventDefault()};var Vf={manifest:\"key\",segment:\"key\"};function Wf(a){var b=Xf(a.periods[0],[],new T(null,0)),c=Xb(b,null,null),b=Zb(b,null);c.push.apply(c,b);return{offlineUri:\"offline:\"+a.key,originalManifestUri:a.originalManifestUri,duration:a.duration,size:a.size,expiration:void 0==a.expiration?Infinity:a.expiration,tracks:c,appMetadata:a.appMetadata}}\nfunction Xf(a,b,c){var d=a.streams.filter(function(a){return\"text\"==a.contentType}),e=a.streams.filter(function(a){return\"audio\"==a.contentType}),f=a.streams.filter(function(a){return\"video\"==a.contentType});b=Yf(e,f,b);d=d.map(Zf);a.streams.forEach(function(a){a=$f(a);c.Ga(0,a)});return{startTime:a.startTime,variants:b,textStreams:d}}function $f(a){return a.segments.map(function(a,c){return new O(c,a.startTime,a.endTime,function(){return[a.uri]},0,null)})}\nfunction Yf(a,b,c){var d=[];if(!a.length&&!b.length)return d;a.length?b.length||(b=[null]):a=[null];for(var e=0,f=0;f<a.length;f++)for(var g=0;g<b.length;g++)if(ag(a[f],b[g])){var h=a[f];var l=b[g],n=c;h={id:e++,language:h?h.language:\"\",primary:!!h&&h.primary||!!l&&l.primary,audio:Zf(h),video:Zf(l),bandwidth:0,drmInfos:n,allowedByApplication:!0,allowedByKeySystem:!0};d.push(h)}return d}\nfunction ag(a,b){if(!(a&&b&&a.variantIds&&b.variantIds))return!0;for(var c=0;c<a.variantIds.length;c++)if(b.variantIds.some(function(b){return b==a.variantIds[c]}))return!0;return!1}\nfunction Zf(a){if(!a)return null;var b=$f(a),b=new S(b);return{id:a.id,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:b.find.bind(b),getSegmentReference:b.get.bind(b),initSegmentReference:a.initSegmentUri?new Wc(function(){return[a.initSegmentUri]},0,null):null,presentationTimeOffset:a.presentationTimeOffset,mimeType:a.mimeType,codecs:a.codecs,width:a.width||void 0,height:a.height||void 0,frameRate:a.frameRate||void 0,kind:a.kind,encrypted:a.encrypted,keyId:a.keyId,language:a.language,\ntype:a.contentType,primary:a.primary,trickModeVideo:null,containsEmsgBoxes:!1}}function bg(){return window.indexedDB?new Of:null};function cg(a,b,c,d){this.b={};this.l=[];this.o=d;this.j=a;this.v=b;this.A=c;this.i=this.a=null;this.f=this.g=this.h=this.c=0}cg.prototype.m=function(){var a=this.j,b=this.l,c=this.i||Promise.resolve(),c=c.then(function(){return Tf(a,b)});this.b={};this.l=[];this.i=this.a=this.A=this.v=this.j=this.o=null;return c};function dg(a,b,c,d,e){a.b[b]=a.b[b]||[];a.b[b].push({uris:c.a(),X:c.X,M:c.M,Pb:d,Fb:e})}\nfunction eg(a,b){a.c=0;a.h=0;a.g=0;a.f=0;Ma(a.b).forEach(function(a){a.forEach(function(a){null!=a.M?this.c+=a.M-a.X+1:this.g+=a.Pb}.bind(this))}.bind(a));a.a=b;a.a.size=a.c;var c=Ma(a.b).map(function(a){var b=0,c=function(){if(!this.o)return Promise.reject(new t(2,9,9002));if(b>=a.length)return Promise.resolve();var d=a[b++];return fg(this,d).then(c)}.bind(this);return c()}.bind(a));a.b={};a.i=Promise.all(c).then(function(){return Sf(this.j,\"manifest\",b)}.bind(a)).then(function(){this.l=[]}.bind(a));\nreturn a.i}\nfunction fg(a,b){var c=C(b.uris,a.A);if(b.X||null!=b.M)c.headers.Range=\"bytes=\"+b.X+\"-\"+(null==b.M?\"\":b.M);var d;return a.v.request(1,c).then(function(a){if(!this.a)return Promise.reject(new t(2,9,9002));d=a.data.byteLength;this.l.push(b.Fb.key);b.Fb.data=a.data;return Sf(this.j,\"segment\",b.Fb)}.bind(a)).then(function(){if(!this.a)return Promise.reject(new t(2,9,9002));null==b.M?(this.a.size+=d,this.f+=b.Pb):this.h+=d;var a=(this.h+this.f)/(this.c+this.g),c=Wf(this.a);this.o.progressCallback(c,a)}.bind(a))}\n;function gg(){this.a=-1}k=gg.prototype;k.configure=function(){};k.start=function(a){var b=/^offline:([0-9]+)$/.exec(a);if(!b)return Promise.reject(new t(2,1,9004,a));var c=Number(b[1]),d=bg();this.a=c;return d?d.init(Vf).then(function(){return d.get(\"manifest\",c)}).then(function(a){if(!a)throw new t(2,9,9003,c);return hg(a)}).then(function(a){return d.m().then(function(){return a})},function(a){return d.m().then(function(){throw a;})}):Promise.reject(new t(2,9,9E3))};k.stop=function(){return Promise.resolve()};\nk.update=function(){};k.onExpirationUpdated=function(a,b){var c=bg();c.init(Vf).then(function(){return c.get(\"manifest\",this.a)}.bind(this)).then(function(d){if(d&&!(0>d.sessionIds.indexOf(a))&&(void 0==d.expiration||d.expiration>b))return d.expiration=b,Sf(c,\"manifest\",d)})[\"catch\"](function(){}).then(function(){return c.m()})};\nfunction hg(a){var b=new T(null,0);b.pa(a.duration);var c=a.drmInfo?[a.drmInfo]:[];return{presentationTimeline:b,minBufferTime:10,offlineSessionIds:a.sessionIds,periods:a.periods.map(function(a){return Xf(a,c,b)})}}Ad[\"application/x-offline-manifest\"]=gg;function ig(a){if(/^offline:([0-9]+)$/.exec(a)){var b={uri:a,data:new ArrayBuffer(0),headers:{\"content-type\":\"application/x-offline-manifest\"}};return Promise.resolve(b)}if(b=/^offline:[0-9]+\\/[0-9]+\\/([0-9]+)$/.exec(a)){var c=Number(b[1]),d=bg();return d?d.init(Vf).then(function(){return d.get(\"segment\",c)}).then(function(b){return d.m().then(function(){if(!b)throw new t(2,9,9003,c);return{uri:a,data:b.data,headers:{}}})}):Promise.reject(new t(2,9,9E3))}return Promise.reject(new t(2,1,9004,a))}\nm(\"shaka.offline.OfflineScheme\",ig);Ea.offline=ig;function jg(){this.a=Promise.resolve();this.c=this.b=this.f=!1;this.g=new Promise(function(a){this.h=a}.bind(this))}jg.prototype.then=function(a){this.a=this.a.then(a).then(function(a){return this.c?(this.h(),Promise.reject(this.i)):Promise.resolve(a)}.bind(this));return this};function kg(a){a.f||(a.a=a.a.then(function(a){this.b=!0;return Promise.resolve(a)}.bind(a),function(a){this.b=!0;return Promise.reject(a)}.bind(a)));a.f=!0;return a.a}\njg.prototype.cancel=function(a){if(this.b)return Promise.resolve();this.c=!0;this.i=a;return this.g};function W(a,b){p.call(this);this.J=!1;this.f=a;this.A=null;this.l=new D;this.Ob=new G;this.Ya=this.c=this.h=this.a=this.v=this.g=this.Wa=this.ja=this.N=this.j=this.o=null;this.Bc=1E9;this.Va=[];this.ka=!1;this.Za=!0;this.la=this.G=null;this.B={};this.Xa=[];this.P={};this.b=lg(this);this.mb={width:Infinity,height:Infinity};this.i=mg();this.Ua=0;this.ia=this.b.preferredAudioLanguage;this.Ba=this.b.preferredTextLanguage;b&&b(this);this.o=new B(this.be.bind(this));this.Wa=ng(this);for(var c=0;c<this.f.textTracks.length;++c){var d=\nthis.f.textTracks[c];d.mode=\"disabled\";\"Shaka Player TextTrack\"==d.label&&(this.A=d)}this.A||(this.A=this.f.addTextTrack(\"subtitles\",\"Shaka Player TextTrack\"));this.A.mode=\"hidden\";E(this.l,this.f,\"error\",this.wd.bind(this))}ba(W);m(\"shaka.Player\",W);\nW.prototype.m=function(){this.J=!0;var a=Promise.resolve();this.G&&(a=this.G.cancel(new t(2,7,7E3)));return a.then(function(){var a=Promise.all([this.la,og(this),this.l?this.l.m():null,this.o?this.o.m():null]);this.b=this.o=this.Ob=this.l=this.A=this.f=null;return a}.bind(this))};W.prototype.destroy=W.prototype.m;W.version=\"v2.1.2\";var pg={};W.registerSupportPlugin=function(a,b){pg[a]=b};\nW.isBrowserSupported=function(){return!!window.Promise&&!!window.Uint8Array&&!!Array.prototype.forEach&&!!window.MediaSource&&!!window.MediaSource.isTypeSupported&&!!window.MediaKeys&&!!window.navigator&&!!window.navigator.requestMediaKeySystemAccess&&!!window.MediaKeySystemAccess&&!!window.MediaKeySystemAccess.prototype.getConfiguration};W.probeSupport=function(){return ob().then(function(a){var b=Cd(),c=Cb();a={manifest:b,media:c,drm:a};for(var d in pg)a[d]=pg[d]();return a})};\nW.prototype.load=function(a,b,c){var d=this.hb(),e=new jg;this.G=e;this.dispatchEvent(new H(\"loading\"));var f=Date.now();return kg(e.then(function(){return d}).then(function(){this.i=mg();E(this.l,this.f,\"playing\",this.Sa.bind(this));E(this.l,this.f,\"pause\",this.Sa.bind(this));E(this.l,this.f,\"ended\",this.Sa.bind(this));return Dd(a,this.o,this.b.manifest.retryParameters,c)}.bind(this)).then(function(b){this.h=new b;this.h.configure(this.b.manifest);b={networkingEngine:this.o,filterPeriod:this.fb.bind(this),\nonTimelineRegionAdded:this.vd.bind(this),onEvent:this.gb.bind(this),onError:this.xa.bind(this)};return 2<this.h.start.length?this.h.start(a,this.o,b.filterPeriod,b.onError,b.onEvent):this.h.start(a,b)}.bind(this)).then(function(b){if(0==b.periods.length)throw new t(2,4,4014);this.c=b;this.Ya=a;this.j=new $a(this.o,this.xa.bind(this),this.$d.bind(this),this.Zd.bind(this));this.j.configure(this.b.drm);return this.j.init(b,!1)}.bind(this)).then(function(){this.c.periods.forEach(this.fb.bind(this));this.Ua=\nDate.now()/1E3;this.ia=this.b.preferredAudioLanguage;this.Ba=this.b.preferredTextLanguage;return Promise.all([cb(this.j,this.f),this.Wa])}.bind(this)).then(function(){this.b.abr.manager.init(this.Jb.bind(this));this.g=new cf(this.f,this.c,this.b.streaming,b||null,this.ae.bind(this),this.gb.bind(this));this.v=new lf(this.f,this.c,this.b.streaming,this.xc.bind(this),this.gb.bind(this),this.Yd.bind(this));this.ja=new Bb(this.f,this.N,this.A);this.a=new pf(this.c,{Oa:this.g,K:this.ja,bd:this.o,$b:this.cd.bind(this),\nZb:this.Ec.bind(this),onError:this.xa.bind(this),onEvent:this.gb.bind(this),hd:this.jd.bind(this),yb:this.sd.bind(this)});this.a.configure(this.b.streaming);return this.a.init()}.bind(this)).then(function(){if(this.b.streaming.startAtSegmentBoundary){var a=qg(this,ff(this.g));df(this.g,a)}this.c.periods.forEach(this.fb.bind(this));rg(this);sg(this);var a=V(this.a),b=bc(a,this.ia);this.b.abr.manager.setVariants(b);a.variants.some(function(a){return a.primary});this.Xa.forEach(this.v.v.bind(this.v));\nthis.Xa=[];Ka(this.l,this.f,\"loadeddata\",function(){this.i.loadLatency=(Date.now()-f)/1E3}.bind(this));this.G=null}.bind(this)))[\"catch\"](function(a){this.G==e&&(this.G=null,this.dispatchEvent(new H(\"unloading\")));return Promise.reject(a)}.bind(this))};W.prototype.load=W.prototype.load;function ng(a){a.N=new MediaSource;var b=new A;E(a.l,a.N,\"sourceopen\",b.resolve);a.f.src=window.URL.createObjectURL(a.N);return b}\nW.prototype.configure=function(a){a.abr&&a.abr.manager&&a.abr.manager!=this.b.abr.manager&&(this.b.abr.manager.stop(),a.abr.manager.init(this.Jb.bind(this)));Ca(this.b,a,lg(this),tg(),\"\");ug(this)};W.prototype.configure=W.prototype.configure;\nfunction ug(a){a.h&&a.h.configure(a.b.manifest);a.j&&a.j.configure(a.b.drm);if(a.a){a.a.configure(a.b.streaming);try{a.c.periods.forEach(a.fb.bind(a))}catch(b){a.xa(b)}vg(a,V(a.a))}a.b.abr.enabled&&!a.Za?a.b.abr.manager.enable():a.b.abr.manager.disable();a.b.abr.manager.setDefaultEstimate(a.b.abr.defaultBandwidthEstimate);a.b.abr.manager.setRestrictions(a.b.abr.restrictions)}W.prototype.getConfiguration=function(){var a=lg(this);Ca(a,this.b,lg(this),tg(),\"\");return a};\nW.prototype.getConfiguration=W.prototype.getConfiguration;W.prototype.Pd=function(){var a=lg(this);a.abr&&a.abr.manager&&a.abr.manager!=this.b.abr.manager&&(this.b.abr.manager.stop(),a.abr.manager.init(this.Jb.bind(this)));this.b=lg(this);ug(this)};W.prototype.resetConfiguration=W.prototype.Pd;W.prototype.Qc=function(){return this.f};W.prototype.getMediaElement=W.prototype.Qc;W.prototype.Ub=function(){return this.o};W.prototype.getNetworkingEngine=W.prototype.Ub;W.prototype.Pc=function(){return this.Ya};\nW.prototype.getManifestUri=W.prototype.Pc;W.prototype.da=function(){return this.c?this.c.presentationTimeline.da():!1};W.prototype.isLive=W.prototype.da;W.prototype.va=function(){return this.c?this.c.presentationTimeline.va():!1};W.prototype.isInProgress=W.prototype.va;W.prototype.Rd=function(){var a=0,b=0;this.c&&(b=this.c.presentationTimeline,a=b.ma(),b=b.bb());return{start:a,end:b}};W.prototype.seekRange=W.prototype.Rd;W.prototype.keySystem=function(){return this.j?this.j.keySystem():\"\"};\nW.prototype.keySystem=W.prototype.keySystem;W.prototype.drmInfo=function(){return this.j?this.j.b:null};W.prototype.drmInfo=W.prototype.drmInfo;W.prototype.ab=function(){return this.j?this.j.ab():Infinity};W.prototype.getExpiration=W.prototype.ab;W.prototype.Yc=function(){return this.ka};W.prototype.isBuffering=W.prototype.Yc;\nW.prototype.hb=function(){if(this.J)return Promise.resolve();this.dispatchEvent(new H(\"unloading\"));var a=Promise.resolve();this.G&&(a=this.G.cancel(new t(2,7,7E3)));return a.then(function(){this.la||(this.la=wg(this).then(function(){this.la=null}.bind(this)));return this.la}.bind(this))};W.prototype.unload=W.prototype.hb;W.prototype.pb=function(){return this.g?this.g.pb():0};W.prototype.getPlaybackRate=W.prototype.pb;W.prototype.le=function(a){this.g&&hf(this.g,a);this.a&&uf(this.a,1!=a)};\nW.prototype.trickPlay=W.prototype.le;W.prototype.Fc=function(){this.g&&hf(this.g,1);this.a&&uf(this.a,!1)};W.prototype.cancelTrickPlay=W.prototype.Fc;W.prototype.getTracks=function(){return this.Wb().concat(this.Vb())};W.prototype.getTracks=W.prototype.getTracks;W.prototype.Ud=function(a,b){\"text\"==a.type?this.rc(a):(this.configure({abr:{enabled:!1}}),this.sc(a,b))};W.prototype.selectTrack=W.prototype.Ud;\nW.prototype.Wb=function(){if(!this.c)return[];var a=fc(this.c,ff(this.g)),b=this.P[a]||{};return Xb(this.c.periods[a],b.audio,b.video)};W.prototype.getVariantTracks=W.prototype.Wb;W.prototype.Vb=function(){if(!this.c)return[];var a=fc(this.c,ff(this.g));return Zb(this.c.periods[a],(this.P[a]||{}).text).filter(function(a){return 0>this.Va.indexOf(a.id)}.bind(this))};W.prototype.getTextTracks=W.prototype.Vb;\nW.prototype.rc=function(a){if(this.a&&(a=ac(V(this.a),a))){xg(this,a,!1);var b={};b.text=a;yg(this,b,!0)}};W.prototype.selectTextTrack=W.prototype.rc;\nW.prototype.sc=function(a,b){if(this.a){var c={},d=$b(V(this.a),a),e=sf(this.a);if(d){if(!d.allowedByApplication||!d.allowedByKeySystem)return;d.audio&&(zg(this,d.audio),d.audio!=e.audio&&(c.audio=d.audio));d.video&&(zg(this,d.video),d.video!=e.video&&(c.video=d.video))}Ma(c).forEach(function(a){xg(this,a,!1)}.bind(this));(d=e.text)&&(c.text=d);yg(this,c,b)}};W.prototype.selectVariantTrack=W.prototype.sc;\nW.prototype.Nc=function(){return this.a?Yb(V(this.a).variants).map(function(a){return a.language}).filter(Aa):[]};W.prototype.getAudioLanguages=W.prototype.Nc;W.prototype.Wc=function(){return this.a?V(this.a).textStreams.map(function(a){return a.language}).filter(Aa):[]};W.prototype.getTextLanguages=W.prototype.Wc;W.prototype.Sd=function(a){if(this.a){var b=V(this.a);this.ia=a;vg(this,b)}};W.prototype.selectAudioLanguage=W.prototype.Sd;\nW.prototype.Td=function(a){if(this.a){var b=V(this.a);this.Ba=a;vg(this,b)}};W.prototype.selectTextLanguage=W.prototype.Td;W.prototype.$c=function(){return\"showing\"==this.A.mode};W.prototype.isTextTrackVisible=W.prototype.$c;W.prototype.Wd=function(a){this.A.mode=a?\"showing\":\"hidden\";Ag(this)};W.prototype.setTextTrackVisibility=W.prototype.Wd;W.prototype.Sc=function(){return this.c?new Date(1E3*this.c.presentationTimeline.f+1E3*this.f.currentTime):null};W.prototype.getPlayheadTimeAsDate=W.prototype.Sc;\nW.prototype.getStats=function(){Bg(this);this.Sa();var a=null,b=null,c=this.f&&this.f.getVideoPlaybackQuality?this.f.getVideoPlaybackQuality():{};this.g&&this.c&&(a=fc(this.c,ff(this.g)),b=this.P[a],b=ec(b.audio,b.video,this.c.periods[a].variants),a=b.video||{});a||(a={});b||(b={});return{width:a.width||0,height:a.height||0,streamBandwidth:b.bandwidth||0,decodedFrames:Number(c.totalVideoFrames),droppedFrames:Number(c.droppedVideoFrames),estimatedBandwidth:this.b.abr.manager.getBandwidthEstimate(),\nloadLatency:this.i.loadLatency,playTime:this.i.playTime,bufferingTime:this.i.bufferingTime,switchHistory:Da(this.i.switchHistory),stateHistory:Da(this.i.stateHistory)}};W.prototype.getStats=W.prototype.getStats;\nW.prototype.addTextTrack=function(a,b,c,d,e){if(!this.a)return Promise.reject();for(var f=V(this.a),g,h=0;h<this.c.periods.length;h++)if(this.c.periods[h]==f){if(h==this.c.periods.length-1){if(g=this.c.presentationTimeline.Y()-f.startTime,Infinity==g)return Promise.reject()}else g=this.c.periods[h+1].startTime-f.startTime;break}var l={id:this.Bc++,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return 1},getSegmentReference:function(b){return 1!=b?null:new O(1,0,g,\nfunction(){return[a]},0,null)},initSegmentReference:null,presentationTimeOffset:0,mimeType:d,codecs:e||\"\",kind:c,encrypted:!1,keyId:null,language:b,type:\"text\",primary:!1,trickModeVideo:null,containsEmsgBoxes:!1};this.Va.push(l.id);f.textStreams.push(l);return tf(this.a,l).then(function(){if(!this.J)return this.Va.splice(this.Va.indexOf(l.id),1),vg(this,f),rg(this),{id:l.id,active:!1,type:\"text\",bandwidth:0,language:b,kind:c,width:null,height:null}}.bind(this))};W.prototype.addTextTrack=W.prototype.addTextTrack;\nW.prototype.Hb=function(a,b){this.mb.width=a;this.mb.height=b};W.prototype.setMaxHardwareResolution=W.prototype.Hb;function xg(a,b,c){a.i.switchHistory.push({timestamp:Date.now()/1E3,id:b.id,type:b.type,fromAdaptation:c});zg(a,b)}function zg(a,b){var c=gc(a.c,b);a.P[c]||(a.P[c]={});a.P[c][b.type]=b.id}\nfunction og(a){a.l&&(a.l.ha(a.N,\"sourceopen\"),a.l.ha(a.f,\"loadeddata\"),a.l.ha(a.f,\"playing\"),a.l.ha(a.f,\"pause\"),a.l.ha(a.f,\"ended\"));a.f&&(a.f.removeAttribute(\"src\"),a.f.load());var b=Promise.all([a.b?a.b.abr.manager.stop():null,a.j?a.j.m():null,a.ja?a.ja.m():null,a.g?a.g.m():null,a.v?a.v.m():null,a.a?a.a.m():null,a.h?a.h.stop():null]);a.j=null;a.ja=null;a.g=null;a.v=null;a.a=null;a.h=null;a.c=null;a.Ya=null;a.Wa=null;a.N=null;a.Xa=[];a.P={};a.B={};a.i=mg();return b}\nfunction wg(a){return a.h?og(a).then(function(){this.J||(this.xc(!1),this.Wa=ng(this))}.bind(a)):Promise.resolve()}function tg(){return{\".drm.servers\":\"\",\".drm.clearKeys\":\"\",\".drm.advanced\":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:\"\",audioRobustness:\"\",serverCertificate:null}}}\nfunction lg(a){return{drm:{retryParameters:Fa(),servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1},manifest:{retryParameters:Fa(),dash:{customScheme:function(a){if(a)return null},clockSyncUri:\"\",ignoreDrmInfo:!1},hls:{defaultTimeOffset:0}},streaming:{retryParameters:Fa(),rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,ignoreTextStreamFailures:!1,startAtSegmentBoundary:!1,smallGapLimit:.5,jumpLargeGaps:!1},abr:{manager:a.Ob,enabled:!0,defaultBandwidthEstimate:5E5,restrictions:{minWidth:0,\nmaxWidth:Infinity,minHeight:0,maxHeight:Infinity,minPixels:0,maxPixels:Infinity,minBandwidth:0,maxBandwidth:Infinity}},preferredAudioLanguage:\"\",preferredTextLanguage:\"\",restrictions:{minWidth:0,maxWidth:Infinity,minHeight:0,maxHeight:Infinity,minPixels:0,maxPixels:Infinity,minBandwidth:0,maxBandwidth:Infinity}}}\nfunction mg(){return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,estimatedBandwidth:NaN,loadLatency:NaN,playTime:0,bufferingTime:0,switchHistory:[],stateHistory:[]}}k=W.prototype;k.fb=function(a){var b=this.a?sf(this.a):{};Ub(this.j,b,a);b=0<Yb(a.variants).length;Tb(a,this.b.restrictions,this.mb)&&this.a&&V(this.a)==a&&rg(this);a=1>Yb(a.variants).length;if(!b)throw new t(2,4,4011);if(a)throw new t(2,4,4012);};\nfunction yg(a,b,c){for(var d in b){var e=b[d],f=c||!1;\"text\"==d&&(f=!0);a.Za?a.B[d]={stream:e,Ic:f}:vf(a.a,d,e,f)}}function Bg(a){if(a.c){var b=Date.now()/1E3;a.ka?a.i.bufferingTime+=b-a.Ua:a.i.playTime+=b-a.Ua;a.Ua=b}}\nfunction qg(a,b){function c(a,b){if(!a)return null;var c=a.findSegmentPosition(b-e.startTime);return null==c?null:(c=a.getSegmentReference(c))?c.startTime+e.startTime:null}var d=sf(a.a),e=V(a.a),f=c(d.video,b),d=c(d.audio,b);return null!=f&&null!=d?Math.max(f,d):null!=f?f:null!=d?d:b}k.be=function(a,b){this.b.abr.manager.segmentDownloaded(a,b)};k.xc=function(a){Bg(this);this.ka=a;this.Sa();if(this.g){var b=this.g;a!=b.h&&(b.h=a,hf(b,b.g))}this.dispatchEvent(new H(\"buffering\",{buffering:a}))};\nk.Yd=function(){rg(this)};k.Sa=function(){if(!this.J){var a=this.ka?\"buffering\":this.f.ended?\"ended\":this.f.paused?\"paused\":\"playing\";var b=Date.now()/1E3;if(this.i.stateHistory.length){var c=this.i.stateHistory[this.i.stateHistory.length-1];c.duration=b-c.timestamp;if(a==c.state)return}this.i.stateHistory.push({timestamp:b,state:a,duration:0})}};k.ae=function(){if(this.v){var a=this.v;a.c.forEach(a.o.bind(a,!0))}this.a&&xf(this.a)};\nfunction Cg(a,b,c,d,e){if(!c||1>c.length)return a.xa(new t(2,4,4012)),{};a.b.abr.manager.setVariants(c);a.b.abr.manager.setTextStreams(d);var f=[];e&&(f=[\"video\",\"audio\"],b.textStreams.length&&f.push(\"text\"));e=sf(a.a);if(b=dc(e.audio,e.video,b.variants)){b.allowedByApplication&&b.allowedByKeySystem||(f.push(\"audio\"),f.push(\"video\"));for(var g in e)b=e[g],\"audio\"==b.type&&b.language!=c[0].language?f.push(g):\"text\"==b.type&&0<d.length&&b.language!=d[0].language&&f.push(g)}f=f.filter(Aa);if(0<f.length){c=\n{};try{c=a.b.abr.manager.chooseStreams(f)}catch(h){a.xa(h)}return c}return{}}function vg(a,b){var c={audio:!1,text:!1},d=bc(b,a.ia,c),e=cc(b,a.Ba,c),d=Cg(a,b,d,e),f;for(f in d)xg(a,d[f],!0);yg(a,d,!0);sg(a);d.text&&d.audio&&c.text&&d.text.language!=d.audio.language&&(a.A.mode=\"showing\",Ag(a))}k.cd=function(a){this.Za=!0;this.b.abr.manager.disable();var b=bc(a,this.ia),c=cc(a,this.Ba);a=Cg(this,a,b,c,!0);for(var d in this.B)a[d]=this.B[d].stream;this.B={};for(d in a)xg(this,a[d],!0);return a};\nk.Ec=function(){this.Za=!1;this.b.abr.enabled&&this.b.abr.manager.enable();for(var a in this.B){var b=this.B[a];vf(this.a,a,b.stream,b.Ic)}this.B={}};k.jd=function(){this.h&&this.h.update&&this.h.update()};k.sd=function(){this.g&&this.g.yb()};k.Jb=function(a,b){var c=sf(this.a),d;for(d in a){var e=a[d];c[d]!=e?xg(this,e,!0):delete a[d]}if(!La(a)&&this.a){for(d in a)vf(this.a,d,a[d],b||!1);sg(this)}};\nfunction sg(a){Promise.resolve().then(function(){this.J||this.dispatchEvent(new H(\"adaptation\"))}.bind(a))}function rg(a){Promise.resolve().then(function(){this.J||this.dispatchEvent(new H(\"trackschanged\"))}.bind(a))}function Ag(a){a.dispatchEvent(new H(\"texttrackvisibility\"))}k.xa=function(a){this.J||this.dispatchEvent(new H(\"error\",{detail:a}))};k.vd=function(a){this.v?this.v.v(a):this.Xa.push(a)};k.gb=function(a){this.dispatchEvent(a)};\nk.wd=function(){if(this.f.error){var a=this.f.error.code;if(1!=a){var b=this.f.error.msExtendedCode;b&&(0>b&&(b+=Math.pow(2,32)),b=b.toString(16));this.xa(new t(2,3,3016,a,b))}}};\nk.$d=function(a){var b=[\"output-restricted\",\"internal-error\"],c=V(this.a),d=!1;c.variants.forEach(function(c){var e=[];c.audio&&e.push(c.audio);c.video&&e.push(c.video);e.forEach(function(e){var f=c.allowedByKeySystem;e.keyId&&(e=a[e.keyId],c.allowedByKeySystem=!!e&&0>b.indexOf(e));f!=c.allowedByKeySystem&&(d=!0)})});var e=sf(this.a);(e=dc(e.audio,e.video,c.variants))&&!e.allowedByKeySystem&&vg(this,c);d&&rg(this)};\nk.Zd=function(a,b){if(this.h&&this.h.onExpirationUpdated)this.h.onExpirationUpdated(a,b);this.dispatchEvent(new H(\"expirationupdated\"))};function X(a){this.a=bg();this.f=a;this.i=Dg(this);this.b=null;this.v=!1;this.j=null;this.g=-1;this.l=0;this.c=null;this.h=new cg(this.a,a.o,a.getConfiguration().streaming.retryParameters,this.i)}m(\"shaka.offline.Storage\",X);function Eg(){return!!window.indexedDB}X.support=Eg;X.prototype.m=function(){var a=this.a,b=this.h?this.h.m()[\"catch\"](function(){}).then(function(){if(a)return a.m()}):Promise.resolve();this.i=this.f=this.h=this.a=null;return b};X.prototype.destroy=X.prototype.m;\nX.prototype.configure=function(a){Ca(this.i,a,Dg(this),{},\"\")};X.prototype.configure=X.prototype.configure;\nX.prototype.je=function(a,b,c){function d(a){f=a}if(this.v)return Promise.reject(new t(2,9,9006));this.v=!0;var e,f=null;return Fg(this).then(function(){Y(this);return Gg(this,a,d,c)}.bind(this)).then(function(c){Y(this);this.c=c.manifest;this.b=c.Jc;if(this.c.presentationTimeline.da()||this.c.presentationTimeline.va())throw new t(2,9,9005,a);this.c.periods.forEach(this.o.bind(this));this.g=this.a.c.manifest++;this.l=0;c=this.c.periods.map(this.B.bind(this));var d=this.b.b,f=hb(this.b);if(d){if(!f.length)throw new t(2,\n9,9007,a);d.initData=[]}e={key:this.g,originalManifestUri:a,duration:this.l,size:0,expiration:this.b.ab(),periods:c,sessionIds:f,drmInfo:d,appMetadata:b};return eg(this.h,e)}.bind(this)).then(function(){Y(this);if(f)throw f;return Hg(this)}.bind(this)).then(function(){return Wf(e)}.bind(this))[\"catch\"](function(a){return Hg(this)[\"catch\"](y).then(function(){throw a;})}.bind(this))};X.prototype.store=X.prototype.je;\nX.prototype.remove=function(a){function b(a){6013!=a.code&&(e=a)}var c=a.offlineUri,d=/^offline:([0-9]+)$/.exec(c);if(!d)return Promise.reject(new t(2,9,9004,c));var e=null,f,g,h=Number(d[1]);return Fg(this).then(function(){Y(this);return this.a.get(\"manifest\",h)}.bind(this)).then(function(a){Y(this);if(!a)throw new t(2,9,9003,c);f=a;a=hg(f);g=new $a(this.f.o,b,function(){},function(){});g.configure(this.f.getConfiguration().drm);return g.init(a,!0)}.bind(this)).then(function(){return eb(g,f.sessionIds)}.bind(this)).then(function(){return g.m()}.bind(this)).then(function(){Y(this);\nif(e)throw e;var b=f.periods.map(function(a){return a.streams.map(function(a){var b=a.segments.map(function(a){a=/^offline:[0-9]+\\/[0-9]+\\/([0-9]+)$/.exec(a.uri);return Number(a[1])});a.initSegmentUri&&(a=/^offline:[0-9]+\\/[0-9]+\\/([0-9]+)$/.exec(a.initSegmentUri),b.push(Number(a[1])));return b}).reduce(x,[])}).reduce(x,[]),c=0,d=b.length,g=this.i.progressCallback;return Tf(this.a,b,function(){c++;g(a,c/d)})}.bind(this)).then(function(){Y(this);this.i.progressCallback(a,1);return this.a.remove(\"manifest\",\nh)}.bind(this))};X.prototype.remove=X.prototype.remove;X.prototype.list=function(){var a=[];return Fg(this).then(function(){Y(this);return this.a.forEach(\"manifest\",function(b){a.push(Wf(b))})}.bind(this)).then(function(){return a})};X.prototype.list=X.prototype.list;\nfunction Gg(a,b,c,d){function e(){}var f=a.f.o,g=a.f.getConfiguration(),h,l,n;return Dd(b,f,g.manifest.retryParameters,d).then(function(a){Y(this);n=new a;n.configure(g.manifest);return n.start(b,{networkingEngine:f,filterPeriod:this.o.bind(this),onTimelineRegionAdded:function(){},onEvent:function(){},onError:c})}.bind(a)).then(function(a){Y(this);h=a;l=new $a(f,c,e,function(){});l.configure(g.drm);return l.init(h,!0)}.bind(a)).then(function(){Y(this);return Ig(h)}.bind(a)).then(function(){Y(this);\nreturn db(l)}.bind(a)).then(function(){Y(this);return n.stop()}.bind(a)).then(function(){Y(this);return{manifest:h,Jc:l}}.bind(a))[\"catch\"](function(a){if(n)return n.stop().then(function(){throw a;});throw a;})}\nX.prototype.A=function(a){for(var b=[],c=Qb(this.f.getConfiguration().preferredAudioLanguage),d=[0,Ob,Pb],e=a.filter(function(a){return\"variant\"==a.type}),d=d.map(function(a){return e.filter(function(b){b=Qb(b.language);return Nb(a,c,b)})}),f,g=0;g<d.length;g++)if(d[g].length){f=d[g];break}f||(d=e.filter(function(a){return a.primary}),d.length&&(f=d));f||(f=e,e.map(function(a){return a.language}).filter(Aa));var h=f.filter(function(a){return a.height&&480>=a.height});h.length&&(h.sort(function(a,\nb){return b.height-a.height}),f=h.filter(function(a){return a.height==h[0].height}));f.sort(function(a,b){return a.bandwidth-b.bandwidth});f.length&&b.push(f[Math.floor(f.length/2)]);b.push.apply(b,a.filter(function(a){return\"text\"==a.type}));return b};function Dg(a){return{trackSelectionCallback:a.A.bind(a),progressCallback:function(a,c){if(a||c)return null}}}function Fg(a){return a.a?a.a.a?Promise.resolve():a.a.init(Vf):Promise.reject(new t(2,9,9E3))}\nX.prototype.o=function(a){var b={};if(this.j){var c=this.j.filter(function(a){return\"variant\"==a.type}),d=null;c.length&&(d=$b(a,c[0]));d&&(d.video&&(b.video=d.video),d.audio&&(b.audio=d.audio))}Ub(this.b,b,a);Tb(a,this.f.getConfiguration().restrictions,{width:Infinity,height:Infinity})};function Hg(a){var b=a.b?a.b.m():Promise.resolve();a.b=null;a.c=null;a.v=!1;a.j=null;a.g=-1;return b}\nfunction Ig(a){var b=a.periods.map(function(a){return a.variants}).reduce(x,[]).map(function(a){var b=[];a.audio&&b.push(a.audio);a.video&&b.push(a.video);return b}).reduce(x,[]).filter(Aa);a=a.periods.map(function(a){return a.textStreams}).reduce(x,[]);b.push.apply(b,a);return Promise.all(b.map(function(a){return a.createSegmentIndex()}))}\nX.prototype.B=function(a){var b,c,d=Xb(a,null,null),e=Zb(a,null),d=this.i.trackSelectionCallback(d.concat(e));this.j||(this.j=d,this.c.periods.forEach(this.o.bind(this)));for(e=d.length-1;0<e;--e){var f=!1;for(c=e-1;0<=c;--c)if(d[e].type==d[c].type&&d[e].kind==d[c].kind&&d[e].language==d[c].language){f=!0;break}if(f)break}f=[];for(e=0;e<d.length;e++)(b=$b(a,d[e]))?(b.audio&&((c=f.filter(function(a){return a.id==b.audio.id})[0])?c.variantIds.push(b.id):(c=b.video?b.bandwidth/2:b.bandwidth,f.push(Jg(this,\na,b.audio,c,b.id)))),b.video&&((c=f.filter(function(a){return a.id==b.video.id})[0])?c.variantIds.push(b.id):(c=b.audio?b.bandwidth/2:b.bandwidth,f.push(Jg(this,a,b.video,c,b.id))))):f.push(Jg(this,a,ac(a,d[e]),0));return{startTime:a.startTime,streams:f}};\nfunction Jg(a,b,c,d,e){var f=[],g=a.c.presentationTimeline.ma();var h=g;for(var l=c.findSegmentPosition(g),n=null!=l?c.getSegmentReference(l):null;n;)h=a.a.c.segment++,dg(a.h,c.type,n,(n.endTime-n.startTime)*d/8,{key:h,data:null,manifestKey:a.g,streamNumber:c.id,segmentNumber:h}),f.push({startTime:n.startTime,endTime:n.endTime,uri:\"offline:\"+a.g+\"/\"+c.id+\"/\"+h}),h=n.endTime+b.startTime,n=c.getSegmentReference(++l);a.l=Math.max(a.l,h-g);b=null;c.initSegmentReference&&(h=a.a.c.segment++,b=\"offline:\"+\na.g+\"/\"+c.id+\"/\"+h,dg(a.h,c.contentType,c.initSegmentReference,0,{key:h,data:null,manifestKey:a.g,streamNumber:c.id,segmentNumber:-1}));a=[];null!=e&&a.push(e);return{id:c.id,primary:c.primary,presentationTimeOffset:c.presentationTimeOffset||0,contentType:c.type,mimeType:c.mimeType,codecs:c.codecs,frameRate:c.frameRate,kind:c.kind,language:c.language,width:c.width||null,height:c.height||null,initSegmentUri:b,encrypted:c.encrypted,keyId:c.keyId,segments:f,variantIds:a}}\nfunction Y(a){if(!a.f)throw new t(2,9,9002);}pg.offline=Eg;m(\"shaka.polyfill.installAll\",function(){for(var a=0;a<Kg.length;++a)Kg[a]()});var Kg=[];function Lg(a){Kg.push(a)}m(\"shaka.polyfill.register\",Lg);function Mg(a){var b=a.type.replace(/^(webkit|moz|MS)/,\"\").toLowerCase();if(\"function\"===typeof Event)var c=new Event(b,a);else c=document.createEvent(\"Event\"),c.initEvent(b,a.bubbles,a.cancelable);a.target.dispatchEvent(c)}\nLg(function(){if(window.Document){var a=Element.prototype;a.requestFullscreen=a.requestFullscreen||a.mozRequestFullScreen||a.msRequestFullscreen||a.webkitRequestFullscreen;a=Document.prototype;a.exitFullscreen=a.exitFullscreen||a.mozCancelFullScreen||a.msExitFullscreen||a.webkitExitFullscreen;\"fullscreenElement\"in document||(Object.defineProperty(document,\"fullscreenElement\",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,\n\"fullscreenEnabled\",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}}));document.addEventListener(\"webkitfullscreenchange\",Mg);document.addEventListener(\"webkitfullscreenerror\",Mg);document.addEventListener(\"mozfullscreenchange\",Mg);document.addEventListener(\"mozfullscreenerror\",Mg);document.addEventListener(\"MSFullscreenChange\",Mg);document.addEventListener(\"MSFullscreenError\",Mg)}});Lg(function(){var a=navigator.userAgent;a&&0<=a.indexOf(\"CrKey\")&&delete window.indexedDB});function Ng(a){this.f=[];this.b=[];this.a=[];(new Q).ca(\"pssh\",this.c.bind(this)).parse(a.buffer)}Ng.prototype.c=function(a){if(!(1<a.version)){var b=Ya(a.s.Ja(16)),c=[];if(0<a.version)for(var d=a.s.D(),e=0;e<d;++e){var f=Ya(a.s.Ja(16));c.push(f)}d=a.s.D();a.s.I(d);this.b.push.apply(this.b,c);this.f.push(b);this.a.push({start:a.start,end:a.start+a.size-1})}};function Og(a,b){try{var c=new Pg(a,b);return Promise.resolve(c)}catch(d){return Promise.reject(d)}}\nfunction Pg(a,b){this.keySystem=a;for(var c=!1,d=0;d<b.length;++d){var e=b[d];var f={audioCapabilities:[],videoCapabilities:[],persistentState:\"optional\",distinctiveIdentifier:\"optional\",initDataTypes:e.initDataTypes,sessionTypes:[\"temporary\"],label:e.label},g=!1;if(e.audioCapabilities)for(var h=0;h<e.audioCapabilities.length;++h){var l=e.audioCapabilities[h];if(l.contentType){g=!0;var n=l.contentType.split(\";\")[0];MSMediaKeys.isTypeSupported(this.keySystem,n)&&(f.audioCapabilities.push(l),c=!0)}}if(e.videoCapabilities)for(h=\n0;h<e.videoCapabilities.length;++h)l=e.videoCapabilities[h],l.contentType&&(g=!0,n=l.contentType.split(\";\")[0],MSMediaKeys.isTypeSupported(this.keySystem,n)&&(f.videoCapabilities.push(l),c=!0));g||(c=MSMediaKeys.isTypeSupported(this.keySystem,\"video/mp4\"));\"required\"==e.persistentState&&(f.persistentState=\"required\",f.sessionTypes=[\"persistent-license\"]);if(c){this.a=f;return}}e=Error(\"Unsupported keySystem\");e.name=\"NotSupportedError\";e.code=DOMException.NOT_SUPPORTED_ERR;throw e;}\nPg.prototype.createMediaKeys=function(){var a=new Qg(this.keySystem);return Promise.resolve(a)};Pg.prototype.getConfiguration=function(){return this.a};function Rg(a){var b=this.mediaKeys;b&&b!=a&&Sg(b,null);delete this.mediaKeys;return(this.mediaKeys=a)?Sg(a,this):Promise.resolve()}function Qg(a){this.a=new MSMediaKeys(a);this.b=new D}Qg.prototype.createSession=function(a){if(\"temporary\"!=(a||\"temporary\"))throw new TypeError(\"Session type \"+a+\" is unsupported on this platform.\");return new Tg(this.a)};\nQg.prototype.setServerCertificate=function(){return Promise.resolve(!1)};function Sg(a,b){function c(){b.msSetMediaKeys(d.a);b.removeEventListener(\"loadedmetadata\",c)}Ia(a.b);if(!b)return Promise.resolve();E(a.b,b,\"msneedkey\",Ug);var d=a;try{return 1<=b.readyState?b.msSetMediaKeys(a.a):b.addEventListener(\"loadedmetadata\",c),Promise.resolve()}catch(e){return Promise.reject(e)}}\nfunction Tg(a){p.call(this);this.c=null;this.g=a;this.b=this.a=null;this.f=new D;this.sessionId=\"\";this.expiration=NaN;this.closed=new A;this.keyStatuses=new Vg}ba(Tg);k=Tg.prototype;k.generateRequest=function(a,b){this.a=new A;try{this.c=this.g.createSession(\"video/mp4\",new Uint8Array(b),null),E(this.f,this.c,\"mskeymessage\",this.nd.bind(this)),E(this.f,this.c,\"mskeyadded\",this.ld.bind(this)),E(this.f,this.c,\"mskeyerror\",this.md.bind(this)),Wg(this,\"status-pending\")}catch(c){this.a.reject(c)}return this.a};\nk.load=function(){return Promise.reject(Error(\"MediaKeySession.load not yet supported\"))};k.update=function(a){this.b=new A;try{this.c.update(new Uint8Array(a))}catch(b){this.b.reject(b)}return this.b};k.close=function(){try{this.c.close(),this.closed.resolve(),Ia(this.f)}catch(a){this.closed.reject(a)}return this.closed};k.remove=function(){return Promise.reject(Error(\"MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform\"))};\nfunction Ug(a){var b=document.createEvent(\"CustomEvent\");b.initCustomEvent(\"encrypted\",!1,!1,null);b.initDataType=\"cenc\";if(a=a.initData){var c=new Ng(a);if(!(1>=c.a.length)){for(var d=[],e=0;e<c.a.length;e++)d.push(a.subarray(c.a[e].start,c.a[e].end+1));e=Xg;a=[];for(c=0;c<d.length;++c){for(var f=!1,g=0;g<a.length&&!(f=e?e(d[c],a[g]):d[c]===a[g]);++g);f||a.push(d[c])}for(e=d=0;e<a.length;e++)d+=a[e].length;d=new Uint8Array(d);for(e=c=0;e<a.length;e++)d.set(a[e],c),c+=a[e].length;a=d}}b.initData=\na;this.dispatchEvent(b)}function Xg(a,b){return Za(a,b)}k.nd=function(a){this.a&&(this.a.resolve(),this.a=null);this.dispatchEvent(new H(\"message\",{messageType:void 0==this.keyStatuses.qb()?\"licenserequest\":\"licenserenewal\",message:a.message.buffer}))};k.ld=function(){this.a?(Wg(this,\"usable\"),this.a.resolve(),this.a=null):this.b&&(Wg(this,\"usable\"),this.b.resolve(),this.b=null)};\nk.md=function(){var a=Error(\"EME PatchedMediaKeysMs key error\");a.errorCode=this.c.error;if(this.a)this.a.reject(a),this.a=null;else if(this.b)this.b.reject(a),this.b=null;else switch(this.c.error.code){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:Wg(this,\"output-not-allowed\");default:Wg(this,\"internal-error\")}};function Wg(a,b){a.keyStatuses.Ib(b);a.dispatchEvent(new H(\"keystatuseschange\"))}function Vg(){this.size=0;this.a=void 0}var Yg;k=Vg.prototype;\nk.Ib=function(a){this.size=void 0==a?0:1;this.a=a};k.qb=function(){return this.a};k.forEach=function(a){this.a&&a(this.a,Yg)};k.get=function(a){if(this.has(a))return this.a};k.has=function(a){var b=Yg;return this.a&&Za(new Uint8Array(a),new Uint8Array(b))?!0:!1};k.entries=function(){};k.keys=function(){};k.values=function(){};function Zg(){return Promise.reject(Error(\"The key system specified is not supported.\"))}function $g(a){return a?Promise.reject(Error(\"MediaKeys not supported.\")):Promise.resolve()}function ah(){throw new TypeError(\"Illegal constructor.\");}ah.prototype.createSession=function(){};ah.prototype.setServerCertificate=function(){};function bh(){throw new TypeError(\"Illegal constructor.\");}bh.prototype.getConfiguration=function(){};bh.prototype.createMediaKeys=function(){};var ch=\"\";function dh(a){ch=a;eh=(new Uint8Array([0])).buffer;navigator.requestMediaKeySystemAccess=fh;delete HTMLMediaElement.prototype.mediaKeys;HTMLMediaElement.prototype.mediaKeys=null;HTMLMediaElement.prototype.setMediaKeys=gh;window.MediaKeys=hh;window.MediaKeySystemAccess=ih}function jh(a){var b=ch;return b?b+a.charAt(0).toUpperCase()+a.slice(1):a}function fh(a,b){try{var c=new ih(a,b);return Promise.resolve(c)}catch(d){return Promise.reject(d)}}\nfunction gh(a){var b=this.mediaKeys;b&&b!=a&&kh(b,null);delete this.mediaKeys;(this.mediaKeys=a)&&kh(a,this);return Promise.resolve()}\nfunction ih(a,b){this.a=this.keySystem=a;var c=!0;\"org.w3.clearkey\"==a&&(this.a=\"webkit-org.w3.clearkey\",c=!1);var d=!1;var e=document.getElementsByTagName(\"video\");var f=e.length?e[0]:document.createElement(\"video\");for(var g=0;g<b.length;++g){e=b[g];var h={audioCapabilities:[],videoCapabilities:[],persistentState:\"optional\",distinctiveIdentifier:\"optional\",initDataTypes:e.initDataTypes,sessionTypes:[\"temporary\"],label:e.label},l=!1;if(e.audioCapabilities)for(var n=0;n<e.audioCapabilities.length;++n){var q=\ne.audioCapabilities[n];if(q.contentType){var l=!0,r=q.contentType.split(\";\")[0];f.canPlayType(r,this.a)&&(h.audioCapabilities.push(q),d=!0)}}if(e.videoCapabilities)for(n=0;n<e.videoCapabilities.length;++n)q=e.videoCapabilities[n],q.contentType&&(l=!0,f.canPlayType(q.contentType,this.a)&&(h.videoCapabilities.push(q),d=!0));l||(d=f.canPlayType(\"video/mp4\",this.a)||f.canPlayType(\"video/webm\",this.a));\"required\"==e.persistentState&&(c?(h.persistentState=\"required\",h.sessionTypes=[\"persistent-license\"]):\nd=!1);if(d){this.b=h;return}}c=\"Unsupported keySystem\";if(\"org.w3.clearkey\"==a||\"com.widevine.alpha\"==a)c=\"None of the requested configurations were supported.\";c=Error(c);c.name=\"NotSupportedError\";c.code=DOMException.NOT_SUPPORTED_ERR;throw c;}ih.prototype.createMediaKeys=function(){var a=new hh(this.a);return Promise.resolve(a)};ih.prototype.getConfiguration=function(){return this.b};function hh(a){this.g=a;this.b=null;this.a=new D;this.c=[];this.f={}}\nfunction kh(a,b){a.b=b;Ia(a.a);var c=ch;b&&(E(a.a,b,c+\"needkey\",a.Ad.bind(a)),E(a.a,b,c+\"keymessage\",a.zd.bind(a)),E(a.a,b,c+\"keyadded\",a.xd.bind(a)),E(a.a,b,c+\"keyerror\",a.yd.bind(a)))}k=hh.prototype;k.createSession=function(a){var b=a||\"temporary\";if(\"temporary\"!=b&&\"persistent-license\"!=b)throw new TypeError(\"Session type \"+a+\" is unsupported on this platform.\");a=this.b||document.createElement(\"video\");a.src||(a.src=\"about:blank\");b=new lh(a,this.g,b);this.c.push(b);return b};\nk.setServerCertificate=function(){return Promise.resolve(!1)};k.Ad=function(a){var b=document.createEvent(\"CustomEvent\");b.initCustomEvent(\"encrypted\",!1,!1,null);b.initDataType=\"webm\";b.initData=a.initData;this.b.dispatchEvent(b)};k.zd=function(a){var b=mh(this,a.sessionId);b&&(a=new H(\"message\",{messageType:void 0==b.keyStatuses.qb()?\"licenserequest\":\"licenserenewal\",message:a.message}),b.b&&(b.b.resolve(),b.b=null),b.dispatchEvent(a))};\nk.xd=function(a){if(a=mh(this,a.sessionId))nh(a,\"usable\"),a.a&&a.a.resolve(),a.a=null};\nk.yd=function(a){var b=mh(this,a.sessionId);if(b){var c=Error(\"EME v0.1b key error\");c.errorCode=a.errorCode;c.errorCode.systemCode=a.systemCode;!a.sessionId&&b.b?(c.method=\"generateRequest\",45==a.systemCode&&(c.message=\"Unsupported session type.\"),b.b.reject(c),b.b=null):a.sessionId&&b.a?(c.method=\"update\",b.a.reject(c),b.a=null):(c=a.systemCode,a.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?nh(b,\"output-restricted\"):1==c?nh(b,\"expired\"):nh(b,\"internal-error\"))}};\nfunction mh(a,b){var c=a.f[b];return c?c:(c=a.c.shift())?(c.sessionId=b,a.f[b]=c):null}function lh(a,b,c){p.call(this);this.f=a;this.h=!1;this.a=this.b=null;this.c=b;this.g=c;this.sessionId=\"\";this.expiration=NaN;this.closed=new A;this.keyStatuses=new oh}ba(lh);\nfunction ph(a,b,c){if(a.h)return Promise.reject(Error(\"The session is already initialized.\"));a.h=!0;try{if(\"persistent-license\"==a.g)if(c)var d=new Uint8Array(Sa(\"LOAD_SESSION|\"+c));else{var e=Sa(\"PERSISTENT|\"),f=new Uint8Array(e.byteLength+b.byteLength);f.set(new Uint8Array(e),0);f.set(new Uint8Array(b),e.byteLength);d=f}else d=new Uint8Array(b)}catch(h){return Promise.reject(h)}a.b=new A;var g=jh(\"generateKeyRequest\");try{a.f[g](a.c,d)}catch(h){if(\"InvalidStateError\"!=h.name)return a.b=null,Promise.reject(h);\nsetTimeout(function(){try{this.f[g](this.c,d)}catch(l){this.b.reject(l),this.b=null}}.bind(a),10)}return a.b}k=lh.prototype;\nk.Kb=function(a,b){if(this.a)this.a.then(this.Kb.bind(this,a,b))[\"catch\"](this.Kb.bind(this,a,b));else{this.a=a;if(\"webkit-org.w3.clearkey\"==this.c){var c=F(b);var d=JSON.parse(c);\"oct\"!=d.keys[0].kty&&(this.a.reject(Error(\"Response is not a valid JSON Web Key Set.\")),this.a=null);c=Wa(d.keys[0].k);d=Wa(d.keys[0].kid)}else c=new Uint8Array(b),d=null;var e=jh(\"addKey\");try{this.f[e](this.c,c,d,this.sessionId)}catch(f){this.a.reject(f),this.a=null}}};\nfunction nh(a,b){a.keyStatuses.Ib(b);a.dispatchEvent(new H(\"keystatuseschange\"))}k.generateRequest=function(a,b){return ph(this,b,null)};k.load=function(a){return\"persistent-license\"==this.g?ph(this,null,a):Promise.reject(Error(\"Not a persistent session.\"))};k.update=function(a){var b=new A;this.Kb(b,a);return b};\nk.close=function(){if(\"persistent-license\"!=this.g){if(!this.sessionId)return this.closed.reject(Error(\"The session is not callable.\")),this.closed;var a=jh(\"cancelKeyRequest\");try{this.f[a](this.c,this.sessionId)}catch(b){}}this.closed.resolve();return this.closed};k.remove=function(){return\"persistent-license\"!=this.g?Promise.reject(Error(\"Not a persistent session.\")):this.close()};function oh(){this.size=0;this.a=void 0}var eh;k=oh.prototype;k.Ib=function(a){this.size=void 0==a?0:1;this.a=a};\nk.qb=function(){return this.a};k.forEach=function(a){this.a&&a(this.a,eh)};k.get=function(a){if(this.has(a))return this.a};k.has=function(a){var b=eh;return this.a&&Za(new Uint8Array(a),new Uint8Array(b))?!0:!1};k.entries=function(){};k.keys=function(){};k.values=function(){};Lg(function(){!window.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(HTMLMediaElement.prototype.webkitGenerateKeyRequest?dh(\"webkit\"):HTMLMediaElement.prototype.generateKeyRequest?dh(\"\"):window.MSMediaKeys?(Yg=(new Uint8Array([0])).buffer,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Rg,window.MediaKeys=Qg,window.MediaKeySystemAccess=Pg,navigator.requestMediaKeySystemAccess=\nOg):(navigator.requestMediaKeySystemAccess=Zg,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=$g,window.MediaKeys=ah,window.MediaKeySystemAccess=bh))});function qh(){var a=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var b=a.apply(this,arguments);b.abort=function(){};return b}}\nfunction rh(){var a=MediaSource.prototype.endOfStream;MediaSource.prototype.endOfStream=function(){for(var b,d=0,e=0;e<this.sourceBuffers.length;++e)b=this.sourceBuffers[e],b=b.buffered.end(b.buffered.length-1),d=Math.max(d,b);if(!isNaN(this.duration)&&d<this.duration)for(this.Xb=!0,e=0;e<this.sourceBuffers.length;++e)b=this.sourceBuffers[e],b.Rb=!1;return a.apply(this,arguments)};var b=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var a=b.apply(this,arguments);\na.N=this;a.addEventListener(\"updateend\",sh,!1);this.a||(this.addEventListener(\"sourceclose\",th,!1),this.a=!0);return a}}function sh(a){var b=a.target,c=b.N;if(c.Xb){a.preventDefault();a.stopPropagation();a.stopImmediatePropagation();b.Rb=!0;for(a=0;a<c.sourceBuffers.length;++a)if(0==c.sourceBuffers[a].Rb)return;c.Xb=!1}}function th(a){a=a.target;for(var b=0;b<a.sourceBuffers.length;++b)a.sourceBuffers[b].removeEventListener(\"updateend\",sh,!1);a.removeEventListener(\"sourceclose\",th,!1)}\nLg(function(){if(window.MediaSource){var a=navigator.vendor,b=navigator.appVersion;!a||!b||0>a.indexOf(\"Apple\")||(0<=b.indexOf(\"Version/8\")?window.MediaSource=null:0<=b.indexOf(\"Version/9\")?qh():0<=b.indexOf(\"Version/10\")&&(qh(),rh()))}});function Z(a){this.c=[];this.b=[];this.za=uh;if(a)try{a(this.fa.bind(this),this.a.bind(this))}catch(b){this.a(b)}}var uh=0;function vh(a){var b=new Z;b.fa(void 0);return b.then(function(){return a})}function wh(a){var b=new Z;b.a(a);return b}function xh(a){function b(a,b,c){a.za==uh&&(e[b]=c,d++,d==e.length&&a.fa(e))}var c=new Z;if(!a.length)return c.fa([]),c;for(var d=0,e=Array(a.length),f=c.a.bind(c),g=0;g<a.length;++g)a[g]&&a[g].then?a[g].then(b.bind(null,c,g),f):b(c,g,a[g]);return c}\nfunction yh(a){for(var b=new Z,c=b.fa.bind(b),d=b.a.bind(b),e=0;e<a.length;++e)a[e]&&a[e].then?a[e].then(c,d):c(a[e]);return b}Z.prototype.then=function(a,b){var c=new Z;switch(this.za){case 1:zh(this,c,a);break;case 2:zh(this,c,b);break;case uh:this.c.push({L:c,nb:a}),this.b.push({L:c,nb:b})}return c};Z.prototype[\"catch\"]=function(a){return this.then(void 0,a)};\nZ.prototype.fa=function(a){if(this.za==uh){this.jb=a;this.za=1;for(a=0;a<this.c.length;++a)zh(this,this.c[a].L,this.c[a].nb);this.c=[];this.b=[]}};Z.prototype.a=function(a){if(this.za==uh){this.jb=a;this.za=2;for(a=0;a<this.b.length;++a)zh(this,this.b[a].L,this.b[a].nb);this.c=[];this.b=[]}};\nfunction zh(a,b,c){Ah.push(function(){if(c&&\"function\"==typeof c){try{var a=c(this.jb)}catch(f){b.a(f);return}try{var e=a&&a.then}catch(f){b.a(f);return}a instanceof Z?a==b?b.a(new TypeError(\"Chaining cycle detected\")):a.then(b.fa.bind(b),b.a.bind(b)):e?Bh(a,e,b):b.fa(a)}else 1==this.za?b.fa(this.jb):b.a(this.jb)}.bind(a));null==Ch&&(Ch=Dh(Eh))}\nfunction Bh(a,b,c){try{var d=!1;b.call(a,function(a){if(!d){d=!0;try{var b=a&&a.then}catch(g){c.a(g);return}b?Bh(a,b,c):c.fa(a)}},c.a.bind(c))}catch(e){c.a(e)}}function Eh(){for(;Ah.length;){null!=Ch&&(Fh(Ch),Ch=null);var a=Ah;Ah=[];for(var b=0;b<a.length;++b)a[b]()}}function Dh(){return 0}function Fh(){}var Ch=null,Ah=[];\nLg(function(a){window.setImmediate?(Dh=function(a){return window.setImmediate(a)},Fh=function(a){return window.clearImmediate(a)}):(Dh=function(a){return window.setTimeout(a,0)},Fh=function(a){return window.clearTimeout(a)});if(!window.Promise||a)window.Promise=Z,window.Promise.resolve=vh,window.Promise.reject=wh,window.Promise.all=xh,window.Promise.race=yh,window.Promise.prototype.then=Z.prototype.then,window.Promise.prototype[\"catch\"]=Z.prototype[\"catch\"]});function Gh(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}Lg(function(){if(window.HTMLVideoElement){var a=HTMLVideoElement.prototype;!a.getVideoPlaybackQuality&&\"webkitDroppedFrameCount\"in a&&(a.getVideoPlaybackQuality=Gh)}});function Hh(a,b,c){return new window.TextTrackCue(a,b,c)}function Ih(a,b,c){return new window.TextTrackCue(a+\"-\"+b+\"-\"+c,a,b,c)}Lg(function(){if(!window.VTTCue&&window.TextTrackCue){var a=TextTrackCue.length;if(3==a)window.VTTCue=Hh;else if(6==a)window.VTTCue=Ih;else{try{var b=!!Hh(1,2,\"\")}catch(c){b=!1}b&&(window.VTTCue=Hh)}}});}.call(g,this));\nif (typeof(module)!=\"undefined\"&&module.exports)module.exports=g.shaka;\nelse if (true)!(__WEBPACK_AMD_DEFINE_RESULT__ = function(){return g.shaka}.call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\nelse this.shaka=g.shaka;\n})();\n\n//# sourceMappingURL=shaka-player.compiled.map//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L3NoYWthLXBsYXllci9kaXN0L3NoYWthLXBsYXllci5jb21waWxlZC5qcz84MzkxIl0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe3ZhciBnPXt9O1xuKGZ1bmN0aW9uKHdpbmRvdyl7dmFyIGssYWE9dGhpczthYS51ZT0hMDtmdW5jdGlvbiBtKGEsYil7dmFyIGM9YS5zcGxpdChcIi5cIiksZD1hYTtjWzBdaW4gZHx8IWQuZXhlY1NjcmlwdHx8ZC5leGVjU2NyaXB0KFwidmFyIFwiK2NbMF0pO2Zvcih2YXIgZTtjLmxlbmd0aCYmKGU9Yy5zaGlmdCgpKTspYy5sZW5ndGh8fHZvaWQgMD09PWI/ZFtlXT9kPWRbZV06ZD1kW2VdPXt9OmRbZV09Yn1mdW5jdGlvbiBiYShhKXt2YXIgYj1wO2Z1bmN0aW9uIGMoKXt9Yy5wcm90b3R5cGU9Yi5wcm90b3R5cGU7YS56ZT1iLnByb3RvdHlwZTthLnByb3RvdHlwZT1uZXcgYzthLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1hO2Eud2U9ZnVuY3Rpb24oYSxjLGYpe3JldHVybiBiLnByb3RvdHlwZVtjXS5hcHBseShhLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSl9fTsvKlxuXG4gQ29weXJpZ2h0IDIwMTYgR29vZ2xlIEluYy5cblxuIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuXG4gICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuXG4gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4qL1xuZnVuY3Rpb24gY2EoYSl7dGhpcy5jPU1hdGguZXhwKE1hdGgubG9nKC41KS9hKTt0aGlzLmI9dGhpcy5hPTB9ZnVuY3Rpb24gZGEoYSxiLGMpe3ZhciBkPU1hdGgucG93KGEuYyxiKTtjPWMqKDEtZCkrZCphLmE7aXNOYU4oYyl8fChhLmE9YyxhLmIrPWIpfWZ1bmN0aW9uIGVhKGEpe3JldHVybiBhLmEvKDEtTWF0aC5wb3coYS5jLGEuYikpfTtmdW5jdGlvbiBmYSgpe3RoaXMuYz1uZXcgY2EoMik7dGhpcy5mPW5ldyBjYSg1KTt0aGlzLmE9MDt0aGlzLmI9NUU1fWZhLnByb3RvdHlwZS5zZXREZWZhdWx0RXN0aW1hdGU9ZnVuY3Rpb24oYSl7dGhpcy5iPWF9O2ZhLnByb3RvdHlwZS5nZXRCYW5kd2lkdGhFc3RpbWF0ZT1mdW5jdGlvbigpe3JldHVybiAxMjhFMz50aGlzLmE/dGhpcy5iOk1hdGgubWluKGVhKHRoaXMuYyksZWEodGhpcy5mKSl9O2Z1bmN0aW9uIGdhKCl7fTtmdW5jdGlvbiB0KGEsYixjLGQpe3RoaXMuc2V2ZXJpdHk9YTt0aGlzLmNhdGVnb3J5PWI7dGhpcy5jb2RlPWM7dGhpcy5kYXRhPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywzKX1tKFwic2hha2EudXRpbC5FcnJvclwiLHQpO3QucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJzaGFrYS51dGlsLkVycm9yIFwiK0pTT04uc3RyaW5naWZ5KHRoaXMsbnVsbCxcIiAgXCIpfTt0LlNldmVyaXR5PXtSRUNPVkVSQUJMRToxLENSSVRJQ0FMOjJ9O3QuQ2F0ZWdvcnk9e05FVFdPUks6MSxURVhUOjIsTUVESUE6MyxNQU5JRkVTVDo0LFNUUkVBTUlORzo1LERSTTo2LFBMQVlFUjo3LENBU1Q6OCxTVE9SQUdFOjl9O1xudC5Db2RlPXtVTlNVUFBPUlRFRF9TQ0hFTUU6MUUzLEJBRF9IVFRQX1NUQVRVUzoxMDAxLEhUVFBfRVJST1I6MTAwMixUSU1FT1VUOjEwMDMsTUFMRk9STUVEX0RBVEFfVVJJOjEwMDQsVU5LTk9XTl9EQVRBX1VSSV9FTkNPRElORzoxMDA1LFJFUVVFU1RfRklMVEVSX0VSUk9SOjEwMDYsUkVTUE9OU0VfRklMVEVSX0VSUk9SOjEwMDcsSU5WQUxJRF9URVhUX0hFQURFUjoyRTMsSU5WQUxJRF9URVhUX0NVRToyMDAxLFVOQUJMRV9UT19ERVRFQ1RfRU5DT0RJTkc6MjAwMyxCQURfRU5DT0RJTkc6MjAwNCxJTlZBTElEX1hNTDoyMDA1LElOVkFMSURfTVA0X1RUTUw6MjAwNyxJTlZBTElEX01QNF9WVFQ6MjAwOCxCVUZGRVJfUkVBRF9PVVRfT0ZfQk9VTkRTOjNFMyxKU19JTlRFR0VSX09WRVJGTE9XOjMwMDEsRUJNTF9PVkVSRkxPVzozMDAyLEVCTUxfQkFEX0ZMT0FUSU5HX1BPSU5UX1NJWkU6MzAwMyxNUDRfU0lEWF9XUk9OR19CT1hfVFlQRTozMDA0LE1QNF9TSURYX0lOVkFMSURfVElNRVNDQUxFOjMwMDUsXG5NUDRfU0lEWF9UWVBFX05PVF9TVVBQT1JURUQ6MzAwNixXRUJNX0NVRVNfRUxFTUVOVF9NSVNTSU5HOjMwMDcsV0VCTV9FQk1MX0hFQURFUl9FTEVNRU5UX01JU1NJTkc6MzAwOCxXRUJNX1NFR01FTlRfRUxFTUVOVF9NSVNTSU5HOjMwMDksV0VCTV9JTkZPX0VMRU1FTlRfTUlTU0lORzozMDEwLFdFQk1fRFVSQVRJT05fRUxFTUVOVF9NSVNTSU5HOjMwMTEsV0VCTV9DVUVfVFJBQ0tfUE9TSVRJT05TX0VMRU1FTlRfTUlTU0lORzozMDEyLFdFQk1fQ1VFX1RJTUVfRUxFTUVOVF9NSVNTSU5HOjMwMTMsTUVESUFfU09VUkNFX09QRVJBVElPTl9GQUlMRUQ6MzAxNCxNRURJQV9TT1VSQ0VfT1BFUkFUSU9OX1RIUkVXOjMwMTUsVklERU9fRVJST1I6MzAxNixRVU9UQV9FWENFRURFRF9FUlJPUjozMDE3LFVOQUJMRV9UT19HVUVTU19NQU5JRkVTVF9UWVBFOjRFMyxEQVNIX0lOVkFMSURfWE1MOjQwMDEsREFTSF9OT19TRUdNRU5UX0lORk86NDAwMixEQVNIX0VNUFRZX0FEQVBUQVRJT05fU0VUOjQwMDMsXG5EQVNIX0VNUFRZX1BFUklPRDo0MDA0LERBU0hfV0VCTV9NSVNTSU5HX0lOSVQ6NDAwNSxEQVNIX1VOU1VQUE9SVEVEX0NPTlRBSU5FUjo0MDA2LERBU0hfUFNTSF9CQURfRU5DT0RJTkc6NDAwNyxEQVNIX05PX0NPTU1PTl9LRVlfU1lTVEVNOjQwMDgsREFTSF9NVUxUSVBMRV9LRVlfSURTX05PVF9TVVBQT1JURUQ6NDAwOSxEQVNIX0NPTkZMSUNUSU5HX0tFWV9JRFM6NDAxMCxVTlBMQVlBQkxFX1BFUklPRDo0MDExLFJFU1RSSUNUSU9OU19DQU5OT1RfQkVfTUVUOjQwMTIsTk9fUEVSSU9EUzo0MDE0LEhMU19QTEFZTElTVF9IRUFERVJfTUlTU0lORzo0MDE1LElOVkFMSURfSExTX1RBRzo0MDE2LEhMU19JTlZBTElEX1BMQVlMSVNUX0hJRVJBUkNIWTo0MDE3LERBU0hfRFVQTElDQVRFX1JFUFJFU0VOVEFUSU9OX0lEOjQwMTgsSExTX01VTFRJUExFX01FRElBX0lOSVRfU0VDVElPTlNfRk9VTkQ6NDAyMCxITFNfQ09VTERfTk9UX0dVRVNTX01JTUVfVFlQRTo0MDIxLEhMU19NQVNURVJfUExBWUxJU1RfTk9UX1BST1ZJREVEOjQwMjIsXG5ITFNfUkVRVUlSRURfQVRUUklCVVRFX01JU1NJTkc6NDAyMyxITFNfUkVRVUlSRURfVEFHX01JU1NJTkc6NDAyNCxITFNfQ09VTERfTk9UX0dVRVNTX0NPREVDUzo0MDI1LEhMU19LRVlGT1JNQVRTX05PVF9TVVBQT1JURUQ6NDAyNixJTlZBTElEX1NUUkVBTVNfQ0hPU0VOOjUwMDUsTk9fUkVDT0dOSVpFRF9LRVlfU1lTVEVNUzo2RTMsUkVRVUVTVEVEX0tFWV9TWVNURU1fQ09ORklHX1VOQVZBSUxBQkxFOjYwMDEsRkFJTEVEX1RPX0NSRUFURV9DRE06NjAwMixGQUlMRURfVE9fQVRUQUNIX1RPX1ZJREVPOjYwMDMsSU5WQUxJRF9TRVJWRVJfQ0VSVElGSUNBVEU6NjAwNCxGQUlMRURfVE9fQ1JFQVRFX1NFU1NJT046NjAwNSxGQUlMRURfVE9fR0VORVJBVEVfTElDRU5TRV9SRVFVRVNUOjYwMDYsTElDRU5TRV9SRVFVRVNUX0ZBSUxFRDo2MDA3LExJQ0VOU0VfUkVTUE9OU0VfUkVKRUNURUQ6NjAwOCxFTkNSWVBURURfQ09OVEVOVF9XSVRIT1VUX0RSTV9JTkZPOjYwMTAsTk9fTElDRU5TRV9TRVJWRVJfR0lWRU46NjAxMixcbk9GRkxJTkVfU0VTU0lPTl9SRU1PVkVEOjYwMTMsRVhQSVJFRDo2MDE0LExPQURfSU5URVJSVVBURUQ6N0UzLENBU1RfQVBJX1VOQVZBSUxBQkxFOjhFMyxOT19DQVNUX1JFQ0VJVkVSUzo4MDAxLEFMUkVBRFlfQ0FTVElORzo4MDAyLFVORVhQRUNURURfQ0FTVF9FUlJPUjo4MDAzLENBU1RfQ0FOQ0VMRURfQllfVVNFUjo4MDA0LENBU1RfQ09OTkVDVElPTl9USU1FRF9PVVQ6ODAwNSxDQVNUX1JFQ0VJVkVSX0FQUF9VTkFWQUlMQUJMRTo4MDA2LFNUT1JBR0VfTk9UX1NVUFBPUlRFRDo5RTMsSU5ERVhFRF9EQl9FUlJPUjo5MDAxLE9QRVJBVElPTl9BQk9SVEVEOjkwMDIsUkVRVUVTVEVEX0lURU1fTk9UX0ZPVU5EOjkwMDMsTUFMRk9STUVEX09GRkxJTkVfVVJJOjkwMDQsQ0FOTk9UX1NUT1JFX0xJVkVfT0ZGTElORTo5MDA1LFNUT1JFX0FMUkVBRFlfSU5fUFJPR1JFU1M6OTAwNixOT19JTklUX0RBVEFfRk9SX09GRkxJTkU6OTAwN307dmFyIGhhPS9eKD86KFteOi8/Iy5dKyk6KT8oPzpcXC9cXC8oPzooW14vPyNdKilAKT8oW14vIz9dKj8pKD86OihbMC05XSspKT8oPz1bLyM/XXwkKSk/KFtePyNdKyk/KD86XFw/KFteI10qKSk/KD86IyguKikpPyQvO2Z1bmN0aW9uIGlhKGEpe3ZhciBiO2EgaW5zdGFuY2VvZiBpYT8oamEodGhpcyxhLiQpLHRoaXMuQWE9YS5BYSx0aGlzLmJhPWEuYmEsa2EodGhpcyxhLklhKSx0aGlzLlc9YS5XLGxhKHRoaXMsbWEoYS5hKSksdGhpcy50YT1hLnRhKTphJiYoYj1TdHJpbmcoYSkubWF0Y2goaGEpKT8oamEodGhpcyxiWzFdfHxcIlwiLCEwKSx0aGlzLkFhPW5hKGJbMl18fFwiXCIpLHRoaXMuYmE9bmEoYlszXXx8XCJcIiwhMCksa2EodGhpcyxiWzRdKSx0aGlzLlc9bmEoYls1XXx8XCJcIiwhMCksbGEodGhpcyxiWzZdfHxcIlwiLCEwKSx0aGlzLnRhPW5hKGJbN118fFwiXCIpKTp0aGlzLmE9bmV3IHBhKG51bGwpfWs9aWEucHJvdG90eXBlO2suJD1cIlwiO2suQWE9XCJcIjtrLmJhPVwiXCI7ay5JYT1udWxsO2suVz1cIlwiO2sudGE9XCJcIjtcbmsudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgYT1bXSxiPXRoaXMuJDtiJiZhLnB1c2gocWEoYixyYSwhMCksXCI6XCIpO2lmKGI9dGhpcy5iYSl7YS5wdXNoKFwiLy9cIik7dmFyIGM9dGhpcy5BYTtjJiZhLnB1c2gocWEoYyxyYSwhMCksXCJAXCIpO2EucHVzaChlbmNvZGVVUklDb21wb25lbnQoYikucmVwbGFjZSgvJTI1KFswLTlhLWZBLUZdezJ9KS9nLFwiJSQxXCIpKTtiPXRoaXMuSWE7bnVsbCE9YiYmYS5wdXNoKFwiOlwiLFN0cmluZyhiKSl9aWYoYj10aGlzLlcpdGhpcy5iYSYmXCIvXCIhPWIuY2hhckF0KDApJiZhLnB1c2goXCIvXCIpLGEucHVzaChxYShiLFwiL1wiPT1iLmNoYXJBdCgwKT9zYTp0YSwhMCkpOyhiPXRoaXMuYS50b1N0cmluZygpKSYmYS5wdXNoKFwiP1wiLGIpOyhiPXRoaXMudGEpJiZhLnB1c2goXCIjXCIscWEoYix1YSkpO3JldHVybiBhLmpvaW4oXCJcIil9O1xuay5yZXNvbHZlPWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBpYSh0aGlzKTtcImRhdGFcIj09PWIuJCYmKGI9bmV3IGlhKTt2YXIgYz0hIWEuJDtjP2phKGIsYS4kKTpjPSEhYS5BYTtjP2IuQWE9YS5BYTpjPSEhYS5iYTtjP2IuYmE9YS5iYTpjPW51bGwhPWEuSWE7dmFyIGQ9YS5XO2lmKGMpa2EoYixhLklhKTtlbHNlIGlmKGM9ISFhLlcpe2lmKFwiL1wiIT1kLmNoYXJBdCgwKSlpZih0aGlzLmJhJiYhdGhpcy5XKWQ9XCIvXCIrZDtlbHNle3ZhciBlPWIuVy5sYXN0SW5kZXhPZihcIi9cIik7LTEhPWUmJihkPWIuVy5zdWJzdHIoMCxlKzEpK2QpfWlmKFwiLi5cIj09ZHx8XCIuXCI9PWQpZD1cIlwiO2Vsc2UgaWYoLTEhPWQuaW5kZXhPZihcIi4vXCIpfHwtMSE9ZC5pbmRleE9mKFwiLy5cIikpe2Zvcih2YXIgZT0hZC5sYXN0SW5kZXhPZihcIi9cIiwwKSxkPWQuc3BsaXQoXCIvXCIpLGY9W10sZz0wO2c8ZC5sZW5ndGg7KXt2YXIgaD1kW2crK107XCIuXCI9PWg/ZSYmZz09ZC5sZW5ndGgmJmYucHVzaChcIlwiKTpcIi4uXCI9PWg/KCgxPFxuZi5sZW5ndGh8fDE9PWYubGVuZ3RoJiZcIlwiIT1mWzBdKSYmZi5wb3AoKSxlJiZnPT1kLmxlbmd0aCYmZi5wdXNoKFwiXCIpKTooZi5wdXNoKGgpLGU9ITApfWQ9Zi5qb2luKFwiL1wiKX19Yz9iLlc9ZDpjPVwiXCIhPT1hLmEudG9TdHJpbmcoKTtjP2xhKGIsbWEoYS5hKSk6Yz0hIWEudGE7YyYmKGIudGE9YS50YSk7cmV0dXJuIGJ9O2Z1bmN0aW9uIGphKGEsYixjKXthLiQ9Yz9uYShiLCEwKTpiO2EuJCYmKGEuJD1hLiQucmVwbGFjZSgvOiQvLFwiXCIpKX1mdW5jdGlvbiBrYShhLGIpe2lmKGIpe2I9TnVtYmVyKGIpO2lmKGlzTmFOKGIpfHwwPmIpdGhyb3cgRXJyb3IoXCJCYWQgcG9ydCBudW1iZXIgXCIrYik7YS5JYT1ifWVsc2UgYS5JYT1udWxsfWZ1bmN0aW9uIGxhKGEsYixjKXtiIGluc3RhbmNlb2YgcGE/YS5hPWI6KGN8fChiPXFhKGIsdmEpKSxhLmE9bmV3IHBhKGIpKX1mdW5jdGlvbiBuYShhLGIpe3JldHVybiBhP2I/ZGVjb2RlVVJJKGEpOmRlY29kZVVSSUNvbXBvbmVudChhKTpcIlwifVxuZnVuY3Rpb24gcWEoYSxiLGMpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBhPyhhPWVuY29kZVVSSShhKS5yZXBsYWNlKGIsd2EpLGMmJihhPWEucmVwbGFjZSgvJTI1KFswLTlhLWZBLUZdezJ9KS9nLFwiJSQxXCIpKSxhKTpudWxsfWZ1bmN0aW9uIHdhKGEpe2E9YS5jaGFyQ29kZUF0KDApO3JldHVyblwiJVwiKyhhPj40JjE1KS50b1N0cmluZygxNikrKGEmMTUpLnRvU3RyaW5nKDE2KX12YXIgcmE9L1sjXFwvXFw/QF0vZyx0YT0vW1xcI1xcPzpdL2csc2E9L1tcXCNcXD9dL2csdmE9L1tcXCNcXD9AXS9nLHVhPS8jL2c7ZnVuY3Rpb24gcGEoYSl7dGhpcy5iPWF8fG51bGx9cGEucHJvdG90eXBlLmE9bnVsbDtwYS5wcm90b3R5cGUuYz1udWxsO1xucGEucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7aWYodGhpcy5iKXJldHVybiB0aGlzLmI7aWYoIXRoaXMuYSlyZXR1cm5cIlwiO3ZhciBhPVtdLGI7Zm9yKGIgaW4gdGhpcy5hKWZvcih2YXIgYz1lbmNvZGVVUklDb21wb25lbnQoYiksZD10aGlzLmFbYl0sZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1jO1wiXCIhPT1kW2VdJiYoZis9XCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KGRbZV0pKTthLnB1c2goZil9cmV0dXJuIHRoaXMuYj1hLmpvaW4oXCImXCIpfTtmdW5jdGlvbiBtYShhKXt2YXIgYj1uZXcgcGE7Yi5iPWEuYjtpZihhLmEpe3ZhciBjPXt9LGQ7Zm9yKGQgaW4gYS5hKWNbZF09YS5hW2RdLmNvbmNhdCgpO2IuYT1jO2IuYz1hLmN9cmV0dXJuIGJ9O2Z1bmN0aW9uIHhhKGEsYil7cmV0dXJuIGEucmVkdWNlKGZ1bmN0aW9uKGEsYixlKXtyZXR1cm4gYltcImNhdGNoXCJdKGEuYmluZChudWxsLGUpKX0uYmluZChudWxsLGIpLFByb21pc2UucmVqZWN0KCkpfWZ1bmN0aW9uIHgoYSxiKXtyZXR1cm4gYS5jb25jYXQoYil9ZnVuY3Rpb24geSgpe31mdW5jdGlvbiB5YShhKXtyZXR1cm4gbnVsbCE9YX1mdW5jdGlvbiB6YShhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGIhPWF9fWZ1bmN0aW9uIEFhKGEsYixjKXtyZXR1cm4gYy5pbmRleE9mKGEpPT1ifTtmdW5jdGlvbiB6KGEsYil7aWYoIWIubGVuZ3RoKXJldHVybiBhO3ZhciBjPWIubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBuZXcgaWEoYSl9KTtyZXR1cm4gYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBpYShhKX0pLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYy5tYXAoYS5yZXNvbHZlLmJpbmQoYSkpfSkucmVkdWNlKHgsW10pLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS50b1N0cmluZygpfSl9ZnVuY3Rpb24gQmEoYSxiKXtyZXR1cm57a2V5U3lzdGVtOmEsbGljZW5zZVNlcnZlclVyaTpcIlwiLGRpc3RpbmN0aXZlSWRlbnRpZmllclJlcXVpcmVkOiExLHBlcnNpc3RlbnRTdGF0ZVJlcXVpcmVkOiExLGF1ZGlvUm9idXN0bmVzczpcIlwiLHZpZGVvUm9idXN0bmVzczpcIlwiLHNlcnZlckNlcnRpZmljYXRlOm51bGwsaW5pdERhdGE6Ynx8W10sa2V5SWRzOltdfX07ZnVuY3Rpb24gQ2EoYSxiLGMsZCxlKXt2YXIgZj1lIGluIGQsZztmb3IoZyBpbiBiKXt2YXIgaD1lK1wiLlwiK2csbD1mP2RbZV06Y1tnXSxuPSEhe1wiLmFici5tYW5hZ2VyXCI6ITB9W2hdfHwhIXtzZXJ2ZXJDZXJ0aWZpY2F0ZTohMH1bZ107aWYoZnx8ZyBpbiBhKXZvaWQgMD09PWJbZ10/dm9pZCAwPT09bHx8Zj9kZWxldGUgYVtnXTphW2ddPWw6bj9hW2ddPWJbZ106XCJvYmplY3RcIj09dHlwZW9mIGFbZ10mJlwib2JqZWN0XCI9PXR5cGVvZiBiW2ddP0NhKGFbZ10sYltnXSxsLGQsaCk6dHlwZW9mIGJbZ109PXR5cGVvZiBsJiYoYVtnXT1iW2ddKX19ZnVuY3Rpb24gRGEoYSl7cmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoYSkpfTtmdW5jdGlvbiBBKCl7dmFyIGEsYixjPW5ldyBQcm9taXNlKGZ1bmN0aW9uKGMsZSl7YT1jO2I9ZX0pO2MucmVzb2x2ZT1hO2MucmVqZWN0PWI7cmV0dXJuIGN9O2Z1bmN0aW9uIEIoYSl7dGhpcy5mPSExO3RoaXMuYT1bXTt0aGlzLmI9W107dGhpcy5jPVtdO3RoaXMuaD1hfHxudWxsfW0oXCJzaGFrYS5uZXQuTmV0d29ya2luZ0VuZ2luZVwiLEIpO0IuUmVxdWVzdFR5cGU9e01BTklGRVNUOjAsU0VHTUVOVDoxLExJQ0VOU0U6MixBUFA6M307dmFyIEVhPXt9O0IucmVnaXN0ZXJTY2hlbWU9ZnVuY3Rpb24oYSxiKXtFYVthXT1ifTtCLnVucmVnaXN0ZXJTY2hlbWU9ZnVuY3Rpb24oYSl7ZGVsZXRlIEVhW2FdfTtCLnByb3RvdHlwZS5KZD1mdW5jdGlvbihhKXt0aGlzLmIucHVzaChhKX07Qi5wcm90b3R5cGUucmVnaXN0ZXJSZXF1ZXN0RmlsdGVyPUIucHJvdG90eXBlLkpkO0IucHJvdG90eXBlLm1lPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYjthPWIuaW5kZXhPZihhKTswPD1hJiZiLnNwbGljZShhLDEpfTtCLnByb3RvdHlwZS51bnJlZ2lzdGVyUmVxdWVzdEZpbHRlcj1CLnByb3RvdHlwZS5tZTtcbkIucHJvdG90eXBlLkdjPWZ1bmN0aW9uKCl7dGhpcy5iPVtdfTtCLnByb3RvdHlwZS5jbGVhckFsbFJlcXVlc3RGaWx0ZXJzPUIucHJvdG90eXBlLkdjO0IucHJvdG90eXBlLktkPWZ1bmN0aW9uKGEpe3RoaXMuYy5wdXNoKGEpfTtCLnByb3RvdHlwZS5yZWdpc3RlclJlc3BvbnNlRmlsdGVyPUIucHJvdG90eXBlLktkO0IucHJvdG90eXBlLm5lPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYzthPWIuaW5kZXhPZihhKTswPD1hJiZiLnNwbGljZShhLDEpfTtCLnByb3RvdHlwZS51bnJlZ2lzdGVyUmVzcG9uc2VGaWx0ZXI9Qi5wcm90b3R5cGUubmU7Qi5wcm90b3R5cGUuSGM9ZnVuY3Rpb24oKXt0aGlzLmM9W119O0IucHJvdG90eXBlLmNsZWFyQWxsUmVzcG9uc2VGaWx0ZXJzPUIucHJvdG90eXBlLkhjO2Z1bmN0aW9uIEZhKCl7cmV0dXJue21heEF0dGVtcHRzOjIsYmFzZURlbGF5OjFFMyxiYWNrb2ZmRmFjdG9yOjIsZnV6ekZhY3RvcjouNSx0aW1lb3V0OjB9fVxuZnVuY3Rpb24gQyhhLGIpe3JldHVybnt1cmlzOmEsbWV0aG9kOlwiR0VUXCIsYm9keTpudWxsLGhlYWRlcnM6e30sYWxsb3dDcm9zc1NpdGVDcmVkZW50aWFsczohMSxyZXRyeVBhcmFtZXRlcnM6Yn19Qi5wcm90b3R5cGUubT1mdW5jdGlvbigpe3RoaXMuZj0hMDt0aGlzLmI9W107dGhpcy5jPVtdO2Zvcih2YXIgYT1bXSxiPTA7Yjx0aGlzLmEubGVuZ3RoOysrYilhLnB1c2godGhpcy5hW2JdW1wiY2F0Y2hcIl0oeSkpO3JldHVybiBQcm9taXNlLmFsbChhKX07Qi5wcm90b3R5cGUuZGVzdHJveT1CLnByb3RvdHlwZS5tO1xuQi5wcm90b3R5cGUucmVxdWVzdD1mdW5jdGlvbihhLGIpe2lmKHRoaXMuZilyZXR1cm4gUHJvbWlzZS5yZWplY3QoKTtiLm1ldGhvZD1iLm1ldGhvZHx8XCJHRVRcIjtiLmhlYWRlcnM9Yi5oZWFkZXJzfHx7fTtiLnJldHJ5UGFyYW1ldGVycz1iLnJldHJ5UGFyYW1ldGVycz9EYShiLnJldHJ5UGFyYW1ldGVycyk6RmEoKTtiLnVyaXM9RGEoYi51cmlzKTt2YXIgYz1EYXRlLm5vdygpLGQ9UHJvbWlzZS5yZXNvbHZlKCk7dGhpcy5iLmZvckVhY2goZnVuY3Rpb24oYyl7ZD1kLnRoZW4oYy5iaW5kKG51bGwsYSxiKSl9KTtkPWRbXCJjYXRjaFwiXShmdW5jdGlvbihhKXt0aHJvdyBuZXcgdCgyLDEsMTAwNixhKTt9KTtkPWQudGhlbihmdW5jdGlvbigpe2Zvcih2YXIgZD1EYXRlLm5vdygpLWMsZj1iLnJldHJ5UGFyYW1ldGVyc3x8e30sZz1mLm1heEF0dGVtcHRzfHwxLGg9Zi5iYWNrb2ZmRmFjdG9yfHwyLGY9bnVsbD09Zi5iYXNlRGVsYXk/MUUzOmYuYmFzZURlbGF5LGw9dGhpcy5nKGEsYiwwLFxuZCksbj0xO248ZztuKyspbD1sW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYyxlLGYpe2lmKGYmJjE9PWYuc2V2ZXJpdHkpe2Y9bmV3IEE7dmFyIGc9Yi5yZXRyeVBhcmFtZXRlcnN8fHt9O3dpbmRvdy5zZXRUaW1lb3V0KGYucmVzb2x2ZSxjKigxKygyKk1hdGgucmFuZG9tKCktMSkqKG51bGw9PWcuZnV6ekZhY3Rvcj8uNTpnLmZ1enpGYWN0b3IpKSk7cmV0dXJuIGYudGhlbih0aGlzLmcuYmluZCh0aGlzLGEsYixlLGQpKX10aHJvdyBmO30uYmluZCh0aGlzLGYsbiViLnVyaXMubGVuZ3RoKSksZio9aDtyZXR1cm4gbH0uYmluZCh0aGlzKSk7dGhpcy5hLnB1c2goZCk7cmV0dXJuIGQudGhlbihmdW5jdGlvbihiKXswPD10aGlzLmEuaW5kZXhPZihkKSYmdGhpcy5hLnNwbGljZSh0aGlzLmEuaW5kZXhPZihkKSwxKTt0aGlzLmgmJiFiLmZyb21DYWNoZSYmMT09YSYmdGhpcy5oKGIudGltZU1zLGIuZGF0YS5ieXRlTGVuZ3RoKTtyZXR1cm4gYn0uYmluZCh0aGlzKSlbXCJjYXRjaFwiXShmdW5jdGlvbihhKXthJiZcbihhLnNldmVyaXR5PTIpOzA8PXRoaXMuYS5pbmRleE9mKGQpJiZ0aGlzLmEuc3BsaWNlKHRoaXMuYS5pbmRleE9mKGQpLDEpO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0uYmluZCh0aGlzKSl9O0IucHJvdG90eXBlLnJlcXVlc3Q9Qi5wcm90b3R5cGUucmVxdWVzdDtcbkIucHJvdG90eXBlLmc9ZnVuY3Rpb24oYSxiLGMsZCl7aWYodGhpcy5mKXJldHVybiBQcm9taXNlLnJlamVjdCgpO3ZhciBlPW5ldyBpYShiLnVyaXNbY10pLGY9ZS4kO2Z8fChmPWxvY2F0aW9uLnByb3RvY29sLGY9Zi5zbGljZSgwLC0xKSxqYShlLGYpLGIudXJpc1tjXT1lLnRvU3RyaW5nKCkpO2Y9RWFbZl07aWYoIWYpcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyB0KDIsMSwxRTMsZSkpO3ZhciBnPURhdGUubm93KCk7cmV0dXJuIGYoYi51cmlzW2NdLGIsYSkudGhlbihmdW5jdGlvbihiKXt2b2lkIDA9PWIudGltZU1zJiYoYi50aW1lTXM9RGF0ZS5ub3coKS1nKTt2YXIgYz1EYXRlLm5vdygpLGU9UHJvbWlzZS5yZXNvbHZlKCk7dGhpcy5jLmZvckVhY2goZnVuY3Rpb24oYyl7ZT1lLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGMoYSxiKSl9LmJpbmQodGhpcykpfSk7ZT1lW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYSl7dmFyIGI9MjthIGluc3RhbmNlb2YgdCYmXG4oYj1hLnNldmVyaXR5KTt0aHJvdyBuZXcgdChiLDEsMTAwNyxhKTt9KTtyZXR1cm4gZS50aGVuKGZ1bmN0aW9uKCl7Yi50aW1lTXMrPURhdGUubm93KCktYztiLnRpbWVNcys9ZDtyZXR1cm4gYn0pfS5iaW5kKHRoaXMpKX07ZnVuY3Rpb24gR2EoYSxiLGMpe2Zvcih2YXIgZD0wO2Q8YS5sZW5ndGg7KytkKWlmKGMoYVtkXSxiKSlyZXR1cm4gZDtyZXR1cm4tMX07ZnVuY3Rpb24gSGEoKXt0aGlzLmE9e319SGEucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oYSxiKXt0aGlzLmEuaGFzT3duUHJvcGVydHkoYSk/dGhpcy5hW2FdLnB1c2goYik6dGhpcy5hW2FdPVtiXX07SGEucHJvdG90eXBlLmdldD1mdW5jdGlvbihhKXtyZXR1cm4oYT10aGlzLmFbYV0pP2Euc2xpY2UoKTpudWxsfTtIYS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5hW2FdO2lmKGMpZm9yKHZhciBkPTA7ZDxjLmxlbmd0aDsrK2QpY1tkXT09YiYmKGMuc3BsaWNlKGQsMSksLS1kKX07ZnVuY3Rpb24gRCgpe3RoaXMuYT1uZXcgSGF9RC5wcm90b3R5cGUubT1mdW5jdGlvbigpe0lhKHRoaXMpO3RoaXMuYT1udWxsO3JldHVybiBQcm9taXNlLnJlc29sdmUoKX07ZnVuY3Rpb24gRShhLGIsYyxkKXthLmEmJihiPW5ldyBKYShiLGMsZCksYS5hLnB1c2goYyxiKSl9ZnVuY3Rpb24gS2EoYSxiLGMsZCl7RShhLGIsYyxmdW5jdGlvbihhKXt0aGlzLmhhKGIsYyk7ZChhKX0uYmluZChhKSl9RC5wcm90b3R5cGUuaGE9ZnVuY3Rpb24oYSxiKXtpZih0aGlzLmEpZm9yKHZhciBjPXRoaXMuYS5nZXQoYil8fFtdLGQ9MDtkPGMubGVuZ3RoOysrZCl7dmFyIGU9Y1tkXTtlLnRhcmdldD09YSYmKGUuaGEoKSx0aGlzLmEucmVtb3ZlKGIsZSkpfX07ZnVuY3Rpb24gSWEoYSl7aWYoYS5hKXt2YXIgYj1hLmEsYz1bXSxkO2ZvcihkIGluIGIuYSljLnB1c2guYXBwbHkoYyxiLmFbZF0pO2ZvcihiPTA7YjxjLmxlbmd0aDsrK2IpY1tiXS5oYSgpO2EuYS5hPXt9fX1cbmZ1bmN0aW9uIEphKGEsYixjKXt0aGlzLnRhcmdldD1hO3RoaXMudHlwZT1iO3RoaXMuYT1jO3RoaXMudGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoYixjLCExKX1KYS5wcm90b3R5cGUuaGE9ZnVuY3Rpb24oKXt0aGlzLnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMudHlwZSx0aGlzLmEsITEpO3RoaXMuYT10aGlzLnRhcmdldD1udWxsfTtmdW5jdGlvbiBMYShhKXtyZXR1cm4hYXx8IU9iamVjdC5rZXlzKGEpLmxlbmd0aH1mdW5jdGlvbiBNYShhKXtyZXR1cm4gT2JqZWN0LmtleXMoYSkubWFwKGZ1bmN0aW9uKGIpe3JldHVybiBhW2JdfSl9ZnVuY3Rpb24gTmEoYSxiKXtyZXR1cm4gT2JqZWN0LmtleXMoYSkucmVkdWNlKGZ1bmN0aW9uKGMsZCl7Y1tkXT1iKGFbZF0sZCk7cmV0dXJuIGN9LHt9KX1mdW5jdGlvbiBPYShhLGIpe3JldHVybiBPYmplY3Qua2V5cyhhKS5ldmVyeShmdW5jdGlvbihjKXtyZXR1cm4gYihjLGFbY10pfSl9O2Z1bmN0aW9uIEYoYSl7aWYoIWEpcmV0dXJuXCJcIjthPW5ldyBVaW50OEFycmF5KGEpOzIzOT09YVswXSYmMTg3PT1hWzFdJiYxOTE9PWFbMl0mJihhPWEuc3ViYXJyYXkoMykpO2E9ZXNjYXBlKFBhKGEpKTt0cnl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChhKX1jYXRjaChiKXt0aHJvdyBuZXcgdCgyLDIsMjAwNCk7fX1tKFwic2hha2EudXRpbC5TdHJpbmdVdGlscy5mcm9tVVRGOFwiLEYpO1xuZnVuY3Rpb24gUWEoYSxiKXtpZighYSlyZXR1cm5cIlwiO2lmKGEuYnl0ZUxlbmd0aCUyKXRocm93IG5ldyB0KDIsMiwyMDA0KTtpZihhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpdmFyIGM9YTtlbHNle3ZhciBkPW5ldyBVaW50OEFycmF5KGEuYnl0ZUxlbmd0aCk7ZC5zZXQobmV3IFVpbnQ4QXJyYXkoYSkpO2M9ZC5idWZmZXJ9dmFyIGQ9YS5ieXRlTGVuZ3RoLzIsZT1uZXcgVWludDE2QXJyYXkoZCk7Yz1uZXcgRGF0YVZpZXcoYyk7Zm9yKHZhciBmPTA7ZjxkO2YrKyllW2ZdPWMuZ2V0VWludDE2KDIqZixiKTtyZXR1cm4gUGEoZSl9bShcInNoYWthLnV0aWwuU3RyaW5nVXRpbHMuZnJvbVVURjE2XCIsUWEpO1xuZnVuY3Rpb24gUmEoYSl7dmFyIGI9bmV3IFVpbnQ4QXJyYXkoYSk7aWYoMjM5PT1iWzBdJiYxODc9PWJbMV0mJjE5MT09YlsyXSlyZXR1cm4gRihiKTtpZigyNTQ9PWJbMF0mJjI1NT09YlsxXSlyZXR1cm4gUWEoYi5zdWJhcnJheSgyKSwhMSk7aWYoMjU1PT1iWzBdJiYyNTQ9PWJbMV0pcmV0dXJuIFFhKGIuc3ViYXJyYXkoMiksITApO3ZhciBjPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuYnl0ZUxlbmd0aDw9Ynx8MzI8PWFbYl0mJjEyNj49YVtiXX0uYmluZChudWxsLGIpO2lmKGJbMF18fGJbMl0pe2lmKCFiWzFdJiYhYlszXSlyZXR1cm4gUWEoYSwhMCk7aWYoYygwKSYmYygxKSYmYygyKSYmYygzKSlyZXR1cm4gRihhKX1lbHNlIHJldHVybiBRYShhLCExKTt0aHJvdyBuZXcgdCgyLDIsMjAwMyk7fW0oXCJzaGFrYS51dGlsLlN0cmluZ1V0aWxzLmZyb21CeXRlc0F1dG9EZXRlY3RcIixSYSk7XG5mdW5jdGlvbiBTYShhKXthPXVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChhKSk7Zm9yKHZhciBiPW5ldyBVaW50OEFycmF5KGEubGVuZ3RoKSxjPTA7YzxhLmxlbmd0aDsrK2MpYltjXT1hLmNoYXJDb2RlQXQoYyk7cmV0dXJuIGIuYnVmZmVyfW0oXCJzaGFrYS51dGlsLlN0cmluZ1V0aWxzLnRvVVRGOFwiLFNhKTtmdW5jdGlvbiBQYShhKXtmb3IodmFyIGI9XCJcIixjPTA7YzxhLmxlbmd0aDtjKz0xNkUzKWIrPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxhLnN1YmFycmF5KGMsYysxNkUzKSk7cmV0dXJuIGJ9O2Z1bmN0aW9uIFRhKGEpe3RoaXMuYT1udWxsO3RoaXMuYj1mdW5jdGlvbigpe3RoaXMuYT1udWxsO2EoKX0uYmluZCh0aGlzKX1UYS5wcm90b3R5cGUuY2FuY2VsPWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5hJiYoY2xlYXJUaW1lb3V0KHRoaXMuYSksdGhpcy5hPW51bGwpfTtmdW5jdGlvbiBVYShhKXthLmNhbmNlbCgpO2EuYT1zZXRUaW1lb3V0KGEuYiw1MDApfTtmdW5jdGlvbiBWYShhLGIpe3ZhciBjPXZvaWQgMD09Yj8hMDpiLGQ9d2luZG93LmJ0b2EoU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLGEpKS5yZXBsYWNlKC9cXCsvZyxcIi1cIikucmVwbGFjZSgvXFwvL2csXCJfXCIpO3JldHVybiBjP2Q6ZC5yZXBsYWNlKC89KiQvLFwiXCIpfW0oXCJzaGFrYS51dGlsLlVpbnQ4QXJyYXlVdGlscy50b0Jhc2U2NFwiLFZhKTtmdW5jdGlvbiBXYShhKXthPXdpbmRvdy5hdG9iKGEucmVwbGFjZSgvLS9nLFwiK1wiKS5yZXBsYWNlKC9fL2csXCIvXCIpKTtmb3IodmFyIGI9bmV3IFVpbnQ4QXJyYXkoYS5sZW5ndGgpLGM9MDtjPGEubGVuZ3RoOysrYyliW2NdPWEuY2hhckNvZGVBdChjKTtyZXR1cm4gYn1tKFwic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMuZnJvbUJhc2U2NFwiLFdhKTtcbmZ1bmN0aW9uIFhhKGEpe2Zvcih2YXIgYj1uZXcgVWludDhBcnJheShhLmxlbmd0aC8yKSxjPTA7YzxhLmxlbmd0aDtjKz0yKWJbYy8yXT13aW5kb3cucGFyc2VJbnQoYS5zdWJzdHIoYywyKSwxNik7cmV0dXJuIGJ9bShcInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLmZyb21IZXhcIixYYSk7ZnVuY3Rpb24gWWEoYSl7Zm9yKHZhciBiPVwiXCIsYz0wO2M8YS5sZW5ndGg7KytjKXt2YXIgZD1hW2NdLnRvU3RyaW5nKDE2KTsxPT1kLmxlbmd0aCYmKGQ9XCIwXCIrZCk7Yis9ZH1yZXR1cm4gYn1tKFwic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMudG9IZXhcIixZYSk7ZnVuY3Rpb24gWmEoYSxiKXtpZighYSYmIWIpcmV0dXJuITA7aWYoIWF8fCFifHxhLmxlbmd0aCE9Yi5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDsrK2MpaWYoYVtjXSE9YltjXSlyZXR1cm4hMTtyZXR1cm4hMH1tKFwic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMuZXF1YWxcIixaYSk7XG5tKFwic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMuY29uY2F0XCIsZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTAsYz0wO2M8YXJndW1lbnRzLmxlbmd0aDsrK2MpYis9YXJndW1lbnRzW2NdLmxlbmd0aDtmb3IodmFyIGI9bmV3IFVpbnQ4QXJyYXkoYiksZD0wLGM9MDtjPGFyZ3VtZW50cy5sZW5ndGg7KytjKWIuc2V0KGFyZ3VtZW50c1tjXSxkKSxkKz1hcmd1bWVudHNbY10ubGVuZ3RoO3JldHVybiBifSk7ZnVuY3Rpb24gJGEoYSxiLGMsZCl7dGhpcy5qPXRoaXMuaT10aGlzLnY9bnVsbDt0aGlzLko9ITE7dGhpcy5iPW51bGw7dGhpcy5mPW5ldyBEO3RoaXMuYT1bXTt0aGlzLm89W107dGhpcy5sPW5ldyBBO3RoaXMua2E9YTt0aGlzLmg9bnVsbDt0aGlzLmc9ZnVuY3Rpb24oYSl7dGhpcy5sLnJlamVjdChhKTtiKGEpfS5iaW5kKHRoaXMpO3RoaXMuQT17fTt0aGlzLkJhPWM7dGhpcy5sYT1kO3RoaXMuQj1uZXcgVGEodGhpcy5JZC5iaW5kKHRoaXMpKTt0aGlzLmphPXRoaXMuYz0hMTt0aGlzLkc9W107dGhpcy5pYT0hMTt0aGlzLlA9c2V0SW50ZXJ2YWwodGhpcy5IZC5iaW5kKHRoaXMpLDFFMyk7dGhpcy5sW1wiY2F0Y2hcIl0oZnVuY3Rpb24oKXt9KX1rPSRhLnByb3RvdHlwZTtcbmsubT1mdW5jdGlvbigpe3RoaXMuYz0hMDt2YXIgYT10aGlzLmEubWFwKGZ1bmN0aW9uKGEpe3JldHVybihhLmFhLmNsb3NlKCl8fFByb21pc2UucmVzb2x2ZSgpKVtcImNhdGNoXCJdKHkpfSk7dGhpcy5sLnJlamVjdCgpO3RoaXMuZiYmYS5wdXNoKHRoaXMuZi5tKCkpO3RoaXMuaiYmYS5wdXNoKHRoaXMuai5zZXRNZWRpYUtleXMobnVsbClbXCJjYXRjaFwiXSh5KSk7dGhpcy5QJiYoY2xlYXJJbnRlcnZhbCh0aGlzLlApLHRoaXMuUD1udWxsKTt0aGlzLkImJnRoaXMuQi5jYW5jZWwoKTt0aGlzLmY9dGhpcy5qPXRoaXMuaT10aGlzLnY9dGhpcy5iPXRoaXMuQj1udWxsO3RoaXMuYT1bXTt0aGlzLm89W107dGhpcy5sYT10aGlzLmc9dGhpcy5oPXRoaXMua2E9bnVsbDtyZXR1cm4gUHJvbWlzZS5hbGwoYSl9O2suY29uZmlndXJlPWZ1bmN0aW9uKGEpe3RoaXMuaD1hfTtcbmsuaW5pdD1mdW5jdGlvbihhLGIpe3ZhciBjPXt9LGQ9W107dGhpcy5qYT1iO3RoaXMubz1hLm9mZmxpbmVTZXNzaW9uSWRzO2FiKHRoaXMsYSxifHwwPGEub2ZmbGluZVNlc3Npb25JZHMubGVuZ3RoLGMsZCk7cmV0dXJuIGQubGVuZ3RoP2JiKHRoaXMsYyxkKToodGhpcy5KPSEwLFByb21pc2UucmVzb2x2ZSgpKX07XG5mdW5jdGlvbiBjYihhLGIpe2lmKCFhLmkpcmV0dXJuIEthKGEuZixiLFwiZW5jcnlwdGVkXCIsZnVuY3Rpb24oKXt0aGlzLmcobmV3IHQoMiw2LDYwMTApKX0uYmluZChhKSksUHJvbWlzZS5yZXNvbHZlKCk7YS5qPWI7S2EoYS5mLGEuaixcInBsYXlcIixhLm9kLmJpbmQoYSkpO3ZhciBjPWEuai5zZXRNZWRpYUtleXMoYS5pKSxjPWNbXCJjYXRjaFwiXShmdW5jdGlvbihhKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IHQoMiw2LDYwMDMsYS5tZXNzYWdlKSl9KSxkPW51bGw7YS5iLnNlcnZlckNlcnRpZmljYXRlJiYoZD1hLmkuc2V0U2VydmVyQ2VydGlmaWNhdGUoYS5iLnNlcnZlckNlcnRpZmljYXRlKS50aGVuKGZ1bmN0aW9uKCl7fSlbXCJjYXRjaFwiXShmdW5jdGlvbihhKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IHQoMiw2LDYwMDQsYS5tZXNzYWdlKSl9KSk7cmV0dXJuIFByb21pc2UuYWxsKFtjLGRdKS50aGVuKGZ1bmN0aW9uKCl7aWYodGhpcy5jKXJldHVybiBQcm9taXNlLnJlamVjdCgpO1xuZGIodGhpcyk7dGhpcy5iLmluaXREYXRhLmxlbmd0aHx8dGhpcy5vLmxlbmd0aHx8RSh0aGlzLmYsdGhpcy5qLFwiZW5jcnlwdGVkXCIsdGhpcy5kZC5iaW5kKHRoaXMpKX0uYmluZChhKSlbXCJjYXRjaFwiXShmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jP1Byb21pc2UucmVzb2x2ZSgpOlByb21pc2UucmVqZWN0KGEpfS5iaW5kKGEpKX1mdW5jdGlvbiBlYihhLGIpe3JldHVybiBQcm9taXNlLmFsbChiLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gZmIodGhpcyxhKS50aGVuKGZ1bmN0aW9uKGEpe2lmKGEpe2Zvcih2YXIgYj1uZXcgQSxjPTA7Yzx0aGlzLmEubGVuZ3RoO2MrKylpZih0aGlzLmFbY10uYWE9PWEpe3RoaXMuYVtjXS5pYj1iO2JyZWFrfXJldHVybiBQcm9taXNlLmFsbChbYS5yZW1vdmUoKSxiXSl9fS5iaW5kKHRoaXMpKX0uYmluZChhKSkpfVxuZnVuY3Rpb24gZGIoYSl7dmFyIGI9YS5iP2EuYi5pbml0RGF0YTpbXTtiLmZvckVhY2goZnVuY3Rpb24oYSl7Z2IodGhpcyxhLmluaXREYXRhVHlwZSxhLmluaXREYXRhKX0uYmluZChhKSk7YS5vLmZvckVhY2goZnVuY3Rpb24oYSl7ZmIodGhpcyxhKX0uYmluZChhKSk7Yi5sZW5ndGh8fGEuby5sZW5ndGh8fGEubC5yZXNvbHZlKCk7cmV0dXJuIGEubH1rLmtleVN5c3RlbT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmI/dGhpcy5iLmtleVN5c3RlbTpcIlwifTtmdW5jdGlvbiBoYihhKXtyZXR1cm4gYS5hLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5hYS5zZXNzaW9uSWR9KX1rLmFiPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5hLm1hcChmdW5jdGlvbihhKXthPWEuYWEuZXhwaXJhdGlvbjtyZXR1cm4gaXNOYU4oYSk/SW5maW5pdHk6YX0pO3JldHVybiBNYXRoLm1pbi5hcHBseShNYXRoLGEpfTtcbmZ1bmN0aW9uIGFiKGEsYixjLGQsZSl7dmFyIGY9aWIoYSk7Yi5wZXJpb2RzLmZvckVhY2goZnVuY3Rpb24oYSl7YS52YXJpYW50cy5mb3JFYWNoKGZ1bmN0aW9uKGEpe2YmJihhLmRybUluZm9zPVtmXSk7YS5kcm1JbmZvcy5mb3JFYWNoKGZ1bmN0aW9uKGIpe2piKHRoaXMsYik7d2luZG93LmNhc3QmJndpbmRvdy5jYXN0Ll9fcGxhdGZvcm1fXyYmXCJjb20ubWljcm9zb2Z0LnBsYXlyZWFkeVwiPT1iLmtleVN5c3RlbSYmKGIua2V5U3lzdGVtPVwiY29tLmNocm9tZWNhc3QucGxheXJlYWR5XCIpO3ZhciBmPWRbYi5rZXlTeXN0ZW1dO2Z8fChmPXthdWRpb0NhcGFiaWxpdGllczpbXSx2aWRlb0NhcGFiaWxpdGllczpbXSxkaXN0aW5jdGl2ZUlkZW50aWZpZXI6XCJvcHRpb25hbFwiLHBlcnNpc3RlbnRTdGF0ZTpjP1wicmVxdWlyZWRcIjpcIm9wdGlvbmFsXCIsc2Vzc2lvblR5cGVzOltjP1wicGVyc2lzdGVudC1saWNlbnNlXCI6XCJ0ZW1wb3JhcnlcIl0sbGFiZWw6Yi5rZXlTeXN0ZW0sZHJtSW5mb3M6W119LFxuZFtiLmtleVN5c3RlbV09ZixlLnB1c2goYi5rZXlTeXN0ZW0pKTtmLmRybUluZm9zLnB1c2goYik7Yi5kaXN0aW5jdGl2ZUlkZW50aWZpZXJSZXF1aXJlZCYmKGYuZGlzdGluY3RpdmVJZGVudGlmaWVyPVwicmVxdWlyZWRcIik7Yi5wZXJzaXN0ZW50U3RhdGVSZXF1aXJlZCYmKGYucGVyc2lzdGVudFN0YXRlPVwicmVxdWlyZWRcIik7dmFyIGc9W107YS52aWRlbyYmZy5wdXNoKGEudmlkZW8pO2EuYXVkaW8mJmcucHVzaChhLmF1ZGlvKTtnLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGM9XCJ2aWRlb1wiPT1hLnR5cGU/Zi52aWRlb0NhcGFiaWxpdGllczpmLmF1ZGlvQ2FwYWJpbGl0aWVzLGQ9KFwidmlkZW9cIj09YS50eXBlP2IudmlkZW9Sb2J1c3RuZXNzOmIuYXVkaW9Sb2J1c3RuZXNzKXx8XCJcIixlPWEubWltZVR5cGU7YS5jb2RlY3MmJihlKz0nOyBjb2RlY3M9XCInK2EuY29kZWNzKydcIicpO2MucHVzaCh7cm9idXN0bmVzczpkLGNvbnRlbnRUeXBlOmV9KX0uYmluZCh0aGlzKSl9LmJpbmQodGhpcykpfS5iaW5kKHRoaXMpKX0uYmluZChhKSl9XG5mdW5jdGlvbiBiYihhLGIsYyl7aWYoMT09Yy5sZW5ndGgmJlwiXCI9PWNbMF0pcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyB0KDIsNiw2RTMpKTt2YXIgZD1uZXcgQSxlPWQ7WyEwLCExXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2MuZm9yRWFjaChmdW5jdGlvbihjKXt2YXIgZD1iW2NdO2QuZHJtSW5mb3Muc29tZShmdW5jdGlvbihhKXtyZXR1cm4hIWEubGljZW5zZVNlcnZlclVyaX0pPT1hJiYoZC5hdWRpb0NhcGFiaWxpdGllcy5sZW5ndGh8fGRlbGV0ZSBkLmF1ZGlvQ2FwYWJpbGl0aWVzLGQudmlkZW9DYXBhYmlsaXRpZXMubGVuZ3RofHxkZWxldGUgZC52aWRlb0NhcGFiaWxpdGllcyxlPWVbXCJjYXRjaFwiXShmdW5jdGlvbigpe3JldHVybiB0aGlzLmM/UHJvbWlzZS5yZWplY3QoKTpuYXZpZ2F0b3IucmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzKGMsW2RdKX0uYmluZCh0aGlzKSkpfS5iaW5kKHRoaXMpKX0uYmluZChhKSk7ZT1lW1wiY2F0Y2hcIl0oZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IHQoMixcbjYsNjAwMSkpfSk7ZT1lLnRoZW4oZnVuY3Rpb24oYSl7aWYodGhpcy5jKXJldHVybiBQcm9taXNlLnJlamVjdCgpO3ZhciBjPTA8PW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIkVkZ2UvXCIpLGQ9YS5nZXRDb25maWd1cmF0aW9uKCk7dGhpcy52PShkLmF1ZGlvQ2FwYWJpbGl0aWVzfHxbXSkuY29uY2F0KGQudmlkZW9DYXBhYmlsaXRpZXN8fFtdKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuY29udGVudFR5cGV9KTtjJiYodGhpcy52PW51bGwpO2M9YlthLmtleVN5c3RlbV07a2IodGhpcyxhLmtleVN5c3RlbSxjLGMuZHJtSW5mb3MpO3JldHVybiB0aGlzLmIubGljZW5zZVNlcnZlclVyaT9hLmNyZWF0ZU1lZGlhS2V5cygpOlByb21pc2UucmVqZWN0KG5ldyB0KDIsNiw2MDEyKSl9LmJpbmQoYSkpLnRoZW4oZnVuY3Rpb24oYSl7aWYodGhpcy5jKXJldHVybiBQcm9taXNlLnJlamVjdCgpO3RoaXMuaT1hO3RoaXMuSj0hMH0uYmluZChhKSlbXCJjYXRjaFwiXShmdW5jdGlvbihhKXtpZih0aGlzLmMpcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xudGhpcy52PXRoaXMuYj1udWxsO3JldHVybiBhIGluc3RhbmNlb2YgdD9Qcm9taXNlLnJlamVjdChhKTpQcm9taXNlLnJlamVjdChuZXcgdCgyLDYsNjAwMixhLm1lc3NhZ2UpKX0uYmluZChhKSk7ZC5yZWplY3QoKTtyZXR1cm4gZX1cbmZ1bmN0aW9uIGpiKGEsYil7dmFyIGM9Yi5rZXlTeXN0ZW07aWYoYyl7aWYoIWIubGljZW5zZVNlcnZlclVyaSl7dmFyIGQ9YS5oLnNlcnZlcnNbY107ZCYmKGIubGljZW5zZVNlcnZlclVyaT1kKX1iLmtleUlkc3x8KGIua2V5SWRzPVtdKTtpZihjPWEuaC5hZHZhbmNlZFtjXSliLmRpc3RpbmN0aXZlSWRlbnRpZmllclJlcXVpcmVkfHwoYi5kaXN0aW5jdGl2ZUlkZW50aWZpZXJSZXF1aXJlZD1jLmRpc3RpbmN0aXZlSWRlbnRpZmllclJlcXVpcmVkKSxiLnBlcnNpc3RlbnRTdGF0ZVJlcXVpcmVkfHwoYi5wZXJzaXN0ZW50U3RhdGVSZXF1aXJlZD1jLnBlcnNpc3RlbnRTdGF0ZVJlcXVpcmVkKSxiLnZpZGVvUm9idXN0bmVzc3x8KGIudmlkZW9Sb2J1c3RuZXNzPWMudmlkZW9Sb2J1c3RuZXNzKSxiLmF1ZGlvUm9idXN0bmVzc3x8KGIuYXVkaW9Sb2J1c3RuZXNzPWMuYXVkaW9Sb2J1c3RuZXNzKSxiLnNlcnZlckNlcnRpZmljYXRlfHwoYi5zZXJ2ZXJDZXJ0aWZpY2F0ZT1jLnNlcnZlckNlcnRpZmljYXRlKX19XG5mdW5jdGlvbiBpYihhKXtpZihMYShhLmguY2xlYXJLZXlzKSlyZXR1cm4gbnVsbDt2YXIgYj1bXSxjPVtdLGQ7Zm9yKGQgaW4gYS5oLmNsZWFyS2V5cyl7dmFyIGU9YS5oLmNsZWFyS2V5c1tkXSxmPVhhKGQpLGU9WGEoZSksZj17a3R5Olwib2N0XCIsa2lkOlZhKGYsITEpLGs6VmEoZSwhMSl9O2IucHVzaChmKTtjLnB1c2goZi5raWQpfWE9SlNPTi5zdHJpbmdpZnkoe2tleXM6Yn0pO2M9SlNPTi5zdHJpbmdpZnkoe2tpZHM6Y30pO2M9W3tpbml0RGF0YTpuZXcgVWludDhBcnJheShTYShjKSksaW5pdERhdGFUeXBlOlwia2V5aWRzXCJ9XTtyZXR1cm57a2V5U3lzdGVtOlwib3JnLnczLmNsZWFya2V5XCIsbGljZW5zZVNlcnZlclVyaTpcImRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIrd2luZG93LmJ0b2EoYSksZGlzdGluY3RpdmVJZGVudGlmaWVyUmVxdWlyZWQ6ITEscGVyc2lzdGVudFN0YXRlUmVxdWlyZWQ6ITEsYXVkaW9Sb2J1c3RuZXNzOlwiXCIsdmlkZW9Sb2J1c3RuZXNzOlwiXCIsc2VydmVyQ2VydGlmaWNhdGU6bnVsbCxcbmluaXREYXRhOmMsa2V5SWRzOltdfX1mdW5jdGlvbiBrYihhLGIsYyxkKXt2YXIgZT1bXSxmPVtdLGc9W10saD1bXTtsYihkLGUsZixnLGgpO2EuYj17a2V5U3lzdGVtOmIsbGljZW5zZVNlcnZlclVyaTplWzBdLGRpc3RpbmN0aXZlSWRlbnRpZmllclJlcXVpcmVkOlwicmVxdWlyZWRcIj09Yy5kaXN0aW5jdGl2ZUlkZW50aWZpZXIscGVyc2lzdGVudFN0YXRlUmVxdWlyZWQ6XCJyZXF1aXJlZFwiPT1jLnBlcnNpc3RlbnRTdGF0ZSxhdWRpb1JvYnVzdG5lc3M6Yy5hdWRpb0NhcGFiaWxpdGllcz9jLmF1ZGlvQ2FwYWJpbGl0aWVzWzBdLnJvYnVzdG5lc3M6XCJcIix2aWRlb1JvYnVzdG5lc3M6Yy52aWRlb0NhcGFiaWxpdGllcz9jLnZpZGVvQ2FwYWJpbGl0aWVzWzBdLnJvYnVzdG5lc3M6XCJcIixzZXJ2ZXJDZXJ0aWZpY2F0ZTpmWzBdLGluaXREYXRhOmcsa2V5SWRzOmh9fVxuZnVuY3Rpb24gbGIoYSxiLGMsZCxlKXtmdW5jdGlvbiBmKGEsYil7cmV0dXJuIGEua2V5SWQmJmEua2V5SWQ9PWIua2V5SWQ/ITA6YS5pbml0RGF0YVR5cGU9PWIuaW5pdERhdGFUeXBlJiZaYShhLmluaXREYXRhLGIuaW5pdERhdGEpfWEuZm9yRWFjaChmdW5jdGlvbihhKXstMT09Yi5pbmRleE9mKGEubGljZW5zZVNlcnZlclVyaSkmJmIucHVzaChhLmxpY2Vuc2VTZXJ2ZXJVcmkpO2Euc2VydmVyQ2VydGlmaWNhdGUmJi0xPT1HYShjLGEuc2VydmVyQ2VydGlmaWNhdGUsWmEpJiZjLnB1c2goYS5zZXJ2ZXJDZXJ0aWZpY2F0ZSk7YS5pbml0RGF0YSYmYS5pbml0RGF0YS5mb3JFYWNoKGZ1bmN0aW9uKGEpey0xPT1HYShkLGEsZikmJmQucHVzaChhKX0pO2lmKGEua2V5SWRzKWZvcih2YXIgZz0wO2c8YS5rZXlJZHMubGVuZ3RoOysrZyktMT09ZS5pbmRleE9mKGEua2V5SWRzW2ddKSYmZS5wdXNoKGEua2V5SWRzW2ddKX0pfVxuay5kZD1mdW5jdGlvbihhKXtmb3IodmFyIGI9bmV3IFVpbnQ4QXJyYXkoYS5pbml0RGF0YSksYz0wO2M8dGhpcy5hLmxlbmd0aDsrK2MpaWYoWmEoYix0aGlzLmFbY10uaW5pdERhdGEpKXJldHVybjtnYih0aGlzLGEuaW5pdERhdGFUeXBlLGIpfTtcbmZ1bmN0aW9uIGZiKGEsYil7dHJ5e3ZhciBjPWEuaS5jcmVhdGVTZXNzaW9uKFwicGVyc2lzdGVudC1saWNlbnNlXCIpfWNhdGNoKGYpe3ZhciBkPW5ldyB0KDIsNiw2MDA1LGYubWVzc2FnZSk7YS5nKGQpO3JldHVybiBQcm9taXNlLnJlamVjdChkKX1FKGEuZixjLFwibWVzc2FnZVwiLGEuaWMuYmluZChhKSk7RShhLmYsYyxcImtleXN0YXR1c2VzY2hhbmdlXCIsYS5jYy5iaW5kKGEpKTt2YXIgZT17aW5pdERhdGE6bnVsbCxhYTpjLGxvYWRlZDohMSx4YjpJbmZpbml0eSxpYjpudWxsfTthLmEucHVzaChlKTtyZXR1cm4gYy5sb2FkKGIpLnRoZW4oZnVuY3Rpb24oYSl7aWYoIXRoaXMuYyl7aWYoYSlyZXR1cm4gZS5sb2FkZWQ9ITAsdGhpcy5hLmV2ZXJ5KGZ1bmN0aW9uKGEpe3JldHVybiBhLmxvYWRlZH0pJiZ0aGlzLmwucmVzb2x2ZSgpLGM7dGhpcy5hLnNwbGljZSh0aGlzLmEuaW5kZXhPZihlKSwxKTt0aGlzLmcobmV3IHQoMiw2LDYwMTMpKX19LmJpbmQoYSksZnVuY3Rpb24oYSl7dGhpcy5jfHxcbih0aGlzLmEuc3BsaWNlKHRoaXMuYS5pbmRleE9mKGUpLDEpLHRoaXMuZyhuZXcgdCgyLDYsNjAwNSxhLm1lc3NhZ2UpKSl9LmJpbmQoYSkpfVxuZnVuY3Rpb24gZ2IoYSxiLGMpe3RyeXt2YXIgZD1hLmphP2EuaS5jcmVhdGVTZXNzaW9uKFwicGVyc2lzdGVudC1saWNlbnNlXCIpOmEuaS5jcmVhdGVTZXNzaW9uKCl9Y2F0Y2goZSl7YS5nKG5ldyB0KDIsNiw2MDA1LGUubWVzc2FnZSkpO3JldHVybn1FKGEuZixkLFwibWVzc2FnZVwiLGEuaWMuYmluZChhKSk7RShhLmYsZCxcImtleXN0YXR1c2VzY2hhbmdlXCIsYS5jYy5iaW5kKGEpKTthLmEucHVzaCh7aW5pdERhdGE6YyxhYTpkLGxvYWRlZDohMSx4YjpJbmZpbml0eSxpYjpudWxsfSk7ZC5nZW5lcmF0ZVJlcXVlc3QoYixjLmJ1ZmZlcilbXCJjYXRjaFwiXShmdW5jdGlvbihhKXtpZighdGhpcy5jKXtmb3IodmFyIGI9MDtiPHRoaXMuYS5sZW5ndGg7KytiKWlmKHRoaXMuYVtiXS5hYT09ZCl7dGhpcy5hLnNwbGljZShiLDEpO2JyZWFrfXRoaXMuZyhuZXcgdCgyLDYsNjAwNixhLm1lc3NhZ2UpKX19LmJpbmQoYSkpfVxuay5pYz1mdW5jdGlvbihhKXt0aGlzLmguZGVsYXlMaWNlbnNlUmVxdWVzdFVudGlsUGxheWVkJiZ0aGlzLmoucGF1c2VkJiYhdGhpcy5pYT90aGlzLkcucHVzaChhKTptYih0aGlzLGEpfTtcbmZ1bmN0aW9uIG1iKGEsYil7Zm9yKHZhciBjPWIudGFyZ2V0LGQsZT0wO2U8YS5hLmxlbmd0aDtlKyspaWYoYS5hW2VdLmFhPT1jKXtkPWEuYVtlXS5pYjticmVha31lPUMoW2EuYi5saWNlbnNlU2VydmVyVXJpXSxhLmgucmV0cnlQYXJhbWV0ZXJzKTtlLmJvZHk9Yi5tZXNzYWdlO2UubWV0aG9kPVwiUE9TVFwiO1wiY29tLm1pY3Jvc29mdC5wbGF5cmVhZHlcIj09YS5iLmtleVN5c3RlbSYmbmIoZSk7YS5rYS5yZXF1ZXN0KDIsZSkudGhlbihmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jP1Byb21pc2UucmVqZWN0KCk6Yy51cGRhdGUoYS5kYXRhKS50aGVuKGZ1bmN0aW9uKCl7ZCYmZC5yZXNvbHZlKCl9KX0uYmluZChhKSxmdW5jdGlvbihhKXtpZih0aGlzLmMpcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO2E9bmV3IHQoMiw2LDYwMDcsYSk7dGhpcy5nKGEpO2QmJmQucmVqZWN0KGEpfS5iaW5kKGEpKVtcImNhdGNoXCJdKGZ1bmN0aW9uKGEpe2lmKHRoaXMuYylyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG5hPW5ldyB0KDIsNiw2MDA4LGEubWVzc2FnZSk7dGhpcy5nKGEpO2QmJmQucmVqZWN0KGEpfS5iaW5kKGEpKX1cbmZ1bmN0aW9uIG5iKGEpe3ZhciBiPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuZXcgVWludDhBcnJheShhLmJvZHkpKTtpZihiLmluZGV4T2YoXCI8UGxheVJlYWR5S2V5TWVzc2FnZVwiKSlhLmhlYWRlcnNbXCJDb250ZW50LVR5cGVcIl09XCJ0ZXh0L3htbDsgY2hhcnNldD11dGYtOFwiO2Vsc2V7Zm9yKHZhciBiPVFhKGEuYm9keSwhMCksYj0obmV3IERPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKGIsXCJhcHBsaWNhdGlvbi94bWxcIiksYz1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiSHR0cEhlYWRlclwiKSxkPTA7ZDxjLmxlbmd0aDsrK2QpYS5oZWFkZXJzW2NbZF0ucXVlcnlTZWxlY3RvcihcIm5hbWVcIikudGV4dENvbnRlbnRdPWNbZF0ucXVlcnlTZWxlY3RvcihcInZhbHVlXCIpLnRleHRDb250ZW50O2EuYm9keT1XYShiLnF1ZXJ5U2VsZWN0b3IoXCJDaGFsbGVuZ2VcIikudGV4dENvbnRlbnQpLmJ1ZmZlcn19XG5rLmNjPWZ1bmN0aW9uKGEpe2E9YS50YXJnZXQ7dmFyIGI7Zm9yKGI9MDtiPHRoaXMuYS5sZW5ndGgmJnRoaXMuYVtiXS5hYSE9YTsrK2IpO2lmKGIhPXRoaXMuYS5sZW5ndGgpe3ZhciBjPSExO2Eua2V5U3RhdHVzZXMuZm9yRWFjaChmdW5jdGlvbihhLGQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBkKXt2YXIgZT1kO2Q9YTthPWV9aWYoXCJjb20ubWljcm9zb2Z0LnBsYXlyZWFkeVwiPT10aGlzLmIua2V5U3lzdGVtJiYxNj09ZC5ieXRlTGVuZ3RoKXt2YXIgZT1uZXcgRGF0YVZpZXcoZCksZj1lLmdldFVpbnQzMigwLCEwKSxsPWUuZ2V0VWludDE2KDQsITApLG49ZS5nZXRVaW50MTYoNiwhMCk7ZS5zZXRVaW50MzIoMCxmLCExKTtlLnNldFVpbnQxNig0LGwsITEpO2Uuc2V0VWludDE2KDYsbiwhMSl9XCJjb20ubWljcm9zb2Z0LnBsYXlyZWFkeVwiPT10aGlzLmIua2V5U3lzdGVtJiZcInN0YXR1cy1wZW5kaW5nXCI9PWEmJihhPVwidXNhYmxlXCIpO1wic3RhdHVzLXBlbmRpbmdcIiE9YSYmKHRoaXMuYVtiXS5sb2FkZWQ9XG4hMCx0aGlzLmEuZXZlcnkoZnVuY3Rpb24oYSl7cmV0dXJuIGEubG9hZGVkfSkmJnRoaXMubC5yZXNvbHZlKCkpO1wiZXhwaXJlZFwiPT1hJiYoYz0hMCk7ZT1ZYShuZXcgVWludDhBcnJheShkKSk7dGhpcy5BW2VdPWF9LmJpbmQodGhpcykpO3ZhciBkPWEuZXhwaXJhdGlvbi1EYXRlLm5vdygpOygwPmR8fGMmJjFFMz5kKSYmIXRoaXMuYVtiXS5pYiYmKHRoaXMuYS5zcGxpY2UoYiwxKSxhLmNsb3NlKCkpO1VhKHRoaXMuQil9fTtrLklkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGMpe3JldHVyblwiZXhwaXJlZFwiPT1jfSFMYSh0aGlzLkEpJiZPYSh0aGlzLkEsYSkmJnRoaXMuZyhuZXcgdCgyLDYsNjAxNCkpO3RoaXMuQmEodGhpcy5BKX07XG5mdW5jdGlvbiBvYigpe3ZhciBhPVtdLGI9W3tjb250ZW50VHlwZTondmlkZW8vbXA0OyBjb2RlY3M9XCJhdmMxLjQyRTAxRVwiJ30se2NvbnRlbnRUeXBlOid2aWRlby93ZWJtOyBjb2RlY3M9XCJ2cDhcIid9XSxjPVt7dmlkZW9DYXBhYmlsaXRpZXM6YixwZXJzaXN0ZW50U3RhdGU6XCJyZXF1aXJlZFwiLHNlc3Npb25UeXBlczpbXCJwZXJzaXN0ZW50LWxpY2Vuc2VcIl19LHt2aWRlb0NhcGFiaWxpdGllczpifV0sZD17fTtcIm9yZy53My5jbGVhcmtleSBjb20ud2lkZXZpbmUuYWxwaGEgY29tLm1pY3Jvc29mdC5wbGF5cmVhZHkgY29tLmFwcGxlLmZwcy4yXzAgY29tLmFwcGxlLmZwcy4xXzAgY29tLmFwcGxlLmZwcyBjb20uYWRvYmUucHJpbWV0aW1lXCIuc3BsaXQoXCIgXCIpLmZvckVhY2goZnVuY3Rpb24oYil7dmFyIGU9bmF2aWdhdG9yLnJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2VzcyhiLGMpLnRoZW4oZnVuY3Rpb24oYSl7dmFyIGM9YS5nZXRDb25maWd1cmF0aW9uKCkuc2Vzc2lvblR5cGVzO2RbYl09XG57cGVyc2lzdGVudFN0YXRlOmM/MDw9Yy5pbmRleE9mKFwicGVyc2lzdGVudC1saWNlbnNlXCIpOiExfTtyZXR1cm4gYS5jcmVhdGVNZWRpYUtleXMoKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oKXtkW2JdPW51bGx9KTthLnB1c2goZSl9KTtyZXR1cm4gUHJvbWlzZS5hbGwoYSkudGhlbihmdW5jdGlvbigpe3JldHVybiBkfSl9ay5vZD1mdW5jdGlvbigpe2Zvcih2YXIgYT0wO2E8dGhpcy5HLmxlbmd0aDthKyspbWIodGhpcyx0aGlzLkdbYV0pO3RoaXMuaWE9ITA7dGhpcy5HPVtdfTtmdW5jdGlvbiBwYihhLGIpe3ZhciBjPWEua2V5U3lzdGVtKCk7cmV0dXJuIWIuZHJtSW5mb3MubGVuZ3RofHxiLmRybUluZm9zLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIGEua2V5U3lzdGVtPT1jfSl9XG5mdW5jdGlvbiBxYihhLGIpe2lmKCFhLmxlbmd0aClyZXR1cm4gYjtpZighYi5sZW5ndGgpcmV0dXJuIGE7Zm9yKHZhciBjPVtdLGQ9MDtkPGEubGVuZ3RoO2QrKylmb3IodmFyIGU9MDtlPGIubGVuZ3RoO2UrKylpZihhW2RdLmtleVN5c3RlbT09YltlXS5rZXlTeXN0ZW0pe3ZhciBmPWFbZF0sZT1iW2VdLGc9W10sZz1nLmNvbmNhdChmLmluaXREYXRhfHxbXSksZz1nLmNvbmNhdChlLmluaXREYXRhfHxbXSksaD1bXSxoPWguY29uY2F0KGYua2V5SWRzKSxoPWguY29uY2F0KGUua2V5SWRzKTtjLnB1c2goe2tleVN5c3RlbTpmLmtleVN5c3RlbSxsaWNlbnNlU2VydmVyVXJpOmYubGljZW5zZVNlcnZlclVyaXx8ZS5saWNlbnNlU2VydmVyVXJpLGRpc3RpbmN0aXZlSWRlbnRpZmllclJlcXVpcmVkOmYuZGlzdGluY3RpdmVJZGVudGlmaWVyUmVxdWlyZWR8fGUuZGlzdGluY3RpdmVJZGVudGlmaWVyUmVxdWlyZWQscGVyc2lzdGVudFN0YXRlUmVxdWlyZWQ6Zi5wZXJzaXN0ZW50U3RhdGVSZXF1aXJlZHx8XG5lLnBlcnNpc3RlbnRTdGF0ZVJlcXVpcmVkLHZpZGVvUm9idXN0bmVzczpmLnZpZGVvUm9idXN0bmVzc3x8ZS52aWRlb1JvYnVzdG5lc3MsYXVkaW9Sb2J1c3RuZXNzOmYuYXVkaW9Sb2J1c3RuZXNzfHxlLmF1ZGlvUm9idXN0bmVzcyxzZXJ2ZXJDZXJ0aWZpY2F0ZTpmLnNlcnZlckNlcnRpZmljYXRlfHxlLnNlcnZlckNlcnRpZmljYXRlLGluaXREYXRhOmcsa2V5SWRzOmh9KTticmVha31yZXR1cm4gY31rLkhkPWZ1bmN0aW9uKCl7dGhpcy5hLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9YS54YixjPWEuYWEuZXhwaXJhdGlvbjtpc05hTihjKSYmKGM9SW5maW5pdHkpO2MhPWImJih0aGlzLmxhKGEuYWEuc2Vzc2lvbklkLGMpLGEueGI9Yyl9LmJpbmQodGhpcykpfTtmdW5jdGlvbiByYihhKXt0aGlzLmY9bnVsbDt0aGlzLmM9YTt0aGlzLmg9MDt0aGlzLmc9SW5maW5pdHk7dGhpcy5hPXRoaXMuYj1udWxsfXZhciBzYj17fTtmdW5jdGlvbiB0YihhLGIpe3NiW2FdPWIubGVuZ3RoP3ViLmJpbmQobnVsbCxiKTpifW0oXCJzaGFrYS5tZWRpYS5UZXh0RW5naW5lLnJlZ2lzdGVyUGFyc2VyXCIsdGIpO20oXCJzaGFrYS5tZWRpYS5UZXh0RW5naW5lLnVucmVnaXN0ZXJQYXJzZXJcIixmdW5jdGlvbihhKXtkZWxldGUgc2JbYV19KTtmdW5jdGlvbiB2YihhLGIsYyl7cmV0dXJuIGE+PWI/bnVsbDpuZXcgVlRUQ3VlKGEsYixjKX1tKFwic2hha2EubWVkaWEuVGV4dEVuZ2luZS5tYWtlQ3VlXCIsdmIpO3JiLnByb3RvdHlwZS5tPWZ1bmN0aW9uKCl7dGhpcy5jJiZ3Yih0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuITB9KTt0aGlzLmM9dGhpcy5mPW51bGw7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfTtcbmZ1bmN0aW9uIHhiKGEsYixjLGQpe3JldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uKCl7aWYodGhpcy5jKWlmKG51bGw9PWN8fG51bGw9PWQpdGhpcy5mLnBhcnNlSW5pdChiKTtlbHNle2Zvcih2YXIgYT10aGlzLmYucGFyc2VNZWRpYShiLHtwZXJpb2RTdGFydDp0aGlzLmgsc2VnbWVudFN0YXJ0OmMsc2VnbWVudEVuZDpkfSksZj0wO2Y8YS5sZW5ndGgmJiEoYVtmXS5zdGFydFRpbWU+PXRoaXMuZyk7KytmKXRoaXMuYy5hZGRDdWUoYVtmXSk7bnVsbD09dGhpcy5iJiYodGhpcy5iPWMpO3RoaXMuYT1NYXRoLm1pbihkLHRoaXMuZyl9fS5iaW5kKGEpKX1cbnJiLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbigpe3RoaXMuYyYmKHdiKHRoaXMsZnVuY3Rpb24oYyl7cmV0dXJuIGMuc3RhcnRUaW1lPj1ifHxjLmVuZFRpbWU8PWE/ITE6ITB9KSxudWxsPT10aGlzLmJ8fGI8PXRoaXMuYnx8YT49dGhpcy5hfHwoYTw9dGhpcy5iJiZiPj10aGlzLmE/dGhpcy5iPXRoaXMuYT1udWxsOmE8PXRoaXMuYiYmYjx0aGlzLmE/dGhpcy5iPWI6YT50aGlzLmImJmI+PXRoaXMuYSYmKHRoaXMuYT1hKSkpfS5iaW5kKHRoaXMpKX07ZnVuY3Rpb24gd2IoYSxiKXtmb3IodmFyIGM9YS5jLmN1ZXMsZD1bXSxlPTA7ZTxjLmxlbmd0aDsrK2UpYihjW2VdKSYmZC5wdXNoKGNbZV0pO2ZvcihlPTA7ZTxkLmxlbmd0aDsrK2UpYS5jLnJlbW92ZUN1ZShkW2VdKX1mdW5jdGlvbiB1YihhKXt0aGlzLk5hPWF9XG51Yi5wcm90b3R5cGUucGFyc2VJbml0PWZ1bmN0aW9uKGEpe3RoaXMuTmEoYSwwLG51bGwsbnVsbCl9O3ViLnByb3RvdHlwZS5wYXJzZU1lZGlhPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuTmEoYSxiLnBlcmlvZFN0YXJ0LGIuc2VnbWVudFN0YXJ0LGIuc2VnbWVudEVuZCl9O2Z1bmN0aW9uIHliKGEpe3JldHVybiFhfHwxPT1hLmxlbmd0aCYmMUUtNj5hLmVuZCgwKS1hLnN0YXJ0KDApP251bGw6YS5sZW5ndGg/YS5lbmQoYS5sZW5ndGgtMSk6bnVsbH1mdW5jdGlvbiB6YihhLGIpe3JldHVybiFhfHwhYS5sZW5ndGh8fDE9PWEubGVuZ3RoJiYxRS02PmEuZW5kKDApLWEuc3RhcnQoMCk/ITE6Yj49YS5zdGFydCgwKSYmYjw9YS5lbmQoYS5sZW5ndGgtMSl9ZnVuY3Rpb24gQWIoYSxiKXtpZighYXx8IWEubGVuZ3RofHwxPT1hLmxlbmd0aCYmMUUtNj5hLmVuZCgwKS1hLnN0YXJ0KDApKXJldHVybiAwO2Zvcih2YXIgYz0wLGQ9YS5sZW5ndGgtMTswPD1kJiZhLmVuZChkKT5iOy0tZCljKz1hLmVuZChkKS1NYXRoLm1heChhLnN0YXJ0KGQpLGIpO3JldHVybiBjfTtmdW5jdGlvbiBCYihhLGIsYyl7dGhpcy5mPWE7dGhpcy5OPWI7dGhpcy5pPWM7dGhpcy5jPXt9O3RoaXMuYT1udWxsO3RoaXMuYj17fTt0aGlzLmc9bmV3IEQ7dGhpcy5oPSExfVxuZnVuY3Rpb24gQ2IoKXt2YXIgYT17fTsndmlkZW8vbXA0OyBjb2RlY3M9XCJhdmMxLjQyRTAxRVwiLHZpZGVvL21wNDsgY29kZWNzPVwiYXZjMy40MkUwMUVcIix2aWRlby9tcDQ7IGNvZGVjcz1cImh2YzEuMS42Lkw5My45MFwiLGF1ZGlvL21wNDsgY29kZWNzPVwibXA0YS40MC4yXCIsYXVkaW8vbXA0OyBjb2RlY3M9XCJhYy0zXCIsYXVkaW8vbXA0OyBjb2RlY3M9XCJlYy0zXCIsdmlkZW8vd2VibTsgY29kZWNzPVwidnA4XCIsdmlkZW8vd2VibTsgY29kZWNzPVwidnA5XCIsdmlkZW8vd2VibTsgY29kZWNzPVwiYXYxXCIsYXVkaW8vd2VibTsgY29kZWNzPVwidm9yYmlzXCIsYXVkaW8vd2VibTsgY29kZWNzPVwib3B1c1wiLHZpZGVvL21wMnQ7IGNvZGVjcz1cImF2YzEuNDJFMDFFXCIsdmlkZW8vbXAydDsgY29kZWNzPVwiYXZjMy40MkUwMUVcIix2aWRlby9tcDJ0OyBjb2RlY3M9XCJodmMxLjEuNi5MOTMuOTBcIix2aWRlby9tcDJ0OyBjb2RlY3M9XCJtcDRhLjQwLjJcIix2aWRlby9tcDJ0OyBjb2RlY3M9XCJhYy0zXCIsdmlkZW8vbXAydDsgY29kZWNzPVwiZWMtM1wiLHZpZGVvL21wMnQ7IGNvZGVjcz1cIm1wNGEuNDAuMlwiLHRleHQvdnR0LGFwcGxpY2F0aW9uL21wNDsgY29kZWNzPVwid3Z0dFwiLGFwcGxpY2F0aW9uL3R0bWwreG1sLGFwcGxpY2F0aW9uL21wNDsgY29kZWNzPVwic3RwcFwiJy5zcGxpdChcIixcIikuZm9yRWFjaChmdW5jdGlvbihiKXthW2JdPSEhc2JbYl18fFxuTWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKGIpO3ZhciBjPWIuc3BsaXQoXCI7XCIpWzBdO2FbY109YVtjXXx8YVtiXX0pO3JldHVybiBhfWs9QmIucHJvdG90eXBlO2subT1mdW5jdGlvbigpe3RoaXMuaD0hMDt2YXIgYT1bXSxiO2ZvcihiIGluIHRoaXMuYil7dmFyIGM9dGhpcy5iW2JdLGQ9Y1swXTt0aGlzLmJbYl09Yy5zbGljZSgwLDEpO2QmJmEucHVzaChkLnBbXCJjYXRjaFwiXSh5KSk7Zm9yKGQ9MTtkPGMubGVuZ3RoOysrZCljW2RdLnBbXCJjYXRjaFwiXSh5KSxjW2RdLnAucmVqZWN0KCl9dGhpcy5hJiZhLnB1c2godGhpcy5hLm0oKSk7cmV0dXJuIFByb21pc2UuYWxsKGEpLnRoZW4oZnVuY3Rpb24oKXt0aGlzLmcubSgpO3RoaXMuYT10aGlzLmk9dGhpcy5OPXRoaXMuZj10aGlzLmc9bnVsbDt0aGlzLmM9e307dGhpcy5iPXt9fS5iaW5kKHRoaXMpKX07XG5rLmluaXQ9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiIGluIGEpe3ZhciBjPWFbYl07XCJ0ZXh0XCI9PWI/RGIodGhpcyxjKTooYz10aGlzLk4uYWRkU291cmNlQnVmZmVyKGMpLEUodGhpcy5nLGMsXCJlcnJvclwiLHRoaXMuaGUuYmluZCh0aGlzLGIpKSxFKHRoaXMuZyxjLFwidXBkYXRlZW5kXCIsdGhpcy5IYS5iaW5kKHRoaXMsYikpLHRoaXMuY1tiXT1jLHRoaXMuYltiXT1bXSl9fTtmdW5jdGlvbiBEYihhLGIpe2EuYXx8KGEuYT1uZXcgcmIoYS5pKSk7YS5hLmY9bmV3IHNiW2JdfWZ1bmN0aW9uIEViKGEsYil7aWYoXCJ0ZXh0XCI9PWIpdmFyIGM9YS5hLmI7ZWxzZSBjPUZiKGEsYiksYz0hY3x8MT09Yy5sZW5ndGgmJjFFLTY+Yy5lbmQoMCktYy5zdGFydCgwKT9udWxsOjE9PWMubGVuZ3RoJiYwPmMuc3RhcnQoMCk/MDpjLmxlbmd0aD9jLnN0YXJ0KDApOm51bGw7cmV0dXJuIGN9ZnVuY3Rpb24gRmIoYSxiKXt0cnl7cmV0dXJuIGEuY1tiXS5idWZmZXJlZH1jYXRjaChjKXtyZXR1cm4gbnVsbH19XG5mdW5jdGlvbiBHYihhLGIsYyxkLGUpe3JldHVyblwidGV4dFwiPT1iP3hiKGEuYSxjLGQsZSk6SWIoYSxiLGEuZ2UuYmluZChhLGIsYykpfWsucmVtb3ZlPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm5cInRleHRcIj09YT90aGlzLmEucmVtb3ZlKGIsYyk6SWIodGhpcyxhLHRoaXMub2MuYmluZCh0aGlzLGEsYixjKSl9O2Z1bmN0aW9uIEpiKGEsYil7cmV0dXJuXCJ0ZXh0XCI9PWI/YS5hLnJlbW92ZSgwLEluZmluaXR5KTpJYihhLGIsYS5vYy5iaW5kKGEsYiwwLGEuTi5kdXJhdGlvbikpfWZ1bmN0aW9uIEtiKGEsYixjLGQpe2lmKFwidGV4dFwiPT1iKXJldHVybiBhLmEuaD1jLG51bGwhPWQmJihhLmEuZz1kKSxQcm9taXNlLnJlc29sdmUoKTtudWxsPT1kJiYoZD1JbmZpbml0eSk7cmV0dXJuIFByb21pc2UuYWxsKFtJYihhLGIsYS5DYy5iaW5kKGEsYikpLEliKGEsYixhLlhkLmJpbmQoYSxiLGMpKSxJYihhLGIsYS5WZC5iaW5kKGEsYixkKSldKX1cbmsuZW5kT2ZTdHJlYW09ZnVuY3Rpb24oYSl7cmV0dXJuIExiKHRoaXMsZnVuY3Rpb24oKXthP3RoaXMuTi5lbmRPZlN0cmVhbShhKTp0aGlzLk4uZW5kT2ZTdHJlYW0oKX0uYmluZCh0aGlzKSl9O2sucGE9ZnVuY3Rpb24oYSl7cmV0dXJuIExiKHRoaXMsZnVuY3Rpb24oKXt0aGlzLk4uZHVyYXRpb249YX0uYmluZCh0aGlzKSl9O2suWT1mdW5jdGlvbigpe3JldHVybiB0aGlzLk4uZHVyYXRpb259O2suZ2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmNbYV0uYXBwZW5kQnVmZmVyKGIpfTtrLm9jPWZ1bmN0aW9uKGEsYixjKXtjPD1iP3RoaXMuSGEoYSk6dGhpcy5jW2FdLnJlbW92ZShiLGMpfTtrLkNjPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY1thXS5hcHBlbmRXaW5kb3dFbmQ7dGhpcy5jW2FdLmFib3J0KCk7dGhpcy5jW2FdLmFwcGVuZFdpbmRvd0VuZD1iO3RoaXMuSGEoYSl9O2suTWM9ZnVuY3Rpb24oYSl7dGhpcy5mLmN1cnJlbnRUaW1lLT0uMDAxO3RoaXMuSGEoYSl9O1xuay5YZD1mdW5jdGlvbihhLGIpe3RoaXMuY1thXS50aW1lc3RhbXBPZmZzZXQ9Yjt0aGlzLkhhKGEpfTtrLlZkPWZ1bmN0aW9uKGEsYil7dGhpcy5jW2FdLmFwcGVuZFdpbmRvd0VuZD1iKy4wNDt0aGlzLkhhKGEpfTtrLmhlPWZ1bmN0aW9uKGEpe3RoaXMuYlthXVswXS5wLnJlamVjdChuZXcgdCgyLDMsMzAxNCx0aGlzLmYuZXJyb3I/dGhpcy5mLmVycm9yLmNvZGU6MCkpfTtrLkhhPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYlthXVswXTtiJiYoYi5wLnJlc29sdmUoKSxNYih0aGlzLGEpKX07XG5mdW5jdGlvbiBJYihhLGIsYyl7aWYoYS5oKXJldHVybiBQcm9taXNlLnJlamVjdCgpO2M9e3N0YXJ0OmMscDpuZXcgQX07YS5iW2JdLnB1c2goYyk7aWYoMT09YS5iW2JdLmxlbmd0aCl0cnl7Yy5zdGFydCgpfWNhdGNoKGQpe1wiUXVvdGFFeGNlZWRlZEVycm9yXCI9PWQubmFtZT9jLnAucmVqZWN0KG5ldyB0KDIsMywzMDE3LGIpKTpjLnAucmVqZWN0KG5ldyB0KDIsMywzMDE1LGQpKSxNYihhLGIpfXJldHVybiBjLnB9XG5mdW5jdGlvbiBMYihhLGIpe2lmKGEuaClyZXR1cm4gUHJvbWlzZS5yZWplY3QoKTt2YXIgYz1bXSxkO2ZvcihkIGluIGEuYyl7dmFyIGU9bmV3IEEsZj17c3RhcnQ6ZnVuY3Rpb24oYSl7YS5yZXNvbHZlKCl9LmJpbmQobnVsbCxlKSxwOmV9O2EuYltkXS5wdXNoKGYpO2MucHVzaChlKTsxPT1hLmJbZF0ubGVuZ3RoJiZmLnN0YXJ0KCl9cmV0dXJuIFByb21pc2UuYWxsKGMpLnRoZW4oZnVuY3Rpb24oKXt2YXIgYTt0cnl7YigpfWNhdGNoKGwpe3ZhciBjPVByb21pc2UucmVqZWN0KG5ldyB0KDIsMywzMDE1LGwpKX1mb3IoYSBpbiB0aGlzLmMpTWIodGhpcyxhKTtyZXR1cm4gY30uYmluZChhKSxmdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlamVjdCgpfS5iaW5kKGEpKX1mdW5jdGlvbiBNYihhLGIpe2EuYltiXS5zaGlmdCgpO3ZhciBjPWEuYltiXVswXTtpZihjKXRyeXtjLnN0YXJ0KCl9Y2F0Y2goZCl7Yy5wLnJlamVjdChuZXcgdCgyLDMsMzAxNSxkKSksTWIoYSxiKX19O2Z1bmN0aW9uIE5iKGEsYixjKXtyZXR1cm4gYz09Ynx8YT49T2ImJmM9PWIuc3BsaXQoXCItXCIpWzBdfHxhPj1QYiYmYy5zcGxpdChcIi1cIilbMF09PWIuc3BsaXQoXCItXCIpWzBdPyEwOiExfXZhciBPYj0xLFBiPTI7ZnVuY3Rpb24gUWIoYSl7YT1hLnRvTG93ZXJDYXNlKCkuc3BsaXQoXCItXCIpO3ZhciBiPVJiW2FbMF1dO2ImJihhWzBdPWIpO3JldHVybiBhLmpvaW4oXCItXCIpfVxudmFyIFJiPXthYXI6XCJhYVwiLGFiazpcImFiXCIsYWZyOlwiYWZcIixha2E6XCJha1wiLGFsYjpcInNxXCIsYW1oOlwiYW1cIixhcmE6XCJhclwiLGFyZzpcImFuXCIsYXJtOlwiaHlcIixhc206XCJhc1wiLGF2YTpcImF2XCIsYXZlOlwiYWVcIixheW06XCJheVwiLGF6ZTpcImF6XCIsYmFrOlwiYmFcIixiYW06XCJibVwiLGJhcTpcImV1XCIsYmVsOlwiYmVcIixiZW46XCJiblwiLGJpaDpcImJoXCIsYmlzOlwiYmlcIixib2Q6XCJib1wiLGJvczpcImJzXCIsYnJlOlwiYnJcIixidWw6XCJiZ1wiLGJ1cjpcIm15XCIsY2F0OlwiY2FcIixjZXM6XCJjc1wiLGNoYTpcImNoXCIsY2hlOlwiY2VcIixjaGk6XCJ6aFwiLGNodTpcImN1XCIsY2h2OlwiY3ZcIixjb3I6XCJrd1wiLGNvczpcImNvXCIsY3JlOlwiY3JcIixjeW06XCJjeVwiLGN6ZTpcImNzXCIsZGFuOlwiZGFcIixkZXU6XCJkZVwiLGRpdjpcImR2XCIsZHV0OlwibmxcIixkem86XCJkelwiLGVsbDpcImVsXCIsZW5nOlwiZW5cIixlcG86XCJlb1wiLGVzdDpcImV0XCIsZXVzOlwiZXVcIixld2U6XCJlZVwiLGZhbzpcImZvXCIsZmFzOlwiZmFcIixmaWo6XCJmalwiLGZpbjpcImZpXCIsZnJhOlwiZnJcIixmcmU6XCJmclwiLFxuZnJ5OlwiZnlcIixmdWw6XCJmZlwiLGdlbzpcImthXCIsZ2VyOlwiZGVcIixnbGE6XCJnZFwiLGdsZTpcImdhXCIsZ2xnOlwiZ2xcIixnbHY6XCJndlwiLGdyZTpcImVsXCIsZ3JuOlwiZ25cIixndWo6XCJndVwiLGhhdDpcImh0XCIsaGF1OlwiaGFcIixoZWI6XCJoZVwiLGhlcjpcImh6XCIsaGluOlwiaGlcIixobW86XCJob1wiLGhydjpcImhyXCIsaHVuOlwiaHVcIixoeWU6XCJoeVwiLGlibzpcImlnXCIsaWNlOlwiaXNcIixpZG86XCJpb1wiLGlpaTpcImlpXCIsaWt1OlwiaXVcIixpbGU6XCJpZVwiLGluYTpcImlhXCIsaW5kOlwiaWRcIixpcGs6XCJpa1wiLGlzbDpcImlzXCIsaXRhOlwiaXRcIixqYXY6XCJqdlwiLGpwbjpcImphXCIsa2FsOlwia2xcIixrYW46XCJrblwiLGthczpcImtzXCIsa2F0Olwia2FcIixrYXU6XCJrclwiLGthejpcImtrXCIsa2htOlwia21cIixraWs6XCJraVwiLGtpbjpcInJ3XCIsa2lyOlwia3lcIixrb206XCJrdlwiLGtvbjpcImtnXCIsa29yOlwia29cIixrdWE6XCJralwiLGt1cjpcImt1XCIsbGFvOlwibG9cIixsYXQ6XCJsYVwiLGxhdjpcImx2XCIsbGltOlwibGlcIixsaW46XCJsblwiLGxpdDpcImx0XCIsbHR6OlwibGJcIixsdWI6XCJsdVwiLFxubHVnOlwibGdcIixtYWM6XCJta1wiLG1haDpcIm1oXCIsbWFsOlwibWxcIixtYW86XCJtaVwiLG1hcjpcIm1yXCIsbWF5OlwibXNcIixta2Q6XCJta1wiLG1sZzpcIm1nXCIsbWx0OlwibXRcIixtb246XCJtblwiLG1yaTpcIm1pXCIsbXNhOlwibXNcIixteWE6XCJteVwiLG5hdTpcIm5hXCIsbmF2OlwibnZcIixuYmw6XCJuclwiLG5kZTpcIm5kXCIsbmRvOlwibmdcIixuZXA6XCJuZVwiLG5sZDpcIm5sXCIsbm5vOlwibm5cIixub2I6XCJuYlwiLG5vcjpcIm5vXCIsbnlhOlwibnlcIixvY2k6XCJvY1wiLG9qaTpcIm9qXCIsb3JpOlwib3JcIixvcm06XCJvbVwiLG9zczpcIm9zXCIscGFuOlwicGFcIixwZXI6XCJmYVwiLHBsaTpcInBpXCIscG9sOlwicGxcIixwb3I6XCJwdFwiLHB1czpcInBzXCIscXVlOlwicXVcIixyb2g6XCJybVwiLHJvbjpcInJvXCIscnVtOlwicm9cIixydW46XCJyblwiLHJ1czpcInJ1XCIsc2FnOlwic2dcIixzYW46XCJzYVwiLHNpbjpcInNpXCIsc2xrOlwic2tcIixzbG86XCJza1wiLHNsdjpcInNsXCIsc21lOlwic2VcIixzbW86XCJzbVwiLHNuYTpcInNuXCIsc25kOlwic2RcIixzb206XCJzb1wiLHNvdDpcInN0XCIsc3BhOlwiZXNcIixzcWk6XCJzcVwiLFxuc3JkOlwic2NcIixzcnA6XCJzclwiLHNzdzpcInNzXCIsc3VuOlwic3VcIixzd2E6XCJzd1wiLHN3ZTpcInN2XCIsdGFoOlwidHlcIix0YW06XCJ0YVwiLHRhdDpcInR0XCIsdGVsOlwidGVcIix0Z2s6XCJ0Z1wiLHRnbDpcInRsXCIsdGhhOlwidGhcIix0aWI6XCJib1wiLHRpcjpcInRpXCIsdG9uOlwidG9cIix0c246XCJ0blwiLHRzbzpcInRzXCIsdHVrOlwidGtcIix0dXI6XCJ0clwiLHR3aTpcInR3XCIsdWlnOlwidWdcIix1a3I6XCJ1a1wiLHVyZDpcInVyXCIsdXpiOlwidXpcIix2ZW46XCJ2ZVwiLHZpZTpcInZpXCIsdm9sOlwidm9cIix3ZWw6XCJjeVwiLHdsbjpcIndhXCIsd29sOlwid29cIix4aG86XCJ4aFwiLHlpZDpcInlpXCIseW9yOlwieW9cIix6aGE6XCJ6YVwiLHpobzpcInpoXCIsenVsOlwienVcIn07ZnVuY3Rpb24gU2IoYSxiLGMpe3ZhciBkPWEudmlkZW87cmV0dXJuIGQmJihkLndpZHRoPGIubWluV2lkdGh8fGQud2lkdGg+Yi5tYXhXaWR0aHx8ZC53aWR0aD5jLndpZHRofHxkLmhlaWdodDxiLm1pbkhlaWdodHx8ZC5oZWlnaHQ+Yi5tYXhIZWlnaHR8fGQuaGVpZ2h0PmMuaGVpZ2h0fHxkLndpZHRoKmQuaGVpZ2h0PGIubWluUGl4ZWxzfHxkLndpZHRoKmQuaGVpZ2h0PmIubWF4UGl4ZWxzKXx8YS5iYW5kd2lkdGg8Yi5taW5CYW5kd2lkdGh8fGEuYmFuZHdpZHRoPmIubWF4QmFuZHdpZHRoPyExOiEwfWZ1bmN0aW9uIFRiKGEsYixjKXt2YXIgZD0hMTthLnZhcmlhbnRzLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGU9YS5hbGxvd2VkQnlBcHBsaWNhdGlvbjthLmFsbG93ZWRCeUFwcGxpY2F0aW9uPVNiKGEsYixjKTtlIT1hLmFsbG93ZWRCeUFwcGxpY2F0aW9uJiYoZD0hMCl9KTtyZXR1cm4gZH1cbmZ1bmN0aW9uIFViKGEsYixjKXt2YXIgZD1iLnZpZGVvLGU9Yi5hdWRpbztmb3IoYj0wO2I8Yy52YXJpYW50cy5sZW5ndGg7KytiKXt2YXIgZj1jLnZhcmlhbnRzW2JdLGc9YSxoPWUsbD1kOyhnJiZnLkomJiFwYihnLGYpPzA6VmIoZi5hdWRpbyxnLGgpJiZWYihmLnZpZGVvLGcsbCkpfHwoYy52YXJpYW50cy5zcGxpY2UoYiwxKSwtLWIpfWZvcihiPTA7YjxjLnRleHRTdHJlYW1zLmxlbmd0aDsrK2IpYT1jLnRleHRTdHJlYW1zW2JdLHNiW1diKGEubWltZVR5cGUsYS5jb2RlY3MpXXx8KGMudGV4dFN0cmVhbXMuc3BsaWNlKGIsMSksLS1iKX1cbmZ1bmN0aW9uIFZiKGEsYixjKXtpZighYSlyZXR1cm4hMDt2YXIgZD1udWxsO2ImJmIuSiYmKGQ9Yi52KTtiPVdiKGEubWltZVR5cGUsYS5jb2RlY3MpO3JldHVybiFzYltiXSYmIU1lZGlhU291cmNlLmlzVHlwZVN1cHBvcnRlZChiKXx8ZCYmYS5lbmNyeXB0ZWQmJjA+ZC5pbmRleE9mKGIpfHxjJiYoYS5taW1lVHlwZSE9Yy5taW1lVHlwZXx8YS5jb2RlY3Muc3BsaXQoXCIuXCIpWzBdIT1jLmNvZGVjcy5zcGxpdChcIi5cIilbMF0pPyExOiEwfVxuZnVuY3Rpb24gWGIoYSxiLGMpe3JldHVybiBZYihhLnZhcmlhbnRzKS5tYXAoZnVuY3Rpb24oYSl7dmFyIGQ7YS52aWRlbyYmYS5hdWRpbz9kPWM9PWEudmlkZW8uaWQmJmI9PWEuYXVkaW8uaWQ6ZD1hLnZpZGVvJiZjPT1hLnZpZGVvLmlkfHxhLmF1ZGlvJiZiPT1hLmF1ZGlvLmlkO3ZhciBmPVwiXCI7YS52aWRlbyYmKGYrPWEudmlkZW8uY29kZWNzKTthLmF1ZGlvJiYoXCJcIiE9ZiYmKGYrPVwiLCBcIiksZis9YS5hdWRpby5jb2RlY3MpO3ZhciBnPWEuYXVkaW8/YS5hdWRpby5jb2RlY3M6bnVsbCxoPWEudmlkZW8/YS52aWRlby5jb2RlY3M6bnVsbCxsPW51bGw7YS52aWRlbz9sPWEudmlkZW8ubWltZVR5cGU6YS5hdWRpbyYmKGw9YS5hdWRpby5taW1lVHlwZSk7dmFyIG49bnVsbDthLmF1ZGlvP249YS5hdWRpby5raW5kOmEudmlkZW8mJihuPWEudmlkZW8ua2luZCk7cmV0dXJue2lkOmEuaWQsYWN0aXZlOmQsdHlwZTpcInZhcmlhbnRcIixiYW5kd2lkdGg6YS5iYW5kd2lkdGgsbGFuZ3VhZ2U6YS5sYW5ndWFnZSxcbmtpbmQ6bnx8bnVsbCx3aWR0aDphLnZpZGVvP2EudmlkZW8ud2lkdGg6bnVsbCxoZWlnaHQ6YS52aWRlbz9hLnZpZGVvLmhlaWdodDpudWxsLGZyYW1lUmF0ZTphLnZpZGVvP2EudmlkZW8uZnJhbWVSYXRlOnZvaWQgMCxtaW1lVHlwZTpsLGNvZGVjczpmLGF1ZGlvQ29kZWM6Zyx2aWRlb0NvZGVjOmgscHJpbWFyeTphLnByaW1hcnl9fSl9ZnVuY3Rpb24gWmIoYSxiKXtyZXR1cm4gYS50ZXh0U3RyZWFtcy5tYXAoZnVuY3Rpb24oYSl7cmV0dXJue2lkOmEuaWQsYWN0aXZlOmI9PWEuaWQsdHlwZTpcInRleHRcIixsYW5ndWFnZTphLmxhbmd1YWdlLGtpbmQ6YS5raW5kLG1pbWVUeXBlOmEubWltZVR5cGUsY29kZWNzOmEuY29kZWNzfHxudWxsLGF1ZGlvQ29kZWM6bnVsbCx2aWRlb0NvZGVjOm51bGwscHJpbWFyeTphLnByaW1hcnl9fSl9XG5mdW5jdGlvbiAkYihhLGIpe2Zvcih2YXIgYz0wO2M8YS52YXJpYW50cy5sZW5ndGg7YysrKWlmKGEudmFyaWFudHNbY10uaWQ9PWIuaWQpcmV0dXJuIGEudmFyaWFudHNbY107cmV0dXJuIG51bGx9ZnVuY3Rpb24gYWMoYSxiKXtmb3IodmFyIGM9MDtjPGEudGV4dFN0cmVhbXMubGVuZ3RoO2MrKylpZihhLnRleHRTdHJlYW1zW2NdLmlkPT1iLmlkKXJldHVybiBhLnRleHRTdHJlYW1zW2NdO3JldHVybiBudWxsfWZ1bmN0aW9uIFliKGEpe3JldHVybiBhLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYS5hbGxvd2VkQnlBcHBsaWNhdGlvbiYmYS5hbGxvd2VkQnlLZXlTeXN0ZW19KX1cbmZ1bmN0aW9uIGJjKGEsYixjKXt2YXIgZD1ZYihhLnZhcmlhbnRzKSxlPWQuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhLmxhbmd1YWdlPT1kWzBdLmxhbmd1YWdlfSk7YT1kLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYS5wcmltYXJ5fSk7YS5sZW5ndGgmJihlPWEpO2lmKGIpe3ZhciBmPVFiKGIpO1tQYixPYiwwXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPSExO2QuZm9yRWFjaChmdW5jdGlvbihkKXtmPVFiKGYpO3ZhciBnPVFiKGQubGFuZ3VhZ2UpO05iKGEsZixnKSYmKGI/ZS5wdXNoKGQpOihlPVtkXSxiPSEwKSxjJiYoYy5hdWRpbz0hMCkpfSl9KX1yZXR1cm4gZX1cbmZ1bmN0aW9uIGNjKGEsYixjKXt2YXIgZD1hLnRleHRTdHJlYW1zLGU9ZDthPWQuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhLnByaW1hcnl9KTthLmxlbmd0aCYmKGU9YSk7aWYoYil7dmFyIGY9UWIoYik7W1BiLE9iLDBdLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9ITE7ZC5mb3JFYWNoKGZ1bmN0aW9uKGQpe3ZhciBnPVFiKGQubGFuZ3VhZ2UpO05iKGEsZixnKSYmKGI/ZS5wdXNoKGQpOihlPVtkXSxiPSEwKSxjJiYoYy50ZXh0PSEwKSl9KX0pfXJldHVybiBlfWZ1bmN0aW9uIGRjKGEsYixjKXtmb3IodmFyIGQ9MDtkPGMubGVuZ3RoO2QrKylpZihjW2RdLmF1ZGlvPT1hJiZjW2RdLnZpZGVvPT1iKXJldHVybiBjW2RdO3JldHVybiBudWxsfVxuZnVuY3Rpb24gZWMoYSxiLGMpe2Z1bmN0aW9uIGQoYSxiKXtyZXR1cm4gbnVsbD09YT9udWxsPT1iOmIuaWQ9PWF9Zm9yKHZhciBlPTA7ZTxjLmxlbmd0aDtlKyspaWYoZChhLGNbZV0uYXVkaW8pJiZkKGIsY1tlXS52aWRlbykpcmV0dXJuIGNbZV07cmV0dXJuIG51bGx9ZnVuY3Rpb24gV2IoYSxiKXt2YXIgYz1hO2ImJihjKz0nOyBjb2RlY3M9XCInK2IrJ1wiJyk7cmV0dXJuIGN9ZnVuY3Rpb24gZmMoYSxiKXtmb3IodmFyIGM9YS5wZXJpb2RzLmxlbmd0aC0xOzA8YzstLWMpaWYoYj49YS5wZXJpb2RzW2NdLnN0YXJ0VGltZSlyZXR1cm4gYztyZXR1cm4gMH1cbmZ1bmN0aW9uIGdjKGEsYil7Zm9yKHZhciBjPTA7YzxhLnBlcmlvZHMubGVuZ3RoOysrYyl7dmFyIGQ9YS5wZXJpb2RzW2NdO2lmKFwidGV4dFwiPT1iLnR5cGUpZm9yKHZhciBlPTA7ZTxkLnRleHRTdHJlYW1zLmxlbmd0aDsrK2Upe2lmKGQudGV4dFN0cmVhbXNbZV09PWIpcmV0dXJuIGN9ZWxzZSBmb3IoZT0wO2U8ZC52YXJpYW50cy5sZW5ndGg7KytlKXt2YXIgZj1kLnZhcmlhbnRzW2VdO2lmKGYuYXVkaW89PWJ8fGYudmlkZW89PWJ8fGYudmlkZW8mJmYudmlkZW8udHJpY2tNb2RlVmlkZW89PWIpcmV0dXJuIGN9fXJldHVybi0xfTtmdW5jdGlvbiBHKCl7dGhpcy5mPW51bGw7dGhpcy5iPSExO3RoaXMuYT1uZXcgZmE7dGhpcy5oPVtdO3RoaXMuZz1bXTt0aGlzLmo9ITE7dGhpcy5jPW51bGw7dGhpcy5pPXttaW5XaWR0aDowLG1heFdpZHRoOkluZmluaXR5LG1pbkhlaWdodDowLG1heEhlaWdodDpJbmZpbml0eSxtaW5QaXhlbHM6MCxtYXhQaXhlbHM6SW5maW5pdHksbWluQmFuZHdpZHRoOjAsbWF4QmFuZHdpZHRoOkluZmluaXR5fX1tKFwic2hha2EuYWJyLlNpbXBsZUFick1hbmFnZXJcIixHKTtHLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5mPW51bGw7dGhpcy5iPSExO3RoaXMuaD1bXTt0aGlzLmc9W107dGhpcy5jPW51bGx9O0cucHJvdG90eXBlLnN0b3A9Ry5wcm90b3R5cGUuc3RvcDtHLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGEpe3RoaXMuZj1hfTtHLnByb3RvdHlwZS5pbml0PUcucHJvdG90eXBlLmluaXQ7XG5HLnByb3RvdHlwZS5jaG9vc2VTdHJlYW1zPWZ1bmN0aW9uKGEpe3ZhciBiPXt9O2lmKC0xPGEuaW5kZXhPZihcImF1ZGlvXCIpfHwtMTxhLmluZGV4T2YoXCJ2aWRlb1wiKSl7dmFyIGM9dGhpcy5oO3ZhciBkPWhjKHRoaXMuaSxjKTt2YXIgZT10aGlzLmEuZ2V0QmFuZHdpZHRoRXN0aW1hdGUoKTtpZihjLmxlbmd0aCYmIWQubGVuZ3RoKXRocm93IG5ldyB0KDIsNCw0MDEyKTtmb3IodmFyIGM9ZFswXSxmPTA7ZjxkLmxlbmd0aDsrK2Ype3ZhciBnPWRbZl0saD0oZFtmKzFdfHx7YmFuZHdpZHRoOkluZmluaXR5fSkuYmFuZHdpZHRoLy44NTtlPj1nLmJhbmR3aWR0aC8uOTUmJmU8PWgmJihjPWcpfShkPWMpJiZkLnZpZGVvJiYoYi52aWRlbz1kLnZpZGVvKTtkJiZkLmF1ZGlvJiYoYi5hdWRpbz1kLmF1ZGlvKX0tMTxhLmluZGV4T2YoXCJ0ZXh0XCIpJiYoYi50ZXh0PXRoaXMuZ1swXSk7dGhpcy5jPURhdGUubm93KCk7cmV0dXJuIGJ9O0cucHJvdG90eXBlLmNob29zZVN0cmVhbXM9Ry5wcm90b3R5cGUuY2hvb3NlU3RyZWFtcztcbkcucHJvdG90eXBlLmVuYWJsZT1mdW5jdGlvbigpe3RoaXMuYj0hMH07Ry5wcm90b3R5cGUuZW5hYmxlPUcucHJvdG90eXBlLmVuYWJsZTtHLnByb3RvdHlwZS5kaXNhYmxlPWZ1bmN0aW9uKCl7dGhpcy5iPSExfTtHLnByb3RvdHlwZS5kaXNhYmxlPUcucHJvdG90eXBlLmRpc2FibGU7Ry5wcm90b3R5cGUuc2VnbWVudERvd25sb2FkZWQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmE7aWYoISgxNkUzPmIpKXt2YXIgZD04RTMqYi9hLGU9YS8xRTM7Yy5hKz1iO2RhKGMuYyxlLGQpO2RhKGMuZixlLGQpfWlmKG51bGwhPXRoaXMuYyYmdGhpcy5iKWE6e2lmKCF0aGlzLmope2lmKCEoMTI4RTM8PXRoaXMuYS5hKSlicmVhayBhO3RoaXMuaj0hMH1lbHNlIGlmKDhFMz5EYXRlLm5vdygpLXRoaXMuYylicmVhayBhO2M9dGhpcy5jaG9vc2VTdHJlYW1zKFtcImF1ZGlvXCIsXCJ2aWRlb1wiXSk7dGhpcy5hLmdldEJhbmR3aWR0aEVzdGltYXRlKCk7dGhpcy5mKGMpfX07XG5HLnByb3RvdHlwZS5zZWdtZW50RG93bmxvYWRlZD1HLnByb3RvdHlwZS5zZWdtZW50RG93bmxvYWRlZDtHLnByb3RvdHlwZS5nZXRCYW5kd2lkdGhFc3RpbWF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEuZ2V0QmFuZHdpZHRoRXN0aW1hdGUoKX07Ry5wcm90b3R5cGUuZ2V0QmFuZHdpZHRoRXN0aW1hdGU9Ry5wcm90b3R5cGUuZ2V0QmFuZHdpZHRoRXN0aW1hdGU7Ry5wcm90b3R5cGUuc2V0RGVmYXVsdEVzdGltYXRlPWZ1bmN0aW9uKGEpe3RoaXMuYS5zZXREZWZhdWx0RXN0aW1hdGUoYSl9O0cucHJvdG90eXBlLnNldERlZmF1bHRFc3RpbWF0ZT1HLnByb3RvdHlwZS5zZXREZWZhdWx0RXN0aW1hdGU7Ry5wcm90b3R5cGUuc2V0UmVzdHJpY3Rpb25zPWZ1bmN0aW9uKGEpe3RoaXMuaT1hfTtHLnByb3RvdHlwZS5zZXRSZXN0cmljdGlvbnM9Ry5wcm90b3R5cGUuc2V0UmVzdHJpY3Rpb25zO0cucHJvdG90eXBlLnNldFZhcmlhbnRzPWZ1bmN0aW9uKGEpe3RoaXMuaD1hfTtcbkcucHJvdG90eXBlLnNldFZhcmlhbnRzPUcucHJvdG90eXBlLnNldFZhcmlhbnRzO0cucHJvdG90eXBlLnNldFRleHRTdHJlYW1zPWZ1bmN0aW9uKGEpe3RoaXMuZz1hfTtHLnByb3RvdHlwZS5zZXRUZXh0U3RyZWFtcz1HLnByb3RvdHlwZS5zZXRUZXh0U3RyZWFtcztmdW5jdGlvbiBoYyhhLGIpe3JldHVybiBiLmZpbHRlcihmdW5jdGlvbihiKXtyZXR1cm4gU2IoYixhLHt3aWR0aDpJbmZpbml0eSxoZWlnaHQ6SW5maW5pdHl9KX0pLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5iYW5kd2lkdGgtYi5iYW5kd2lkdGh9KX07ZnVuY3Rpb24gSChhLGIpe3ZhciBjPWJ8fHt9LGQ7Zm9yKGQgaW4gYyl0aGlzW2RdPWNbZF07dGhpcy5kZWZhdWx0UHJldmVudGVkPXRoaXMuY2FuY2VsYWJsZT10aGlzLmJ1YmJsZXM9ITE7dGhpcy50aW1lU3RhbXA9d2luZG93LnBlcmZvcm1hbmNlJiZ3aW5kb3cucGVyZm9ybWFuY2Uubm93P3dpbmRvdy5wZXJmb3JtYW5jZS5ub3coKTpEYXRlLm5vdygpO3RoaXMudHlwZT1hO3RoaXMuaXNUcnVzdGVkPSExO3RoaXMudGFyZ2V0PXRoaXMuY3VycmVudFRhcmdldD1udWxsO3RoaXMuYT0hMX1ILnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe3RoaXMuY2FuY2VsYWJsZSYmKHRoaXMuZGVmYXVsdFByZXZlbnRlZD0hMCl9O0gucHJvdG90eXBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbj1mdW5jdGlvbigpe3RoaXMuYT0hMH07SC5wcm90b3R5cGUuc3RvcFByb3BhZ2F0aW9uPWZ1bmN0aW9uKCl7fTt2YXIgaWM9XCJlbmRlZCBwbGF5IHBsYXlpbmcgcGF1c2UgcGF1c2luZyByYXRlY2hhbmdlIHNlZWtlZCBzZWVraW5nIHRpbWV1cGRhdGUgdm9sdW1lY2hhbmdlXCIuc3BsaXQoXCIgXCIpLGpjPVwiYnVmZmVyZWQgY3VycmVudFRpbWUgZHVyYXRpb24gZW5kZWQgbG9vcCBtdXRlZCBwYXVzZWQgcGxheWJhY2tSYXRlIHNlZWtpbmcgdmlkZW9IZWlnaHQgdmlkZW9XaWR0aCB2b2x1bWVcIi5zcGxpdChcIiBcIiksa2M9W1wibG9vcFwiLFwicGxheWJhY2tSYXRlXCJdLGxjPVtcInBhdXNlXCIsXCJwbGF5XCJdLG1jPVwiYWRhcHRhdGlvbiBidWZmZXJpbmcgZW1zZyBlcnJvciBsb2FkaW5nIHVubG9hZGluZyB0ZXh0dHJhY2t2aXNpYmlsaXR5IHRpbWVsaW5lcmVnaW9uYWRkZWQgdGltZWxpbmVyZWdpb25lbnRlciB0aW1lbGluZXJlZ2lvbmV4aXQgdHJhY2tzY2hhbmdlZFwiLnNwbGl0KFwiIFwiKSxuYz1cImRybUluZm8gZ2V0QXVkaW9MYW5ndWFnZXMgZ2V0Q29uZmlndXJhdGlvbiBnZXRFeHBpcmF0aW9uIGdldE1hbmlmZXN0VXJpIGdldFBsYXliYWNrUmF0ZSBnZXRQbGF5aGVhZFRpbWVBc0RhdGUgZ2V0VGV4dExhbmd1YWdlcyBnZXRUZXh0VHJhY2tzIGdldFRyYWNrcyBnZXRTdGF0cyBnZXRWYXJpYW50VHJhY2tzIGlzQnVmZmVyaW5nIGlzSW5Qcm9ncmVzcyBpc0xpdmUgaXNUZXh0VHJhY2tWaXNpYmxlIGtleVN5c3RlbSBzZWVrUmFuZ2VcIi5zcGxpdChcIiBcIiksXG5vYz1bW1wiZ2V0Q29uZmlndXJhdGlvblwiLFwiY29uZmlndXJlXCJdXSxwYz1bW1wiaXNUZXh0VHJhY2tWaXNpYmxlXCIsXCJzZXRUZXh0VHJhY2tWaXNpYmlsaXR5XCJdXSxxYz1cImFkZFRleHRUcmFjayBjYW5jZWxUcmlja1BsYXkgY29uZmlndXJlIHJlc2V0Q29uZmlndXJhdGlvbiBzZWxlY3RBdWRpb0xhbmd1YWdlIHNlbGVjdFRleHRMYW5ndWFnZSBzZWxlY3RUZXh0VHJhY2sgc2VsZWN0VHJhY2sgc2VsZWN0VmFyaWFudFRyYWNrIHNldFRleHRUcmFja1Zpc2liaWxpdHkgdHJpY2tQbGF5XCIuc3BsaXQoXCIgXCIpLHJjPVtcImxvYWRcIixcInVubG9hZFwiXTtcbmZ1bmN0aW9uIHNjKGEpe3JldHVybiBKU09OLnN0cmluZ2lmeShhLGZ1bmN0aW9uKGEsYyl7aWYoXCJtYW5hZ2VyXCIhPWEmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGMpe2lmKGMgaW5zdGFuY2VvZiBFdmVudHx8YyBpbnN0YW5jZW9mIEgpe3ZhciBiPXt9LGU7Zm9yKGUgaW4gYyl7dmFyIGY9Y1tlXTtmJiZcIm9iamVjdFwiPT10eXBlb2YgZnx8ZSBpbiBFdmVudHx8KGJbZV09Zil9cmV0dXJuIGJ9aWYoYyBpbnN0YW5jZW9mIFRpbWVSYW5nZXMpZm9yKGI9e19fdHlwZV9fOlwiVGltZVJhbmdlc1wiLGxlbmd0aDpjLmxlbmd0aCxzdGFydDpbXSxlbmQ6W119LGU9MDtlPGMubGVuZ3RoOysrZSliLnN0YXJ0LnB1c2goYy5zdGFydChlKSksYi5lbmQucHVzaChjLmVuZChlKSk7ZWxzZSBiPVwibnVtYmVyXCI9PXR5cGVvZiBjP2lzTmFOKGMpP1wiTmFOXCI6aXNGaW5pdGUoYyk/YzowPmM/XCItSW5maW5pdHlcIjpcIkluZmluaXR5XCI6YztyZXR1cm4gYn19KX1cbmZ1bmN0aW9uIHRjKGEpe3JldHVybiBKU09OLnBhcnNlKGEsZnVuY3Rpb24oYSxjKXtyZXR1cm5cIk5hTlwiPT1jP05hTjpcIi1JbmZpbml0eVwiPT1jPy1JbmZpbml0eTpcIkluZmluaXR5XCI9PWM/SW5maW5pdHk6YyYmXCJvYmplY3RcIj09dHlwZW9mIGMmJlwiVGltZVJhbmdlc1wiPT1jLl9fdHlwZV9fP3VjKGMpOmN9KX1mdW5jdGlvbiB1YyhhKXtyZXR1cm57bGVuZ3RoOmEubGVuZ3RoLHN0YXJ0OmZ1bmN0aW9uKGIpe3JldHVybiBhLnN0YXJ0W2JdfSxlbmQ6ZnVuY3Rpb24oYil7cmV0dXJuIGEuZW5kW2JdfX19O2Z1bmN0aW9uIHZjKGEsYixjLGQsZSl7dGhpcy5KPWE7dGhpcy5sPWI7dGhpcy5CPWM7dGhpcy5HPWQ7dGhpcy52PWU7dGhpcy5jPXRoaXMuaj10aGlzLmg9ITE7dGhpcy5BPVwiXCI7dGhpcy5hPXRoaXMuaT1udWxsO3RoaXMuYj17dmlkZW86e30scGxheWVyOnt9fTt0aGlzLm89MDt0aGlzLmY9e307dGhpcy5nPW51bGx9az12Yy5wcm90b3R5cGU7ay5tPWZ1bmN0aW9uKCl7d2ModGhpcyk7dGhpcy5hJiYodGhpcy5hLmxlYXZlKGZ1bmN0aW9uKCl7fSxmdW5jdGlvbigpe30pLHRoaXMuYT1udWxsKTt0aGlzLkc9dGhpcy5CPXRoaXMubD1udWxsO3RoaXMuYz10aGlzLmo9dGhpcy5oPSExO3RoaXMuZz10aGlzLmY9dGhpcy5iPXRoaXMuaT1udWxsO3JldHVybiBQcm9taXNlLnJlc29sdmUoKX07ay5WPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY307ay5EYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkF9O1xuay5pbml0PWZ1bmN0aW9uKCl7aWYod2luZG93LmNocm9tZSYmY2hyb21lLmNhc3QmJmNocm9tZS5jYXN0LmlzQXZhaWxhYmxlKXtkZWxldGUgd2luZG93Ll9fb25HQ2FzdEFwaUF2YWlsYWJsZTt0aGlzLmg9ITA7dGhpcy5sKCk7dmFyIGE9bmV3IGNocm9tZS5jYXN0LlNlc3Npb25SZXF1ZXN0KHRoaXMuSiksYT1uZXcgY2hyb21lLmNhc3QuQXBpQ29uZmlnKGEsdGhpcy5lZC5iaW5kKHRoaXMpLHRoaXMucWQuYmluZCh0aGlzKSxcIm9yaWdpbl9zY29wZWRcIik7Y2hyb21lLmNhc3QuaW5pdGlhbGl6ZShhLGZ1bmN0aW9uKCl7fSxmdW5jdGlvbigpe30pfWVsc2Ugd2luZG93Ll9fb25HQ2FzdEFwaUF2YWlsYWJsZT1mdW5jdGlvbihhKXthJiZ0aGlzLmluaXQoKX0uYmluZCh0aGlzKX07ay5HYj1mdW5jdGlvbihhKXt0aGlzLmk9YTt0aGlzLmMmJnhjKHRoaXMse3R5cGU6XCJhcHBEYXRhXCIsYXBwRGF0YTp0aGlzLml9KX07XG5rLmNhc3Q9ZnVuY3Rpb24oYSl7aWYoIXRoaXMuaClyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IHQoMSw4LDhFMykpO2lmKCF0aGlzLmopcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyB0KDEsOCw4MDAxKSk7aWYodGhpcy5jKXJldHVybiBQcm9taXNlLnJlamVjdChuZXcgdCgxLDgsODAwMikpO3RoaXMuZz1uZXcgQTtjaHJvbWUuY2FzdC5yZXF1ZXN0U2Vzc2lvbih0aGlzLnpiLmJpbmQodGhpcyxhKSx0aGlzLmFjLmJpbmQodGhpcykpO3JldHVybiB0aGlzLmd9O2suJGE9ZnVuY3Rpb24oKXt0aGlzLmMmJih3Yyh0aGlzKSx0aGlzLmEmJih0aGlzLmEuc3RvcChmdW5jdGlvbigpe30sZnVuY3Rpb24oKXt9KSx0aGlzLmE9bnVsbCkpfTtcbmsuZ2V0PWZ1bmN0aW9uKGEsYil7aWYoXCJ2aWRlb1wiPT1hKXtpZigwPD1sYy5pbmRleE9mKGIpKXJldHVybiB0aGlzLm5jLmJpbmQodGhpcyxhLGIpfWVsc2UgaWYoXCJwbGF5ZXJcIj09YSl7aWYoMDw9cWMuaW5kZXhPZihiKSlyZXR1cm4gdGhpcy5uYy5iaW5kKHRoaXMsYSxiKTtpZigwPD1yYy5pbmRleE9mKGIpKXJldHVybiB0aGlzLk1kLmJpbmQodGhpcyxhLGIpO2lmKDA8PW5jLmluZGV4T2YoYikpcmV0dXJuIHRoaXMuamMuYmluZCh0aGlzLGEsYil9cmV0dXJuIHRoaXMuamMoYSxiKX07ay5zZXQ9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuYlthXVtiXT1jO3hjKHRoaXMse3R5cGU6XCJzZXRcIix0YXJnZXROYW1lOmEscHJvcGVydHk6Yix2YWx1ZTpjfSl9O1xuay56Yj1mdW5jdGlvbihhLGIpe3RoaXMuYT1iO3RoaXMuYS5hZGRVcGRhdGVMaXN0ZW5lcih0aGlzLmJjLmJpbmQodGhpcykpO3RoaXMuYS5hZGRNZXNzYWdlTGlzdGVuZXIoXCJ1cm46eC1jYXN0OmNvbS5nb29nbGUuc2hha2EudjJcIix0aGlzLmtkLmJpbmQodGhpcykpO3RoaXMuYmMoKTt4Yyh0aGlzLHt0eXBlOlwiaW5pdFwiLGluaXRTdGF0ZTphLGFwcERhdGE6dGhpcy5pfSk7dGhpcy5nLnJlc29sdmUoKX07ay5hYz1mdW5jdGlvbihhKXt2YXIgYj04MDAzO3N3aXRjaChhLmNvZGUpe2Nhc2UgXCJjYW5jZWxcIjpiPTgwMDQ7YnJlYWs7Y2FzZSBcInRpbWVvdXRcIjpiPTgwMDU7YnJlYWs7Y2FzZSBcInJlY2VpdmVyX3VuYXZhaWxhYmxlXCI6Yj04MDA2fXRoaXMuZy5yZWplY3QobmV3IHQoMiw4LGIsYSkpfTtrLmpjPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuYlthXVtiXX07XG5rLm5jPWZ1bmN0aW9uKGEsYil7eGModGhpcyx7dHlwZTpcImNhbGxcIix0YXJnZXROYW1lOmEsbWV0aG9kTmFtZTpiLGFyZ3M6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpfSl9O2suTWQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMiksZD1uZXcgQSxlPXRoaXMuby50b1N0cmluZygpO3RoaXMubysrO3RoaXMuZltlXT1kO3hjKHRoaXMse3R5cGU6XCJhc3luY0NhbGxcIix0YXJnZXROYW1lOmEsbWV0aG9kTmFtZTpiLGFyZ3M6YyxpZDplfSk7cmV0dXJuIGR9O2suZWQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy52KCk7dGhpcy5nPW5ldyBBO3RoaXMuemIoYixhKX07ay5xZD1mdW5jdGlvbihhKXt0aGlzLmo9XCJhdmFpbGFibGVcIj09YTt0aGlzLmwoKX07XG5rLmJjPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5hP1wiY29ubmVjdGVkXCI9PXRoaXMuYS5zdGF0dXM6ITE7aWYodGhpcy5jJiYhYSl7dGhpcy5HKCk7Zm9yKHZhciBiIGluIHRoaXMuYil0aGlzLmJbYl09e307d2ModGhpcyl9dGhpcy5BPSh0aGlzLmM9YSk/dGhpcy5hLnJlY2VpdmVyLmZyaWVuZGx5TmFtZTpcIlwiO3RoaXMubCgpfTtmdW5jdGlvbiB3YyhhKXtmb3IodmFyIGIgaW4gYS5mKXt2YXIgYz1hLmZbYl07ZGVsZXRlIGEuZltiXTtjLnJlamVjdChuZXcgdCgxLDcsN0UzKSl9fVxuay5rZD1mdW5jdGlvbihhLGIpe3ZhciBjPXRjKGIpO3N3aXRjaChjLnR5cGUpe2Nhc2UgXCJldmVudFwiOnZhciBkPWMudGFyZ2V0TmFtZSxlPWMuZXZlbnQ7dGhpcy5CKGQsbmV3IEgoZS50eXBlLGUpKTticmVhaztjYXNlIFwidXBkYXRlXCI6ZT1jLnVwZGF0ZTtmb3IoZCBpbiBlKXt2YXIgYz10aGlzLmJbZF18fHt9O2ZvcihmIGluIGVbZF0pY1tmXT1lW2RdW2ZdfWJyZWFrO2Nhc2UgXCJhc3luY0NvbXBsZXRlXCI6ZD1jLmlkO3ZhciBmPWMuZXJyb3I7Yz10aGlzLmZbZF07ZGVsZXRlIHRoaXMuZltkXTtpZihjKWlmKGYpe2Q9bmV3IHQoZi5zZXZlcml0eSxmLmNhdGVnb3J5LGYuY29kZSk7Zm9yKGUgaW4gZilkW2VdPWZbZV07Yy5yZWplY3QoZCl9ZWxzZSBjLnJlc29sdmUoKX19O2Z1bmN0aW9uIHhjKGEsYil7dmFyIGM9c2MoYik7YS5hLnNlbmRNZXNzYWdlKFwidXJuOngtY2FzdDpjb20uZ29vZ2xlLnNoYWthLnYyXCIsYyxmdW5jdGlvbigpe30sZ2EpfTtmdW5jdGlvbiBwKCl7dGhpcy5sYj1uZXcgSGE7dGhpcy5UYT10aGlzfXAucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oYSxiKXt0aGlzLmxiLnB1c2goYSxiKX07cC5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhLGIpe3RoaXMubGIucmVtb3ZlKGEsYil9O3AucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMubGIuZ2V0KGEudHlwZSl8fFtdLGM9MDtjPGIubGVuZ3RoOysrYyl7YS50YXJnZXQ9dGhpcy5UYTthLmN1cnJlbnRUYXJnZXQ9dGhpcy5UYTt2YXIgZD1iW2NdO3RyeXtkLmhhbmRsZUV2ZW50P2QuaGFuZGxlRXZlbnQoYSk6ZC5jYWxsKHRoaXMsYSl9Y2F0Y2goZSl7fWlmKGEuYSlicmVha31yZXR1cm4gYS5kZWZhdWx0UHJldmVudGVkfTtmdW5jdGlvbiBJKGEsYixjKXtwLmNhbGwodGhpcyk7dGhpcy5jPWE7dGhpcy5iPWI7dGhpcy5oPXRoaXMuZj10aGlzLmc9dGhpcy5pPXRoaXMuaj1udWxsO3RoaXMuYT1uZXcgdmMoYyx0aGlzLmNlLmJpbmQodGhpcyksdGhpcy5kZS5iaW5kKHRoaXMpLHRoaXMuZWUuYmluZCh0aGlzKSx0aGlzLlRiLmJpbmQodGhpcykpO3ljKHRoaXMpfWJhKEkpO20oXCJzaGFrYS5jYXN0LkNhc3RQcm94eVwiLEkpO0kucHJvdG90eXBlLm09ZnVuY3Rpb24oYSl7YSYmdGhpcy5hJiZ0aGlzLmEuJGEoKTthPVt0aGlzLmg/dGhpcy5oLm0oKTpudWxsLHRoaXMuYj90aGlzLmIubSgpOm51bGwsdGhpcy5hP3RoaXMuYS5tKCk6bnVsbF07dGhpcy5hPXRoaXMuaD10aGlzLmk9dGhpcy5qPXRoaXMuYj10aGlzLmM9bnVsbDtyZXR1cm4gUHJvbWlzZS5hbGwoYSl9O0kucHJvdG90eXBlLmRlc3Ryb3k9SS5wcm90b3R5cGUubTtJLnByb3RvdHlwZS5YYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmp9O1xuSS5wcm90b3R5cGUuZ2V0VmlkZW89SS5wcm90b3R5cGUuWGM7SS5wcm90b3R5cGUuUmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pfTtJLnByb3RvdHlwZS5nZXRQbGF5ZXI9SS5wcm90b3R5cGUuUmM7SS5wcm90b3R5cGUuRGM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hP3RoaXMuYS5oJiZ0aGlzLmEuajohMX07SS5wcm90b3R5cGUuY2FuQ2FzdD1JLnByb3RvdHlwZS5EYztJLnByb3RvdHlwZS5WPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLmEuVigpOiExfTtJLnByb3RvdHlwZS5pc0Nhc3Rpbmc9SS5wcm90b3R5cGUuVjtJLnByb3RvdHlwZS5EYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLkRiKCk6XCJcIn07SS5wcm90b3R5cGUucmVjZWl2ZXJOYW1lPUkucHJvdG90eXBlLkRiO0kucHJvdG90eXBlLmNhc3Q9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLlRiKCk7cmV0dXJuIHRoaXMuYS5jYXN0KGEpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iLmhiKCl9LmJpbmQodGhpcykpfTtcbkkucHJvdG90eXBlLmNhc3Q9SS5wcm90b3R5cGUuY2FzdDtJLnByb3RvdHlwZS5HYj1mdW5jdGlvbihhKXt0aGlzLmEuR2IoYSl9O0kucHJvdG90eXBlLnNldEFwcERhdGE9SS5wcm90b3R5cGUuR2I7SS5wcm90b3R5cGUua2U9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmE7aWYoYS5jKXt2YXIgYj1hLnYoKTtjaHJvbWUuY2FzdC5yZXF1ZXN0U2Vzc2lvbihhLnpiLmJpbmQoYSxiKSxhLmFjLmJpbmQoYSkpfX07SS5wcm90b3R5cGUuc3VnZ2VzdERpc2Nvbm5lY3Q9SS5wcm90b3R5cGUua2U7SS5wcm90b3R5cGUuJGE9ZnVuY3Rpb24oKXt0aGlzLmEuJGEoKX07SS5wcm90b3R5cGUuZm9yY2VEaXNjb25uZWN0PUkucHJvdG90eXBlLiRhO1xuZnVuY3Rpb24geWMoYSl7YS5hLmluaXQoKTthLmg9bmV3IEQ7aWMuZm9yRWFjaChmdW5jdGlvbihhKXtFKHRoaXMuaCx0aGlzLmMsYSx0aGlzLnJlLmJpbmQodGhpcykpfS5iaW5kKGEpKTttYy5mb3JFYWNoKGZ1bmN0aW9uKGEpe0UodGhpcy5oLHRoaXMuYixhLHRoaXMuR2QuYmluZCh0aGlzKSl9LmJpbmQoYSkpO2Euaj17fTtmb3IodmFyIGIgaW4gYS5jKU9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLmosYix7Y29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITAsZ2V0OmEucWUuYmluZChhLGIpLHNldDphLnNlLmJpbmQoYSxiKX0pO2EuaT17fTtmb3IoYiBpbiBhLmIpT2JqZWN0LmRlZmluZVByb3BlcnR5KGEuaSxiLHtjb25maWd1cmFibGU6ITEsZW51bWVyYWJsZTohMCxnZXQ6YS5GZC5iaW5kKGEsYil9KTthLmc9bmV3IHA7YS5nLlRhPWEuajthLmY9bmV3IHA7YS5mLlRhPWEuaX1rPUkucHJvdG90eXBlO1xuay5UYj1mdW5jdGlvbigpe3ZhciBhPXt2aWRlbzp7fSxwbGF5ZXI6e30scGxheWVyQWZ0ZXJMb2FkOnt9LG1hbmlmZXN0OnRoaXMuYi5ZYSxzdGFydFRpbWU6bnVsbH07dGhpcy5jLnBhdXNlKCk7a2MuZm9yRWFjaChmdW5jdGlvbihiKXthLnZpZGVvW2JdPXRoaXMuY1tiXX0uYmluZCh0aGlzKSk7dGhpcy5jLmVuZGVkfHwoYS5zdGFydFRpbWU9dGhpcy5jLmN1cnJlbnRUaW1lKTtvYy5mb3JFYWNoKGZ1bmN0aW9uKGIpe3ZhciBjPWJbMV07Yj10aGlzLmJbYlswXV0oKTthLnBsYXllcltjXT1ifS5iaW5kKHRoaXMpKTtwYy5mb3JFYWNoKGZ1bmN0aW9uKGIpe3ZhciBjPWJbMV07Yj10aGlzLmJbYlswXV0oKTthLnBsYXllckFmdGVyTG9hZFtjXT1ifS5iaW5kKHRoaXMpKTtyZXR1cm4gYX07ay5jZT1mdW5jdGlvbigpe3RoaXMuZGlzcGF0Y2hFdmVudChuZXcgSChcImNhc3RzdGF0dXNjaGFuZ2VkXCIpKX07XG5rLmVlPWZ1bmN0aW9uKCl7b2MuZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgYj1hWzFdO2E9dGhpcy5hLmdldChcInBsYXllclwiLGFbMF0pKCk7dGhpcy5iW2JdKGEpfS5iaW5kKHRoaXMpKTt2YXIgYT10aGlzLmEuZ2V0KFwicGxheWVyXCIsXCJnZXRNYW5pZmVzdFVyaVwiKSgpLGI9dGhpcy5hLmdldChcInZpZGVvXCIsXCJlbmRlZFwiKSxjPVByb21pc2UucmVzb2x2ZSgpLGQ9dGhpcy5jLmF1dG9wbGF5LGU9bnVsbDtifHwoZT10aGlzLmEuZ2V0KFwidmlkZW9cIixcImN1cnJlbnRUaW1lXCIpKTthJiYodGhpcy5jLmF1dG9wbGF5PSExLGM9dGhpcy5iLmxvYWQoYSxlKSxjW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYSl7dGhpcy5iLmRpc3BhdGNoRXZlbnQobmV3IEgoXCJlcnJvclwiLHtkZXRhaWw6YX0pKX0uYmluZCh0aGlzKSkpO3ZhciBmPXt9O2tjLmZvckVhY2goZnVuY3Rpb24oYSl7ZlthXT10aGlzLmEuZ2V0KFwidmlkZW9cIixhKX0uYmluZCh0aGlzKSk7Yy50aGVuKGZ1bmN0aW9uKCl7a2MuZm9yRWFjaChmdW5jdGlvbihhKXt0aGlzLmNbYV09XG5mW2FdfS5iaW5kKHRoaXMpKTtwYy5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPWFbMV07YT10aGlzLmEuZ2V0KFwicGxheWVyXCIsYVswXSkoKTt0aGlzLmJbYl0oYSl9LmJpbmQodGhpcykpO3RoaXMuYy5hdXRvcGxheT1kO2EmJnRoaXMuYy5wbGF5KCl9LmJpbmQodGhpcykpfTtcbmsucWU9ZnVuY3Rpb24oYSl7aWYoXCJhZGRFdmVudExpc3RlbmVyXCI9PWEpcmV0dXJuIHRoaXMuZy5hZGRFdmVudExpc3RlbmVyLmJpbmQodGhpcy5nKTtpZihcInJlbW92ZUV2ZW50TGlzdGVuZXJcIj09YSlyZXR1cm4gdGhpcy5nLnJlbW92ZUV2ZW50TGlzdGVuZXIuYmluZCh0aGlzLmcpO2lmKHRoaXMuYS5WKCkmJiFPYmplY3Qua2V5cyh0aGlzLmEuYi52aWRlbykubGVuZ3RoKXt2YXIgYj10aGlzLmNbYV07aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgYilyZXR1cm4gYn1yZXR1cm4gdGhpcy5hLlYoKT90aGlzLmEuZ2V0KFwidmlkZW9cIixhKTooYj10aGlzLmNbYV0sXCJmdW5jdGlvblwiPT10eXBlb2YgYiYmKGI9Yi5iaW5kKHRoaXMuYykpLGIpfTtrLnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5hLlYoKT90aGlzLmEuc2V0KFwidmlkZW9cIixhLGIpOnRoaXMuY1thXT1ifTtrLnJlPWZ1bmN0aW9uKGEpe3RoaXMuYS5WKCl8fHRoaXMuZy5kaXNwYXRjaEV2ZW50KG5ldyBIKGEudHlwZSxhKSl9O1xuay5GZD1mdW5jdGlvbihhKXtyZXR1cm5cImFkZEV2ZW50TGlzdGVuZXJcIj09YT90aGlzLmYuYWRkRXZlbnRMaXN0ZW5lci5iaW5kKHRoaXMuZik6XCJyZW1vdmVFdmVudExpc3RlbmVyXCI9PWE/dGhpcy5mLnJlbW92ZUV2ZW50TGlzdGVuZXIuYmluZCh0aGlzLmYpOlwiZ2V0TmV0d29ya2luZ0VuZ2luZVwiPT1hP3RoaXMuYi5VYi5iaW5kKHRoaXMuYik6dGhpcy5hLlYoKSYmIU9iamVjdC5rZXlzKHRoaXMuYS5iLnZpZGVvKS5sZW5ndGgmJjA8PW5jLmluZGV4T2YoYSl8fCF0aGlzLmEuVigpPyhhPXRoaXMuYlthXSxhLmJpbmQodGhpcy5iKSk6dGhpcy5hLmdldChcInBsYXllclwiLGEpfTtrLkdkPWZ1bmN0aW9uKGEpe3RoaXMuYS5WKCl8fHRoaXMuZi5kaXNwYXRjaEV2ZW50KGEpfTtrLmRlPWZ1bmN0aW9uKGEsYil7dGhpcy5hLlYoKSYmKFwidmlkZW9cIj09YT90aGlzLmcuZGlzcGF0Y2hFdmVudChiKTpcInBsYXllclwiPT1hJiZ0aGlzLmYuZGlzcGF0Y2hFdmVudChiKSl9O2Z1bmN0aW9uIEooYSxiLGMsZCl7cC5jYWxsKHRoaXMpO3RoaXMuYT1hO3RoaXMuYj1iO3RoaXMuaj17dmlkZW86YSxwbGF5ZXI6Yn07dGhpcy5sPWN8fGZ1bmN0aW9uKCl7fTt0aGlzLm89ZHx8ZnVuY3Rpb24oYSl7cmV0dXJuIGF9O3RoaXMuaT0hMTt0aGlzLmY9ITA7dGhpcy5oPXRoaXMuZz10aGlzLmM9bnVsbDt6Yyh0aGlzKX1iYShKKTttKFwic2hha2EuY2FzdC5DYXN0UmVjZWl2ZXJcIixKKTtKLnByb3RvdHlwZS5pc0Nvbm5lY3RlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLml9O0oucHJvdG90eXBlLmlzQ29ubmVjdGVkPUoucHJvdG90eXBlLmlzQ29ubmVjdGVkO0oucHJvdG90eXBlLlpjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZn07Si5wcm90b3R5cGUuaXNJZGxlPUoucHJvdG90eXBlLlpjO1xuSi5wcm90b3R5cGUubT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYj90aGlzLmIubSgpOlByb21pc2UucmVzb2x2ZSgpO251bGwhPXRoaXMuaCYmd2luZG93LmNsZWFyVGltZW91dCh0aGlzLmgpO3RoaXMubD10aGlzLmo9dGhpcy5iPXRoaXMuYT1udWxsO3RoaXMuaT0hMTt0aGlzLmY9ITA7dGhpcy5oPXRoaXMuZz10aGlzLmM9bnVsbDtyZXR1cm4gYS50aGVuKGZ1bmN0aW9uKCl7Y2FzdC5yZWNlaXZlci5DYXN0UmVjZWl2ZXJNYW5hZ2VyLmdldEluc3RhbmNlKCkuc3RvcCgpfSl9O0oucHJvdG90eXBlLmRlc3Ryb3k9Si5wcm90b3R5cGUubTtcbmZ1bmN0aW9uIHpjKGEpe3ZhciBiPWNhc3QucmVjZWl2ZXIuQ2FzdFJlY2VpdmVyTWFuYWdlci5nZXRJbnN0YW5jZSgpO2Iub25TZW5kZXJDb25uZWN0ZWQ9YS5oYy5iaW5kKGEpO2Iub25TZW5kZXJEaXNjb25uZWN0ZWQ9YS5oYy5iaW5kKGEpO2Iub25TeXN0ZW1Wb2x1bWVDaGFuZ2VkPWEuS2MuYmluZChhKTthLmc9Yi5nZXRDYXN0TWVzc2FnZUJ1cyhcInVybjp4LWNhc3Q6Y29tLmdvb2dsZS5jYXN0Lm1lZGlhXCIpO2EuZy5vbk1lc3NhZ2U9YS5mZC5iaW5kKGEpO2EuYz1iLmdldENhc3RNZXNzYWdlQnVzKFwidXJuOngtY2FzdDpjb20uZ29vZ2xlLnNoYWthLnYyXCIpO2EuYy5vbk1lc3NhZ2U9YS50ZC5iaW5kKGEpO2Iuc3RhcnQoKTtpYy5mb3JFYWNoKGZ1bmN0aW9uKGEpe3RoaXMuYS5hZGRFdmVudExpc3RlbmVyKGEsdGhpcy5rYy5iaW5kKHRoaXMsXCJ2aWRlb1wiKSl9LmJpbmQoYSkpO21jLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy5iLmFkZEV2ZW50TGlzdGVuZXIoYSx0aGlzLmtjLmJpbmQodGhpcyxcblwicGxheWVyXCIpKX0uYmluZChhKSk7Y2FzdC5fX3BsYXRmb3JtX18mJmNhc3QuX19wbGF0Zm9ybV9fLmNhbkRpc3BsYXlUeXBlKCd2aWRlby9tcDQ7IGNvZGVjcz1cImF2YzEuNjQwMDI4XCI7IHdpZHRoPTM4NDA7IGhlaWdodD0yMTYwJyk/YS5iLkhiKDM4NDAsMjE2MCk6YS5iLkhiKDE5MjAsMTA4MCk7YS5iLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkaW5nXCIsZnVuY3Rpb24oKXt0aGlzLmY9ITE7QWModGhpcyl9LmJpbmQoYSkpO2EuYS5hZGRFdmVudExpc3RlbmVyKFwicGxheWluZ1wiLGZ1bmN0aW9uKCl7dGhpcy5mPSExO0FjKHRoaXMpfS5iaW5kKGEpKTthLmEuYWRkRXZlbnRMaXN0ZW5lcihcInBhdXNlXCIsZnVuY3Rpb24oKXtBYyh0aGlzKX0uYmluZChhKSk7YS5iLmFkZEV2ZW50TGlzdGVuZXIoXCJ1bmxvYWRpbmdcIixmdW5jdGlvbigpe3RoaXMuZj0hMDtBYyh0aGlzKX0uYmluZChhKSk7YS5hLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLGZ1bmN0aW9uKCl7d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLmEmJlxudGhpcy5hLmVuZGVkJiYodGhpcy5mPSEwLEFjKHRoaXMpKX0uYmluZCh0aGlzKSw1RTMpfS5iaW5kKGEpKX1rPUoucHJvdG90eXBlO2suaGM9ZnVuY3Rpb24oKXt0aGlzLmk9ISFjYXN0LnJlY2VpdmVyLkNhc3RSZWNlaXZlck1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTZW5kZXJzKCkubGVuZ3RoO0FjKHRoaXMpfTtmdW5jdGlvbiBBYyhhKXtQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uKCl7dGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBIKFwiY2FzdHN0YXR1c2NoYW5nZWRcIikpO0wodGhpcywwKX0uYmluZChhKSl9XG5mdW5jdGlvbiBCYyhhLGIsYyl7Zm9yKHZhciBkIGluIGIucGxheWVyKWEuYltkXShiLnBsYXllcltkXSk7YS5sKGMpO2M9UHJvbWlzZS5yZXNvbHZlKCk7dmFyIGU9YS5hLmF1dG9wbGF5O2IubWFuaWZlc3QmJihhLmEuYXV0b3BsYXk9ITEsYz1hLmIubG9hZChiLm1hbmlmZXN0LGIuc3RhcnRUaW1lKSxjW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYSl7dGhpcy5iLmRpc3BhdGNoRXZlbnQobmV3IEgoXCJlcnJvclwiLHtkZXRhaWw6YX0pKX0uYmluZChhKSkpO2MudGhlbihmdW5jdGlvbigpe3ZhciBhO2ZvcihhIGluIGIudmlkZW8pe3ZhciBjPWIudmlkZW9bYV07dGhpcy5hW2FdPWN9Zm9yKGEgaW4gYi5wbGF5ZXJBZnRlckxvYWQpYz1iLnBsYXllckFmdGVyTG9hZFthXSx0aGlzLmJbYV0oYyk7dGhpcy5hLmF1dG9wbGF5PWU7Yi5tYW5pZmVzdCYmKHRoaXMuYS5wbGF5KCksTCh0aGlzLDApKX0uYmluZChhKSl9XG5rLmtjPWZ1bmN0aW9uKGEsYil7dGhpcy5BYigpO0NjKHRoaXMse3R5cGU6XCJldmVudFwiLHRhcmdldE5hbWU6YSxldmVudDpifSx0aGlzLmMpfTtrLkFiPWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5oJiZ3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuaCk7dGhpcy5oPXdpbmRvdy5zZXRUaW1lb3V0KHRoaXMuQWIuYmluZCh0aGlzKSw1MDApO3ZhciBhPXt2aWRlbzp7fSxwbGF5ZXI6e319O2pjLmZvckVhY2goZnVuY3Rpb24oYil7YS52aWRlb1tiXT10aGlzLmFbYl19LmJpbmQodGhpcykpO25jLmZvckVhY2goZnVuY3Rpb24oYil7YS5wbGF5ZXJbYl09dGhpcy5iW2JdKCl9LmJpbmQodGhpcykpO3ZhciBiPWNhc3QucmVjZWl2ZXIuQ2FzdFJlY2VpdmVyTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFN5c3RlbVZvbHVtZSgpO2ImJihhLnZpZGVvLnZvbHVtZT1iLmxldmVsLGEudmlkZW8ubXV0ZWQ9Yi5tdXRlZCk7Q2ModGhpcyx7dHlwZTpcInVwZGF0ZVwiLHVwZGF0ZTphfSx0aGlzLmMpfTtcbmsuS2M9ZnVuY3Rpb24oKXt2YXIgYT1jYXN0LnJlY2VpdmVyLkNhc3RSZWNlaXZlck1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTeXN0ZW1Wb2x1bWUoKTthJiZDYyh0aGlzLHt0eXBlOlwidXBkYXRlXCIsdXBkYXRlOnt2aWRlbzp7dm9sdW1lOmEubGV2ZWwsbXV0ZWQ6YS5tdXRlZH19fSx0aGlzLmMpO0NjKHRoaXMse3R5cGU6XCJldmVudFwiLHRhcmdldE5hbWU6XCJ2aWRlb1wiLGV2ZW50Ont0eXBlOlwidm9sdW1lY2hhbmdlXCJ9fSx0aGlzLmMpfTtcbmsudGQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGMoYS5kYXRhKTtzd2l0Y2goYi50eXBlKXtjYXNlIFwiaW5pdFwiOkJjKHRoaXMsYi5pbml0U3RhdGUsYi5hcHBEYXRhKTt0aGlzLkFiKCk7YnJlYWs7Y2FzZSBcImFwcERhdGFcIjp0aGlzLmwoYi5hcHBEYXRhKTticmVhaztjYXNlIFwic2V0XCI6dmFyIGM9Yi50YXJnZXROYW1lLGQ9Yi5wcm9wZXJ0eSxlPWIudmFsdWU7aWYoXCJ2aWRlb1wiPT1jKWlmKGI9Y2FzdC5yZWNlaXZlci5DYXN0UmVjZWl2ZXJNYW5hZ2VyLmdldEluc3RhbmNlKCksXCJ2b2x1bWVcIj09ZCl7Yi5zZXRTeXN0ZW1Wb2x1bWVMZXZlbChlKTticmVha31lbHNlIGlmKFwibXV0ZWRcIj09ZCl7Yi5zZXRTeXN0ZW1Wb2x1bWVNdXRlZChlKTticmVha310aGlzLmpbY11bZF09ZTticmVhaztjYXNlIFwiY2FsbFwiOmM9Yi50YXJnZXROYW1lO2Q9Yi5tZXRob2ROYW1lO2U9Yi5hcmdzO2M9dGhpcy5qW2NdO2NbZF0uYXBwbHkoYyxlKTticmVhaztjYXNlIFwiYXN5bmNDYWxsXCI6Yz1iLnRhcmdldE5hbWUsXG5kPWIubWV0aG9kTmFtZSxlPWIuYXJncyxiPWIuaWQsYT1hLnNlbmRlcklkLGM9dGhpcy5qW2NdLGNbZF0uYXBwbHkoYyxlKS50aGVuKHRoaXMudGMuYmluZCh0aGlzLGEsYixudWxsKSx0aGlzLnRjLmJpbmQodGhpcyxhLGIpKX19O1xuay5mZD1mdW5jdGlvbihhKXt2YXIgYj10YyhhLmRhdGEpO3N3aXRjaChiLnR5cGUpe2Nhc2UgXCJQTEFZXCI6dGhpcy5hLnBsYXkoKTtMKHRoaXMsMCk7YnJlYWs7Y2FzZSBcIlBBVVNFXCI6dGhpcy5hLnBhdXNlKCk7TCh0aGlzLDApO2JyZWFrO2Nhc2UgXCJTRUVLXCI6YT1iLmN1cnJlbnRUaW1lO3ZhciBjPWIucmVzdW1lU3RhdGU7bnVsbCE9YSYmKHRoaXMuYS5jdXJyZW50VGltZT1OdW1iZXIoYSkpO2MmJlwiUExBWUJBQ0tfU1RBUlRcIj09Yz8odGhpcy5hLnBsYXkoKSxMKHRoaXMsMCkpOmMmJlwiUExBWUJBQ0tfUEFVU0VcIj09YyYmKHRoaXMuYS5wYXVzZSgpLEwodGhpcywwKSk7YnJlYWs7Y2FzZSBcIlNUT1BcIjp0aGlzLmIuaGIoKS50aGVuKGZ1bmN0aW9uKCl7TCh0aGlzLDApfS5iaW5kKHRoaXMpKTticmVhaztjYXNlIFwiR0VUX1NUQVRVU1wiOkwodGhpcyxOdW1iZXIoYi5yZXF1ZXN0SWQpKTticmVhaztjYXNlIFwiVk9MVU1FXCI6Yz1iLnZvbHVtZTthPWMubGV2ZWw7dmFyIGM9Yy5tdXRlZCxkPVxudGhpcy5hLnZvbHVtZSxlPXRoaXMuYS5tdXRlZDtudWxsIT1hJiYodGhpcy5hLnZvbHVtZT1OdW1iZXIoYSkpO251bGwhPWMmJih0aGlzLmEubXV0ZWQ9Yyk7ZD09dGhpcy5hLnZvbHVtZSYmZT09dGhpcy5hLm11dGVkfHxMKHRoaXMsMCk7YnJlYWs7Y2FzZSBcIkxPQURcIjpjPWIubWVkaWEuY29udGVudElkO2E9Yi5jdXJyZW50VGltZTt2YXIgZj10aGlzLm8oYyk7dGhpcy5hLmF1dG9wbGF5PSEwO3RoaXMuYi5sb2FkKGYsYSkudGhlbihmdW5jdGlvbigpe0wodGhpcywwLHtjb250ZW50SWQ6ZixzdHJlYW1UeXBlOnRoaXMuYi5kYSgpP1wiTElWRVwiOlwiQlVGRkVSRURcIixjb250ZW50VHlwZTpcIlwifSl9LmJpbmQodGhpcykpW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYSl7dmFyIGM9XCJMT0FEX0ZBSUxFRFwiOzc9PWEuY2F0ZWdvcnkmJjdFMz09YS5jb2RlJiYoYz1cIkxPQURfQ0FOQ0VMTEVEXCIpO0NjKHRoaXMse3JlcXVlc3RJZDpOdW1iZXIoYi5yZXF1ZXN0SWQpLHR5cGU6Y30sdGhpcy5nKX0uYmluZCh0aGlzKSk7XG5icmVhaztkZWZhdWx0OkNjKHRoaXMse3JlcXVlc3RJZDpOdW1iZXIoYi5yZXF1ZXN0SWQpLHR5cGU6XCJJTlZBTElEX1JFUVVFU1RcIixyZWFzb246XCJJTlZBTElEX0NPTU1BTkRcIn0sdGhpcy5nKX19O2sudGM9ZnVuY3Rpb24oYSxiLGMpe0NjKHRoaXMse3R5cGU6XCJhc3luY0NvbXBsZXRlXCIsaWQ6YixlcnJvcjpjfSx0aGlzLmMsYSl9O2Z1bmN0aW9uIENjKGEsYixjLGQpe2EuaSYmKGE9c2MoYiksZD9jLmdldENhc3RDaGFubmVsKGQpLnNlbmQoYSk6Yy5icm9hZGNhc3QoYSkpfVxuZnVuY3Rpb24gTChhLGIsYyl7dmFyIGQ9RGMsZD17bWVkaWFTZXNzaW9uSWQ6MCxwbGF5YmFja1JhdGU6YS5hLnBsYXliYWNrUmF0ZSxwbGF5ZXJTdGF0ZTphLmY/ZC5JRExFOmEuYi5rYT9kLnljOmEuYS5wYXVzZWQ/ZC56YzpkLkFjLGN1cnJlbnRUaW1lOmEuYS5jdXJyZW50VGltZSxzdXBwb3J0ZWRNZWRpYUNvbW1hbmRzOjE1LHZvbHVtZTp7bGV2ZWw6YS5hLnZvbHVtZSxtdXRlZDphLmEubXV0ZWR9fTtjJiYoZC5tZWRpYT1jKTtDYyhhLHtyZXF1ZXN0SWQ6Yix0eXBlOlwiTUVESUFfU1RBVFVTXCIsc3RhdHVzOltkXX0sYS5nKX12YXIgRGM9e0lETEU6XCJJRExFXCIsQWM6XCJQTEFZSU5HXCIseWM6XCJCVUZGRVJJTkdcIix6YzpcIlBBVVNFRFwifTtmdW5jdGlvbiBFYyhhLGIpe3ZhciBjPU0oYSxiKTtyZXR1cm4gMSE9Yy5sZW5ndGg/bnVsbDpjWzBdfWZ1bmN0aW9uIE0oYSxiKXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKGEuY2hpbGROb2RlcyxmdW5jdGlvbihhKXtyZXR1cm4gYS50YWdOYW1lPT1ifSl9ZnVuY3Rpb24gRmMoYSl7dmFyIGI9YS5maXJzdENoaWxkO3JldHVybiBiJiZiLm5vZGVUeXBlPT1Ob2RlLlRFWFRfTk9ERT9hLnRleHRDb250ZW50LnRyaW0oKTpudWxsfWZ1bmN0aW9uIE4oYSxiLGMsZCl7dmFyIGU9bnVsbDthPWEuZ2V0QXR0cmlidXRlKGIpO251bGwhPWEmJihlPWMoYSkpO3JldHVybiBudWxsPT1lP3ZvaWQgMCE9ZD9kOm51bGw6ZX1mdW5jdGlvbiBHYyhhKXtpZighYSlyZXR1cm4gbnVsbDthPURhdGUucGFyc2UoYSk7cmV0dXJuIGlzTmFOKGEpP251bGw6TWF0aC5mbG9vcihhLzFFMyl9XG5mdW5jdGlvbiBIYyhhKXtpZighYSlyZXR1cm4gbnVsbDthPS9eUCg/OihbMC05XSopWSk/KD86KFswLTldKilNKT8oPzooWzAtOV0qKUQpPyg/OlQoPzooWzAtOV0qKUgpPyg/OihbMC05XSopTSk/KD86KFswLTkuXSopUyk/KT8kLy5leGVjKGEpO2lmKCFhKXJldHVybiBudWxsO2E9MzE1MzZFMypOdW1iZXIoYVsxXXx8bnVsbCkrMjU5MkUzKk51bWJlcihhWzJdfHxudWxsKSs4NjQwMCpOdW1iZXIoYVszXXx8bnVsbCkrMzYwMCpOdW1iZXIoYVs0XXx8bnVsbCkrNjAqTnVtYmVyKGFbNV18fG51bGwpK051bWJlcihhWzZdfHxudWxsKTtyZXR1cm4gaXNGaW5pdGUoYSk/YTpudWxsfWZ1bmN0aW9uIEljKGEpe3ZhciBiPS8oWzAtOV0rKS0oWzAtOV0rKS8uZXhlYyhhKTtpZighYilyZXR1cm4gbnVsbDthPU51bWJlcihiWzFdKTtpZighaXNGaW5pdGUoYSkpcmV0dXJuIG51bGw7Yj1OdW1iZXIoYlsyXSk7cmV0dXJuIGlzRmluaXRlKGIpP3tzdGFydDphLGVuZDpifTpudWxsfVxuZnVuY3Rpb24gSmMoYSl7YT1OdW1iZXIoYSk7cmV0dXJuIGElMT9udWxsOmF9ZnVuY3Rpb24gS2MoYSl7YT1OdW1iZXIoYSk7cmV0dXJuIShhJTEpJiYwPGE/YTpudWxsfWZ1bmN0aW9uIExjKGEpe2E9TnVtYmVyKGEpO3JldHVybiEoYSUxKSYmMDw9YT9hOm51bGx9ZnVuY3Rpb24gTWMoYSl7dmFyIGI7YT0oYj1hLm1hdGNoKC9eKFxcZCspXFwvKFxcZCspJC8pKT9OdW1iZXIoYlsxXS9iWzJdKTpOdW1iZXIoYSk7cmV0dXJuIGlzTmFOKGEpP251bGw6YX07dmFyIE5jPXtcInVybjp1dWlkOjEwNzdlZmVjLWMwYjItNGQwMi1hY2UzLTNjMWU1MmUyZmI0YlwiOlwib3JnLnczLmNsZWFya2V5XCIsXCJ1cm46dXVpZDplZGVmOGJhOS03OWQ2LTRhY2UtYTNjOC0yN2RjZDUxZDIxZWRcIjpcImNvbS53aWRldmluZS5hbHBoYVwiLFwidXJuOnV1aWQ6OWEwNGYwNzktOTg0MC00Mjg2LWFiOTItZTY1YmUwODg1Zjk1XCI6XCJjb20ubWljcm9zb2Z0LnBsYXlyZWFkeVwiLFwidXJuOnV1aWQ6ZjIzOWU3NjktZWZhMy00ODUwLTljMTYtYTkwM2M2OTMyZWZiXCI6XCJjb20uYWRvYmUucHJpbWV0aW1lXCJ9O1xuZnVuY3Rpb24gT2MoYSxiLGMpe2E9UGMoYSk7dmFyIGQ9bnVsbCxlPW51bGwsZj1bXSxnPVtdLGg9YS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEua2V5SWR9KS5maWx0ZXIoeWEpO2lmKDA8aC5sZW5ndGgmJihlPWhbMF0saC5zb21lKHphKGUpKSkpdGhyb3cgbmV3IHQoMiw0LDQwMTApO2N8fChnPWEuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVyblwidXJuOm1wZWc6ZGFzaDptcDRwcm90ZWN0aW9uOjIwMTFcIj09YS5xYz8oZD1hLmluaXR8fGQsITEpOiEwfSksMDxnLmxlbmd0aCYmKGY9UWMoZCxiLGcpLGYubGVuZ3RofHwoZj1bQmEoXCJcIixkKV0pKSk7MDxhLmxlbmd0aCYmKGN8fCFnLmxlbmd0aCkmJihmPU1hKE5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIEJhKGEsZCl9KSk7ZSYmZi5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EuaW5pdERhdGEuZm9yRWFjaChmdW5jdGlvbihhKXthLmtleUlkPWV9KX0pO3JldHVybntRYjplLHhlOmQsZHJtSW5mb3M6ZixTYjohMH19XG5mdW5jdGlvbiBSYyhhLGIsYyxkKXt2YXIgZT1PYyhhLGIsZCk7aWYoYy5TYil7YT0xPT1jLmRybUluZm9zLmxlbmd0aCYmIWMuZHJtSW5mb3NbMF0ua2V5U3lzdGVtO2I9IWUuZHJtSW5mb3MubGVuZ3RoO2lmKCFjLmRybUluZm9zLmxlbmd0aHx8YSYmIWIpYy5kcm1JbmZvcz1lLmRybUluZm9zO2MuU2I9ITF9ZWxzZSBpZigwPGUuZHJtSW5mb3MubGVuZ3RoJiYoYy5kcm1JbmZvcz1jLmRybUluZm9zLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gZS5kcm1JbmZvcy5zb21lKGZ1bmN0aW9uKGIpe3JldHVybiBiLmtleVN5c3RlbT09YS5rZXlTeXN0ZW19KX0pLCFjLmRybUluZm9zLmxlbmd0aCkpdGhyb3cgbmV3IHQoMiw0LDQwMDgpO3JldHVybiBlLlFifHxjLlFifWZ1bmN0aW9uIFFjKGEsYixjKXtyZXR1cm4gYy5tYXAoZnVuY3Rpb24oYyl7dmFyIGQ9TmNbYy5xY107cmV0dXJuIGQ/W0JhKGQsYy5pbml0fHxhKV06YihjLm5vZGUpfHxbXX0pLnJlZHVjZSh4LFtdKX1cbmZ1bmN0aW9uIFBjKGEpe3JldHVybiBhLm1hcChmdW5jdGlvbihhKXt2YXIgYj1hLmdldEF0dHJpYnV0ZShcInNjaGVtZUlkVXJpXCIpLGQ9YS5nZXRBdHRyaWJ1dGUoXCJjZW5jOmRlZmF1bHRfS0lEXCIpLGU9TShhLFwiY2VuYzpwc3NoXCIpLm1hcChGYyk7aWYoIWIpcmV0dXJuIG51bGw7Yj1iLnRvTG93ZXJDYXNlKCk7aWYoZCYmKGQ9ZC5yZXBsYWNlKC8tL2csXCJcIikudG9Mb3dlckNhc2UoKSwwPD1kLmluZGV4T2YoXCIgXCIpKSl0aHJvdyBuZXcgdCgyLDQsNDAwOSk7dmFyIGY9W107dHJ5e2Y9ZS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJue2luaXREYXRhVHlwZTpcImNlbmNcIixpbml0RGF0YTpXYShhKSxrZXlJZDpudWxsfX0pfWNhdGNoKGcpe3Rocm93IG5ldyB0KDIsNCw0MDA3KTt9cmV0dXJue25vZGU6YSxxYzpiLGtleUlkOmQsaW5pdDowPGYubGVuZ3RoP2Y6bnVsbH19KS5maWx0ZXIoeWEpfTtmdW5jdGlvbiBTYyhhLGIsYyxkLGUpe251bGwhPWUmJihlPU1hdGgucm91bmQoZSkpO3ZhciBmPXtSZXByZXNlbnRhdGlvbklEOmIsTnVtYmVyOmMsQmFuZHdpZHRoOmQsVGltZTplfTtyZXR1cm4gYS5yZXBsYWNlKC9cXCQoUmVwcmVzZW50YXRpb25JRHxOdW1iZXJ8QmFuZHdpZHRofFRpbWUpPyg/OiUwKFswLTldKylkKT9cXCQvZyxmdW5jdGlvbihhLGIsYyl7aWYoXCIkJFwiPT1hKXJldHVyblwiJFwiO3ZhciBkPWZbYl07aWYobnVsbD09ZClyZXR1cm4gYTtcIlJlcHJlc2VudGF0aW9uSURcIj09YiYmYyYmKGM9dm9pZCAwKTthPWQudG9TdHJpbmcoKTtjPXdpbmRvdy5wYXJzZUludChjLDEwKXx8MTtyZXR1cm4gQXJyYXkoTWF0aC5tYXgoMCxjLWEubGVuZ3RoKSsxKS5qb2luKFwiMFwiKSthfSl9XG5mdW5jdGlvbiBUYyhhLGIpe3ZhciBjPVVjKGEsYixcInRpbWVzY2FsZVwiKSxkPTE7YyYmKGQ9S2MoYyl8fDEpO2M9VWMoYSxiLFwiZHVyYXRpb25cIik7KGM9S2MoY3x8XCJcIikpJiYoYy89ZCk7dmFyIGU9VWMoYSxiLFwic3RhcnROdW1iZXJcIiksZj1VYyhhLGIsXCJwcmVzZW50YXRpb25UaW1lT2Zmc2V0XCIpLGc9TGMoZXx8XCJcIik7aWYobnVsbD09ZXx8bnVsbD09ZylnPTE7dmFyIGg9VmMoYSxiLFwiU2VnbWVudFRpbWVsaW5lXCIpLGU9bnVsbDtpZihoKXtmb3IodmFyIGU9ZCxsPU51bWJlcihmKSxuPWEuUi5kdXJhdGlvbnx8SW5maW5pdHksaD1NKGgsXCJTXCIpLHE9W10scj0wLHY9MDt2PGgubGVuZ3RoOysrdil7dmFyIHU9aFt2XSx3PU4odSxcInRcIixMYyksSz1OKHUsXCJkXCIsTGMpLHU9Tih1LFwiclwiLEpjKTtudWxsIT13JiYody09bCk7aWYoIUspYnJlYWs7dz1udWxsIT13P3c6cjt1PXV8fDA7aWYoMD51KWlmKHYrMTxoLmxlbmd0aCl7dT1OKGhbdisxXSxcInRcIixMYyk7aWYobnVsbD09dSlicmVhaztcbmVsc2UgaWYodz49dSlicmVhazt1PU1hdGguY2VpbCgodS13KS9LKS0xfWVsc2V7aWYoSW5maW5pdHk9PW4pYnJlYWs7ZWxzZSBpZih3L2U+PW4pYnJlYWs7dT1NYXRoLmNlaWwoKG4qZS13KS9LKS0xfTA8cS5sZW5ndGgmJnchPXImJihxW3EubGVuZ3RoLTFdLmVuZD13L2UpO2Zvcih2YXIgb2E9MDtvYTw9dTsrK29hKXI9dytLLHEucHVzaCh7c3RhcnQ6dy9lLGVuZDpyL2Usb2U6d30pLHc9cn1lPXF9cmV0dXJue3RpbWVzY2FsZTpkLE86Yyx5YTpnLHByZXNlbnRhdGlvblRpbWVPZmZzZXQ6TnVtYmVyKGYpL2R8fDAsTmI6TnVtYmVyKGYpLEY6ZX19ZnVuY3Rpb24gVWMoYSxiLGMpe3JldHVybltiKGEudyksYihhLlMpLGIoYS5UKV0uZmlsdGVyKHlhKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0QXR0cmlidXRlKGMpfSkucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGF8fGJ9KX1cbmZ1bmN0aW9uIFZjKGEsYixjKXtyZXR1cm5bYihhLncpLGIoYS5TKSxiKGEuVCldLmZpbHRlcih5YSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBFYyhhLGMpfSkucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGF8fGJ9KX07ZnVuY3Rpb24gV2MoYSxiLGMpe3RoaXMuYT1hO3RoaXMuWD1iO3RoaXMuTT1jfW0oXCJzaGFrYS5tZWRpYS5Jbml0U2VnbWVudFJlZmVyZW5jZVwiLFdjKTtmdW5jdGlvbiBPKGEsYixjLGQsZSxmKXt0aGlzLnBvc2l0aW9uPWE7dGhpcy5zdGFydFRpbWU9Yjt0aGlzLmVuZFRpbWU9Yzt0aGlzLmE9ZDt0aGlzLlg9ZTt0aGlzLk09Zn1tKFwic2hha2EubWVkaWEuU2VnbWVudFJlZmVyZW5jZVwiLE8pO2Z1bmN0aW9uIFAoYSxiKXt0aGlzLkg9YTt0aGlzLmE9Yj09WGM7dGhpcy51PTB9bShcInNoYWthLnV0aWwuRGF0YVZpZXdSZWFkZXJcIixQKTt2YXIgWGM9MTtQLkVuZGlhbm5lc3M9e3RlOjAsdmU6WGN9O1AucHJvdG90eXBlLlo9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51PHRoaXMuSC5ieXRlTGVuZ3RofTtQLnByb3RvdHlwZS5oYXNNb3JlRGF0YT1QLnByb3RvdHlwZS5aO1AucHJvdG90eXBlLlRjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudX07UC5wcm90b3R5cGUuZ2V0UG9zaXRpb249UC5wcm90b3R5cGUuVGM7UC5wcm90b3R5cGUuT2M9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ILmJ5dGVMZW5ndGh9O1AucHJvdG90eXBlLmdldExlbmd0aD1QLnByb3RvdHlwZS5PYztQLnByb3RvdHlwZS5DYj1mdW5jdGlvbigpe3RyeXt2YXIgYT10aGlzLkguZ2V0VWludDgodGhpcy51KX1jYXRjaChiKXtZYygpfXRoaXMudSs9MTtyZXR1cm4gYX07UC5wcm90b3R5cGUucmVhZFVpbnQ4PVAucHJvdG90eXBlLkNiO1xuUC5wcm90b3R5cGUubWM9ZnVuY3Rpb24oKXt0cnl7dmFyIGE9dGhpcy5ILmdldFVpbnQxNih0aGlzLnUsdGhpcy5hKX1jYXRjaChiKXtZYygpfXRoaXMudSs9MjtyZXR1cm4gYX07UC5wcm90b3R5cGUucmVhZFVpbnQxNj1QLnByb3RvdHlwZS5tYztQLnByb3RvdHlwZS5EPWZ1bmN0aW9uKCl7dHJ5e3ZhciBhPXRoaXMuSC5nZXRVaW50MzIodGhpcy51LHRoaXMuYSl9Y2F0Y2goYil7WWMoKX10aGlzLnUrPTQ7cmV0dXJuIGF9O1AucHJvdG90eXBlLnJlYWRVaW50MzI9UC5wcm90b3R5cGUuRDtQLnByb3RvdHlwZS5sYz1mdW5jdGlvbigpe3RyeXt2YXIgYT10aGlzLkguZ2V0SW50MzIodGhpcy51LHRoaXMuYSl9Y2F0Y2goYil7WWMoKX10aGlzLnUrPTQ7cmV0dXJuIGF9O1AucHJvdG90eXBlLnJlYWRJbnQzMj1QLnByb3RvdHlwZS5sYztcblAucHJvdG90eXBlLlBhPWZ1bmN0aW9uKCl7dHJ5e2lmKHRoaXMuYSl7dmFyIGE9dGhpcy5ILmdldFVpbnQzMih0aGlzLnUsITApO3ZhciBiPXRoaXMuSC5nZXRVaW50MzIodGhpcy51KzQsITApfWVsc2UgYj10aGlzLkguZ2V0VWludDMyKHRoaXMudSwhMSksYT10aGlzLkguZ2V0VWludDMyKHRoaXMudSs0LCExKX1jYXRjaChjKXtZYygpfWlmKDIwOTcxNTE8Yil0aHJvdyBuZXcgdCgyLDMsMzAwMSk7dGhpcy51Kz04O3JldHVybiBiKk1hdGgucG93KDIsMzIpK2F9O1AucHJvdG90eXBlLnJlYWRVaW50NjQ9UC5wcm90b3R5cGUuUGE7UC5wcm90b3R5cGUuSmE9ZnVuY3Rpb24oYSl7dGhpcy51K2E+dGhpcy5ILmJ5dGVMZW5ndGgmJlljKCk7dmFyIGI9dGhpcy5ILmJ1ZmZlci5zbGljZSh0aGlzLnUsdGhpcy51K2EpO3RoaXMudSs9YTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYil9O1AucHJvdG90eXBlLnJlYWRCeXRlcz1QLnByb3RvdHlwZS5KYTtcblAucHJvdG90eXBlLkk9ZnVuY3Rpb24oYSl7dGhpcy51K2E+dGhpcy5ILmJ5dGVMZW5ndGgmJlljKCk7dGhpcy51Kz1hfTtQLnByb3RvdHlwZS5za2lwPVAucHJvdG90eXBlLkk7UC5wcm90b3R5cGUuQmI9ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy51O3RoaXMuWigpJiZ0aGlzLkguZ2V0VWludDgodGhpcy51KTspdGhpcy51Kz0xO2E9dGhpcy5ILmJ1ZmZlci5zbGljZShhLHRoaXMudSk7dGhpcy51Kz0xO3JldHVybiBGKGEpfTtQLnByb3RvdHlwZS5yZWFkVGVybWluYXRlZFN0cmluZz1QLnByb3RvdHlwZS5CYjtmdW5jdGlvbiBZYygpe3Rocm93IG5ldyB0KDIsMywzRTMpO307ZnVuY3Rpb24gUSgpe3RoaXMuYj1bXTt0aGlzLmE9W119bShcInNoYWthLnV0aWwuTXA0UGFyc2VyXCIsUSk7US5wcm90b3R5cGUuQz1mdW5jdGlvbihhLGIpe3ZhciBjPVpjKGEpO3RoaXMuYltjXT0wO3RoaXMuYVtjXT1iO3JldHVybiB0aGlzfTtRLnByb3RvdHlwZS5ib3g9US5wcm90b3R5cGUuQztRLnByb3RvdHlwZS5jYT1mdW5jdGlvbihhLGIpe3ZhciBjPVpjKGEpO3RoaXMuYltjXT0xO3RoaXMuYVtjXT1iO3JldHVybiB0aGlzfTtRLnByb3RvdHlwZS5mdWxsQm94PVEucHJvdG90eXBlLmNhO1EucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEpe2ZvcihhPW5ldyBQKG5ldyBEYXRhVmlldyhhKSwwKTthLlooKTspdGhpcy5lYigwLGEpfTtRLnByb3RvdHlwZS5wYXJzZT1RLnByb3RvdHlwZS5wYXJzZTtcblEucHJvdG90eXBlLmViPWZ1bmN0aW9uKGEsYil7dmFyIGM9Yi51LGQ9Yi5EKCksZT1iLkQoKTtzd2l0Y2goZCl7Y2FzZSAwOmQ9Yi5ILmJ5dGVMZW5ndGgtYzticmVhaztjYXNlIDE6ZD1iLlBhKCl9dmFyIGY9dGhpcy5hW2VdO2lmKGYpe3ZhciBnPW51bGwsaD1udWxsOzE9PXRoaXMuYltlXSYmKGg9Yi5EKCksZz1oPj4+MjQsaCY9MTY3NzcyMTUpO2U9YytkLWIudTtlPTA8ZT9iLkphKGUpLmJ1ZmZlcjpuZXcgQXJyYXlCdWZmZXIoMCk7ZT1uZXcgUChuZXcgRGF0YVZpZXcoZSksMCk7Zih7TmE6dGhpcyx2ZXJzaW9uOmcsTGM6aCxzOmUsc2l6ZTpkLHN0YXJ0OmMrYX0pfWVsc2UgYi5JKGMrZC1iLnUpfTtRLnByb3RvdHlwZS5wYXJzZU5leHQ9US5wcm90b3R5cGUuZWI7ZnVuY3Rpb24gUihhKXtmb3IoO2Eucy5aKCk7KWEuTmEuZWIoYS5zdGFydCxhLnMpfVEuY2hpbGRyZW49UjtcbmZ1bmN0aW9uICRjKGEpe2Zvcih2YXIgYj1hLnMuRCgpOzA8YjstLWIpYS5OYS5lYihhLnN0YXJ0LGEucyl9US5zYW1wbGVEZXNjcmlwdGlvbj0kYztmdW5jdGlvbiBhZChhKXtyZXR1cm4gZnVuY3Rpb24oYil7YShiLnMuSmEoYi5zLkguYnl0ZUxlbmd0aC1iLnMudSkpfX1RLmFsbERhdGE9YWQ7ZnVuY3Rpb24gWmMoYSl7Zm9yKHZhciBiPTAsYz0wO2M8YS5sZW5ndGg7YysrKWI9Yjw8OHxhLmNoYXJDb2RlQXQoYyk7cmV0dXJuIGJ9O2Z1bmN0aW9uIGJkKGEsYixjLGQpe3ZhciBlLGY9KG5ldyBRKS5jYShcInNpZHhcIixmdW5jdGlvbihhKXtlPWNkKGIsZCxjLGEpfSk7YSYmZi5wYXJzZShhKTtpZihlKXJldHVybiBlO3Rocm93IG5ldyB0KDIsMywzMDA0KTt9XG5mdW5jdGlvbiBjZChhLGIsYyxkKXt2YXIgZT1bXTtkLnMuSSg0KTt2YXIgZj1kLnMuRCgpO2lmKCFmKXRocm93IG5ldyB0KDIsMywzMDA1KTtpZihkLnZlcnNpb24pe3ZhciBnPWQucy5QYSgpO3ZhciBoPWQucy5QYSgpfWVsc2UgZz1kLnMuRCgpLGg9ZC5zLkQoKTtkLnMuSSgyKTt2YXIgbD1kLnMubWMoKTtiPWctYjthPWErZC5zaXplK2g7Zm9yKGg9MDtoPGw7aCsrKXt2YXIgbj1kLnMuRCgpO2c9KG4mMjE0NzQ4MzY0OCk+Pj4zMTt2YXIgbj1uJjIxNDc0ODM2NDcscT1kLnMuRCgpO2Qucy5JKDQpO2lmKDE9PWcpdGhyb3cgbmV3IHQoMiwzLDMwMDYpO2UucHVzaChuZXcgTyhlLmxlbmd0aCxiL2YsKGIrcSkvZixmdW5jdGlvbigpe3JldHVybiBjfSxhLGErbi0xKSk7Yis9cTthKz1ufXJldHVybiBlfTtmdW5jdGlvbiBTKGEpe3RoaXMuYT1hfW0oXCJzaGFrYS5tZWRpYS5TZWdtZW50SW5kZXhcIixTKTtTLnByb3RvdHlwZS5tPWZ1bmN0aW9uKCl7dGhpcy5hPW51bGw7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfTtTLnByb3RvdHlwZS5kZXN0cm95PVMucHJvdG90eXBlLm07Uy5wcm90b3R5cGUuZmluZD1mdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5hLmxlbmd0aC0xOzA8PWI7LS1iKXt2YXIgYz10aGlzLmFbYl07aWYoYT49Yy5zdGFydFRpbWUmJmE8Yy5lbmRUaW1lKXJldHVybiBjLnBvc2l0aW9ufXJldHVybiB0aGlzLmEubGVuZ3RoJiZhPHRoaXMuYVswXS5zdGFydFRpbWU/dGhpcy5hWzBdLnBvc2l0aW9uOm51bGx9O1MucHJvdG90eXBlLmZpbmQ9Uy5wcm90b3R5cGUuZmluZDtTLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7aWYoIXRoaXMuYS5sZW5ndGgpcmV0dXJuIG51bGw7YS09dGhpcy5hWzBdLnBvc2l0aW9uO3JldHVybiAwPmF8fGE+PXRoaXMuYS5sZW5ndGg/bnVsbDp0aGlzLmFbYV19O1xuUy5wcm90b3R5cGUuZ2V0PVMucHJvdG90eXBlLmdldDtTLnByb3RvdHlwZS52Yj1mdW5jdGlvbihhKXtmb3IodmFyIGIsYyxkPVtdLGU9Yz0wO2M8dGhpcy5hLmxlbmd0aCYmZTxhLmxlbmd0aDspe3ZhciBmPXRoaXMuYVtjXTtiPWFbZV07Zi5zdGFydFRpbWU8Yi5zdGFydFRpbWU/KGQucHVzaChmKSxjKyspOihmLnN0YXJ0VGltZT5iLnN0YXJ0VGltZXx8KC4xPE1hdGguYWJzKGYuZW5kVGltZS1iLmVuZFRpbWUpP2QucHVzaChiKTpkLnB1c2goZiksYysrKSxlKyspfWZvcig7Yzx0aGlzLmEubGVuZ3RoOylkLnB1c2godGhpcy5hW2MrK10pO2lmKGQubGVuZ3RoKWZvcihjPWRbZC5sZW5ndGgtMV0ucG9zaXRpb24rMTtlPGEubGVuZ3RoOyliPWFbZSsrXSxiPW5ldyBPKGMrKyxiLnN0YXJ0VGltZSxiLmVuZFRpbWUsYi5hLGIuWCxiLk0pLGQucHVzaChiKTtlbHNlIGQ9YTt0aGlzLmE9ZH07Uy5wcm90b3R5cGUubWVyZ2U9Uy5wcm90b3R5cGUudmI7XG5TLnByb3RvdHlwZS5vYj1mdW5jdGlvbihhKXtmb3IodmFyIGI9MDtiPHRoaXMuYS5sZW5ndGgmJiEodGhpcy5hW2JdLmVuZFRpbWU+YSk7KytiKTt0aGlzLmEuc3BsaWNlKDAsYil9O1MucHJvdG90eXBlLmV2aWN0PVMucHJvdG90eXBlLm9iO2Z1bmN0aW9uIGRkKGEsYil7aWYoYS5hLmxlbmd0aCl7dmFyIGM9YS5hW2EuYS5sZW5ndGgtMV07Yy5zdGFydFRpbWU+Ynx8KGEuYVthLmEubGVuZ3RoLTFdPW5ldyBPKGMucG9zaXRpb24sYy5zdGFydFRpbWUsYixjLmEsYy5YLGMuTSkpfX07ZnVuY3Rpb24gZWQoYSl7dGhpcy5iPWE7dGhpcy5hPW5ldyBQKGEsMCk7ZmR8fChmZD1bbmV3IFVpbnQ4QXJyYXkoWzI1NV0pLG5ldyBVaW50OEFycmF5KFsxMjcsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzYzLDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbMzEsMjU1LDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbMTUsMjU1LDI1NSwyNTUsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzcsMjU1LDI1NSwyNTUsMjU1LDI1NV0pLG5ldyBVaW50OEFycmF5KFszLDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzEsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1XSldKX12YXIgZmQ7ZWQucHJvdG90eXBlLlo9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLlooKX07XG5mdW5jdGlvbiBnZChhKXt2YXIgYj1oZChhKTtpZig3PGIubGVuZ3RoKXRocm93IG5ldyB0KDIsMywzMDAyKTtmb3IodmFyIGM9MCxkPTA7ZDxiLmxlbmd0aDtkKyspYz0yNTYqYytiW2RdO2I9YztjPWhkKGEpO2E6e2ZvcihkPTA7ZDxmZC5sZW5ndGg7ZCsrKWlmKFphKGMsZmRbZF0pKXtkPSEwO2JyZWFrIGF9ZD0hMX1pZihkKWM9YS5iLmJ5dGVMZW5ndGgtYS5hLnU7ZWxzZXtpZig4PT1jLmxlbmd0aCYmY1sxXSYyMjQpdGhyb3cgbmV3IHQoMiwzLDMwMDEpO2Zvcih2YXIgZD1jWzBdJigxPDw4LWMubGVuZ3RoKS0xLGU9MTtlPGMubGVuZ3RoO2UrKylkPTI1NipkK2NbZV07Yz1kfWM9YS5hLnUrYzw9YS5iLmJ5dGVMZW5ndGg/YzphLmIuYnl0ZUxlbmd0aC1hLmEudTtkPW5ldyBEYXRhVmlldyhhLmIuYnVmZmVyLGEuYi5ieXRlT2Zmc2V0K2EuYS51LGMpO2EuYS5JKGMpO3JldHVybiBuZXcgaWQoYixkKX1cbmZ1bmN0aW9uIGhkKGEpe3ZhciBiPWEuYS5DYigpLGM7Zm9yKGM9MTs4Pj1jJiYhKGImMTw8OC1jKTtjKyspO2lmKDg8Yyl0aHJvdyBuZXcgdCgyLDMsMzAwMik7dmFyIGQ9bmV3IFVpbnQ4QXJyYXkoYyk7ZFswXT1iO2ZvcihiPTE7YjxjO2IrKylkW2JdPWEuYS5DYigpO3JldHVybiBkfWZ1bmN0aW9uIGlkKGEsYil7dGhpcy5pZD1hO3RoaXMuYT1ifWZ1bmN0aW9uIGpkKGEpe2lmKDg8YS5hLmJ5dGVMZW5ndGgpdGhyb3cgbmV3IHQoMiwzLDMwMDIpO2lmKDg9PWEuYS5ieXRlTGVuZ3RoJiZhLmEuZ2V0VWludDgoMCkmMjI0KXRocm93IG5ldyB0KDIsMywzMDAxKTtmb3IodmFyIGI9MCxjPTA7YzxhLmEuYnl0ZUxlbmd0aDtjKyspdmFyIGQ9YS5hLmdldFVpbnQ4KGMpLGI9MjU2KmIrZDtyZXR1cm4gYn07ZnVuY3Rpb24ga2QoKXt9XG5rZC5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU7Yj1uZXcgZWQobmV3IERhdGFWaWV3KGIpKTtpZig0NDA3ODY4NTEhPWdkKGIpLmlkKXRocm93IG5ldyB0KDIsMywzMDA4KTt2YXIgZj1nZChiKTtpZig0MDgxMjU1NDMhPWYuaWQpdGhyb3cgbmV3IHQoMiwzLDMwMDkpO2I9Zi5hLmJ5dGVPZmZzZXQ7Zj1uZXcgZWQoZi5hKTtmb3IoZT1udWxsO2YuWigpOyl7dmFyIGc9Z2QoZik7aWYoMzU3MTQ5MDMwPT1nLmlkKXtlPWc7YnJlYWt9fWlmKCFlKXRocm93IG5ldyB0KDIsMywzMDEwKTtmPW5ldyBlZChlLmEpO2U9MUU2O2ZvcihnPW51bGw7Zi5aKCk7KXt2YXIgaD1nZChmKTtpZigyODA3NzI5PT1oLmlkKWU9amQoaCk7ZWxzZSBpZigxNzU0NT09aC5pZClpZihnPWgsND09Zy5hLmJ5dGVMZW5ndGgpZz1nLmEuZ2V0RmxvYXQzMigwKTtlbHNlIGlmKDg9PWcuYS5ieXRlTGVuZ3RoKWc9Zy5hLmdldEZsb2F0NjQoMCk7ZWxzZSB0aHJvdyBuZXcgdCgyLDMsMzAwMyk7XG59aWYobnVsbD09Zyl0aHJvdyBuZXcgdCgyLDMsMzAxMSk7Zj1lLzFFOTtlPWcqZjthPWdkKG5ldyBlZChuZXcgRGF0YVZpZXcoYSkpKTtpZig0NzUyNDk1MTUhPWEuaWQpdGhyb3cgbmV3IHQoMiwzLDMwMDcpO3JldHVybiBsZChhLGIsZixlLGMsZCl9O2Z1bmN0aW9uIGxkKGEsYixjLGQsZSxmKXtmdW5jdGlvbiBnKCl7cmV0dXJuIGV9dmFyIGg9W107YT1uZXcgZWQoYS5hKTtmb3IodmFyIGw9LTEsbj0tMTthLlooKTspe3ZhciBxPWdkKGEpO2lmKDE4Nz09cS5pZCl7dmFyIHI9bWQocSk7ciYmKHE9Yyooci5wZS1mKSxyPWIrci5MZCwwPD1sJiZoLnB1c2gobmV3IE8oaC5sZW5ndGgsbCxxLGcsbixyLTEpKSxsPXEsbj1yKX19MDw9bCYmaC5wdXNoKG5ldyBPKGgubGVuZ3RoLGwsZCxnLG4sbnVsbCkpO3JldHVybiBofVxuZnVuY3Rpb24gbWQoYSl7dmFyIGI9bmV3IGVkKGEuYSk7YT1nZChiKTtpZigxNzkhPWEuaWQpdGhyb3cgbmV3IHQoMiwzLDMwMTMpO2E9amQoYSk7Yj1nZChiKTtpZigxODMhPWIuaWQpdGhyb3cgbmV3IHQoMiwzLDMwMTIpO2Zvcih2YXIgYj1uZXcgZWQoYi5hKSxjPTA7Yi5aKCk7KXt2YXIgZD1nZChiKTtpZigyNDE9PWQuaWQpe2M9amQoZCk7YnJlYWt9fXJldHVybntwZTphLExkOmN9fTtmdW5jdGlvbiBuZChhLGIpe3ZhciBjPVZjKGEsYixcIkluaXRpYWxpemF0aW9uXCIpO2lmKCFjKXJldHVybiBudWxsO3ZhciBkPWEudy5VLGU9Yy5nZXRBdHRyaWJ1dGUoXCJzb3VyY2VVUkxcIik7ZSYmKGQ9eihhLncuVSxbZV0pKTt2YXIgZT0wLGY9bnVsbDtpZihjPU4oYyxcInJhbmdlXCIsSWMpKWU9Yy5zdGFydCxmPWMuZW5kO3JldHVybiBuZXcgV2MoZnVuY3Rpb24oKXtyZXR1cm4gZH0sZSxmKX1cbmZ1bmN0aW9uIG9kKGEsYil7dmFyIGM9VWMoYSxwZCxcInByZXNlbnRhdGlvblRpbWVPZmZzZXRcIiksZD1uZChhLHBkKTt2YXIgZT1OdW1iZXIoYyk7dmFyIGY9YS53LmNvbnRlbnRUeXBlLGc9YS53Lm1pbWVUeXBlLnNwbGl0KFwiL1wiKVsxXTtpZihcInRleHRcIiE9ZiYmXCJtcDRcIiE9ZyYmXCJ3ZWJtXCIhPWcpdGhyb3cgbmV3IHQoMiw0LDQwMDYpO2lmKFwid2VibVwiPT1nJiYhZCl0aHJvdyBuZXcgdCgyLDQsNDAwNSk7dmFyIGY9VmMoYSxwZCxcIlJlcHJlc2VudGF0aW9uSW5kZXhcIiksaD1VYyhhLHBkLFwiaW5kZXhSYW5nZVwiKSxsPWEudy5VLGg9SWMoaHx8XCJcIik7aWYoZil7dmFyIG49Zi5nZXRBdHRyaWJ1dGUoXCJzb3VyY2VVUkxcIik7biYmKGw9eihhLncuVSxbbl0pKTtoPU4oZixcInJhbmdlXCIsSWMsaCl9aWYoIWgpdGhyb3cgbmV3IHQoMiw0LDQwMDIpO2U9cWQoYSxiLGQsbCxoLnN0YXJ0LGguZW5kLGcsZSk7cmV0dXJue2NyZWF0ZVNlZ21lbnRJbmRleDplLmNyZWF0ZVNlZ21lbnRJbmRleCxmaW5kU2VnbWVudFBvc2l0aW9uOmUuZmluZFNlZ21lbnRQb3NpdGlvbixcbmdldFNlZ21lbnRSZWZlcmVuY2U6ZS5nZXRTZWdtZW50UmVmZXJlbmNlLGluaXRTZWdtZW50UmVmZXJlbmNlOmQscHJlc2VudGF0aW9uVGltZU9mZnNldDpOdW1iZXIoYyl8fDB9fVxuZnVuY3Rpb24gcWQoYSxiLGMsZCxlLGYsZyxoKXt2YXIgbD1hLnByZXNlbnRhdGlvblRpbWVsaW5lLG49IWEuQ2F8fCFhLlIuc2IscT1hLlIuZHVyYXRpb24scj1iLHY9bnVsbDtyZXR1cm57Y3JlYXRlU2VnbWVudEluZGV4OmZ1bmN0aW9uKCl7dmFyIGE9W3IoZCxlLGYpLFwid2VibVwiPT1nP3IoYy5hKCksYy5YLGMuTSk6bnVsbF07cj1udWxsO3JldHVybiBQcm9taXNlLmFsbChhKS50aGVuKGZ1bmN0aW9uKGEpe3ZhciBiPWFbMF07YT1hWzFdfHxudWxsO2I9XCJtcDRcIj09Zz9iZChiLGUsZCxoKToobmV3IGtkKS5wYXJzZShiLGEsZCxoKTtsLkdhKDAsYik7dj1uZXcgUyhiKTtuJiZkZCh2LHEpfSl9LGZpbmRTZWdtZW50UG9zaXRpb246ZnVuY3Rpb24oYSl7cmV0dXJuIHYuZmluZChhKX0sZ2V0U2VnbWVudFJlZmVyZW5jZTpmdW5jdGlvbihhKXtyZXR1cm4gdi5nZXQoYSl9fX1mdW5jdGlvbiBwZChhKXtyZXR1cm4gYS5RYX07ZnVuY3Rpb24gcmQoYSxiKXt2YXIgYz1uZChhLHNkKTt2YXIgZD10ZChhKTt2YXIgZT1UYyhhLHNkKSxmPWUueWE7Znx8KGY9MSk7dmFyIGc9MDtlLk8/Zz1lLk8qKGYtMSk6ZS5GJiYwPGUuRi5sZW5ndGgmJihnPWUuRlswXS5zdGFydCk7ZD17TzplLk8sc3RhcnRUaW1lOmcseWE6ZixwcmVzZW50YXRpb25UaW1lT2Zmc2V0OmUucHJlc2VudGF0aW9uVGltZU9mZnNldCxGOmUuRixGYTpkfTtpZighZC5PJiYhZC5GJiYxPGQuRmEubGVuZ3RoKXRocm93IG5ldyB0KDIsNCw0MDAyKTtpZighZC5PJiYhYS5SLmR1cmF0aW9uJiYhZC5GJiYxPT1kLkZhLmxlbmd0aCl0aHJvdyBuZXcgdCgyLDQsNDAwMik7aWYoZC5GJiYhZC5GLmxlbmd0aCl0aHJvdyBuZXcgdCgyLDQsNDAwMik7Zj1lPW51bGw7YS5ULmlkJiZhLncuaWQmJihmPWEuVC5pZCtcIixcIithLncuaWQsZT1iW2ZdKTtnPXVkKGEuUi5kdXJhdGlvbixkLnlhLGEudy5VLGQpO2U/KGUudmIoZyksZS5vYihhLnByZXNlbnRhdGlvblRpbWVsaW5lLm1hKCktXG5hLlIuc3RhcnQpKTooYS5wcmVzZW50YXRpb25UaW1lbGluZS5HYSgwLGcpLGU9bmV3IFMoZyksZiYmYS5DYSYmKGJbZl09ZSkpO2EuQ2EmJmEuUi5zYnx8ZGQoZSxhLlIuZHVyYXRpb24pO3JldHVybntjcmVhdGVTZWdtZW50SW5kZXg6UHJvbWlzZS5yZXNvbHZlLmJpbmQoUHJvbWlzZSksZmluZFNlZ21lbnRQb3NpdGlvbjplLmZpbmQuYmluZChlKSxnZXRTZWdtZW50UmVmZXJlbmNlOmUuZ2V0LmJpbmQoZSksaW5pdFNlZ21lbnRSZWZlcmVuY2U6YyxwcmVzZW50YXRpb25UaW1lT2Zmc2V0OmQucHJlc2VudGF0aW9uVGltZU9mZnNldH19ZnVuY3Rpb24gc2QoYSl7cmV0dXJuIGEub2F9XG5mdW5jdGlvbiB1ZChhLGIsYyxkKXt2YXIgZT1kLkZhLmxlbmd0aDtkLkYmJmQuRi5sZW5ndGghPWQuRmEubGVuZ3RoJiYoZT1NYXRoLm1pbihkLkYubGVuZ3RoLGQuRmEubGVuZ3RoKSk7Zm9yKHZhciBmPVtdLGc9ZC5zdGFydFRpbWUsaD0wO2g8ZTtoKyspe3ZhciBsPWQuRmFbaF0sbj16KGMsW2wuYWRdKTt2YXIgcT1udWxsIT1kLk8/ZytkLk86ZC5GP2QuRltoXS5lbmQ6ZythO2YucHVzaChuZXcgTyhoK2IsZyxxLGZ1bmN0aW9uKGEpe3JldHVybiBhfS5iaW5kKG51bGwsbiksbC5zdGFydCxsLmVuZCkpO2c9cX1yZXR1cm4gZn1cbmZ1bmN0aW9uIHRkKGEpe3JldHVyblthLncub2EsYS5TLm9hLGEuVC5vYV0uZmlsdGVyKHlhKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIE0oYSxcIlNlZ21lbnRVUkxcIil9KS5yZWR1Y2UoZnVuY3Rpb24oYSxjKXtyZXR1cm4gMDxhLmxlbmd0aD9hOmN9KS5tYXAoZnVuY3Rpb24oYil7Yi5nZXRBdHRyaWJ1dGUoXCJpbmRleFJhbmdlXCIpJiYhYS5ZYiYmKGEuWWI9ITApO3ZhciBjPWIuZ2V0QXR0cmlidXRlKFwibWVkaWFcIik7Yj1OKGIsXCJtZWRpYVJhbmdlXCIsSWMse3N0YXJ0OjAsZW5kOm51bGx9KTtyZXR1cm57YWQ6YyxzdGFydDpiLnN0YXJ0LGVuZDpiLmVuZH19KX07ZnVuY3Rpb24gdmQoYSxiLGMsZCl7dmFyIGU9d2QoYSk7dmFyIGY9VGMoYSx4ZCk7dmFyIGc9VWMoYSx4ZCxcIm1lZGlhXCIpLGg9VWMoYSx4ZCxcImluZGV4XCIpO2Y9e086Zi5PLHRpbWVzY2FsZTpmLnRpbWVzY2FsZSx5YTpmLnlhLHByZXNlbnRhdGlvblRpbWVPZmZzZXQ6Zi5wcmVzZW50YXRpb25UaW1lT2Zmc2V0LE5iOmYuTmIsRjpmLkYsdWI6ZyxMYTpofTtnPTArKGYuTGE/MTowKTtnKz1mLkY/MTowO2crPWYuTz8xOjA7aWYoIWcpdGhyb3cgbmV3IHQoMiw0LDQwMDIpOzEhPWcmJihmLkxhJiYoZi5GPW51bGwpLGYuTz1udWxsKTtpZighZi5MYSYmIWYudWIpdGhyb3cgbmV3IHQoMiw0LDQwMDIpO2lmKGYuTGEpe2M9YS53Lm1pbWVUeXBlLnNwbGl0KFwiL1wiKVsxXTtpZihcIm1wNFwiIT1jJiZcIndlYm1cIiE9Yyl0aHJvdyBuZXcgdCgyLDQsNDAwNik7aWYoXCJ3ZWJtXCI9PWMmJiFlKXRocm93IG5ldyB0KDIsNCw0MDA1KTtkPVNjKGYuTGEsYS53LmlkLG51bGwsYS5iYW5kd2lkdGh8fG51bGwsXG5udWxsKTtkPXooYS53LlUsW2RdKTthPXFkKGEsYixlLGQsMCxudWxsLGMsZi5wcmVzZW50YXRpb25UaW1lT2Zmc2V0KX1lbHNlIGYuTz8oZHx8YS5wcmVzZW50YXRpb25UaW1lbGluZS53YihmLk8pLGE9eWQoYSxmKSk6KGQ9Yj1udWxsLGEuVC5pZCYmYS53LmlkJiYoZD1hLlQuaWQrXCIsXCIrYS53LmlkLGI9Y1tkXSksZz16ZChhLGYpLGI/KGIudmIoZyksYi5vYihhLnByZXNlbnRhdGlvblRpbWVsaW5lLm1hKCktYS5SLnN0YXJ0KSk6KGEucHJlc2VudGF0aW9uVGltZWxpbmUuR2EoMCxnKSxiPW5ldyBTKGcpLGQmJmEuQ2EmJihjW2RdPWIpKSxhLkNhJiZhLlIuc2J8fGRkKGIsYS5SLmR1cmF0aW9uKSxhPXtjcmVhdGVTZWdtZW50SW5kZXg6UHJvbWlzZS5yZXNvbHZlLmJpbmQoUHJvbWlzZSksZmluZFNlZ21lbnRQb3NpdGlvbjpiLmZpbmQuYmluZChiKSxnZXRTZWdtZW50UmVmZXJlbmNlOmIuZ2V0LmJpbmQoYil9KTtyZXR1cm57Y3JlYXRlU2VnbWVudEluZGV4OmEuY3JlYXRlU2VnbWVudEluZGV4LFxuZmluZFNlZ21lbnRQb3NpdGlvbjphLmZpbmRTZWdtZW50UG9zaXRpb24sZ2V0U2VnbWVudFJlZmVyZW5jZTphLmdldFNlZ21lbnRSZWZlcmVuY2UsaW5pdFNlZ21lbnRSZWZlcmVuY2U6ZSxwcmVzZW50YXRpb25UaW1lT2Zmc2V0OmYucHJlc2VudGF0aW9uVGltZU9mZnNldH19ZnVuY3Rpb24geGQoYSl7cmV0dXJuIGEuUmF9XG5mdW5jdGlvbiB5ZChhLGIpe3ZhciBjPWEuUi5kdXJhdGlvbixkPWIuTyxlPWIueWEsZj1iLnRpbWVzY2FsZSxnPWIudWIsaD1hLmJhbmR3aWR0aHx8bnVsbCxsPWEudy5pZCxuPWEudy5VO3JldHVybntjcmVhdGVTZWdtZW50SW5kZXg6UHJvbWlzZS5yZXNvbHZlLmJpbmQoUHJvbWlzZSksZmluZFNlZ21lbnRQb3NpdGlvbjpmdW5jdGlvbihhKXtyZXR1cm4gMD5hfHxjJiZhPj1jP251bGw6TWF0aC5mbG9vcihhL2QpfSxnZXRTZWdtZW50UmVmZXJlbmNlOmZ1bmN0aW9uKGEpe3ZhciBiPWEqZDtyZXR1cm4gMD5ifHxjJiZiPj1jP251bGw6bmV3IE8oYSxiLGIrZCxmdW5jdGlvbigpe3ZhciBjPVNjKGcsbCxhK2UsaCxiKmYpO3JldHVybiB6KG4sW2NdKX0sMCxudWxsKX19fVxuZnVuY3Rpb24gemQoYSxiKXtmb3IodmFyIGM9W10sZD0wO2Q8Yi5GLmxlbmd0aDtkKyspe3ZhciBlPWQrYi55YTtjLnB1c2gobmV3IE8oZSxiLkZbZF0uc3RhcnQsYi5GW2RdLmVuZCxmdW5jdGlvbihhLGIsYyxkLGUscSl7YT1TYyhhLGIsZSxjLHEpO3JldHVybiB6KGQsW2FdKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudG9TdHJpbmcoKX0pfS5iaW5kKG51bGwsYi51YixhLncuaWQsYS5iYW5kd2lkdGh8fG51bGwsYS53LlUsZSxiLkZbZF0ub2UrYi5OYiksMCxudWxsKSl9cmV0dXJuIGN9ZnVuY3Rpb24gd2QoYSl7dmFyIGI9VWMoYSx4ZCxcImluaXRpYWxpemF0aW9uXCIpO2lmKCFiKXJldHVybiBudWxsO3ZhciBjPWEudy5pZCxkPWEuYmFuZHdpZHRofHxudWxsLGU9YS53LlU7cmV0dXJuIG5ldyBXYyhmdW5jdGlvbigpe3ZhciBhPVNjKGIsYyxudWxsLGQsbnVsbCk7cmV0dXJuIHooZSxbYV0pfSwwLG51bGwpfTt2YXIgQWQ9e30sQmQ9e307bShcInNoYWthLm1lZGlhLk1hbmlmZXN0UGFyc2VyLnJlZ2lzdGVyUGFyc2VyQnlFeHRlbnNpb25cIixmdW5jdGlvbihhLGIpe0JkW2FdPWJ9KTttKFwic2hha2EubWVkaWEuTWFuaWZlc3RQYXJzZXIucmVnaXN0ZXJQYXJzZXJCeU1pbWVcIixmdW5jdGlvbihhLGIpe0FkW2FdPWJ9KTtmdW5jdGlvbiBDZCgpe3ZhciBhPXt9LGI7Zm9yKGIgaW4gQWQpYVtiXT0hMDtmb3IoYiBpbiBCZClhW2JdPSEwO1tcImFwcGxpY2F0aW9uL2Rhc2greG1sXCIsXCJhcHBsaWNhdGlvbi94LW1wZWd1cmxcIixcImFwcGxpY2F0aW9uL3ZuZC5hcHBsZS5tcGVndXJsXCIsXCJhcHBsaWNhdGlvbi92bmQubXMtc3N0cit4bWxcIl0uZm9yRWFjaChmdW5jdGlvbihiKXthW2JdPSEhQWRbYl19KTtbXCJtcGRcIixcIm0zdThcIixcImlzbVwiXS5mb3JFYWNoKGZ1bmN0aW9uKGIpe2FbYl09ISFCZFtiXX0pO3JldHVybiBhfVxuZnVuY3Rpb24gRGQoYSxiLGMsZCl7dmFyIGU9ZDtlfHwoZD0obmV3IGlhKGEpKS5XLnNwbGl0KFwiL1wiKS5wb3AoKS5zcGxpdChcIi5cIiksMTxkLmxlbmd0aCYmKGQ9ZC5wb3AoKS50b0xvd2VyQ2FzZSgpLGU9QmRbZF0pKTtpZihlKXJldHVybiBQcm9taXNlLnJlc29sdmUoZSk7Yz1DKFthXSxjKTtjLm1ldGhvZD1cIkhFQURcIjtyZXR1cm4gYi5yZXF1ZXN0KDAsYykudGhlbihmdW5jdGlvbihiKXsoYj1iLmhlYWRlcnNbXCJjb250ZW50LXR5cGVcIl0pJiYoYj1iLnRvTG93ZXJDYXNlKCkpO3JldHVybihlPUFkW2JdKT9lOlByb21pc2UucmVqZWN0KG5ldyB0KDIsNCw0RTMsYSkpfSxmdW5jdGlvbihhKXthLnNldmVyaXR5PTI7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSl9O2Z1bmN0aW9uIFQoYSxiKXt0aGlzLmY9YTt0aGlzLmk9Yjt0aGlzLmM9dGhpcy5hPUluZmluaXR5O3RoaXMuYj0xO3RoaXMuaD0wO3RoaXMuZz0hMH1tKFwic2hha2EubWVkaWEuUHJlc2VudGF0aW9uVGltZWxpbmVcIixUKTtULnByb3RvdHlwZS5ZPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYX07VC5wcm90b3R5cGUuZ2V0RHVyYXRpb249VC5wcm90b3R5cGUuWTtULnByb3RvdHlwZS5wYT1mdW5jdGlvbihhKXt0aGlzLmE9YX07VC5wcm90b3R5cGUuc2V0RHVyYXRpb249VC5wcm90b3R5cGUucGE7VC5wcm90b3R5cGUuVWM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mfTtULnByb3RvdHlwZS5nZXRQcmVzZW50YXRpb25TdGFydFRpbWU9VC5wcm90b3R5cGUuVWM7VC5wcm90b3R5cGUudWM9ZnVuY3Rpb24oYSl7dGhpcy5oPWF9O1QucHJvdG90eXBlLnNldENsb2NrT2Zmc2V0PVQucHJvdG90eXBlLnVjO1QucHJvdG90eXBlLndjPWZ1bmN0aW9uKGEpe3RoaXMuZz1hfTtcblQucHJvdG90eXBlLnNldFN0YXRpYz1ULnByb3RvdHlwZS53YztULnByb3RvdHlwZS5WYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN9O1QucHJvdG90eXBlLmdldFNlZ21lbnRBdmFpbGFiaWxpdHlEdXJhdGlvbj1ULnByb3RvdHlwZS5WYztULnByb3RvdHlwZS52Yz1mdW5jdGlvbihhKXt0aGlzLmM9YX07VC5wcm90b3R5cGUuc2V0U2VnbWVudEF2YWlsYWJpbGl0eUR1cmF0aW9uPVQucHJvdG90eXBlLnZjO1QucHJvdG90eXBlLkdhPWZ1bmN0aW9uKGEsYil7Yi5sZW5ndGgmJih0aGlzLmI9Yi5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gTWF0aC5tYXgoYSxiLmVuZFRpbWUtYi5zdGFydFRpbWUpfSx0aGlzLmIpKX07VC5wcm90b3R5cGUubm90aWZ5U2VnbWVudHM9VC5wcm90b3R5cGUuR2E7VC5wcm90b3R5cGUud2I9ZnVuY3Rpb24oYSl7dGhpcy5iPU1hdGgubWF4KHRoaXMuYixhKX07VC5wcm90b3R5cGUubm90aWZ5TWF4U2VnbWVudER1cmF0aW9uPVQucHJvdG90eXBlLndiO1xuVC5wcm90b3R5cGUuZGE9ZnVuY3Rpb24oKXtyZXR1cm4gSW5maW5pdHk9PXRoaXMuYSYmIXRoaXMuZ307VC5wcm90b3R5cGUuaXNMaXZlPVQucHJvdG90eXBlLmRhO1QucHJvdG90eXBlLnZhPWZ1bmN0aW9uKCl7cmV0dXJuIEluZmluaXR5IT10aGlzLmEmJiF0aGlzLmd9O1QucHJvdG90eXBlLmlzSW5Qcm9ncmVzcz1ULnByb3RvdHlwZS52YTtULnByb3RvdHlwZS5tYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLkRhKDApfTtULnByb3RvdHlwZS5nZXRTZWdtZW50QXZhaWxhYmlsaXR5U3RhcnQ9VC5wcm90b3R5cGUubWE7VC5wcm90b3R5cGUuRGE9ZnVuY3Rpb24oYSl7aWYoSW5maW5pdHk9PXRoaXMuYylyZXR1cm4gMDt2YXIgYj10aGlzLnVhKCk7cmV0dXJuIE1hdGgubWF4KDAsTWF0aC5taW4oYi10aGlzLmMrYSxiKSl9O1QucHJvdG90eXBlLmdldFNhZmVBdmFpbGFiaWxpdHlTdGFydD1ULnByb3RvdHlwZS5EYTtcblQucHJvdG90eXBlLnVhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGEoKXx8dGhpcy52YSgpP01hdGgubWluKE1hdGgubWF4KDAsKERhdGUubm93KCkrdGhpcy5oKS8xRTMtdGhpcy5iLXRoaXMuZiksdGhpcy5hKTp0aGlzLmF9O1QucHJvdG90eXBlLmdldFNlZ21lbnRBdmFpbGFiaWxpdHlFbmQ9VC5wcm90b3R5cGUudWE7VC5wcm90b3R5cGUuYmI9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5tYXgoMCx0aGlzLnVhKCktKHRoaXMuZGEoKXx8dGhpcy52YSgpP3RoaXMuaTowKSl9O1QucHJvdG90eXBlLmdldFNlZWtSYW5nZUVuZD1ULnByb3RvdHlwZS5iYjtmdW5jdGlvbiBFZCgpe3RoaXMuYT10aGlzLmI9bnVsbDt0aGlzLmc9W107dGhpcy5jPW51bGw7dGhpcy5pPVtdO3RoaXMuaD0xO3RoaXMuaj17fTt0aGlzLmw9MDt0aGlzLmY9bnVsbH1tKFwic2hha2EuZGFzaC5EYXNoUGFyc2VyXCIsRWQpO2s9RWQucHJvdG90eXBlO2suY29uZmlndXJlPWZ1bmN0aW9uKGEpe3RoaXMuYj1hfTtrLnN0YXJ0PWZ1bmN0aW9uKGEsYil7dGhpcy5nPVthXTt0aGlzLmE9YjtyZXR1cm4gRmQodGhpcykudGhlbihmdW5jdGlvbigpe3RoaXMuYSYmR2QodGhpcywwKTtyZXR1cm4gdGhpcy5jfS5iaW5kKHRoaXMpKX07ay5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5iPXRoaXMuYT1udWxsO3RoaXMuZz1bXTt0aGlzLmM9bnVsbDt0aGlzLmk9W107dGhpcy5qPXt9O251bGwhPXRoaXMuZiYmKHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5mKSx0aGlzLmY9bnVsbCk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfTtrLnVwZGF0ZT1mdW5jdGlvbigpe0ZkKHRoaXMpW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYSl7aWYodGhpcy5hKXRoaXMuYS5vbkVycm9yKGEpfS5iaW5kKHRoaXMpKX07XG5rLm9uRXhwaXJhdGlvblVwZGF0ZWQ9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIEZkKGEpe3JldHVybiBhLmEubmV0d29ya2luZ0VuZ2luZS5yZXF1ZXN0KDAsQyhhLmcsYS5iLnJldHJ5UGFyYW1ldGVycykpLnRoZW4oZnVuY3Rpb24oYSl7aWYodGhpcy5hKXJldHVybiBIZCh0aGlzLGEuZGF0YSxhLnVyaSl9LmJpbmQoYSkpfVxuZnVuY3Rpb24gSGQoYSxiLGMpe3ZhciBkPUYoYiksZT1uZXcgRE9NUGFyc2VyLGY9bnVsbDtiPW51bGw7dHJ5e2Y9ZS5wYXJzZUZyb21TdHJpbmcoZCxcInRleHQveG1sXCIpfWNhdGNoKHYpe31mJiZcIk1QRFwiPT1mLmRvY3VtZW50RWxlbWVudC50YWdOYW1lJiYoYj1mLmRvY3VtZW50RWxlbWVudCk7YiYmMDxiLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwicGFyc2VyZXJyb3JcIikubGVuZ3RoJiYoYj1udWxsKTtpZighYil0aHJvdyBuZXcgdCgyLDQsNDAwMSk7Yz1bY107ZD1NKGIsXCJMb2NhdGlvblwiKS5tYXAoRmMpLmZpbHRlcih5YSk7MDxkLmxlbmd0aCYmKGM9YS5nPWQpO2Q9TShiLFwiQmFzZVVSTFwiKS5tYXAoRmMpO2M9eihjLGQpO3ZhciBnPU4oYixcIm1pbkJ1ZmZlclRpbWVcIixIYyk7YS5sPU4oYixcIm1pbmltdW1VcGRhdGVQZXJpb2RcIixIYywtMSk7dmFyIGg9TihiLFwiYXZhaWxhYmlsaXR5U3RhcnRUaW1lXCIsR2MpLGQ9TihiLFwidGltZVNoaWZ0QnVmZmVyRGVwdGhcIixIYyksbD1OKGIsXCJzdWdnZXN0ZWRQcmVzZW50YXRpb25EZWxheVwiLFxuSGMpLGU9TihiLFwibWF4U2VnbWVudER1cmF0aW9uXCIsSGMpLGY9Yi5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpfHxcInN0YXRpY1wiO2lmKGEuYyl2YXIgbj1hLmMucHJlc2VudGF0aW9uVGltZWxpbmU7ZWxzZXt2YXIgcT1NYXRoLm1heCgxMCwxLjUqZyk7bj1uZXcgVChoLG51bGwhPWw/bDpxKX12YXIgaD1JZChhLHtDYTpcInN0YXRpY1wiIT1mLHByZXNlbnRhdGlvblRpbWVsaW5lOm4sVDpudWxsLFI6bnVsbCxTOm51bGwsdzpudWxsLGJhbmR3aWR0aDp2b2lkIDAsWWI6ITF9LGMsYiksbD1oLmR1cmF0aW9uLHI9aC5wZXJpb2RzO24ud2MoXCJzdGF0aWNcIj09Zik7bi5wYShsfHxJbmZpbml0eSk7bi52YyhudWxsIT1kP2Q6SW5maW5pdHkpO24ud2IoZXx8MSk7aWYoYS5jKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTtiPU0oYixcIlVUQ1RpbWluZ1wiKTtyZXR1cm4gSmQoYSxjLGIsbi5kYSgpKS50aGVuKGZ1bmN0aW9uKGEpe3RoaXMuYSYmKG4udWMoYSksdGhpcy5jPXtwcmVzZW50YXRpb25UaW1lbGluZTpuLFxucGVyaW9kczpyLG9mZmxpbmVTZXNzaW9uSWRzOltdLG1pbkJ1ZmZlclRpbWU6Z3x8MH0pfS5iaW5kKGEpKX1cbmZ1bmN0aW9uIElkKGEsYixjLGQpe3ZhciBlPU4oZCxcIm1lZGlhUHJlc2VudGF0aW9uRHVyYXRpb25cIixIYyksZj1bXSxnPTA7ZD1NKGQsXCJQZXJpb2RcIik7Zm9yKHZhciBoPTA7aDxkLmxlbmd0aDtoKyspe3ZhciBsPWRbaF0sZz1OKGwsXCJzdGFydFwiLEhjLGcpLG49TihsLFwiZHVyYXRpb25cIixIYykscT1udWxsO2lmKGghPWQubGVuZ3RoLTEpe3ZhciByPU4oZFtoKzFdLFwic3RhcnRcIixIYyk7bnVsbCE9ciYmKHE9ci1nKX1lbHNlIG51bGwhPWUmJihxPWUtZyk7bnVsbD09cSYmKHE9bik7bD1LZChhLGIsYyx7c3RhcnQ6ZyxkdXJhdGlvbjpxLG5vZGU6bCxzYjpudWxsPT1xfHxoPT1kLmxlbmd0aC0xfSk7Zi5wdXNoKGwpO249Yi5ULmlkO2EuaS5ldmVyeSh6YShuKSkmJihhLmEuZmlsdGVyUGVyaW9kKGwpLGEuaS5wdXNoKG4pLGEuYyYmYS5jLnBlcmlvZHMucHVzaChsKSk7aWYobnVsbD09cSl7Zz1udWxsO2JyZWFrfWcrPXF9cmV0dXJuIG51bGwhPWU/e3BlcmlvZHM6ZixkdXJhdGlvbjplfTpcbntwZXJpb2RzOmYsZHVyYXRpb246Z319XG5mdW5jdGlvbiBLZChhLGIsYyxkKXtiLlQ9TGQoZC5ub2RlLG51bGwsYyk7Yi5SPWQ7Yi5ULmlkfHwoYi5ULmlkPVwiX19zaGFrYV9wZXJpb2RfXCIrZC5zdGFydCk7TShkLm5vZGUsXCJFdmVudFN0cmVhbVwiKS5mb3JFYWNoKGEuRGQuYmluZChhLGQuc3RhcnQsZC5kdXJhdGlvbikpO2M9TShkLm5vZGUsXCJBZGFwdGF0aW9uU2V0XCIpLm1hcChhLkJkLmJpbmQoYSxiKSkuZmlsdGVyKHlhKTt2YXIgZT1jLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5OZH0pLnJlZHVjZSh4LFtdKSxmPWUuZmlsdGVyKEFhKTtpZihiLkNhJiZlLmxlbmd0aCE9Zi5sZW5ndGgpdGhyb3cgbmV3IHQoMiw0LDQwMTgpO3ZhciBnPWMuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiFhLk1ifSk7Yy5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEuTWJ9KS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPWEuc3RyZWFtc1swXSxjPWEuTWI7Zy5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EuaWQ9PWMmJmEuc3RyZWFtcy5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EudHJpY2tNb2RlVmlkZW89XG5ifSl9KX0pO2U9TWQoZyxcInZpZGVvXCIpO2Y9TWQoZyxcImF1ZGlvXCIpO2lmKCFlLmxlbmd0aCYmIWYubGVuZ3RoKXRocm93IG5ldyB0KDIsNCw0MDA0KTtmLmxlbmd0aHx8KGY9W251bGxdKTtlLmxlbmd0aHx8KGU9W251bGxdKTtiPVtdO2ZvcihjPTA7YzxmLmxlbmd0aDtjKyspZm9yKHZhciBoPTA7aDxlLmxlbmd0aDtoKyspTmQoYSxmW2NdLGVbaF0sYik7YT1NZChnLFwidGV4dFwiKTtlPVtdO2ZvcihjPTA7YzxhLmxlbmd0aDtjKyspZS5wdXNoLmFwcGx5KGUsYVtjXS5zdHJlYW1zKTtyZXR1cm57c3RhcnRUaW1lOmQuc3RhcnQsdGV4dFN0cmVhbXM6ZSx2YXJpYW50czpifX1mdW5jdGlvbiBNZChhLGIpe3JldHVybiBhLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYS5jb250ZW50VHlwZT09Yn0pfVxuZnVuY3Rpb24gTmQoYSxiLGMsZCl7aWYoYnx8YylpZihiJiZjKXt2YXIgZT1iLmRybUluZm9zO3ZhciBmPWMuZHJtSW5mb3M7aWYoZS5sZW5ndGgmJmYubGVuZ3RoPzA8cWIoZSxmKS5sZW5ndGg6MSlmb3IodmFyIGc9cWIoYi5kcm1JbmZvcyxjLmRybUluZm9zKSxlPTA7ZTxiLnN0cmVhbXMubGVuZ3RoO2UrKylmb3IodmFyIGg9MDtoPGMuc3RyZWFtcy5sZW5ndGg7aCsrKWY9Yy5zdHJlYW1zW2hdLmJhbmR3aWR0aCtiLnN0cmVhbXNbZV0uYmFuZHdpZHRoLGY9e2lkOmEuaCsrLGxhbmd1YWdlOmIubGFuZ3VhZ2UscHJpbWFyeTpiLnRifHxjLnRiLGF1ZGlvOmIuc3RyZWFtc1tlXSx2aWRlbzpjLnN0cmVhbXNbaF0sYmFuZHdpZHRoOmYsZHJtSW5mb3M6ZyxhbGxvd2VkQnlBcHBsaWNhdGlvbjohMCxhbGxvd2VkQnlLZXlTeXN0ZW06ITB9LGQucHVzaChmKX1lbHNlIGZvcihnPWJ8fGMsZT0wO2U8Zy5zdHJlYW1zLmxlbmd0aDtlKyspZj1nLnN0cmVhbXNbZV0uYmFuZHdpZHRoLGY9e2lkOmEuaCsrLFxubGFuZ3VhZ2U6Zy5sYW5ndWFnZXx8XCJ1bmRcIixwcmltYXJ5OmcudGIsYXVkaW86Yj9nLnN0cmVhbXNbZV06bnVsbCx2aWRlbzpjP2cuc3RyZWFtc1tlXTpudWxsLGJhbmR3aWR0aDpmLGRybUluZm9zOmcuZHJtSW5mb3MsYWxsb3dlZEJ5QXBwbGljYXRpb246ITAsYWxsb3dlZEJ5S2V5U3lzdGVtOiEwfSxkLnB1c2goZil9XG5rLkJkPWZ1bmN0aW9uKGEsYil7YS5TPUxkKGIsYS5ULG51bGwpO3ZhciBjPSExLGQ9TShiLFwiUm9sZVwiKSxlPXZvaWQgMDtcInRleHRcIj09YS5TLmNvbnRlbnRUeXBlJiYoZT1cInN1YnRpdGxlXCIpO2Zvcih2YXIgZj0wO2Y8ZC5sZW5ndGg7ZisrKXt2YXIgZz1kW2ZdLmdldEF0dHJpYnV0ZShcInNjaGVtZUlkVXJpXCIpO2lmKG51bGw9PWd8fFwidXJuOm1wZWc6ZGFzaDpyb2xlOjIwMTFcIj09Zylzd2l0Y2goZz1kW2ZdLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpLGcpe2Nhc2UgXCJtYWluXCI6Yz0hMDticmVhaztjYXNlIFwiY2FwdGlvblwiOmNhc2UgXCJzdWJ0aXRsZVwiOmU9Z319dmFyIGg9bnVsbCxsPSExO00oYixcIkVzc2VudGlhbFByb3BlcnR5XCIpLmZvckVhY2goZnVuY3Rpb24oYSl7XCJodHRwOi8vZGFzaGlmLm9yZy9ndWlkZWxpbmVzL3RyaWNrbW9kZVwiPT1hLmdldEF0dHJpYnV0ZShcInNjaGVtZUlkVXJpXCIpP2g9YS5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKTpsPSEwfSk7aWYobClyZXR1cm4gbnVsbDt2YXIgZD1cbk0oYixcIkNvbnRlbnRQcm90ZWN0aW9uXCIpLG49T2MoZCx0aGlzLmIuZGFzaC5jdXN0b21TY2hlbWUsdGhpcy5iLmRhc2guaWdub3JlRHJtSW5mbyksZD1RYihiLmdldEF0dHJpYnV0ZShcImxhbmdcIil8fFwidW5kXCIpLGY9TShiLFwiUmVwcmVzZW50YXRpb25cIiksZT1mLm1hcCh0aGlzLkVkLmJpbmQodGhpcyxhLG4sZSxkLGMpKS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuISFhfSk7aWYoIWUubGVuZ3RoKXRocm93IG5ldyB0KDIsNCw0MDAzKTthLlMuY29udGVudFR5cGV8fChhLlMuY29udGVudFR5cGU9T2QoZVswXS5taW1lVHlwZSxlWzBdLmNvZGVjcyksZS5mb3JFYWNoKGZ1bmN0aW9uKGIpe2IudHlwZT1hLlMuY29udGVudFR5cGV9KSk7ZS5mb3JFYWNoKGZ1bmN0aW9uKGEpe24uZHJtSW5mb3MuZm9yRWFjaChmdW5jdGlvbihiKXthLmtleUlkJiZiLmtleUlkcy5wdXNoKGEua2V5SWQpfSl9KTtmPWYubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldEF0dHJpYnV0ZShcImlkXCIpfSkuZmlsdGVyKHlhKTtcbnJldHVybntpZDphLlMuaWR8fFwiX19mYWtlX19cIit0aGlzLmgrKyxjb250ZW50VHlwZTphLlMuY29udGVudFR5cGUsbGFuZ3VhZ2U6ZCx0YjpjLHN0cmVhbXM6ZSxkcm1JbmZvczpuLmRybUluZm9zLE1iOmgsTmQ6Zn19O1xuay5FZD1mdW5jdGlvbihhLGIsYyxkLGUsZil7YS53PUxkKGYsYS5TLG51bGwpO2lmKCFQZChhLncpKXJldHVybiBudWxsO2EuYmFuZHdpZHRoPU4oZixcImJhbmR3aWR0aFwiLEtjKXx8dm9pZCAwO3ZhciBnPXRoaXMuT2QuYmluZCh0aGlzKTtpZihhLncuUWEpZz1vZChhLGcpO2Vsc2UgaWYoYS53Lm9hKWc9cmQoYSx0aGlzLmopO2Vsc2UgaWYoYS53LlJhKWc9dmQoYSxnLHRoaXMuaiwhIXRoaXMuYyk7ZWxzZXt2YXIgaD1hLncuVSxsPWEuUi5kdXJhdGlvbnx8MDtnPXtjcmVhdGVTZWdtZW50SW5kZXg6UHJvbWlzZS5yZXNvbHZlLmJpbmQoUHJvbWlzZSksZmluZFNlZ21lbnRQb3NpdGlvbjpmdW5jdGlvbihhKXtyZXR1cm4gMDw9YSYmYTxsPzE6bnVsbH0sZ2V0U2VnbWVudFJlZmVyZW5jZTpmdW5jdGlvbihhKXtyZXR1cm4gMSE9YT9udWxsOm5ldyBPKDEsMCxsLGZ1bmN0aW9uKCl7cmV0dXJuIGh9LDAsbnVsbCl9LGluaXRTZWdtZW50UmVmZXJlbmNlOm51bGwscHJlc2VudGF0aW9uVGltZU9mZnNldDowfX1mPVxuTShmLFwiQ29udGVudFByb3RlY3Rpb25cIik7Zj1SYyhmLHRoaXMuYi5kYXNoLmN1c3RvbVNjaGVtZSxiLHRoaXMuYi5kYXNoLmlnbm9yZURybUluZm8pO3JldHVybntpZDp0aGlzLmgrKyxjcmVhdGVTZWdtZW50SW5kZXg6Zy5jcmVhdGVTZWdtZW50SW5kZXgsZmluZFNlZ21lbnRQb3NpdGlvbjpnLmZpbmRTZWdtZW50UG9zaXRpb24sZ2V0U2VnbWVudFJlZmVyZW5jZTpnLmdldFNlZ21lbnRSZWZlcmVuY2UsaW5pdFNlZ21lbnRSZWZlcmVuY2U6Zy5pbml0U2VnbWVudFJlZmVyZW5jZSxwcmVzZW50YXRpb25UaW1lT2Zmc2V0OmcucHJlc2VudGF0aW9uVGltZU9mZnNldCxtaW1lVHlwZTphLncubWltZVR5cGUsY29kZWNzOmEudy5jb2RlY3MsZnJhbWVSYXRlOmEudy5mcmFtZVJhdGUsYmFuZHdpZHRoOmEuYmFuZHdpZHRoLHdpZHRoOmEudy53aWR0aCxoZWlnaHQ6YS53LmhlaWdodCxraW5kOmMsZW5jcnlwdGVkOjA8Yi5kcm1JbmZvcy5sZW5ndGgsa2V5SWQ6ZixsYW5ndWFnZTpkLHR5cGU6YS5TLmNvbnRlbnRUeXBlLFxucHJpbWFyeTplLHRyaWNrTW9kZVZpZGVvOm51bGwsY29udGFpbnNFbXNnQm94ZXM6YS53LmNvbnRhaW5zRW1zZ0JveGVzfX07ay5mZT1mdW5jdGlvbigpe3RoaXMuZj1udWxsO3ZhciBhPURhdGUubm93KCk7RmQodGhpcykudGhlbihmdW5jdGlvbigpe3RoaXMuYSYmR2QodGhpcywoRGF0ZS5ub3coKS1hKS8xRTMpfS5iaW5kKHRoaXMpKVtcImNhdGNoXCJdKGZ1bmN0aW9uKGEpe3RoaXMuYSYmKGEuc2V2ZXJpdHk9MSx0aGlzLmEub25FcnJvcihhKSxHZCh0aGlzLDApKX0uYmluZCh0aGlzKSl9O2Z1bmN0aW9uIEdkKGEsYil7MD5hLmx8fChhLmY9d2luZG93LnNldFRpbWVvdXQoYS5mZS5iaW5kKGEpLDFFMypNYXRoLm1heChNYXRoLm1heCgzLGEubCktYiwwKSkpfVxuZnVuY3Rpb24gTGQoYSxiLGMpe2I9Ynx8e2NvbnRlbnRUeXBlOlwiXCIsbWltZVR5cGU6XCJcIixjb2RlY3M6XCJcIixjb250YWluc0Vtc2dCb3hlczohMSxmcmFtZVJhdGU6dm9pZCAwfTtjPWN8fGIuVTt2YXIgZD1NKGEsXCJCYXNlVVJMXCIpLm1hcChGYyksZT1hLmdldEF0dHJpYnV0ZShcImNvbnRlbnRUeXBlXCIpfHxiLmNvbnRlbnRUeXBlLGY9YS5nZXRBdHRyaWJ1dGUoXCJtaW1lVHlwZVwiKXx8Yi5taW1lVHlwZSxnPWEuZ2V0QXR0cmlidXRlKFwiY29kZWNzXCIpfHxiLmNvZGVjcyxoPU4oYSxcImZyYW1lUmF0ZVwiLE1jKXx8Yi5mcmFtZVJhdGUsbD0hIU0oYSxcIkluYmFuZEV2ZW50U3RyZWFtXCIpLmxlbmd0aDtlfHwoZT1PZChmLGcpKTtyZXR1cm57VTp6KGMsZCksUWE6RWMoYSxcIlNlZ21lbnRCYXNlXCIpfHxiLlFhLG9hOkVjKGEsXCJTZWdtZW50TGlzdFwiKXx8Yi5vYSxSYTpFYyhhLFwiU2VnbWVudFRlbXBsYXRlXCIpfHxiLlJhLHdpZHRoOk4oYSxcIndpZHRoXCIsTGMpfHxiLndpZHRoLGhlaWdodDpOKGEsXCJoZWlnaHRcIixcbkxjKXx8Yi5oZWlnaHQsY29udGVudFR5cGU6ZSxtaW1lVHlwZTpmLGNvZGVjczpnLGZyYW1lUmF0ZTpoLGNvbnRhaW5zRW1zZ0JveGVzOmx8fGIuY29udGFpbnNFbXNnQm94ZXMsaWQ6YS5nZXRBdHRyaWJ1dGUoXCJpZFwiKX19ZnVuY3Rpb24gUGQoYSl7dmFyIGI9MCsoYS5RYT8xOjApO2IrPWEub2E/MTowO2IrPWEuUmE/MTowO2lmKCFiKXJldHVyblwidGV4dFwiPT1hLmNvbnRlbnRUeXBlfHxcImFwcGxpY2F0aW9uXCI9PWEuY29udGVudFR5cGU/ITA6ITE7MSE9YiYmKGEuUWEmJihhLm9hPW51bGwpLGEuUmE9bnVsbCk7cmV0dXJuITB9XG5mdW5jdGlvbiBRZChhLGIsYyxkKXtiPXooYixbY10pO2I9QyhiLGEuYi5yZXRyeVBhcmFtZXRlcnMpO2IubWV0aG9kPWQ7cmV0dXJuIGEuYS5uZXR3b3JraW5nRW5naW5lLnJlcXVlc3QoMCxiKS50aGVuKGZ1bmN0aW9uKGEpe2lmKFwiSEVBRFwiPT1kKXtpZighYS5oZWFkZXJzfHwhYS5oZWFkZXJzLmRhdGUpcmV0dXJuIDA7YT1hLmhlYWRlcnMuZGF0ZX1lbHNlIGE9RihhLmRhdGEpO2E9RGF0ZS5wYXJzZShhKTtyZXR1cm4gaXNOYU4oYSk/MDphLURhdGUubm93KCl9KX1cbmZ1bmN0aW9uIEpkKGEsYixjLGQpe2M9Yy5tYXAoZnVuY3Rpb24oYSl7cmV0dXJue3NjaGVtZTphLmdldEF0dHJpYnV0ZShcInNjaGVtZUlkVXJpXCIpLHZhbHVlOmEuZ2V0QXR0cmlidXRlKFwidmFsdWVcIil9fSk7dmFyIGU9YS5iLmRhc2guY2xvY2tTeW5jVXJpO2QmJiFjLmxlbmd0aCYmZSYmYy5wdXNoKHtzY2hlbWU6XCJ1cm46bXBlZzpkYXNoOnV0YzpodHRwLWhlYWQ6MjAxNFwiLHZhbHVlOmV9KTtyZXR1cm4geGEoYyxmdW5jdGlvbihhKXt2YXIgYz1hLnZhbHVlO3N3aXRjaChhLnNjaGVtZSl7Y2FzZSBcInVybjptcGVnOmRhc2g6dXRjOmh0dHAtaGVhZDoyMDE0XCI6Y2FzZSBcInVybjptcGVnOmRhc2g6dXRjOmh0dHAtaGVhZDoyMDEyXCI6cmV0dXJuIFFkKHRoaXMsYixjLFwiSEVBRFwiKTtjYXNlIFwidXJuOm1wZWc6ZGFzaDp1dGM6aHR0cC14c2RhdGU6MjAxNFwiOmNhc2UgXCJ1cm46bXBlZzpkYXNoOnV0YzpodHRwLWlzbzoyMDE0XCI6Y2FzZSBcInVybjptcGVnOmRhc2g6dXRjOmh0dHAteHNkYXRlOjIwMTJcIjpjYXNlIFwidXJuOm1wZWc6ZGFzaDp1dGM6aHR0cC1pc286MjAxMlwiOnJldHVybiBRZCh0aGlzLFxuYixjLFwiR0VUXCIpO2Nhc2UgXCJ1cm46bXBlZzpkYXNoOnV0YzpkaXJlY3Q6MjAxNFwiOmNhc2UgXCJ1cm46bXBlZzpkYXNoOnV0YzpkaXJlY3Q6MjAxMlwiOnJldHVybiBhPURhdGUucGFyc2UoYyksaXNOYU4oYSk/MDphLURhdGUubm93KCk7Y2FzZSBcInVybjptcGVnOmRhc2g6dXRjOmh0dHAtbnRwOjIwMTRcIjpjYXNlIFwidXJuOm1wZWc6ZGFzaDp1dGM6bnRwOjIwMTRcIjpjYXNlIFwidXJuOm1wZWc6ZGFzaDp1dGM6c250cDoyMDE0XCI6cmV0dXJuIFByb21pc2UucmVqZWN0KCk7ZGVmYXVsdDpyZXR1cm4gUHJvbWlzZS5yZWplY3QoKX19LmJpbmQoYSkpW1wiY2F0Y2hcIl0oZnVuY3Rpb24oKXtyZXR1cm4gMH0pfVxuay5EZD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9Yy5nZXRBdHRyaWJ1dGUoXCJzY2hlbWVJZFVyaVwiKXx8XCJcIixlPWMuZ2V0QXR0cmlidXRlKFwidmFsdWVcIil8fFwiXCIsZj1OKGMsXCJ0aW1lc2NhbGVcIixMYyl8fDE7TShjLFwiRXZlbnRcIikuZm9yRWFjaChmdW5jdGlvbihjKXt2YXIgZz1OKGMsXCJwcmVzZW50YXRpb25UaW1lXCIsTGMpfHwwLGw9TihjLFwiZHVyYXRpb25cIixMYyl8fDAsZz1nL2YrYSxsPWcrbC9mO251bGwhPWImJihnPU1hdGgubWluKGcsYStiKSxsPU1hdGgubWluKGwsYStiKSk7Yz17c2NoZW1lSWRVcmk6ZCx2YWx1ZTplLHN0YXJ0VGltZTpnLGVuZFRpbWU6bCxpZDpjLmdldEF0dHJpYnV0ZShcImlkXCIpfHxcIlwiLGV2ZW50RWxlbWVudDpjfTt0aGlzLmEub25UaW1lbGluZVJlZ2lvbkFkZGVkKGMpfS5iaW5kKHRoaXMpKX07XG5rLk9kPWZ1bmN0aW9uKGEsYixjKXthPUMoYSx0aGlzLmIucmV0cnlQYXJhbWV0ZXJzKTtudWxsIT1iJiYoYS5oZWFkZXJzLlJhbmdlPVwiYnl0ZXM9XCIrYitcIi1cIisobnVsbCE9Yz9jOlwiXCIpKTtyZXR1cm4gdGhpcy5hLm5ldHdvcmtpbmdFbmdpbmUucmVxdWVzdCgxLGEpLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIGEuZGF0YX0pfTtmdW5jdGlvbiBPZChhLGIpe3JldHVybiBzYltXYihhLGIpXT9cInRleHRcIjphLnNwbGl0KFwiL1wiKVswXX1CZC5tcGQ9RWQ7QWRbXCJhcHBsaWNhdGlvbi9kYXNoK3htbFwiXT1FZDtmdW5jdGlvbiBSZChhLGIsYyxkKXt0aGlzLnVyaT1hO3RoaXMudHlwZT1iO3RoaXMuZ2E9Yzt0aGlzLnNlZ21lbnRzPWR8fG51bGx9ZnVuY3Rpb24gU2QoYSxiLGMsZCl7dGhpcy5pZD1hO3RoaXMubmFtZT1iO3RoaXMuYT1jO3RoaXMudmFsdWU9ZHx8bnVsbH1TZC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3JldHVybiBhLm5hbWUrJz1cIicrYS52YWx1ZSsnXCInfXJldHVybiB0aGlzLnZhbHVlP1wiI1wiK3RoaXMubmFtZStcIjpcIit0aGlzLnZhbHVlOjA8dGhpcy5hLmxlbmd0aD9cIiNcIit0aGlzLm5hbWUrXCI6XCIrdGhpcy5hLm1hcChhKS5qb2luKFwiLFwiKTpcIiNcIit0aGlzLm5hbWV9O2Z1bmN0aW9uIFRkKGEsYil7dGhpcy5uYW1lPWE7dGhpcy52YWx1ZT1ifVNkLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5hLmZpbHRlcihmdW5jdGlvbihiKXtyZXR1cm4gYi5uYW1lPT1hfSk7cmV0dXJuIGIubGVuZ3RoP2JbMF06bnVsbH07XG5mdW5jdGlvbiBVZChhLGIsYyl7Yz1jfHxudWxsO3JldHVybihhPWEuZ2V0QXR0cmlidXRlKGIpKT9hLnZhbHVlOmN9ZnVuY3Rpb24gVmQoYSxiKXt0aGlzLmdhPWI7dGhpcy51cmk9YX07ZnVuY3Rpb24gV2QoYSxiKXtyZXR1cm4gYS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEubmFtZT09Yn0pfWZ1bmN0aW9uIFhkKGEsYil7dmFyIGM9V2QoYSxiKTtyZXR1cm4gYy5sZW5ndGg/Y1swXTpudWxsfWZ1bmN0aW9uIFlkKGEsYixjKXtyZXR1cm4gYS5maWx0ZXIoZnVuY3Rpb24oYSl7dmFyIGQ9YS5nZXRBdHRyaWJ1dGUoXCJUWVBFXCIpO2E9YS5nZXRBdHRyaWJ1dGUoXCJHUk9VUC1JRFwiKTtyZXR1cm4gZC52YWx1ZT09YiYmYS52YWx1ZT09Y30pfTtmdW5jdGlvbiBaZChhKXt0aGlzLmI9YTt0aGlzLmE9MH1mdW5jdGlvbiAkZChhLGIpe2IubGFzdEluZGV4PWEuYTt2YXIgYz0oYz1iLmV4ZWMoYS5iKSk/e3Bvc2l0aW9uOmMuaW5kZXgsbGVuZ3RoOmNbMF0ubGVuZ3RoLFFkOmN9Om51bGw7aWYoYS5hPT1hLmIubGVuZ3RofHwhY3x8Yy5wb3NpdGlvbiE9YS5hKXJldHVybiBudWxsO2EuYSs9Yy5sZW5ndGg7cmV0dXJuIGMuUWR9ZnVuY3Rpb24gYWUoYSl7cmV0dXJuIGEuYT09YS5iLmxlbmd0aD9udWxsOihhPSRkKGEsL1teIFxcdFxcbl0qL2dtKSk/YVswXTpudWxsfTtmdW5jdGlvbiBiZSgpe3RoaXMuYT0wfVxuZnVuY3Rpb24gY2UoYSxiLGMpe2I9RihiKTtiPWIucmVwbGFjZSgvXFxyXFxufFxccig/PVteXFxuXXwkKS9nbSxcIlxcblwiKS50cmltKCk7dmFyIGQ9Yi5zcGxpdCgvXFxuKy9tKTtpZighL14jRVhUTTNVKCR8WyBcXHRcXG5dKS9tLnRlc3QoZFswXSkpdGhyb3cgbmV3IHQoMiw0LDQwMTUpO2I9MDtmb3IodmFyIGU9W10sZj0xO2Y8ZC5sZW5ndGg7KWlmKC9eIyg/IUVYVCkvbS50ZXN0KGRbZl0pKWYrPTE7ZWxzZXt2YXIgZz1kW2ZdO2c9ZGUoYS5hKyssZyk7aWYoMDw9ZWUuaW5kZXhPZihnLm5hbWUpKWI9MTtlbHNlIGlmKDA8PWZlLmluZGV4T2YoZy5uYW1lKSl7aWYoMSE9Yil0aHJvdyBuZXcgdCgyLDQsNDAxNyk7ZD1kLnNwbGljZShmLGQubGVuZ3RoLWYpO2E9Z2UoYSxkKTtyZXR1cm4gbmV3IFJkKGMsYixlLGEpfWUucHVzaChnKTtmKz0xO1wiRVhULVgtU1RSRUFNLUlORlwiPT1nLm5hbWUmJihnLmEucHVzaChuZXcgVGQoXCJVUklcIixkW2ZdKSksZis9MSl9cmV0dXJuIG5ldyBSZChjLGIsZSl9XG5mdW5jdGlvbiBnZShhLGIpe3ZhciBjPVtdLGQ9W107Yi5mb3JFYWNoKGZ1bmN0aW9uKGEpey9eKCNFWFQpLy50ZXN0KGEpPyhhPWRlKHRoaXMuYSsrLGEpLGQucHVzaChhKSk6L14jKD8hRVhUKS9tLnRlc3QoYSl8fChjLnB1c2gobmV3IFZkKGEudHJpbSgpLGQpKSxkPVtdKX0uYmluZChhKSk7cmV0dXJuIGN9ZnVuY3Rpb24gZGUoYSxiKXt2YXIgYz1iLm1hdGNoKC9eIyhFWFRbXjpdKikoPzo6KC4qKSk/JC8pO2lmKCFjKXRocm93IG5ldyB0KDIsNCw0MDE2KTt2YXIgZD1jWzFdLGU9Y1syXSxjPVtdO2lmKGUmJjA8PWUuaW5kZXhPZihcIj1cIikpZm9yKHZhciBlPW5ldyBaZChlKSxmLGc9LyhbXj1dKyk9KD86XCIoW15cIl0qKVwifChbXlwiLF0qKSkoPzosfCQpL2c7Zj0kZChlLGcpOyljLnB1c2gobmV3IFRkKGZbMV0sZlsyXXx8ZlszXSkpO2Vsc2UgaWYoZSlyZXR1cm4gbmV3IFNkKGEsZCxjLGUpO3JldHVybiBuZXcgU2QoYSxkLGMpfVxudmFyIGVlPVwiRVhULVgtVEFSR0VURFVSQVRJT04gRVhULVgtTUVESUEtU0VRVUVOQ0UgRVhULVgtRElTQ09OVElOVUlUWS1TRVFVRU5DRSBFWFQtWC1QTEFZTElTVC1UWVBFIEVYVC1YLU1BUCBFWFQtWC1JLUZSQU1FUy1PTkxZXCIuc3BsaXQoXCIgXCIpLGZlPVwiRVhUSU5GIEVYVC1YLUJZVEVSQU5HRSBFWFQtWC1ESVNDT05USU5VSVRZIEVYVC1YLVBST0dSQU0tREFURS1USU1FIEVYVC1YLUtFWSBFWFQtWC1EQVRFUkFOR0VcIi5zcGxpdChcIiBcIik7ZnVuY3Rpb24gaGUoYSl7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGIpe3ZhciBjPWhlLnBhcnNlKGEpO2Ioe3VyaTphLGRhdGE6Yy5kYXRhLGhlYWRlcnM6e1wiY29udGVudC10eXBlXCI6Yy5jb250ZW50VHlwZX19KX0pfW0oXCJzaGFrYS5uZXQuRGF0YVVyaVBsdWdpblwiLGhlKTtcbmhlLnBhcnNlPWZ1bmN0aW9uKGEpe3ZhciBiPWEuc3BsaXQoXCI6XCIpO2lmKDI+Yi5sZW5ndGh8fFwiZGF0YVwiIT1iWzBdKXRocm93IG5ldyB0KDIsMSwxMDA0LGEpO2I9Yi5zbGljZSgxKS5qb2luKFwiOlwiKS5zcGxpdChcIixcIik7aWYoMj5iLmxlbmd0aCl0aHJvdyBuZXcgdCgyLDEsMTAwNCxhKTt2YXIgYz1iWzBdLGI9d2luZG93LmRlY29kZVVSSUNvbXBvbmVudChiLnNsaWNlKDEpLmpvaW4oXCIsXCIpKSxjPWMuc3BsaXQoXCI7XCIpLGQ9bnVsbDsxPGMubGVuZ3RoJiYoZD1jWzFdKTtpZihcImJhc2U2NFwiPT1kKWE9V2EoYikuYnVmZmVyO2Vsc2V7aWYoZCl0aHJvdyBuZXcgdCgyLDEsMTAwNSxhKTthPVNhKGIpfXJldHVybntkYXRhOmEsY29udGVudFR5cGU6Y1swXX19O0VhLmRhdGE9aGU7ZnVuY3Rpb24gaWUoKXt0aGlzLmI9dGhpcy5jPW51bGw7dGhpcy5pPTE7dGhpcy5nPXt9O3RoaXMuZj17fTt0aGlzLmE9bnVsbDt0aGlzLmo9XCJcIjt0aGlzLmg9bmV3IGJlfW0oXCJzaGFrYS5obHMuSGxzUGFyc2VyXCIsaWUpO2s9aWUucHJvdG90eXBlO2suY29uZmlndXJlPWZ1bmN0aW9uKGEpe3RoaXMuYj1hfTtrLnN0YXJ0PWZ1bmN0aW9uKGEsYil7dGhpcy5jPWI7dGhpcy5qPWE7cmV0dXJuIHRoaXMuYy5uZXR3b3JraW5nRW5naW5lLnJlcXVlc3QoMCxDKFthXSx0aGlzLmIucmV0cnlQYXJhbWV0ZXJzKSkudGhlbihmdW5jdGlvbihiKXtyZXR1cm4gamUodGhpcyxiLmRhdGEsYSl9LmJpbmQodGhpcykpfTtrLnN0b3A9ZnVuY3Rpb24oKXt0aGlzLmI9dGhpcy5jPW51bGw7dGhpcy5nPXt9O3JldHVybiBQcm9taXNlLnJlc29sdmUoKX07ay51cGRhdGU9ZnVuY3Rpb24oKXt9O2sub25FeHBpcmF0aW9uVXBkYXRlZD1mdW5jdGlvbigpe307XG5mdW5jdGlvbiBqZShhLGIsYyl7Yj1jZShhLmgsYixjKTtpZigwIT1iLnR5cGUpdGhyb3cgbmV3IHQoMiw0LDQwMjIpO2EuYT1uZXcgVChudWxsLDApO3JldHVybiBsZShhLGIpLnRoZW4oZnVuY3Rpb24oYSl7dGhpcy5jLmZpbHRlclBlcmlvZChhKTtyZXR1cm57cHJlc2VudGF0aW9uVGltZWxpbmU6dGhpcy5hLHBlcmlvZHM6W2FdLG9mZmxpbmVTZXNzaW9uSWRzOltdLG1pbkJ1ZmZlclRpbWU6MH19LmJpbmQoYSkpfVxuZnVuY3Rpb24gbGUoYSxiKXt2YXIgYz1XZChiLmdhLFwiRVhULVgtU1RSRUFNLUlORlwiKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIG1lKHRoaXMsYSxiKX0uYmluZChhKSksZD1XZChiLmdhLFwiRVhULVgtTUVESUFcIikuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVyblwiU1VCVElUTEVTXCI9PVUoYSxcIlRZUEVcIil9LmJpbmQoYSkpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gbmUodGhpcyxhLGIpfS5iaW5kKGEpKTtyZXR1cm4gUHJvbWlzZS5hbGwoYykudGhlbihmdW5jdGlvbihhKXtyZXR1cm4gUHJvbWlzZS5hbGwoZCkudGhlbihmdW5jdGlvbihiKXt2YXIgYz1hLnJlZHVjZSh4LFtdKTtvZSh0aGlzLGMpO3JldHVybntzdGFydFRpbWU6MCx2YXJpYW50czpjLHRleHRTdHJlYW1zOmJ9fS5iaW5kKHRoaXMpKX0uYmluZChhKSl9XG5mdW5jdGlvbiBtZShhLGIsYyl7dmFyIGQ9TnVtYmVyKFUoYixcIkJBTkRXSURUSFwiKSksZT1VZChiLFwiQ09ERUNTXCIsXCJhdmMxLjQyRTAxRSxtcDRhLjQwLjJcIikuc3BsaXQoXCIsXCIpLGY9Yi5nZXRBdHRyaWJ1dGUoXCJSRVNPTFVUSU9OXCIpLGc9bnVsbCxoPW51bGwsbD1VZChiLFwiRlJBTUUtUkFURVwiKTtpZihmKXZhciBuPWYudmFsdWUuc3BsaXQoXCJ4XCIpLGc9blswXSxoPW5bMV07dmFyIHE9cGUoYSxjKTtjPVdkKGMuZ2EsXCJFWFQtWC1NRURJQVwiKTt2YXIgcj1VZChiLFwiQVVESU9cIiksdj1VZChiLFwiVklERU9cIik7cj9jPVlkKGMsXCJBVURJT1wiLHIpOnYmJihjPVlkKGMsXCJWSURFT1wiLHYpKTtjPWMubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBxZSh0aGlzLGEsZSxxKX0uYmluZChhKSk7dmFyIHU9W10sdz1bXTtyZXR1cm4gUHJvbWlzZS5hbGwoYykudGhlbihmdW5jdGlvbihhKXtyP3U9YTp2JiYodz1hKTtpZih1Lmxlbmd0aHx8dy5sZW5ndGgpdmFyIGM9dS5sZW5ndGg/XCJ2aWRlb1wiOlwiYXVkaW9cIjtcbmVsc2UgMT09ZS5sZW5ndGg/Yz1mfHxsP1widmlkZW9cIjpcImF1ZGlvXCI6KGM9XCJ2aWRlb1wiLGU9W2Uuam9pbihcIixcIildKTthPWU7dmFyIGQ9VShiLFwiVVJJXCIpO3JldHVybiByZSh0aGlzLGQsYSxjLHEsXCJ1bmRcIiwhMSl9LmJpbmQoYSkpLnRoZW4oZnVuY3Rpb24oYSl7XCJhdWRpb1wiPT1hLnN0cmVhbS50eXBlP3U9W2FdOnc9W2FdO3JldHVybiBzZSh0aGlzLHUsdyxkLGcsaCxsKX0uYmluZChhKSl9XG5mdW5jdGlvbiBzZShhLGIsYyxkLGUsZixnKXtjLmZvckVhY2goZnVuY3Rpb24oYSl7aWYoYT1hLnN0cmVhbSlhLndpZHRoPU51bWJlcihlKXx8dm9pZCAwLGEuaGVpZ2h0PU51bWJlcihmKXx8dm9pZCAwLGEuZnJhbWVSYXRlPU51bWJlcihnKXx8dm9pZCAwfS5iaW5kKGEpKTtiLmxlbmd0aHx8KGI9W251bGxdKTtjLmxlbmd0aHx8KGM9W251bGxdKTtmb3IodmFyIGg9W10sbD0wO2w8Yi5sZW5ndGg7bCsrKWZvcih2YXIgbj0wO248Yy5sZW5ndGg7bisrKXt2YXIgcT1iW2xdP2JbbF0uc3RyZWFtOm51bGwscj1jW25dP2Nbbl0uc3RyZWFtOm51bGwsdj1iW2xdP2JbbF0uZHJtSW5mb3M6bnVsbCx1PWNbbl0/Y1tuXS5kcm1JbmZvczpudWxsO2lmKHEmJnIpaWYodi5sZW5ndGgmJnUubGVuZ3RoPzA8cWIodix1KS5sZW5ndGg6MSl2YXIgdz1xYih2LHUpO2Vsc2UgY29udGludWU7ZWxzZSBxP3c9djpyJiYodz11KTtoLnB1c2godGUoYSxxLHIsZCx3KSl9cmV0dXJuIGh9XG5mdW5jdGlvbiB0ZShhLGIsYyxkLGUpe3JldHVybntpZDphLmkrKyxsYW5ndWFnZTpiP2IubGFuZ3VhZ2U6XCJ1bmRcIixwcmltYXJ5OiEhYiYmYi5wcmltYXJ5fHwhIWMmJmMucHJpbWFyeSxhdWRpbzpiLHZpZGVvOmMsYmFuZHdpZHRoOmQsZHJtSW5mb3M6ZSxhbGxvd2VkQnlBcHBsaWNhdGlvbjohMCxhbGxvd2VkQnlLZXlTeXN0ZW06ITB9fWZ1bmN0aW9uIG5lKGEsYixjKXtVKGIsXCJUWVBFXCIpO2M9cGUoYSxjKTtyZXR1cm4gcWUoYSxiLFtdLGMpLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIGEuc3RyZWFtfSl9XG5mdW5jdGlvbiBxZShhLGIsYyxkKXtpZihhLmdbYi5pZF0pcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nW2IuaWRdfS5iaW5kKGEpKTt2YXIgZT1VKGIsXCJUWVBFXCIpLnRvTG93ZXJDYXNlKCk7XCJzdWJ0aXRsZXNcIj09ZSYmKGU9XCJ0ZXh0XCIpO3ZhciBmPVFiKFVkKGIsXCJMQU5HVUFHRVwiLFwidW5kXCIpKSxnPWIuZ2V0QXR0cmlidXRlKFwiREVGQVVMVFwiKSxoPWIuZ2V0QXR0cmlidXRlKFwiQVVUT1NFTEVDVFwiKSxsPVUoYixcIlVSSVwiKTtyZXR1cm4gcmUoYSxsLGMsZSxkLGYsISFnfHwhIWgpLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ1tiLmlkXT1hfS5iaW5kKGEpKX1cbmZ1bmN0aW9uIHJlKGEsYixjLGQsZSxmLGcpe2I9eihbYS5qXSxbYl0pWzBdO3JldHVybiBhLmMubmV0d29ya2luZ0VuZ2luZS5yZXF1ZXN0KDAsQyhbYl0sYS5iLnJldHJ5UGFyYW1ldGVycykpLnRoZW4oZnVuY3Rpb24oYSl7YT1jZSh0aGlzLmgsYS5kYXRhLGEudXJpKTtpZigxIT1hLnR5cGUpdGhyb3cgbmV3IHQoMiw0LDQwMTcpO2U9cGUodGhpcyxhKXx8ZTt2YXIgYj1udWxsO1widGV4dFwiIT1kJiYoYj12ZShhKSk7dmFyIGg9WGQoYS5nYSxcIkVYVC1YLU1FRElBLVNFUVVFTkNFXCIpLGg9d2UodGhpcyxhLGg/TnVtYmVyKGgudmFsdWUpOjApO3RoaXMuYS5HYSgwLGgpO3ZhciBxPWhbaC5sZW5ndGgtMV0uZW5kVGltZS1oWzBdLnN0YXJ0VGltZSxyPXRoaXMuYS5ZKCk7KEluZmluaXR5PT1yfHxyPHEpJiZ0aGlzLmEucGEocSk7dmFyIHY9eGUoZCxjKSx1PXZvaWQgMDtcInRleHRcIj09ZCYmKHU9XCJzdWJ0aXRsZVwiKTt2YXIgdz1uZXcgUyhoKSxLPVtdO2Euc2VnbWVudHMuZm9yRWFjaChmdW5jdGlvbihhKXthPVxuV2QoYS5nYSxcIkVYVC1YLUtFWVwiKTtLLnB1c2guYXBwbHkoSyxhKX0pO3ZhciBvYT0hMSxIYj1bXSxrZT1udWxsO0suZm9yRWFjaChmdW5jdGlvbihhKXtpZihcIk5PTkVcIiE9VShhLFwiTUVUSE9EXCIpKXtvYT0hMDt2YXIgYj1VKGEsXCJLRVlGT1JNQVRcIik7aWYoYT0oYj15ZVtiXSk/YihhKTpudWxsKWEua2V5SWRzLmxlbmd0aCYmKGtlPWEua2V5SWRzWzBdKSxIYi5wdXNoKGEpfX0pO2lmKG9hJiYhSGIubGVuZ3RoKXRocm93IG5ldyB0KDIsNCw0MDI2KTtyZXR1cm4gemUodGhpcyxkLGhbMF0uYSgpWzBdKS50aGVuKGZ1bmN0aW9uKGEpe2E9e2lkOnRoaXMuaSsrLGNyZWF0ZVNlZ21lbnRJbmRleDpQcm9taXNlLnJlc29sdmUuYmluZChQcm9taXNlKSxmaW5kU2VnbWVudFBvc2l0aW9uOncuZmluZC5iaW5kKHcpLGdldFNlZ21lbnRSZWZlcmVuY2U6dy5nZXQuYmluZCh3KSxpbml0U2VnbWVudFJlZmVyZW5jZTpiLHByZXNlbnRhdGlvblRpbWVPZmZzZXQ6ZXx8MCxtaW1lVHlwZTphLGNvZGVjczp2LFxua2luZDp1LGVuY3J5cHRlZDpvYSxrZXlJZDprZSxsYW5ndWFnZTpmLHR5cGU6ZCxwcmltYXJ5OmcsdHJpY2tNb2RlVmlkZW86bnVsbCxjb250YWluc0Vtc2dCb3hlczohMSxmcmFtZVJhdGU6dm9pZCAwLHdpZHRoOnZvaWQgMCxoZWlnaHQ6dm9pZCAwLGJhbmR3aWR0aDp2b2lkIDB9O3RoaXMuZlthLmlkXT13O3JldHVybntzdHJlYW06YSx5ZTp3LGRybUluZm9zOkhifX0uYmluZCh0aGlzKSl9LmJpbmQoYSkpfVxuZnVuY3Rpb24gdmUoYSl7dmFyIGI9V2QoYS5nYSxcIkVYVC1YLU1BUFwiKTtpZighYi5sZW5ndGgpcmV0dXJuIG51bGw7aWYoMTxiLmxlbmd0aCl0aHJvdyBuZXcgdCgyLDQsNDAyMCk7dmFyIGI9YlswXSxjPVUoYixcIlVSSVwiKSxkPXooW2EudXJpXSxbY10pWzBdO2E9MDtjPW51bGw7aWYoYj1VZChiLFwiQllURVJBTkdFXCIpKWE9Yi5zcGxpdChcIkBcIiksYj1OdW1iZXIoYVswXSksYT1OdW1iZXIoYVsxXSksYz1hK2ItMTtyZXR1cm4gbmV3IFdjKGZ1bmN0aW9uKCl7cmV0dXJuW2RdfSxhLGMpfVxuZnVuY3Rpb24gd2UoYSxiLGMpe3ZhciBkPWIuc2VnbWVudHMsZT1bXTtkLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGY9YS5nYSxoPXooW2IudXJpXSxbYS51cmldKVswXSxsPUFlKGYpLnZhbHVlLnNwbGl0KFwiLFwiKSxsPU51bWJlcihsWzBdKSxuOyhhPWQuaW5kZXhPZihhKSk/bj1lW2EtMV0uZW5kVGltZTpuPTA7dmFyIGw9bitsLHE9MCxyPW51bGw7aWYoZj1YZChmLFwiRVhULVgtQllURVJBTkdFXCIpKWY9Zi52YWx1ZS5zcGxpdChcIkBcIikscj1OdW1iZXIoZlswXSksZlsxXT9xPU51bWJlcihmWzFdKTpxPWVbYS0xXS5NLHI9cStyLTEsYT09ZC5sZW5ndGgtMSYmKHI9bnVsbCk7ZS5wdXNoKG5ldyBPKGMrYSxuLGwsZnVuY3Rpb24oKXtyZXR1cm5baF19LHEscikpfS5iaW5kKGEpKTtyZXR1cm4gZX1cbmZ1bmN0aW9uIG9lKGEsYil7Yi5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYS5ZKCksYz1hLnZpZGVvO2E9YS5hdWRpbztjJiZ0aGlzLmZbYy5pZF0mJmRkKHRoaXMuZltjLmlkXSxiKTthJiZ0aGlzLmZbYS5pZF0mJmRkKHRoaXMuZlthLmlkXSxiKX0uYmluZChhKSl9ZnVuY3Rpb24geGUoYSxiKXtpZigxPT1iLmxlbmd0aClyZXR1cm4gYlswXTtpZihcInRleHRcIj09YSlyZXR1cm5cIlwiO3ZhciBjPUJlO1wiYXVkaW9cIj09YSYmKGM9Q2UpO2Zvcih2YXIgZD0wO2Q8Yy5sZW5ndGg7ZCsrKWZvcih2YXIgZT0wO2U8Yi5sZW5ndGg7ZSsrKWlmKGNbZF0udGVzdChiW2VdLnRyaW0oKSkpcmV0dXJuIGJbZV0udHJpbSgpO3Rocm93IG5ldyB0KDIsNCw0MDI1LGIpO31cbmZ1bmN0aW9uIHplKGEsYixjKXt2YXIgZD1jLnNwbGl0KFwiLlwiKSxlPWRbZC5sZW5ndGgtMV07aWYoXCJ0ZXh0XCI9PWIpcmV0dXJuIFByb21pc2UucmVzb2x2ZShcInRleHQvdnR0XCIpO2Q9RGU7XCJ2aWRlb1wiPT1iJiYoZD1FZSk7aWYoYj1kW2VdKXJldHVybiBQcm9taXNlLnJlc29sdmUoYik7Yz1DKFtjXSxhLmIucmV0cnlQYXJhbWV0ZXJzKTtjLm1ldGhvZD1cIkhFQURcIjtyZXR1cm4gYS5jLm5ldHdvcmtpbmdFbmdpbmUucmVxdWVzdCgxLGMpLnRoZW4oZnVuY3Rpb24oYSl7YT1hLmhlYWRlcnNbXCJjb250ZW50LXR5cGVcIl07aWYoIWEpdGhyb3cgbmV3IHQoMiw0LDQwMjEsZSk7cmV0dXJuIGF9KX1mdW5jdGlvbiBwZShhLGIpe3ZhciBjPVhkKGIuZ2EsXCJFWFQtWC1TVEFSVFwiKTtyZXR1cm4gYz9OdW1iZXIoVShjLFwiVElNRS1PRkZTRVRcIikpOmEuYi5obHMuZGVmYXVsdFRpbWVPZmZzZXR9XG5mdW5jdGlvbiBVKGEsYil7dmFyIGM9YS5nZXRBdHRyaWJ1dGUoYik7aWYoIWMpdGhyb3cgbmV3IHQoMiw0LDQwMjMsYik7cmV0dXJuIGMudmFsdWV9ZnVuY3Rpb24gQWUoYSl7YT1YZChhLFwiRVhUSU5GXCIpO2lmKCFhKXRocm93IG5ldyB0KDIsNCw0MDI0LFwiRVhUSU5GXCIpO3JldHVybiBhfVxudmFyIEJlPVsvXihhdmMpLywvXihodmMpLywvXih2cFs4LTldKSQvLC9eKGF2MSkkLywvXihtcDR2KS9dLENlPVsvXih2b3JiaXMpLywvXihvcHVzKS8sL14obXA0YSkvLC9eKGFjLTMpJC8sL14oZWMtMykkL10sRGU9e21wNDpcImF1ZGlvL21wNFwiLG00czpcImF1ZGlvL21wNFwiLG00aTpcImF1ZGlvL21wNFwiLG00YTpcImF1ZGlvL21wNFwiLHRzOlwidmlkZW8vbXAydFwifSxFZT17bXA0OlwidmlkZW8vbXA0XCIsbTRzOlwidmlkZW8vbXA0XCIsbTRpOlwidmlkZW8vbXA0XCIsbTR2OlwidmlkZW8vbXA0XCIsdHM6XCJ2aWRlby9tcDJ0XCJ9LHllPXtcInVybjp1dWlkOmVkZWY4YmE5LTc5ZDYtNGFjZS1hM2M4LTI3ZGNkNTFkMjFlZFwiOmZ1bmN0aW9uKGEpe2lmKFwiU0FNUExFLUFFUy1DRU5DXCIhPVUoYSxcIk1FVEhPRFwiKSlyZXR1cm4gbnVsbDt2YXIgYj1VKGEsXCJVUklcIiksYj1oZS5wYXJzZShiKSxiPW5ldyBVaW50OEFycmF5KGIuZGF0YSksYj1CYShcImNvbS53aWRldmluZS5hbHBoYVwiLFt7aW5pdERhdGFUeXBlOlwiY2VuY1wiLFxuaW5pdERhdGE6Yn1dKTtpZihhPVVkKGEsXCJLRVlJRFwiKSliLmtleUlkcz1bYS5zdWJzdHIoMikudG9Mb3dlckNhc2UoKV07cmV0dXJuIGJ9fTtCZC5tM3U4PWllO0FkW1wiYXBwbGljYXRpb24veC1tcGVndXJsXCJdPWllO0FkW1wiYXBwbGljYXRpb24vdm5kLmFwcGxlLm1wZWd1cmxcIl09aWU7ZnVuY3Rpb24gRmUoKXt9RmUucHJvdG90eXBlLnBhcnNlSW5pdD1mdW5jdGlvbigpe307XG5GZS5wcm90b3R5cGUucGFyc2VNZWRpYT1mdW5jdGlvbihhLGIpe3ZhciBjPUYoYSksZD1bXSxlPW5ldyBET01QYXJzZXIsZj1udWxsO3RyeXtmPWUucGFyc2VGcm9tU3RyaW5nKGMsXCJ0ZXh0L3htbFwiKX1jYXRjaChIYil7dGhyb3cgbmV3IHQoMiwyLDIwMDUpO31pZihmKXt2YXIgZz1mLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidHRcIilbMF07aWYoZyl7ZT1nLmdldEF0dHJpYnV0ZShcInR0cDpmcmFtZVJhdGVcIik7Zj1nLmdldEF0dHJpYnV0ZShcInR0cDpzdWJGcmFtZVJhdGVcIik7dmFyIGg9Zy5nZXRBdHRyaWJ1dGUoXCJ0dHA6ZnJhbWVSYXRlTXVsdGlwbGllclwiKTt2YXIgbD1nLmdldEF0dHJpYnV0ZShcInR0cDp0aWNrUmF0ZVwiKTtjPWcuZ2V0QXR0cmlidXRlKFwieG1sOnNwYWNlXCIpfHxcImRlZmF1bHRcIn1lbHNlIHRocm93IG5ldyB0KDIsMiwyMDA1KTtpZihcImRlZmF1bHRcIiE9YyYmXCJwcmVzZXJ2ZVwiIT1jKXRocm93IG5ldyB0KDIsMiwyMDA1KTtjPVwiZGVmYXVsdFwiPT1jO2U9bmV3IEdlKGUsXG5mLGgsbCk7Zj1IZShnLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic3R5bGluZ1wiKVswXSk7aD1IZShnLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwibGF5b3V0XCIpWzBdKTtnPUhlKGcuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJib2R5XCIpWzBdKTtmb3IobD0wO2w8Zy5sZW5ndGg7bCsrKXt2YXIgbj1nW2xdLHE9Yi5wZXJpb2RTdGFydCxyPWU7dmFyIHY9Zjt2YXIgdT1oLHc9YztpZihuLmhhc0F0dHJpYnV0ZShcImJlZ2luXCIpfHxuLmhhc0F0dHJpYnV0ZShcImVuZFwiKXx8IS9eXFxzKiQvLnRlc3Qobi50ZXh0Q29udGVudCkpe0llKG4sdyk7dmFyIHc9SmUobi5nZXRBdHRyaWJ1dGUoXCJiZWdpblwiKSxyKSxLPUplKG4uZ2V0QXR0cmlidXRlKFwiZW5kXCIpLHIpLHI9SmUobi5nZXRBdHRyaWJ1dGUoXCJkdXJcIiksciksb2E9bi50ZXh0Q29udGVudDtudWxsPT1LJiZudWxsIT1yJiYoSz13K3IpO2lmKG51bGw9PXd8fG51bGw9PUspdGhyb3cgbmV3IHQoMiwyLDIwMDEpO2lmKHE9dmIodytxLEsrcSxvYSkpe3c9S2UobixcblwicmVnaW9uXCIsdSk7dT1xO2lmKEs9TGUobix3LHYsXCJ0dHM6ZXh0ZW50XCIpKWlmKHI9TWUuZXhlYyhLKSl1LnNpemU9TnVtYmVyKHJbMV0pO3I9TGUobix3LHYsXCJ0dHM6d3JpdGluZ01vZGVcIik7Sz0hMDtcInRiXCI9PXJ8fFwidGJsclwiPT1yP3UudmVydGljYWw9XCJsclwiOlwidGJybFwiPT1yP3UudmVydGljYWw9XCJybFwiOks9ITE7aWYocj1MZShuLHcsdixcInR0czpvcmlnaW5cIikpaWYocj1NZS5leGVjKHIpKUs/KHUucG9zaXRpb249TnVtYmVyKHJbMl0pLHUubGluZT1OdW1iZXIoclsxXSkpOih1LnBvc2l0aW9uPU51bWJlcihyWzFdKSx1LmxpbmU9TnVtYmVyKHJbMl0pKSx1LnNuYXBUb0xpbmVzPSExO2lmKHY9TGUobix3LHYsXCJ0dHM6dGV4dEFsaWduXCIpKXUuYWxpZ249dixcImNlbnRlclwiPT12JiYoXCJjZW50ZXJcIiE9dS5hbGlnbiYmKHUuYWxpZ249XCJtaWRkbGVcIiksdS5wb3NpdGlvbj1cImF1dG9cIiksdS5wb3NpdGlvbkFsaWduPU5lW3ZdLHUubGluZUFsaWduPU9lW3ZdO3Y9cX1lbHNlIHY9bnVsbH1lbHNlIHY9XG5udWxsO3YmJmQucHVzaCh2KX19cmV0dXJuIGR9O3ZhciBQZT0vXihcXGR7Mix9KTooXFxkezJ9KTooXFxkezJ9KTooXFxkezJ9KVxcLj8oXFxkKyk/JC8sUWU9L14oPzooXFxkezIsfSk6KT8oXFxkezJ9KTooXFxkezJ9KSQvLFJlPS9eKD86KFxcZHsyLH0pOik/KFxcZHsyfSk6KFxcZHsyfVxcLlxcZHsyLH0pJC8sU2U9L14oXFxkKlxcLj9cXGQqKWYkLyxUZT0vXihcXGQqXFwuP1xcZCopdCQvLFVlPS9eKD86KFxcZCpcXC4/XFxkKiloKT8oPzooXFxkKlxcLj9cXGQqKW0pPyg/OihcXGQqXFwuP1xcZCopcyk/KD86KFxcZCpcXC4/XFxkKiltcyk/JC8sTWU9L14oXFxkezEsMn18MTAwKSUgKFxcZHsxLDJ9fDEwMCklJC8sT2U9e2xlZnQ6XCJzdGFydFwiLGNlbnRlcjpcImNlbnRlclwiLHJpZ2h0OlwiZW5kXCIsc3RhcnQ6XCJzdGFydFwiLGVuZDpcImVuZFwifSxOZT17bGVmdDpcImxpbmUtbGVmdFwiLGNlbnRlcjpcImNlbnRlclwiLHJpZ2h0OlwibGluZS1yaWdodFwifTtcbmZ1bmN0aW9uIEhlKGEpe3ZhciBiPVtdO2lmKCFhKXJldHVybiBiO2Zvcih2YXIgYz1hLmNoaWxkTm9kZXMsZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZT1cInNwYW5cIj09Y1tkXS5ub2RlTmFtZSYmXCJwXCI9PWEubm9kZU5hbWU7Y1tkXS5ub2RlVHlwZSE9Tm9kZS5FTEVNRU5UX05PREV8fFwiYnJcIj09Y1tkXS5ub2RlTmFtZXx8ZXx8KGU9SGUoY1tkXSksYj1iLmNvbmNhdChlKSl9Yi5sZW5ndGh8fGIucHVzaChhKTtyZXR1cm4gYn1mdW5jdGlvbiBJZShhLGIpe2Zvcih2YXIgYz1hLmNoaWxkTm9kZXMsZD0wO2Q8Yy5sZW5ndGg7ZCsrKWlmKFwiYnJcIj09Y1tkXS5ub2RlTmFtZSYmMDxkKWNbZC0xXS50ZXh0Q29udGVudCs9XCJcXG5cIjtlbHNlIGlmKDA8Y1tkXS5jaGlsZE5vZGVzLmxlbmd0aClJZShjW2RdLGIpO2Vsc2UgaWYoYil7dmFyIGU9Y1tkXS50ZXh0Q29udGVudC50cmltKCksZT1lLnJlcGxhY2UoL1xccysvZyxcIiBcIik7Y1tkXS50ZXh0Q29udGVudD1lfX1cbmZ1bmN0aW9uIExlKGEsYixjLGQpe2Zvcih2YXIgZT1IZShiKSxmPTA7ZjxlLmxlbmd0aDtmKyspe3ZhciBnPWVbZl0uZ2V0QXR0cmlidXRlKGQpO2lmKGcpcmV0dXJuIGd9ZT1LZTtyZXR1cm4oYT1lKGIsXCJzdHlsZVwiLGMpfHxlKGEsXCJzdHlsZVwiLGMpKT9hLmdldEF0dHJpYnV0ZShkKTpudWxsfWZ1bmN0aW9uIEtlKGEsYixjKXtpZighYXx8MT5jLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgZD1udWxsLGU9YTtmb3IoYT1udWxsO2UmJiEoYT1lLmdldEF0dHJpYnV0ZShiKSkmJihlPWUucGFyZW50Tm9kZSxlIGluc3RhbmNlb2YgRWxlbWVudCk7KTtpZihiPWEpZm9yKGE9MDthPGMubGVuZ3RoO2ErKylpZihjW2FdLmdldEF0dHJpYnV0ZShcInhtbDppZFwiKT09Yil7ZD1jW2FdO2JyZWFrfXJldHVybiBkfVxuZnVuY3Rpb24gSmUoYSxiKXt2YXIgYz1udWxsO2lmKFBlLnRlc3QoYSkpdmFyIGM9UGUuZXhlYyhhKSxkPU51bWJlcihjWzFdKSxlPU51bWJlcihjWzJdKSxmPU51bWJlcihjWzNdKSxnPU51bWJlcihjWzRdKSxnPWcrKE51bWJlcihjWzVdKXx8MCkvYi5iLGY9ZitnL2IuZnJhbWVSYXRlLGM9Zis2MCplKzM2MDAqZDtlbHNlIFFlLnRlc3QoYSk/Yz1WZShRZSxhKTpSZS50ZXN0KGEpP2M9VmUoUmUsYSk6U2UudGVzdChhKT8oYz1TZS5leGVjKGEpLGM9TnVtYmVyKGNbMV0pL2IuZnJhbWVSYXRlKTpUZS50ZXN0KGEpPyhjPVRlLmV4ZWMoYSksYz1OdW1iZXIoY1sxXSkvYi5hKTpVZS50ZXN0KGEpJiYoYz1WZShVZSxhKSk7cmV0dXJuIGN9XG5mdW5jdGlvbiBWZShhLGIpe3ZhciBjPWEuZXhlYyhiKTtyZXR1cm4gYyYmXCJcIiE9Y1swXT8oTnVtYmVyKGNbNF0pfHwwKS8xRTMrKE51bWJlcihjWzNdKXx8MCkrNjAqKE51bWJlcihjWzJdKXx8MCkrMzYwMCooTnVtYmVyKGNbMV0pfHwwKTpudWxsfWZ1bmN0aW9uIEdlKGEsYixjLGQpe3RoaXMuZnJhbWVSYXRlPU51bWJlcihhKXx8MzA7dGhpcy5iPU51bWJlcihiKXx8MTt0aGlzLmE9TnVtYmVyKGQpO3RoaXMuYXx8KHRoaXMuYT1hP3RoaXMuZnJhbWVSYXRlKnRoaXMuYjoxKTtjJiYoYT0vXihcXGQrKSAoXFxkKykkL2cuZXhlYyhjKSkmJih0aGlzLmZyYW1lUmF0ZSo9YVsxXS9hWzJdKX10YihcImFwcGxpY2F0aW9uL3R0bWwreG1sXCIsRmUpO2Z1bmN0aW9uIFdlKCl7dGhpcy5hPW5ldyBGZX1XZS5wcm90b3R5cGUucGFyc2VJbml0PWZ1bmN0aW9uKGEpe3ZhciBiPSExOyhuZXcgUSkuQyhcIm1vb3ZcIixSKS5DKFwidHJha1wiLFIpLkMoXCJtZGlhXCIsUikuQyhcIm1pbmZcIixSKS5DKFwic3RibFwiLFIpLmNhKFwic3RzZFwiLCRjKS5DKFwic3RwcFwiLGZ1bmN0aW9uKCl7Yj0hMH0pLnBhcnNlKGEpO2lmKCFiKXRocm93IG5ldyB0KDIsMiwyMDA3KTt9O1dlLnByb3RvdHlwZS5wYXJzZU1lZGlhPWZ1bmN0aW9uKGEsYil7dmFyIGM9ITEsZD1bXTsobmV3IFEpLkMoXCJtZGF0XCIsYWQoZnVuY3Rpb24oYSl7Yz0hMDtkPXRoaXMuYS5wYXJzZU1lZGlhKGEuYnVmZmVyLGIpfS5iaW5kKHRoaXMpKSkucGFyc2UoYSk7aWYoIWMpdGhyb3cgbmV3IHQoMiwyLDIwMDcpO3JldHVybiBkfTt0YignYXBwbGljYXRpb24vbXA0OyBjb2RlY3M9XCJzdHBwXCInLFdlKTtmdW5jdGlvbiBYZSgpe31YZS5wcm90b3R5cGUucGFyc2VJbml0PWZ1bmN0aW9uKCl7fTtcblhlLnByb3RvdHlwZS5wYXJzZU1lZGlhPWZ1bmN0aW9uKGEsYil7dmFyIGM9RihhKSxjPWMucmVwbGFjZSgvXFxyXFxufFxccig/PVteXFxuXXwkKS9nbSxcIlxcblwiKSxjPWMuc3BsaXQoL1xcbnsyLH0vbSk7aWYoIS9eV0VCVlRUKCR8WyBcXHRcXG5dKS9tLnRlc3QoY1swXSkpdGhyb3cgbmV3IHQoMiwyLDJFMyk7dmFyIGQ9Yi5zZWdtZW50U3RhcnQ7aWYoMDw9Y1swXS5pbmRleE9mKFwiWC1USU1FU1RBTVAtTUFQXCIpKXt2YXIgZT1jWzBdLm1hdGNoKC9MT0NBTDooKD86KFxcZHsxLH0pOik/KFxcZHsyfSk6KFxcZHsyfSlcXC4oXFxkezN9KSkvbSksZj1jWzBdLm1hdGNoKC9NUEVHVFM6KFxcZCspL20pO2UmJmYmJihkPVllKG5ldyBaZChlWzFdKSksZD1iLnBlcmlvZFN0YXJ0KyhOdW1iZXIoZlsxXSkvOUU0LWQpKX1mPVtdO2ZvcihlPTE7ZTxjLmxlbmd0aDtlKyspe3ZhciBnPWNbZV0uc3BsaXQoXCJcXG5cIiksaD1kO2lmKDE9PWcubGVuZ3RoJiYhZ1swXXx8L15OT1RFKCR8WyBcXHRdKS8udGVzdChnWzBdKSl2YXIgbD1cbm51bGw7ZWxzZXtsPW51bGw7MD5nWzBdLmluZGV4T2YoXCItLVxceDNlXCIpJiYobD1nWzBdLGcuc3BsaWNlKDAsMSkpO3ZhciBuPW5ldyBaZChnWzBdKSxxPVllKG4pLHI9JGQobiwvWyBcXHRdKy0tXFx4M2VbIFxcdF0rL2cpLHY9WWUobik7aWYobnVsbD09cXx8IXJ8fG51bGw9PXYpdGhyb3cgbmV3IHQoMiwyLDIwMDEpO2lmKGc9dmIocStoLHYraCxnLnNsaWNlKDEpLmpvaW4oXCJcXG5cIikudHJpbSgpKSl7JGQobiwvWyBcXHRdKy9nbSk7Zm9yKGg9YWUobik7aDspWmUoZyxoKSwkZChuLC9bIFxcdF0rL2dtKSxoPWFlKG4pO251bGwhPWwmJihnLmlkPWwpO2w9Z31lbHNlIGw9bnVsbH1sJiZmLnB1c2gobCl9cmV0dXJuIGZ9O1xuZnVuY3Rpb24gWmUoYSxiKXt2YXIgYztpZihjPS9eYWxpZ246KHN0YXJ0fG1pZGRsZXxjZW50ZXJ8ZW5kfGxlZnR8cmlnaHQpJC8uZXhlYyhiKSlhLmFsaWduPWNbMV0sXCJjZW50ZXJcIj09Y1sxXSYmXCJjZW50ZXJcIiE9YS5hbGlnbiYmKGEucG9zaXRpb249XCJhdXRvXCIsYS5hbGlnbj1cIm1pZGRsZVwiKTtlbHNlIGlmKGM9L152ZXJ0aWNhbDoobHJ8cmwpJC8uZXhlYyhiKSlhLnZlcnRpY2FsPWNbMV07ZWxzZSBpZihjPS9ec2l6ZTooXFxkezEsMn18MTAwKSUkLy5leGVjKGIpKWEuc2l6ZT1OdW1iZXIoY1sxXSk7ZWxzZSBpZihjPS9ecG9zaXRpb246KFxcZHsxLDJ9fDEwMCklKD86LChsaW5lLWxlZnR8bGluZS1yaWdodHxjZW50ZXJ8c3RhcnR8ZW5kKSk/JC8uZXhlYyhiKSlhLnBvc2l0aW9uPU51bWJlcihjWzFdKSxjWzJdJiYoYS5wb3NpdGlvbkFsaWduPWNbMl0pO2Vsc2UgaWYoYz0vXmxpbmU6KFxcZHsxLDJ9fDEwMCklKD86LChzdGFydHxlbmR8Y2VudGVyKSk/JC8uZXhlYyhiKSlhLnNuYXBUb0xpbmVzPVxuITEsYS5saW5lPU51bWJlcihjWzFdKSxjWzJdJiYoYS5saW5lQWxpZ249Y1syXSk7ZWxzZSBpZihjPS9ebGluZTooLT9cXGQrKSg/Oiwoc3RhcnR8ZW5kfGNlbnRlcikpPyQvLmV4ZWMoYikpYS5zbmFwVG9MaW5lcz0hMCxhLmxpbmU9TnVtYmVyKGNbMV0pLGNbMl0mJihhLmxpbmVBbGlnbj1jWzJdKX1mdW5jdGlvbiBZZShhKXthPSRkKGEsLyg/OihcXGR7MSx9KTopPyhcXGR7Mn0pOihcXGR7Mn0pXFwuKFxcZHszfSkvZyk7aWYoIWEpcmV0dXJuIG51bGw7dmFyIGI9TnVtYmVyKGFbMl0pLGM9TnVtYmVyKGFbM10pO3JldHVybiA1OTxifHw1OTxjP251bGw6TnVtYmVyKGFbNF0pLzFFMytjKzYwKmIrMzYwMCooTnVtYmVyKGFbMV0pfHwwKX10YihcInRleHQvdnR0XCIsWGUpO3RiKCd0ZXh0L3Z0dDsgY29kZWNzPVwidnR0XCInLFhlKTtmdW5jdGlvbiAkZSgpe3RoaXMuYT1udWxsfSRlLnByb3RvdHlwZS5wYXJzZUluaXQ9ZnVuY3Rpb24oYSl7dmFyIGI9ITE7KG5ldyBRKS5DKFwibW9vdlwiLFIpLkMoXCJ0cmFrXCIsUikuQyhcIm1kaWFcIixSKS5jYShcIm1kaGRcIixmdW5jdGlvbihhKXswPT1hLnZlcnNpb24/KGEucy5JKDQpLGEucy5JKDQpLHRoaXMuYT1hLnMuRCgpLGEucy5JKDQpKTooYS5zLkkoOCksYS5zLkkoOCksdGhpcy5hPWEucy5EKCksYS5zLkkoOCkpO2Eucy5JKDQpfS5iaW5kKHRoaXMpKS5DKFwibWluZlwiLFIpLkMoXCJzdGJsXCIsUikuY2EoXCJzdHNkXCIsJGMpLkMoXCJ3dnR0XCIsZnVuY3Rpb24oKXtiPSEwfSkucGFyc2UoYSk7aWYoIXRoaXMuYSl0aHJvdyBuZXcgdCgyLDIsMjAwOCk7aWYoIWIpdGhyb3cgbmV3IHQoMiwyLDIwMDgpO307XG4kZS5wcm90b3R5cGUucGFyc2VNZWRpYT1mdW5jdGlvbihhLGIpe3ZhciBjPTAsZD1bXSxlPVtdLGY9W10sZz0hMSxoPSExLGw9ITE7KG5ldyBRKS5DKFwibW9vZlwiLFIpLkMoXCJ0cmFmXCIsUikuY2EoXCJ0ZmR0XCIsZnVuY3Rpb24oYSl7Zz0hMDtjPWEudmVyc2lvbj9hLnMuUGEoKTphLnMuRCgpfSkuY2EoXCJ0cnVuXCIsZnVuY3Rpb24oYSl7aD0hMDt2YXIgYj1hLnZlcnNpb24sYz1hLkxjO2E9YS5zO3ZhciBlPWEuRCgpO2MmMSYmYS5JKDQpO2MmNCYmYS5JKDQpO2Zvcih2YXIgZj1bXSxnPTA7ZzxlO2crKyl7dmFyIGw9e2R1cmF0aW9uOm51bGwsTGI6bnVsbH07YyYyNTYmJihsLmR1cmF0aW9uPWEuRCgpKTtjJjUxMiYmYS5JKDQpO2MmMTAyNCYmYS5JKDQpO2MmMjA0OCYmKGwuTGI9Yj9hLmxjKCk6YS5EKCkpO2YucHVzaChsKX1kPWZ9KS5DKFwidnR0ZVwiLGZ1bmN0aW9uKCl7ZS5wdXNoKG51bGwpfSkuQyhcInZ0dGNcIixhZChmdW5jdGlvbihhKXtlLnB1c2goYS5idWZmZXIpfSkpLkMoXCJtZGF0XCIsXG5mdW5jdGlvbihhKXtsPSEwO1IoYSl9KS5wYXJzZShhKTtpZighbCYmIWcmJiFoKXRocm93IG5ldyB0KDIsMiwyMDA4KTtmb3IodmFyIG49YyxxPTA7cTxkLmxlbmd0aDtxKyspe3ZhciByPWRbcV0sdj1lW3FdO2lmKHIuZHVyYXRpb24pe3ZhciB1PXIuTGI/YytyLkxiOm4sbj11K3IuZHVyYXRpb247diYmZi5wdXNoKGFmKHYsYi5wZXJpb2RTdGFydCt1L3RoaXMuYSxiLnBlcmlvZFN0YXJ0K24vdGhpcy5hKSl9fXJldHVybiBmfTtmdW5jdGlvbiBhZihhLGIsYyl7dmFyIGQsZSxmOyhuZXcgUSkuQyhcInBheWxcIixhZChmdW5jdGlvbihhKXtkPUYoYSl9KSkuQyhcImlkZW5cIixhZChmdW5jdGlvbihhKXtlPUYoYSl9KSkuQyhcInN0dGdcIixhZChmdW5jdGlvbihhKXtmPUYoYSl9KSkucGFyc2UoYSk7cmV0dXJuIGQ/YmYoZCxlLGYsYixjKTpudWxsfVxuZnVuY3Rpb24gYmYoYSxiLGMsZCxlKXsoYT12YihkLGUsYSkpJiZiJiYoYS5pZD1iKTtpZihhJiZjKWZvcihiPW5ldyBaZChjKSxjPWFlKGIpO2M7KVplKGEsYyksJGQoYiwvWyBcXHRdKy9nbSksYz1hZShiKTtyZXR1cm4gYX10YignYXBwbGljYXRpb24vbXA0OyBjb2RlY3M9XCJ3dnR0XCInLCRlKTtmdW5jdGlvbiBjZihhLGIsYyxkLGUsZil7dGhpcy5hPWE7dGhpcy5jPWI7dGhpcy5sPWM7dGhpcy5BPWQ7dGhpcy5KPWU7dGhpcy5HPWY7dGhpcy5iPW5ldyBEO3RoaXMuaD0hMTt0aGlzLmc9MTt0aGlzLmo9dGhpcy5mPW51bGw7dGhpcy5CPWEucmVhZHlTdGF0ZTt0aGlzLmk9ITE7dGhpcy5QPXRoaXMudj0tMTt0aGlzLm89ITE7MDxhLnJlYWR5U3RhdGU/dGhpcy5kYygpOkthKHRoaXMuYixhLFwibG9hZGVkbWV0YWRhdGFcIix0aGlzLmRjLmJpbmQodGhpcykpO2I9dGhpcy5mYy5iaW5kKHRoaXMpO0UodGhpcy5iLGEsXCJyYXRlY2hhbmdlXCIsdGhpcy5wZC5iaW5kKHRoaXMpKTtFKHRoaXMuYixhLFwid2FpdGluZ1wiLGIpO3RoaXMuaj1zZXRJbnRlcnZhbChiLDI1MCl9az1jZi5wcm90b3R5cGU7XG5rLm09ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmIubSgpO3RoaXMuYj1udWxsO251bGwhPXRoaXMuZiYmKHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuZiksdGhpcy5mPW51bGwpO251bGwhPXRoaXMuaiYmKHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuaiksdGhpcy5qPW51bGwpO3RoaXMuRz10aGlzLko9dGhpcy5sPXRoaXMuYz10aGlzLmE9bnVsbDtyZXR1cm4gYX07ZnVuY3Rpb24gZGYoYSxiKXswPGEuYS5yZWFkeVN0YXRlP2EuYS5jdXJyZW50VGltZT1lZihhLGIpOmEuQT1ifWZ1bmN0aW9uIGZmKGEpe3JldHVybiAwPGEuYS5yZWFkeVN0YXRlP2VmKGEsYS5hLmN1cnJlbnRUaW1lKTpnZihhKX1mdW5jdGlvbiBnZihhKXtpZihhLkEpcmV0dXJuIGVmKGEsYS5BKTthPWEuYy5wcmVzZW50YXRpb25UaW1lbGluZTtyZXR1cm4gSW5maW5pdHk+YS5ZKCk/YS5tYSgpOmEuYmIoKX1rLnBiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ307XG5mdW5jdGlvbiBoZihhLGIpe251bGwhPWEuZiYmKHdpbmRvdy5jbGVhckludGVydmFsKGEuZiksYS5mPW51bGwpO2EuZz1iO2EuYS5wbGF5YmFja1JhdGU9YS5ofHwwPmI/MDpiOyFhLmgmJjA+YiYmKGEuZj13aW5kb3cuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXt0aGlzLmEuY3VycmVudFRpbWUrPWIvNH0uYmluZChhKSwyNTApKX1rLnliPWZ1bmN0aW9uKCl7dGhpcy5vPSEwO3RoaXMuZmMoKX07ay5wZD1mdW5jdGlvbigpe3RoaXMuYS5wbGF5YmFja1JhdGUhPSh0aGlzLmh8fDA+dGhpcy5nPzA6dGhpcy5nKSYmaGYodGhpcyx0aGlzLmEucGxheWJhY2tSYXRlKX07XG5rLmRjPWZ1bmN0aW9uKCl7dmFyIGE9Z2YodGhpcyk7LjAwMT5NYXRoLmFicyh0aGlzLmEuY3VycmVudFRpbWUtYSk/KEUodGhpcy5iLHRoaXMuYSxcInNlZWtpbmdcIix0aGlzLmdjLmJpbmQodGhpcykpLEUodGhpcy5iLHRoaXMuYSxcInBsYXlpbmdcIix0aGlzLmVjLmJpbmQodGhpcykpKTooS2EodGhpcy5iLHRoaXMuYSxcInNlZWtpbmdcIix0aGlzLnJkLmJpbmQodGhpcykpLHRoaXMuYS5jdXJyZW50VGltZT1hKX07ay5yZD1mdW5jdGlvbigpe0UodGhpcy5iLHRoaXMuYSxcInNlZWtpbmdcIix0aGlzLmdjLmJpbmQodGhpcykpO0UodGhpcy5iLHRoaXMuYSxcInBsYXlpbmdcIix0aGlzLmVjLmJpbmQodGhpcykpfTtcbmsuZmM9ZnVuY3Rpb24oKXtpZih0aGlzLmEucmVhZHlTdGF0ZSl7dGhpcy5hLnJlYWR5U3RhdGUhPXRoaXMuQiYmKHRoaXMuaT0hMSx0aGlzLkI9dGhpcy5hLnJlYWR5U3RhdGUpO3ZhciBhPXRoaXMubC5zbWFsbEdhcExpbWl0LGI9dGhpcy5hLmN1cnJlbnRUaW1lLGM9dGhpcy5hLmJ1ZmZlcmVkO2E6e2lmKGMmJmMubGVuZ3RoJiYhKDE9PWMubGVuZ3RoJiYxRS02PmMuZW5kKDApLWMuc3RhcnQoMCkpKXt2YXIgZD0uMTsvKEVkZ2V8VHJpZGVudClcXC8vLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkmJihkPS41KTtmb3IodmFyIGU9MDtlPGMubGVuZ3RoO2UrKylpZihjLnN0YXJ0KGUpPmImJighZXx8Yy5lbmQoZS0xKS1iPD1kKSl7ZD1lO2JyZWFrIGF9fWQ9bnVsbH1pZihudWxsPT1kKXtpZigzPnRoaXMuYS5yZWFkeVN0YXRlJiYwPHRoaXMuYS5wbGF5YmFja1JhdGUpaWYodGhpcy5QIT1iKXRoaXMuUD1iLHRoaXMudj1EYXRlLm5vdygpO2Vsc2UgaWYodGhpcy52PERhdGUubm93KCktXG4xRTMpZm9yKHRoaXMudj1EYXRlLm5vdygpKzVFMyxkPTA7ZDxjLmxlbmd0aDtkKyspaWYoYj49Yy5zdGFydChkKSYmYjxjLmVuZChkKS0uNSl7dGhpcy5hLmN1cnJlbnRUaW1lPXRoaXMuYS5jdXJyZW50VGltZTticmVha319ZWxzZSBpZihkfHx0aGlzLm8paWYoZT1jLnN0YXJ0KGQpLCEoZT49dGhpcy5jLnByZXNlbnRhdGlvblRpbWVsaW5lLmJiKCkpKXt2YXIgZj1lLWIsYT1mPD1hLGc9ITE7YXx8dGhpcy5pfHwodGhpcy5pPSEwLGY9bmV3IEgoXCJsYXJnZWdhcFwiLHtjdXJyZW50VGltZTpiLGdhcFNpemU6Zn0pLGYuY2FuY2VsYWJsZT0hMCx0aGlzLkcoZiksdGhpcy5sLmp1bXBMYXJnZUdhcHMmJiFmLmRlZmF1bHRQcmV2ZW50ZWQmJihnPSEwKSk7aWYoYXx8ZylkJiZjLmVuZChkLTEpLGpmKHRoaXMsYixlKX19fTtcbmsuZ2M9ZnVuY3Rpb24oKXt0aGlzLm89ITE7dmFyIGE9dGhpcy5hLmN1cnJlbnRUaW1lLGI9a2YodGhpcyxhKTsuMDAxPE1hdGguYWJzKGItYSk/amYodGhpcyxhLGIpOih0aGlzLmk9ITEsdGhpcy5KKCkpfTtrLmVjPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5hLmN1cnJlbnRUaW1lLGI9a2YodGhpcyxhKTsuMDAxPE1hdGguYWJzKGItYSkmJmpmKHRoaXMsYSxiKX07ZnVuY3Rpb24ga2YoYSxiKXt2YXIgYz16Yi5iaW5kKG51bGwsYS5hLmJ1ZmZlcmVkKSxkPTEqTWF0aC5tYXgoYS5jLm1pbkJ1ZmZlclRpbWV8fDAsYS5sLnJlYnVmZmVyaW5nR29hbCksZT1hLmMucHJlc2VudGF0aW9uVGltZWxpbmUsZj1lLnVhKCksZz1lLkRhKGQpLGg9ZS5EYSg1KSxkPWUuRGEoZCs1KTtyZXR1cm4gYj5mP2Y6YjxlLkRhKDApP2MoaCk/aDpkOmI+PWd8fGMoYik/YjpkfVxuZnVuY3Rpb24gamYoYSxiLGMpe2EuYS5jdXJyZW50VGltZT1jO3ZhciBkPTAsZT1mdW5jdGlvbigpeyF0aGlzLmF8fDEwPD1kKyt8fHRoaXMuYS5jdXJyZW50VGltZSE9Ynx8KHRoaXMuYS5jdXJyZW50VGltZT1jLHNldFRpbWVvdXQoZSwxMDApKX0uYmluZChhKTtzZXRUaW1lb3V0KGUsMTAwKX1mdW5jdGlvbiBlZihhLGIpe3ZhciBjPWEuYy5wcmVzZW50YXRpb25UaW1lbGluZS5tYSgpO2lmKGI8YylyZXR1cm4gYztjPWEuYy5wcmVzZW50YXRpb25UaW1lbGluZS51YSgpO3JldHVybiBiPmM/YzpifTtmdW5jdGlvbiBsZihhLGIsYyxkLGUsZil7dGhpcy5hPWE7dGhpcy5nPWI7dGhpcy5BPWM7dGhpcy5sPWQ7dGhpcy5oPWU7dGhpcy5CPWY7dGhpcy5jPVtdO3RoaXMuaj1uZXcgRDt0aGlzLmI9ITE7dGhpcy5pPS0xO3RoaXMuZj1udWxsO21mKHRoaXMpfWxmLnByb3RvdHlwZS5tPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5qP3RoaXMuai5tKCk6UHJvbWlzZS5yZXNvbHZlKCk7dGhpcy5qPW51bGw7bmYodGhpcyk7dGhpcy5CPXRoaXMuaD10aGlzLmw9dGhpcy5BPXRoaXMuZz10aGlzLmE9bnVsbDt0aGlzLmM9W107cmV0dXJuIGF9O1xubGYucHJvdG90eXBlLnY9ZnVuY3Rpb24oYSl7aWYoIXRoaXMuYy5zb21lKGZ1bmN0aW9uKGIpe3JldHVybiBiLmluZm8uc2NoZW1lSWRVcmk9PWEuc2NoZW1lSWRVcmkmJmIuaW5mby5zdGFydFRpbWU9PWEuc3RhcnRUaW1lJiZiLmluZm8uZW5kVGltZT09YS5lbmRUaW1lfSkpe3ZhciBiPXtpbmZvOmEsc3RhdHVzOjF9O3RoaXMuYy5wdXNoKGIpO3ZhciBjPW5ldyBIKFwidGltZWxpbmVyZWdpb25hZGRlZFwiLHtkZXRhaWw6b2YoYSl9KTt0aGlzLmgoYyk7dGhpcy5vKCEwLGIpfX07ZnVuY3Rpb24gb2YoYSl7dmFyIGI9RGEoYSk7Yi5ldmVudEVsZW1lbnQ9YS5ldmVudEVsZW1lbnQ7cmV0dXJuIGJ9XG5sZi5wcm90b3R5cGUubz1mdW5jdGlvbihhLGIpe3ZhciBjPWIuaW5mby5zdGFydFRpbWU+dGhpcy5hLmN1cnJlbnRUaW1lPzE6Yi5pbmZvLmVuZFRpbWU8dGhpcy5hLmN1cnJlbnRUaW1lPzM6MixkPTI9PWIuc3RhdHVzLGU9Mj09YztpZihjIT1iLnN0YXR1cyl7aWYoIWF8fGR8fGUpZHx8dGhpcy5oKG5ldyBIKFwidGltZWxpbmVyZWdpb25lbnRlclwiLHtkZXRhaWw6b2YoYi5pbmZvKX0pKSxlfHx0aGlzLmgobmV3IEgoXCJ0aW1lbGluZXJlZ2lvbmV4aXRcIix7ZGV0YWlsOm9mKGIuaW5mbyl9KSk7Yi5zdGF0dXM9Y319O2Z1bmN0aW9uIG1mKGEpe25mKGEpO2EuZj13aW5kb3cuc2V0VGltZW91dChhLkcuYmluZChhKSwyNTApfWZ1bmN0aW9uIG5mKGEpe2EuZiYmKHdpbmRvdy5jbGVhclRpbWVvdXQoYS5mKSxhLmY9bnVsbCl9XG5sZi5wcm90b3R5cGUuRz1mdW5jdGlvbigpe3RoaXMuZj1udWxsO21mKHRoaXMpO3ZhciBhPWZjKHRoaXMuZyx0aGlzLmEuY3VycmVudFRpbWUpO2EhPXRoaXMuaSYmKC0xIT10aGlzLmkmJnRoaXMuQigpLHRoaXMuaT1hKTt2YXIgYT1BYih0aGlzLmEuYnVmZmVyZWQsdGhpcy5hLmN1cnJlbnRUaW1lKSxiPXliKHRoaXMuYS5idWZmZXJlZCk+PXRoaXMuZy5wcmVzZW50YXRpb25UaW1lbGluZS51YSgpLS4xfHx0aGlzLmEuZW5kZWQ7aWYodGhpcy5iKXt2YXIgYz0xKk1hdGgubWF4KHRoaXMuZy5taW5CdWZmZXJUaW1lfHwwLHRoaXMuQS5yZWJ1ZmZlcmluZ0dvYWwpOyhifHxhPj1jKSYmMCE9dGhpcy5iJiYodGhpcy5iPSExLHRoaXMubCghMSkpfWVsc2UhYiYmLjU+YSYmMSE9dGhpcy5iJiYodGhpcy5iPSEwLHRoaXMubCghMCkpO3RoaXMuYy5mb3JFYWNoKHRoaXMuby5iaW5kKHRoaXMsITEpKX07ZnVuY3Rpb24gcGYoYSxiKXt0aGlzLmE9Yjt0aGlzLmI9YTt0aGlzLmg9bnVsbDt0aGlzLmk9MTt0aGlzLm89UHJvbWlzZS5yZXNvbHZlKCk7dGhpcy5nPVtdO3RoaXMuaj17fTt0aGlzLmM9e307dGhpcy5mPXRoaXMubD10aGlzLnY9ITF9az1wZi5wcm90b3R5cGU7ay5tPWZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIHRoaXMuYylxZih0aGlzLmNbYV0pO3RoaXMuaD10aGlzLmM9dGhpcy5qPXRoaXMuZz10aGlzLm89dGhpcy5iPXRoaXMuYT1udWxsO3RoaXMuZj0hMDtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCl9O2suY29uZmlndXJlPWZ1bmN0aW9uKGEpe3RoaXMuaD1hfTtrLmluaXQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmEuJGIodGhpcy5iLnBlcmlvZHNbZmModGhpcy5iLGZmKHRoaXMuYS5PYSkpXSk7cmV0dXJuIExhKGEpP1Byb21pc2UucmVqZWN0KG5ldyB0KDIsNSw1MDA1KSk6cmYodGhpcyxhKS50aGVuKGZ1bmN0aW9uKCl7dGhpcy5hJiZ0aGlzLmEuZ2QmJnRoaXMuYS5nZCgpfS5iaW5kKHRoaXMpKX07XG5mdW5jdGlvbiBWKGEpe3JldHVybiBhLmIucGVyaW9kc1tmYyhhLmIsZmYoYS5hLk9hKSldfWZ1bmN0aW9uIHNmKGEpe3JldHVybiBOYShhLmMsZnVuY3Rpb24oYSl7cmV0dXJuIGEubmF8fGEuc3RyZWFtfSl9ZnVuY3Rpb24gdGYoYSxiKXt2YXIgYz17fTtjLnRleHQ9YjtyZXR1cm4gcmYoYSxjKX1mdW5jdGlvbiB1ZihhLGIpe3ZhciBjPWEuYy52aWRlbztpZihjKXt2YXIgZD1jLnN0cmVhbTtpZihkKWlmKGIpe3ZhciBlPWQudHJpY2tNb2RlVmlkZW87aWYoZSl7dmFyIGY9Yy5uYTtmfHwodmYoYSxcInZpZGVvXCIsZSwhMSksYy5uYT1kKX19ZWxzZSBpZihmPWMubmEpYy5uYT1udWxsLHZmKGEsXCJ2aWRlb1wiLGYsITApfX1cbmZ1bmN0aW9uIHZmKGEsYixjLGQpe3ZhciBlPWEuY1tiXTshZSYmXCJ0ZXh0XCI9PWImJmEuaC5pZ25vcmVUZXh0U3RyZWFtRmFpbHVyZXM/dGYoYSxjKTplJiYoZS5uYSYmKGMudHJpY2tNb2RlVmlkZW8/KGUubmE9YyxjPWMudHJpY2tNb2RlVmlkZW8pOmUubmE9bnVsbCksXCJ0ZXh0XCI9PWImJkRiKGEuYS5LLFdiKGMubWltZVR5cGUsYy5jb2RlY3MpKSwoYj1hLmdbZ2MoYS5iLGMpXSkmJmIuS2EmJihiPWEualtjLmlkXSkmJmIuS2EmJmUuc3RyZWFtIT1jJiYoZS5zdHJlYW09YyxlLmNiPSEwLGQmJihlLnNhP2Uua2I9ITA6ZS53YT8oZS5yYT0hMCxlLmtiPSEwKToocWYoZSksd2YoYSxlLCEwKSkpKSl9XG5mdW5jdGlvbiB4ZihhKXt2YXIgYj1mZihhLmEuT2EpO2lmKCFPYmplY3Qua2V5cyhhLmMpLmV2ZXJ5KGZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMuYS5LO1widGV4dFwiPT1hPyhhPWMuYSxhPWI+PWEuYiYmYjxhLmEpOihhPUZiKGMsYSksYT16YihhLGIpKTtyZXR1cm4gYX0uYmluZChhKSkpZm9yKHZhciBjIGluIGEuYyl7dmFyIGQ9YS5jW2NdO2Quc2F8fGQucmF8fChkLndhP2QucmE9ITA6bnVsbD09RWIoYS5hLkssYyk/bnVsbD09ZC5xYSYmeWYoYSxkLDApOihxZihkKSx3ZihhLGQsITEpKSl9fVxuZnVuY3Rpb24gcmYoYSxiLGMpe3ZhciBkPWZjKGEuYixmZihhLmEuT2EpKSxlPU5hKGIsZnVuY3Rpb24oYSl7cmV0dXJuIFdiKGEubWltZVR5cGUsYS5jb2RlY3MpfSk7YS5hLksuaW5pdChlKTt6ZihhKTtlPU1hKGIpO3JldHVybiBBZihhLGUpLnRoZW4oZnVuY3Rpb24oKXtpZighdGhpcy5mKWZvcih2YXIgYSBpbiBiKXt2YXIgZT1iW2FdO3RoaXMuY1thXXx8KHRoaXMuY1thXT17c3RyZWFtOmUsdHlwZTphLEVhOm51bGwsZWE6bnVsbCxuYTpudWxsLGNiOiEwLE1hOmQsZW5kT2ZTdHJlYW06ITEsd2E6ITEscWE6bnVsbCxyYTohMSxrYjohMSxzYTohMSxFYjohMSxyYjohMSxwYzpjfHwwfSx5Zih0aGlzLHRoaXMuY1thXSwwKSl9fS5iaW5kKGEpKX1cbmZ1bmN0aW9uIEJmKGEsYil7dmFyIGM9YS5nW2JdO2lmKGMpcmV0dXJuIGMuTDtjPXtMOm5ldyBBLEthOiExfTthLmdbYl09Yzt2YXIgZD1hLmIucGVyaW9kc1tiXS52YXJpYW50cy5tYXAoZnVuY3Rpb24oYSl7dmFyIGI9W107YS5hdWRpbyYmYi5wdXNoKGEuYXVkaW8pO2EudmlkZW8mJmIucHVzaChhLnZpZGVvKTthLnZpZGVvJiZhLnZpZGVvLnRyaWNrTW9kZVZpZGVvJiZiLnB1c2goYS52aWRlby50cmlja01vZGVWaWRlbyk7cmV0dXJuIGJ9KS5yZWR1Y2UoeCxbXSkuZmlsdGVyKEFhKTtkLnB1c2guYXBwbHkoZCxhLmIucGVyaW9kc1tiXS50ZXh0U3RyZWFtcyk7YS5vPWEuby50aGVuKGZ1bmN0aW9uKCl7aWYoIXRoaXMuZilyZXR1cm4gQWYodGhpcyxkKX0uYmluZChhKSkudGhlbihmdW5jdGlvbigpe3RoaXMuZnx8KHRoaXMuZ1tiXS5MLnJlc29sdmUoKSx0aGlzLmdbYl0uS2E9ITApfS5iaW5kKGEpKVtcImNhdGNoXCJdKGZ1bmN0aW9uKGEpe3RoaXMuZnx8KHRoaXMuZ1tiXS5MLnJlamVjdCgpLFxuZGVsZXRlIHRoaXMuZ1tiXSx0aGlzLmEub25FcnJvcihhKSl9LmJpbmQoYSkpO3JldHVybiBjLkx9XG5mdW5jdGlvbiBBZihhLGIpe2IubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmlkfSkuZmlsdGVyKEFhKTtmb3IodmFyIGM9W10sZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdO3ZhciBmPWEualtlLmlkXTtmP2MucHVzaChmLkwpOihhLmpbZS5pZF09e0w6bmV3IEEsS2E6ITF9LGMucHVzaChlLmNyZWF0ZVNlZ21lbnRJbmRleCgpKSl9cmV0dXJuIFByb21pc2UuYWxsKGMpLnRoZW4oZnVuY3Rpb24oKXtpZighdGhpcy5mKWZvcih2YXIgYT0wO2E8Yi5sZW5ndGg7KythKXt2YXIgYz10aGlzLmpbYlthXS5pZF07Yy5LYXx8KGMuTC5yZXNvbHZlKCksYy5LYT0hMCl9fS5iaW5kKGEpKVtcImNhdGNoXCJdKGZ1bmN0aW9uKGEpe2lmKCF0aGlzLmYpcmV0dXJuIHRoaXMualtlLmlkXS5MLnJlamVjdCgpLGRlbGV0ZSB0aGlzLmpbZS5pZF0sUHJvbWlzZS5yZWplY3QoYSl9LmJpbmQoYSkpfVxuZnVuY3Rpb24gemYoYSl7dmFyIGI9YS5iLnByZXNlbnRhdGlvblRpbWVsaW5lLlkoKTtJbmZpbml0eT5iP2EuYS5LLnBhKGIpOmEuYS5LLnBhKE1hdGgucG93KDIsMzIpKX1rLmllPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmYmJiFhLndhJiZudWxsIT1hLnFhJiYhYS5zYSlpZihhLnFhPW51bGwsYS5yYSl3Zih0aGlzLGEsYS5rYik7ZWxzZXt0cnl7dmFyIGI9Q2YodGhpcyxhKTtudWxsIT1iJiYoeWYodGhpcyxhLGIpLGEucmI9ITEpfWNhdGNoKGMpe3RoaXMuYS5vbkVycm9yKGMpO3JldHVybn1iPU1hKHRoaXMuYyk7RGYodGhpcyxhKTtiLmV2ZXJ5KGZ1bmN0aW9uKGEpe3JldHVybiBhLmVuZE9mU3RyZWFtfSkmJnRoaXMuYS5LLmVuZE9mU3RyZWFtKCkudGhlbihmdW5jdGlvbigpe3RoaXMuYi5wcmVzZW50YXRpb25UaW1lbGluZS5wYSh0aGlzLmEuSy5ZKCkpfS5iaW5kKHRoaXMpKX19O1xuZnVuY3Rpb24gQ2YoYSxiKXt2YXIgYz1mZihhLmEuT2EpLGQ9Yi5FYSYmYi5lYT9hLmIucGVyaW9kc1tnYyhhLmIsYi5FYSldLnN0YXJ0VGltZStiLmVhLmVuZFRpbWU6TWF0aC5tYXgoYyxiLnBjKTtiLnBjPTA7dmFyIGU9Z2MoYS5iLGIuc3RyZWFtKSxmPWZjKGEuYixkKTt2YXIgZz1hLmEuSzt2YXIgaD1iLnR5cGU7XCJ0ZXh0XCI9PWg/KGc9Zy5hLGc9bnVsbD09Zy5hfHxnLmE8Yz8wOmcuYS1NYXRoLm1heChjLGcuYikpOihnPUZiKGcsaCksZz1BYihnLGMpKTtoPU1hdGgubWF4KGEuaSpNYXRoLm1heChhLmIubWluQnVmZmVyVGltZXx8MCxhLmgucmVidWZmZXJpbmdHb2FsKSxhLmkqYS5oLmJ1ZmZlcmluZ0dvYWwpO2lmKGQ+PWEuYi5wcmVzZW50YXRpb25UaW1lbGluZS5ZKCkpcmV0dXJuIGIuZW5kT2ZTdHJlYW09ITAsbnVsbDtiLmVuZE9mU3RyZWFtPSExO2IuTWE9ZjtpZihmIT1lKXJldHVybiBudWxsO2lmKGc+PWgpcmV0dXJuLjU7ZD1hLmEuSztmPWIudHlwZTtkPVwidGV4dFwiPT1cbmY/ZC5hLmE6eWIoRmIoZCxmKSk7Yi5lYSYmYi5zdHJlYW09PWIuRWE/KGY9Yi5lYS5wb3NpdGlvbisxLGQ9RWYoYSxiLGUsZikpOihmPWIuZWE/Yi5zdHJlYW0uZmluZFNlZ21lbnRQb3NpdGlvbihNYXRoLm1heCgwLGEuYi5wZXJpb2RzW2djKGEuYixiLkVhKV0uc3RhcnRUaW1lK2IuZWEuZW5kVGltZS1hLmIucGVyaW9kc1tlXS5zdGFydFRpbWUpKTpiLnN0cmVhbS5maW5kU2VnbWVudFBvc2l0aW9uKE1hdGgubWF4KDAsKGR8fGMpLWEuYi5wZXJpb2RzW2VdLnN0YXJ0VGltZSkpLG51bGw9PWY/ZD1udWxsOihnPW51bGwsbnVsbD09ZCYmKGc9RWYoYSxiLGUsTWF0aC5tYXgoMCxmLTEpKSksZD1nfHxFZihhLGIsZSxmKSkpO2lmKCFkKXJldHVybiAxO0ZmKGEsYixjLGUsZCk7cmV0dXJuIG51bGx9XG5mdW5jdGlvbiBFZihhLGIsYyxkKXtjPWEuYi5wZXJpb2RzW2NdO2I9Yi5zdHJlYW0uZ2V0U2VnbWVudFJlZmVyZW5jZShkKTtpZighYilyZXR1cm4gbnVsbDthPWEuYi5wcmVzZW50YXRpb25UaW1lbGluZTtkPWEudWEoKTtyZXR1cm4gYy5zdGFydFRpbWUrYi5lbmRUaW1lPGEubWEoKXx8Yy5zdGFydFRpbWUrYi5zdGFydFRpbWU+ZD9udWxsOmJ9XG5mdW5jdGlvbiBGZihhLGIsYyxkLGUpe3ZhciBmPWEuYi5wZXJpb2RzW2RdLGc9Yi5zdHJlYW0saD1hLmIucGVyaW9kc1tkKzFdLGw9bnVsbCxsPWg/aC5zdGFydFRpbWU6YS5iLnByZXNlbnRhdGlvblRpbWVsaW5lLlkoKTtkPUdmKGEsYixkLGwpO2Iud2E9ITA7Yi5jYj0hMTtoPUhmKGEsZSk7UHJvbWlzZS5hbGwoW2QsaF0pLnRoZW4oZnVuY3Rpb24oYSl7aWYoIXRoaXMuZiYmIXRoaXMubClyZXR1cm4gSWYodGhpcyxiLGMsZixnLGUsYVsxXSl9LmJpbmQoYSkpLnRoZW4oZnVuY3Rpb24oKXt0aGlzLmZ8fHRoaXMubHx8KGIud2E9ITEsYi5FYj0hMSxiLnJhfHx0aGlzLmEueWIoKSx5Zih0aGlzLGIsMCksSmYodGhpcyxnKSl9LmJpbmQoYSkpW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYSl7dGhpcy5mfHx0aGlzLmx8fChiLndhPSExLDEwMDE9PWEuY29kZXx8MTAwMj09YS5jb2RlfHwxMDAzPT1hLmNvZGU/XCJ0ZXh0XCI9PWIudHlwZSYmdGhpcy5oLmlnbm9yZVRleHRTdHJlYW1GYWlsdXJlcyYmXG4xMDAxPT1hLmNvZGU/ZGVsZXRlIHRoaXMuYy50ZXh0OihhLnNldmVyaXR5PTEsdGhpcy5hLm9uRXJyb3IoYSkseWYodGhpcyxiLDQpKTozMDE3PT1hLmNvZGU/S2YodGhpcyxiLGEpOlwidGV4dFwiPT1iLnR5cGUmJnRoaXMuaC5pZ25vcmVUZXh0U3RyZWFtRmFpbHVyZXM/ZGVsZXRlIHRoaXMuYy50ZXh0OihiLnJiPSEwLGEuc2V2ZXJpdHk9Mix0aGlzLmEub25FcnJvcihhKSkpfS5iaW5kKGEpKX1mdW5jdGlvbiBLZihhLGIsYyl7aWYoIU1hKGEuYykuc29tZShmdW5jdGlvbihhKXtyZXR1cm4gYSE9YiYmYS5FYn0pKXt2YXIgZD1NYXRoLnJvdW5kKDEwMCphLmkpO2lmKDIwPGQpYS5pLT0uMjtlbHNlIGlmKDQ8ZClhLmktPS4wNDtlbHNle2IucmI9ITA7YS5sPSEwO2EuYS5vbkVycm9yKGMpO3JldHVybn1iLkViPSEwfXlmKGEsYiw0KX1cbmZ1bmN0aW9uIEdmKGEsYixjLGQpe2lmKCFiLmNiKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTtjPUtiKGEuYS5LLGIudHlwZSxhLmIucGVyaW9kc1tjXS5zdGFydFRpbWUtYi5zdHJlYW0ucHJlc2VudGF0aW9uVGltZU9mZnNldCxkKTtpZighYi5zdHJlYW0uaW5pdFNlZ21lbnRSZWZlcmVuY2UpcmV0dXJuIGM7YT1IZihhLGIuc3RyZWFtLmluaXRTZWdtZW50UmVmZXJlbmNlKS50aGVuKGZ1bmN0aW9uKGEpe2lmKCF0aGlzLmYpcmV0dXJuIEdiKHRoaXMuYS5LLGIudHlwZSxhLG51bGwsbnVsbCl9LmJpbmQoYSkpW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYSl7Yi5jYj0hMDtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KTtyZXR1cm4gUHJvbWlzZS5hbGwoW2MsYV0pfVxuZnVuY3Rpb24gSWYoYSxiLGMsZCxlLGYsZyl7ZS5jb250YWluc0Vtc2dCb3hlcyYmKG5ldyBRKS5jYShcImVtc2dcIixhLkNkLmJpbmQoYSxkLGYpKS5wYXJzZShnKTtyZXR1cm4gTGYoYSxiLGMpLnRoZW4oZnVuY3Rpb24oKXtpZighdGhpcy5mKXJldHVybiBHYih0aGlzLmEuSyxiLnR5cGUsZyxmLnN0YXJ0VGltZStkLnN0YXJ0VGltZSxmLmVuZFRpbWUrZC5zdGFydFRpbWUpfS5iaW5kKGEpKS50aGVuKGZ1bmN0aW9uKCl7aWYoIXRoaXMuZilyZXR1cm4gYi5FYT1lLGIuZWE9ZixQcm9taXNlLnJlc29sdmUoKX0uYmluZChhKSl9XG5rLkNkPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1jLnMuQmIoKSxlPWMucy5CYigpLGY9Yy5zLkQoKSxnPWMucy5EKCksaD1jLnMuRCgpLGw9Yy5zLkQoKTtjPWMucy5KYShjLnMuSC5ieXRlTGVuZ3RoLWMucy51KTthPWEuc3RhcnRUaW1lK2Iuc3RhcnRUaW1lK2cvZjtpZihcInVybjptcGVnOmRhc2g6ZXZlbnQ6MjAxMlwiPT1kKXRoaXMuYS5oZCgpO2Vsc2UgdGhpcy5hLm9uRXZlbnQobmV3IEgoXCJlbXNnXCIse2RldGFpbDp7c3RhcnRUaW1lOmEsZW5kVGltZTphK2gvZixzY2hlbWVJZFVyaTpkLHZhbHVlOmUsdGltZXNjYWxlOmYscHJlc2VudGF0aW9uVGltZURlbHRhOmcsZXZlbnREdXJhdGlvbjpoLGlkOmwsbWVzc2FnZURhdGE6Y319KSl9O1xuZnVuY3Rpb24gTGYoYSxiLGMpe3ZhciBkPUViKGEuYS5LLGIudHlwZSk7aWYobnVsbD09ZClyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7Yz1jLWQtYS5oLmJ1ZmZlckJlaGluZDtyZXR1cm4gMD49Yz9Qcm9taXNlLnJlc29sdmUoKTphLmEuSy5yZW1vdmUoYi50eXBlLGQsZCtjKS50aGVuKGZ1bmN0aW9uKCl7fS5iaW5kKGEpKX1mdW5jdGlvbiBKZihhLGIpe2lmKCFhLnYmJihhLnY9TWEoYS5jKS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm5cInRleHRcIj09YS50eXBlPyEwOiFhLnJhJiYhYS5zYSYmYS5lYX0pLGEudikpe3ZhciBjPWdjKGEuYixiKTthLmdbY118fEJmKGEsYykudGhlbihmdW5jdGlvbigpe3RoaXMuYS5aYigpfS5iaW5kKGEpKVtcImNhdGNoXCJdKHkpO2ZvcihjPTA7YzxhLmIucGVyaW9kcy5sZW5ndGg7KytjKUJmKGEsYylbXCJjYXRjaFwiXSh5KTthLmEudWQmJmEuYS51ZCgpfX1cbmZ1bmN0aW9uIERmKGEsYil7aWYoYi5NYSE9Z2MoYS5iLGIuc3RyZWFtKSl7dmFyIGM9Yi5NYSxkPU1hKGEuYyk7ZC5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5NYT09Y30pJiZkLmV2ZXJ5KE1mKSYmQmYoYSxjKS50aGVuKGZ1bmN0aW9uKCl7aWYoIXRoaXMuZiYmZC5ldmVyeShmdW5jdGlvbihhKXt2YXIgYj1nYyh0aGlzLmIsYS5zdHJlYW0pO3JldHVybiBNZihhKSYmYS5NYT09YyYmYiE9Y30uYmluZCh0aGlzKSkpe3ZhciBhPXRoaXMuYi5wZXJpb2RzW2NdLGI9dGhpcy5hLiRiKGEpLGc7Zm9yKGcgaW4gdGhpcy5jKWlmKCFiW2ddJiZcInRleHRcIiE9Zyl7dGhpcy5hLm9uRXJyb3IobmV3IHQoMiw1LDUwMDUpKTtyZXR1cm59Zm9yKGcgaW4gYilpZighdGhpcy5jW2ddKWlmKFwidGV4dFwiPT1nKXJmKHRoaXMse3RleHQ6Yi50ZXh0fSxhLnN0YXJ0VGltZSksZGVsZXRlIGJbZ107ZWxzZXt0aGlzLmEub25FcnJvcihuZXcgdCgyLDUsNTAwNSkpO3JldHVybn1mb3IoZyBpbiB0aGlzLmMpKGE9XG5iW2ddKT8odmYodGhpcyxnLGEsITEpLHlmKHRoaXMsdGhpcy5jW2ddLDApKTpkZWxldGUgdGhpcy5jW2ddO3RoaXMuYS5aYigpfX0uYmluZChhKSlbXCJjYXRjaFwiXSh5KX19ZnVuY3Rpb24gTWYoYSl7cmV0dXJuIWEud2EmJm51bGw9PWEucWEmJiFhLnJhJiYhYS5zYX1mdW5jdGlvbiBIZihhLGIpe3ZhciBjPUMoYi5hKCksYS5oLnJldHJ5UGFyYW1ldGVycyk7aWYoYi5YfHxudWxsIT1iLk0pe3ZhciBkPVwiYnl0ZXM9XCIrYi5YK1wiLVwiO251bGwhPWIuTSYmKGQrPWIuTSk7Yy5oZWFkZXJzLlJhbmdlPWR9cmV0dXJuIGEuYS5iZC5yZXF1ZXN0KDEsYykudGhlbihmdW5jdGlvbihhKXtyZXR1cm4gYS5kYXRhfSl9XG5mdW5jdGlvbiB3ZihhLGIsYyl7Yi5yYT0hMTtiLmtiPSExO2Iuc2E9ITA7SmIoYS5hLkssYi50eXBlKS50aGVuKGZ1bmN0aW9uKCl7aWYoIXRoaXMuZiYmYyl7dmFyIGE9dGhpcy5hLkssZT1iLnR5cGU7cmV0dXJuXCJ0ZXh0XCI9PWU/UHJvbWlzZS5yZXNvbHZlKCk6SWIoYSxlLGEuTWMuYmluZChhLGUpKX19LmJpbmQoYSkpLnRoZW4oZnVuY3Rpb24oKXt0aGlzLmZ8fChiLkVhPW51bGwsYi5lYT1udWxsLGIuc2E9ITEsYi5lbmRPZlN0cmVhbT0hMSx5Zih0aGlzLGIsMCkpfS5iaW5kKGEpKX1mdW5jdGlvbiB5ZihhLGIsYyl7Yi5xYT13aW5kb3cuc2V0VGltZW91dChhLmllLmJpbmQoYSxiKSwxRTMqYyl9ZnVuY3Rpb24gcWYoYSl7bnVsbCE9YS5xYSYmKHdpbmRvdy5jbGVhclRpbWVvdXQoYS5xYSksYS5xYT1udWxsKX07ZnVuY3Rpb24gTmYoYSxiKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oYyxkKXt2YXIgZT1uZXcgWE1MSHR0cFJlcXVlc3Q7ZS5vcGVuKGIubWV0aG9kLGEsITApO2UucmVzcG9uc2VUeXBlPVwiYXJyYXlidWZmZXJcIjtlLnRpbWVvdXQ9Yi5yZXRyeVBhcmFtZXRlcnMudGltZW91dDtlLndpdGhDcmVkZW50aWFscz1iLmFsbG93Q3Jvc3NTaXRlQ3JlZGVudGlhbHM7ZS5vbmxvYWQ9ZnVuY3Rpb24oYil7Yj1iLnRhcmdldDt2YXIgZT1iLmdldEFsbFJlc3BvbnNlSGVhZGVycygpLnNwbGl0KFwiXFxyXFxuXCIpLnJlZHVjZShmdW5jdGlvbihhLGIpe3ZhciBjPWIuc3BsaXQoXCI6IFwiKTthW2NbMF0udG9Mb3dlckNhc2UoKV09Yy5zbGljZSgxKS5qb2luKFwiOiBcIik7cmV0dXJuIGF9LHt9KTtpZigyMDA8PWIuc3RhdHVzJiYyOTk+PWIuc3RhdHVzJiYyMDIhPWIuc3RhdHVzKWIucmVzcG9uc2VVUkwmJihhPWIucmVzcG9uc2VVUkwpLGMoe3VyaTphLGRhdGE6Yi5yZXNwb25zZSxoZWFkZXJzOmUsZnJvbUNhY2hlOiEhZVtcIngtc2hha2EtZnJvbS1jYWNoZVwiXX0pO1xuZWxzZXt2YXIgZj1udWxsO3RyeXtmPVJhKGIucmVzcG9uc2UpfWNhdGNoKG4pe31kKG5ldyB0KDQwMT09Yi5zdGF0dXN8fDQwMz09Yi5zdGF0dXM/MjoxLDEsMTAwMSxhLGIuc3RhdHVzLGYsZSkpfX07ZS5vbmVycm9yPWZ1bmN0aW9uKCl7ZChuZXcgdCgxLDEsMTAwMixhKSl9O2Uub250aW1lb3V0PWZ1bmN0aW9uKCl7ZChuZXcgdCgxLDEsMTAwMyxhKSl9O2Zvcih2YXIgZiBpbiBiLmhlYWRlcnMpZS5zZXRSZXF1ZXN0SGVhZGVyKGYsYi5oZWFkZXJzW2ZdKTtlLnNlbmQoYi5ib2R5KX0pfW0oXCJzaGFrYS5uZXQuSHR0cFBsdWdpblwiLE5mKTtFYS5odHRwPU5mO0VhLmh0dHBzPU5mO2Z1bmN0aW9uIE9mKCl7dGhpcy5hPW51bGw7dGhpcy5iPVtdO3RoaXMuYz17fX1rPU9mLnByb3RvdHlwZTtrLmluaXQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gUGYodGhpcyxhLGIpLnRoZW4oZnVuY3Rpb24oKXt2YXIgYj1PYmplY3Qua2V5cyhhKTtyZXR1cm4gUHJvbWlzZS5hbGwoYi5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIFFmKHRoaXMsYSkudGhlbihmdW5jdGlvbihiKXt0aGlzLmNbYV09Yn0uYmluZCh0aGlzKSl9LmJpbmQodGhpcykpKX0uYmluZCh0aGlzKSl9O2subT1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLmFsbCh0aGlzLmIubWFwKGZ1bmN0aW9uKGEpe3RyeXthLnRyYW5zYWN0aW9uLmFib3J0KCl9Y2F0Y2goYil7fXJldHVybiBhLkxbXCJjYXRjaFwiXSh5KX0pKS50aGVuKGZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5hLmNsb3NlKCksdGhpcy5hPW51bGwpfS5iaW5kKHRoaXMpKX07XG5rLmdldD1mdW5jdGlvbihhLGIpe3ZhciBjO3JldHVybiBSZih0aGlzLGEsXCJyZWFkb25seVwiLGZ1bmN0aW9uKGEpe2M9YS5nZXQoYil9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGMucmVzdWx0fSl9O2suZm9yRWFjaD1mdW5jdGlvbihhLGIpe3JldHVybiBSZih0aGlzLGEsXCJyZWFkb25seVwiLGZ1bmN0aW9uKGEpe2Eub3BlbkN1cnNvcigpLm9uc3VjY2Vzcz1mdW5jdGlvbihhKXtpZihhPWEudGFyZ2V0LnJlc3VsdCliKGEudmFsdWUpLGFbXCJjb250aW51ZVwiXSgpfX0pfTtmdW5jdGlvbiBTZihhLGIsYyl7cmV0dXJuIFJmKGEsYixcInJlYWR3cml0ZVwiLGZ1bmN0aW9uKGEpe2EucHV0KGMpfSl9ay5yZW1vdmU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gUmYodGhpcyxhLFwicmVhZHdyaXRlXCIsZnVuY3Rpb24oYSl7YVtcImRlbGV0ZVwiXShiKX0pfTtcbmZ1bmN0aW9uIFRmKGEsYixjKXtyZXR1cm4gUmYoYSxcInNlZ21lbnRcIixcInJlYWR3cml0ZVwiLGZ1bmN0aW9uKGEpe2Zvcih2YXIgZD0wO2Q8Yi5sZW5ndGg7ZCsrKWFbXCJkZWxldGVcIl0oYltkXSkub25zdWNjZXNzPWN8fGZ1bmN0aW9uKCl7fX0pfWZ1bmN0aW9uIFFmKGEsYil7dmFyIGM9MDtyZXR1cm4gUmYoYSxiLFwicmVhZG9ubHlcIixmdW5jdGlvbihhKXthLm9wZW5DdXJzb3IobnVsbCxcInByZXZcIikub25zdWNjZXNzPWZ1bmN0aW9uKGEpeyhhPWEudGFyZ2V0LnJlc3VsdCkmJihjPWEua2V5KzEpfX0pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gY30pfVxuZnVuY3Rpb24gUmYoYSxiLGMsZCl7dmFyIGU9e3RyYW5zYWN0aW9uOmEuYS50cmFuc2FjdGlvbihbYl0sYyksTDpuZXcgQX07ZS50cmFuc2FjdGlvbi5vbmNvbXBsZXRlPWZ1bmN0aW9uKCl7dGhpcy5iLnNwbGljZSh0aGlzLmIuaW5kZXhPZihlKSwxKTtlLkwucmVzb2x2ZSgpfS5iaW5kKGEpO2UudHJhbnNhY3Rpb24ub25hYm9ydD1mdW5jdGlvbihhKXt0aGlzLmIuc3BsaWNlKHRoaXMuYi5pbmRleE9mKGUpLDEpO1VmKGUudHJhbnNhY3Rpb24sZS5MLGEpfS5iaW5kKGEpO2UudHJhbnNhY3Rpb24ub25lcnJvcj1mdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCl9LmJpbmQoYSk7Yj1lLnRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKGIpO2QoYik7YS5iLnB1c2goZSk7cmV0dXJuIGUuTH1cbmZ1bmN0aW9uIFBmKGEsYixjKXt2YXIgZD13aW5kb3cuaW5kZXhlZERCLm9wZW4oXCJzaGFrYV9vZmZsaW5lX2RiXCIsMSksZT0hMSxmPW5ldyBBO2Qub251cGdyYWRlbmVlZGVkPWZ1bmN0aW9uKGEpe2U9ITA7YT1hLnRhcmdldC5yZXN1bHQ7Zm9yKHZhciBjIGluIGIpYS5jcmVhdGVPYmplY3RTdG9yZShjLHtrZXlQYXRoOmJbY119KX07ZC5vbnN1Y2Nlc3M9ZnVuY3Rpb24oYSl7YyYmIWU/KGEudGFyZ2V0LnJlc3VsdC5jbG9zZSgpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtQZih0aGlzLGIsYy0xKS50aGVuKGYucmVzb2x2ZSxmLnJlamVjdCl9LmJpbmQodGhpcyksMUUzKSk6KHRoaXMuYT1hLnRhcmdldC5yZXN1bHQsZi5yZXNvbHZlKCkpfS5iaW5kKGEpO2Qub25lcnJvcj1VZi5iaW5kKG51bGwsZCxmKTtyZXR1cm4gZn1cbmZ1bmN0aW9uIFVmKGEsYixjKXthLmVycm9yP2IucmVqZWN0KG5ldyB0KDIsOSw5MDAxLGEuZXJyb3IpKTpiLnJlamVjdChuZXcgdCgyLDksOTAwMikpO2MucHJldmVudERlZmF1bHQoKX07dmFyIFZmPXttYW5pZmVzdDpcImtleVwiLHNlZ21lbnQ6XCJrZXlcIn07ZnVuY3Rpb24gV2YoYSl7dmFyIGI9WGYoYS5wZXJpb2RzWzBdLFtdLG5ldyBUKG51bGwsMCkpLGM9WGIoYixudWxsLG51bGwpLGI9WmIoYixudWxsKTtjLnB1c2guYXBwbHkoYyxiKTtyZXR1cm57b2ZmbGluZVVyaTpcIm9mZmxpbmU6XCIrYS5rZXksb3JpZ2luYWxNYW5pZmVzdFVyaTphLm9yaWdpbmFsTWFuaWZlc3RVcmksZHVyYXRpb246YS5kdXJhdGlvbixzaXplOmEuc2l6ZSxleHBpcmF0aW9uOnZvaWQgMD09YS5leHBpcmF0aW9uP0luZmluaXR5OmEuZXhwaXJhdGlvbix0cmFja3M6YyxhcHBNZXRhZGF0YTphLmFwcE1ldGFkYXRhfX1cbmZ1bmN0aW9uIFhmKGEsYixjKXt2YXIgZD1hLnN0cmVhbXMuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVyblwidGV4dFwiPT1hLmNvbnRlbnRUeXBlfSksZT1hLnN0cmVhbXMuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVyblwiYXVkaW9cIj09YS5jb250ZW50VHlwZX0pLGY9YS5zdHJlYW1zLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm5cInZpZGVvXCI9PWEuY29udGVudFR5cGV9KTtiPVlmKGUsZixiKTtkPWQubWFwKFpmKTthLnN0cmVhbXMuZm9yRWFjaChmdW5jdGlvbihhKXthPSRmKGEpO2MuR2EoMCxhKX0pO3JldHVybntzdGFydFRpbWU6YS5zdGFydFRpbWUsdmFyaWFudHM6Yix0ZXh0U3RyZWFtczpkfX1mdW5jdGlvbiAkZihhKXtyZXR1cm4gYS5zZWdtZW50cy5tYXAoZnVuY3Rpb24oYSxjKXtyZXR1cm4gbmV3IE8oYyxhLnN0YXJ0VGltZSxhLmVuZFRpbWUsZnVuY3Rpb24oKXtyZXR1cm5bYS51cmldfSwwLG51bGwpfSl9XG5mdW5jdGlvbiBZZihhLGIsYyl7dmFyIGQ9W107aWYoIWEubGVuZ3RoJiYhYi5sZW5ndGgpcmV0dXJuIGQ7YS5sZW5ndGg/Yi5sZW5ndGh8fChiPVtudWxsXSk6YT1bbnVsbF07Zm9yKHZhciBlPTAsZj0wO2Y8YS5sZW5ndGg7ZisrKWZvcih2YXIgZz0wO2c8Yi5sZW5ndGg7ZysrKWlmKGFnKGFbZl0sYltnXSkpe3ZhciBoPWFbZl07dmFyIGw9YltnXSxuPWM7aD17aWQ6ZSsrLGxhbmd1YWdlOmg/aC5sYW5ndWFnZTpcIlwiLHByaW1hcnk6ISFoJiZoLnByaW1hcnl8fCEhbCYmbC5wcmltYXJ5LGF1ZGlvOlpmKGgpLHZpZGVvOlpmKGwpLGJhbmR3aWR0aDowLGRybUluZm9zOm4sYWxsb3dlZEJ5QXBwbGljYXRpb246ITAsYWxsb3dlZEJ5S2V5U3lzdGVtOiEwfTtkLnB1c2goaCl9cmV0dXJuIGR9XG5mdW5jdGlvbiBhZyhhLGIpe2lmKCEoYSYmYiYmYS52YXJpYW50SWRzJiZiLnZhcmlhbnRJZHMpKXJldHVybiEwO2Zvcih2YXIgYz0wO2M8YS52YXJpYW50SWRzLmxlbmd0aDtjKyspaWYoYi52YXJpYW50SWRzLnNvbWUoZnVuY3Rpb24oYil7cmV0dXJuIGI9PWEudmFyaWFudElkc1tjXX0pKXJldHVybiEwO3JldHVybiExfVxuZnVuY3Rpb24gWmYoYSl7aWYoIWEpcmV0dXJuIG51bGw7dmFyIGI9JGYoYSksYj1uZXcgUyhiKTtyZXR1cm57aWQ6YS5pZCxjcmVhdGVTZWdtZW50SW5kZXg6UHJvbWlzZS5yZXNvbHZlLmJpbmQoUHJvbWlzZSksZmluZFNlZ21lbnRQb3NpdGlvbjpiLmZpbmQuYmluZChiKSxnZXRTZWdtZW50UmVmZXJlbmNlOmIuZ2V0LmJpbmQoYiksaW5pdFNlZ21lbnRSZWZlcmVuY2U6YS5pbml0U2VnbWVudFVyaT9uZXcgV2MoZnVuY3Rpb24oKXtyZXR1cm5bYS5pbml0U2VnbWVudFVyaV19LDAsbnVsbCk6bnVsbCxwcmVzZW50YXRpb25UaW1lT2Zmc2V0OmEucHJlc2VudGF0aW9uVGltZU9mZnNldCxtaW1lVHlwZTphLm1pbWVUeXBlLGNvZGVjczphLmNvZGVjcyx3aWR0aDphLndpZHRofHx2b2lkIDAsaGVpZ2h0OmEuaGVpZ2h0fHx2b2lkIDAsZnJhbWVSYXRlOmEuZnJhbWVSYXRlfHx2b2lkIDAsa2luZDphLmtpbmQsZW5jcnlwdGVkOmEuZW5jcnlwdGVkLGtleUlkOmEua2V5SWQsbGFuZ3VhZ2U6YS5sYW5ndWFnZSxcbnR5cGU6YS5jb250ZW50VHlwZSxwcmltYXJ5OmEucHJpbWFyeSx0cmlja01vZGVWaWRlbzpudWxsLGNvbnRhaW5zRW1zZ0JveGVzOiExfX1mdW5jdGlvbiBiZygpe3JldHVybiB3aW5kb3cuaW5kZXhlZERCP25ldyBPZjpudWxsfTtmdW5jdGlvbiBjZyhhLGIsYyxkKXt0aGlzLmI9e307dGhpcy5sPVtdO3RoaXMubz1kO3RoaXMuaj1hO3RoaXMudj1iO3RoaXMuQT1jO3RoaXMuaT10aGlzLmE9bnVsbDt0aGlzLmY9dGhpcy5nPXRoaXMuaD10aGlzLmM9MH1jZy5wcm90b3R5cGUubT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuaixiPXRoaXMubCxjPXRoaXMuaXx8UHJvbWlzZS5yZXNvbHZlKCksYz1jLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gVGYoYSxiKX0pO3RoaXMuYj17fTt0aGlzLmw9W107dGhpcy5pPXRoaXMuYT10aGlzLkE9dGhpcy52PXRoaXMuaj10aGlzLm89bnVsbDtyZXR1cm4gY307ZnVuY3Rpb24gZGcoYSxiLGMsZCxlKXthLmJbYl09YS5iW2JdfHxbXTthLmJbYl0ucHVzaCh7dXJpczpjLmEoKSxYOmMuWCxNOmMuTSxQYjpkLEZiOmV9KX1cbmZ1bmN0aW9uIGVnKGEsYil7YS5jPTA7YS5oPTA7YS5nPTA7YS5mPTA7TWEoYS5iKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EuZm9yRWFjaChmdW5jdGlvbihhKXtudWxsIT1hLk0/dGhpcy5jKz1hLk0tYS5YKzE6dGhpcy5nKz1hLlBifS5iaW5kKHRoaXMpKX0uYmluZChhKSk7YS5hPWI7YS5hLnNpemU9YS5jO3ZhciBjPU1hKGEuYikubWFwKGZ1bmN0aW9uKGEpe3ZhciBiPTAsYz1mdW5jdGlvbigpe2lmKCF0aGlzLm8pcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyB0KDIsOSw5MDAyKSk7aWYoYj49YS5sZW5ndGgpcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO3ZhciBkPWFbYisrXTtyZXR1cm4gZmcodGhpcyxkKS50aGVuKGMpfS5iaW5kKHRoaXMpO3JldHVybiBjKCl9LmJpbmQoYSkpO2EuYj17fTthLmk9UHJvbWlzZS5hbGwoYykudGhlbihmdW5jdGlvbigpe3JldHVybiBTZih0aGlzLmosXCJtYW5pZmVzdFwiLGIpfS5iaW5kKGEpKS50aGVuKGZ1bmN0aW9uKCl7dGhpcy5sPVtdfS5iaW5kKGEpKTtcbnJldHVybiBhLml9XG5mdW5jdGlvbiBmZyhhLGIpe3ZhciBjPUMoYi51cmlzLGEuQSk7aWYoYi5YfHxudWxsIT1iLk0pYy5oZWFkZXJzLlJhbmdlPVwiYnl0ZXM9XCIrYi5YK1wiLVwiKyhudWxsPT1iLk0/XCJcIjpiLk0pO3ZhciBkO3JldHVybiBhLnYucmVxdWVzdCgxLGMpLnRoZW4oZnVuY3Rpb24oYSl7aWYoIXRoaXMuYSlyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IHQoMiw5LDkwMDIpKTtkPWEuZGF0YS5ieXRlTGVuZ3RoO3RoaXMubC5wdXNoKGIuRmIua2V5KTtiLkZiLmRhdGE9YS5kYXRhO3JldHVybiBTZih0aGlzLmosXCJzZWdtZW50XCIsYi5GYil9LmJpbmQoYSkpLnRoZW4oZnVuY3Rpb24oKXtpZighdGhpcy5hKXJldHVybiBQcm9taXNlLnJlamVjdChuZXcgdCgyLDksOTAwMikpO251bGw9PWIuTT8odGhpcy5hLnNpemUrPWQsdGhpcy5mKz1iLlBiKTp0aGlzLmgrPWQ7dmFyIGE9KHRoaXMuaCt0aGlzLmYpLyh0aGlzLmMrdGhpcy5nKSxjPVdmKHRoaXMuYSk7dGhpcy5vLnByb2dyZXNzQ2FsbGJhY2soYyxhKX0uYmluZChhKSl9XG47ZnVuY3Rpb24gZ2coKXt0aGlzLmE9LTF9az1nZy5wcm90b3R5cGU7ay5jb25maWd1cmU9ZnVuY3Rpb24oKXt9O2suc3RhcnQ9ZnVuY3Rpb24oYSl7dmFyIGI9L15vZmZsaW5lOihbMC05XSspJC8uZXhlYyhhKTtpZighYilyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IHQoMiwxLDkwMDQsYSkpO3ZhciBjPU51bWJlcihiWzFdKSxkPWJnKCk7dGhpcy5hPWM7cmV0dXJuIGQ/ZC5pbml0KFZmKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGQuZ2V0KFwibWFuaWZlc3RcIixjKX0pLnRoZW4oZnVuY3Rpb24oYSl7aWYoIWEpdGhyb3cgbmV3IHQoMiw5LDkwMDMsYyk7cmV0dXJuIGhnKGEpfSkudGhlbihmdW5jdGlvbihhKXtyZXR1cm4gZC5tKCkudGhlbihmdW5jdGlvbigpe3JldHVybiBhfSl9LGZ1bmN0aW9uKGEpe3JldHVybiBkLm0oKS50aGVuKGZ1bmN0aW9uKCl7dGhyb3cgYTt9KX0pOlByb21pc2UucmVqZWN0KG5ldyB0KDIsOSw5RTMpKX07ay5zdG9wPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfTtcbmsudXBkYXRlPWZ1bmN0aW9uKCl7fTtrLm9uRXhwaXJhdGlvblVwZGF0ZWQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz1iZygpO2MuaW5pdChWZikudGhlbihmdW5jdGlvbigpe3JldHVybiBjLmdldChcIm1hbmlmZXN0XCIsdGhpcy5hKX0uYmluZCh0aGlzKSkudGhlbihmdW5jdGlvbihkKXtpZihkJiYhKDA+ZC5zZXNzaW9uSWRzLmluZGV4T2YoYSkpJiYodm9pZCAwPT1kLmV4cGlyYXRpb258fGQuZXhwaXJhdGlvbj5iKSlyZXR1cm4gZC5leHBpcmF0aW9uPWIsU2YoYyxcIm1hbmlmZXN0XCIsZCl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKCl7fSkudGhlbihmdW5jdGlvbigpe3JldHVybiBjLm0oKX0pfTtcbmZ1bmN0aW9uIGhnKGEpe3ZhciBiPW5ldyBUKG51bGwsMCk7Yi5wYShhLmR1cmF0aW9uKTt2YXIgYz1hLmRybUluZm8/W2EuZHJtSW5mb106W107cmV0dXJue3ByZXNlbnRhdGlvblRpbWVsaW5lOmIsbWluQnVmZmVyVGltZToxMCxvZmZsaW5lU2Vzc2lvbklkczphLnNlc3Npb25JZHMscGVyaW9kczphLnBlcmlvZHMubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBYZihhLGMsYil9KX19QWRbXCJhcHBsaWNhdGlvbi94LW9mZmxpbmUtbWFuaWZlc3RcIl09Z2c7ZnVuY3Rpb24gaWcoYSl7aWYoL15vZmZsaW5lOihbMC05XSspJC8uZXhlYyhhKSl7dmFyIGI9e3VyaTphLGRhdGE6bmV3IEFycmF5QnVmZmVyKDApLGhlYWRlcnM6e1wiY29udGVudC10eXBlXCI6XCJhcHBsaWNhdGlvbi94LW9mZmxpbmUtbWFuaWZlc3RcIn19O3JldHVybiBQcm9taXNlLnJlc29sdmUoYil9aWYoYj0vXm9mZmxpbmU6WzAtOV0rXFwvWzAtOV0rXFwvKFswLTldKykkLy5leGVjKGEpKXt2YXIgYz1OdW1iZXIoYlsxXSksZD1iZygpO3JldHVybiBkP2QuaW5pdChWZikudGhlbihmdW5jdGlvbigpe3JldHVybiBkLmdldChcInNlZ21lbnRcIixjKX0pLnRoZW4oZnVuY3Rpb24oYil7cmV0dXJuIGQubSgpLnRoZW4oZnVuY3Rpb24oKXtpZighYil0aHJvdyBuZXcgdCgyLDksOTAwMyxjKTtyZXR1cm57dXJpOmEsZGF0YTpiLmRhdGEsaGVhZGVyczp7fX19KX0pOlByb21pc2UucmVqZWN0KG5ldyB0KDIsOSw5RTMpKX1yZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IHQoMiwxLDkwMDQsYSkpfVxubShcInNoYWthLm9mZmxpbmUuT2ZmbGluZVNjaGVtZVwiLGlnKTtFYS5vZmZsaW5lPWlnO2Z1bmN0aW9uIGpnKCl7dGhpcy5hPVByb21pc2UucmVzb2x2ZSgpO3RoaXMuYz10aGlzLmI9dGhpcy5mPSExO3RoaXMuZz1uZXcgUHJvbWlzZShmdW5jdGlvbihhKXt0aGlzLmg9YX0uYmluZCh0aGlzKSl9amcucHJvdG90eXBlLnRoZW49ZnVuY3Rpb24oYSl7dGhpcy5hPXRoaXMuYS50aGVuKGEpLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYz8odGhpcy5oKCksUHJvbWlzZS5yZWplY3QodGhpcy5pKSk6UHJvbWlzZS5yZXNvbHZlKGEpfS5iaW5kKHRoaXMpKTtyZXR1cm4gdGhpc307ZnVuY3Rpb24ga2coYSl7YS5mfHwoYS5hPWEuYS50aGVuKGZ1bmN0aW9uKGEpe3RoaXMuYj0hMDtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGEpfS5iaW5kKGEpLGZ1bmN0aW9uKGEpe3RoaXMuYj0hMDtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9LmJpbmQoYSkpKTthLmY9ITA7cmV0dXJuIGEuYX1cbmpnLnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oYSl7aWYodGhpcy5iKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTt0aGlzLmM9ITA7dGhpcy5pPWE7cmV0dXJuIHRoaXMuZ307ZnVuY3Rpb24gVyhhLGIpe3AuY2FsbCh0aGlzKTt0aGlzLko9ITE7dGhpcy5mPWE7dGhpcy5BPW51bGw7dGhpcy5sPW5ldyBEO3RoaXMuT2I9bmV3IEc7dGhpcy5ZYT10aGlzLmM9dGhpcy5oPXRoaXMuYT10aGlzLnY9dGhpcy5nPXRoaXMuV2E9dGhpcy5qYT10aGlzLk49dGhpcy5qPXRoaXMubz1udWxsO3RoaXMuQmM9MUU5O3RoaXMuVmE9W107dGhpcy5rYT0hMTt0aGlzLlphPSEwO3RoaXMubGE9dGhpcy5HPW51bGw7dGhpcy5CPXt9O3RoaXMuWGE9W107dGhpcy5QPXt9O3RoaXMuYj1sZyh0aGlzKTt0aGlzLm1iPXt3aWR0aDpJbmZpbml0eSxoZWlnaHQ6SW5maW5pdHl9O3RoaXMuaT1tZygpO3RoaXMuVWE9MDt0aGlzLmlhPXRoaXMuYi5wcmVmZXJyZWRBdWRpb0xhbmd1YWdlO3RoaXMuQmE9dGhpcy5iLnByZWZlcnJlZFRleHRMYW5ndWFnZTtiJiZiKHRoaXMpO3RoaXMubz1uZXcgQih0aGlzLmJlLmJpbmQodGhpcykpO3RoaXMuV2E9bmcodGhpcyk7Zm9yKHZhciBjPTA7Yzx0aGlzLmYudGV4dFRyYWNrcy5sZW5ndGg7KytjKXt2YXIgZD1cbnRoaXMuZi50ZXh0VHJhY2tzW2NdO2QubW9kZT1cImRpc2FibGVkXCI7XCJTaGFrYSBQbGF5ZXIgVGV4dFRyYWNrXCI9PWQubGFiZWwmJih0aGlzLkE9ZCl9dGhpcy5BfHwodGhpcy5BPXRoaXMuZi5hZGRUZXh0VHJhY2soXCJzdWJ0aXRsZXNcIixcIlNoYWthIFBsYXllciBUZXh0VHJhY2tcIikpO3RoaXMuQS5tb2RlPVwiaGlkZGVuXCI7RSh0aGlzLmwsdGhpcy5mLFwiZXJyb3JcIix0aGlzLndkLmJpbmQodGhpcykpfWJhKFcpO20oXCJzaGFrYS5QbGF5ZXJcIixXKTtcblcucHJvdG90eXBlLm09ZnVuY3Rpb24oKXt0aGlzLko9ITA7dmFyIGE9UHJvbWlzZS5yZXNvbHZlKCk7dGhpcy5HJiYoYT10aGlzLkcuY2FuY2VsKG5ldyB0KDIsNyw3RTMpKSk7cmV0dXJuIGEudGhlbihmdW5jdGlvbigpe3ZhciBhPVByb21pc2UuYWxsKFt0aGlzLmxhLG9nKHRoaXMpLHRoaXMubD90aGlzLmwubSgpOm51bGwsdGhpcy5vP3RoaXMuby5tKCk6bnVsbF0pO3RoaXMuYj10aGlzLm89dGhpcy5PYj10aGlzLmw9dGhpcy5BPXRoaXMuZj1udWxsO3JldHVybiBhfS5iaW5kKHRoaXMpKX07Vy5wcm90b3R5cGUuZGVzdHJveT1XLnByb3RvdHlwZS5tO1cudmVyc2lvbj1cInYyLjEuMlwiO3ZhciBwZz17fTtXLnJlZ2lzdGVyU3VwcG9ydFBsdWdpbj1mdW5jdGlvbihhLGIpe3BnW2FdPWJ9O1xuVy5pc0Jyb3dzZXJTdXBwb3J0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hIXdpbmRvdy5Qcm9taXNlJiYhIXdpbmRvdy5VaW50OEFycmF5JiYhIUFycmF5LnByb3RvdHlwZS5mb3JFYWNoJiYhIXdpbmRvdy5NZWRpYVNvdXJjZSYmISF3aW5kb3cuTWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkJiYhIXdpbmRvdy5NZWRpYUtleXMmJiEhd2luZG93Lm5hdmlnYXRvciYmISF3aW5kb3cubmF2aWdhdG9yLnJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2VzcyYmISF3aW5kb3cuTWVkaWFLZXlTeXN0ZW1BY2Nlc3MmJiEhd2luZG93Lk1lZGlhS2V5U3lzdGVtQWNjZXNzLnByb3RvdHlwZS5nZXRDb25maWd1cmF0aW9ufTtXLnByb2JlU3VwcG9ydD1mdW5jdGlvbigpe3JldHVybiBvYigpLnRoZW4oZnVuY3Rpb24oYSl7dmFyIGI9Q2QoKSxjPUNiKCk7YT17bWFuaWZlc3Q6YixtZWRpYTpjLGRybTphfTtmb3IodmFyIGQgaW4gcGcpYVtkXT1wZ1tkXSgpO3JldHVybiBhfSl9O1xuVy5wcm90b3R5cGUubG9hZD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5oYigpLGU9bmV3IGpnO3RoaXMuRz1lO3RoaXMuZGlzcGF0Y2hFdmVudChuZXcgSChcImxvYWRpbmdcIikpO3ZhciBmPURhdGUubm93KCk7cmV0dXJuIGtnKGUudGhlbihmdW5jdGlvbigpe3JldHVybiBkfSkudGhlbihmdW5jdGlvbigpe3RoaXMuaT1tZygpO0UodGhpcy5sLHRoaXMuZixcInBsYXlpbmdcIix0aGlzLlNhLmJpbmQodGhpcykpO0UodGhpcy5sLHRoaXMuZixcInBhdXNlXCIsdGhpcy5TYS5iaW5kKHRoaXMpKTtFKHRoaXMubCx0aGlzLmYsXCJlbmRlZFwiLHRoaXMuU2EuYmluZCh0aGlzKSk7cmV0dXJuIERkKGEsdGhpcy5vLHRoaXMuYi5tYW5pZmVzdC5yZXRyeVBhcmFtZXRlcnMsYyl9LmJpbmQodGhpcykpLnRoZW4oZnVuY3Rpb24oYil7dGhpcy5oPW5ldyBiO3RoaXMuaC5jb25maWd1cmUodGhpcy5iLm1hbmlmZXN0KTtiPXtuZXR3b3JraW5nRW5naW5lOnRoaXMubyxmaWx0ZXJQZXJpb2Q6dGhpcy5mYi5iaW5kKHRoaXMpLFxub25UaW1lbGluZVJlZ2lvbkFkZGVkOnRoaXMudmQuYmluZCh0aGlzKSxvbkV2ZW50OnRoaXMuZ2IuYmluZCh0aGlzKSxvbkVycm9yOnRoaXMueGEuYmluZCh0aGlzKX07cmV0dXJuIDI8dGhpcy5oLnN0YXJ0Lmxlbmd0aD90aGlzLmguc3RhcnQoYSx0aGlzLm8sYi5maWx0ZXJQZXJpb2QsYi5vbkVycm9yLGIub25FdmVudCk6dGhpcy5oLnN0YXJ0KGEsYil9LmJpbmQodGhpcykpLnRoZW4oZnVuY3Rpb24oYil7aWYoMD09Yi5wZXJpb2RzLmxlbmd0aCl0aHJvdyBuZXcgdCgyLDQsNDAxNCk7dGhpcy5jPWI7dGhpcy5ZYT1hO3RoaXMuaj1uZXcgJGEodGhpcy5vLHRoaXMueGEuYmluZCh0aGlzKSx0aGlzLiRkLmJpbmQodGhpcyksdGhpcy5aZC5iaW5kKHRoaXMpKTt0aGlzLmouY29uZmlndXJlKHRoaXMuYi5kcm0pO3JldHVybiB0aGlzLmouaW5pdChiLCExKX0uYmluZCh0aGlzKSkudGhlbihmdW5jdGlvbigpe3RoaXMuYy5wZXJpb2RzLmZvckVhY2godGhpcy5mYi5iaW5kKHRoaXMpKTt0aGlzLlVhPVxuRGF0ZS5ub3coKS8xRTM7dGhpcy5pYT10aGlzLmIucHJlZmVycmVkQXVkaW9MYW5ndWFnZTt0aGlzLkJhPXRoaXMuYi5wcmVmZXJyZWRUZXh0TGFuZ3VhZ2U7cmV0dXJuIFByb21pc2UuYWxsKFtjYih0aGlzLmosdGhpcy5mKSx0aGlzLldhXSl9LmJpbmQodGhpcykpLnRoZW4oZnVuY3Rpb24oKXt0aGlzLmIuYWJyLm1hbmFnZXIuaW5pdCh0aGlzLkpiLmJpbmQodGhpcykpO3RoaXMuZz1uZXcgY2YodGhpcy5mLHRoaXMuYyx0aGlzLmIuc3RyZWFtaW5nLGJ8fG51bGwsdGhpcy5hZS5iaW5kKHRoaXMpLHRoaXMuZ2IuYmluZCh0aGlzKSk7dGhpcy52PW5ldyBsZih0aGlzLmYsdGhpcy5jLHRoaXMuYi5zdHJlYW1pbmcsdGhpcy54Yy5iaW5kKHRoaXMpLHRoaXMuZ2IuYmluZCh0aGlzKSx0aGlzLllkLmJpbmQodGhpcykpO3RoaXMuamE9bmV3IEJiKHRoaXMuZix0aGlzLk4sdGhpcy5BKTt0aGlzLmE9bmV3IHBmKHRoaXMuYyx7T2E6dGhpcy5nLEs6dGhpcy5qYSxiZDp0aGlzLm8sJGI6dGhpcy5jZC5iaW5kKHRoaXMpLFxuWmI6dGhpcy5FYy5iaW5kKHRoaXMpLG9uRXJyb3I6dGhpcy54YS5iaW5kKHRoaXMpLG9uRXZlbnQ6dGhpcy5nYi5iaW5kKHRoaXMpLGhkOnRoaXMuamQuYmluZCh0aGlzKSx5Yjp0aGlzLnNkLmJpbmQodGhpcyl9KTt0aGlzLmEuY29uZmlndXJlKHRoaXMuYi5zdHJlYW1pbmcpO3JldHVybiB0aGlzLmEuaW5pdCgpfS5iaW5kKHRoaXMpKS50aGVuKGZ1bmN0aW9uKCl7aWYodGhpcy5iLnN0cmVhbWluZy5zdGFydEF0U2VnbWVudEJvdW5kYXJ5KXt2YXIgYT1xZyh0aGlzLGZmKHRoaXMuZykpO2RmKHRoaXMuZyxhKX10aGlzLmMucGVyaW9kcy5mb3JFYWNoKHRoaXMuZmIuYmluZCh0aGlzKSk7cmcodGhpcyk7c2codGhpcyk7dmFyIGE9Vih0aGlzLmEpLGI9YmMoYSx0aGlzLmlhKTt0aGlzLmIuYWJyLm1hbmFnZXIuc2V0VmFyaWFudHMoYik7YS52YXJpYW50cy5zb21lKGZ1bmN0aW9uKGEpe3JldHVybiBhLnByaW1hcnl9KTt0aGlzLlhhLmZvckVhY2godGhpcy52LnYuYmluZCh0aGlzLnYpKTtcbnRoaXMuWGE9W107S2EodGhpcy5sLHRoaXMuZixcImxvYWRlZGRhdGFcIixmdW5jdGlvbigpe3RoaXMuaS5sb2FkTGF0ZW5jeT0oRGF0ZS5ub3coKS1mKS8xRTN9LmJpbmQodGhpcykpO3RoaXMuRz1udWxsfS5iaW5kKHRoaXMpKSlbXCJjYXRjaFwiXShmdW5jdGlvbihhKXt0aGlzLkc9PWUmJih0aGlzLkc9bnVsbCx0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEgoXCJ1bmxvYWRpbmdcIikpKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9LmJpbmQodGhpcykpfTtXLnByb3RvdHlwZS5sb2FkPVcucHJvdG90eXBlLmxvYWQ7ZnVuY3Rpb24gbmcoYSl7YS5OPW5ldyBNZWRpYVNvdXJjZTt2YXIgYj1uZXcgQTtFKGEubCxhLk4sXCJzb3VyY2VvcGVuXCIsYi5yZXNvbHZlKTthLmYuc3JjPXdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGEuTik7cmV0dXJuIGJ9XG5XLnByb3RvdHlwZS5jb25maWd1cmU9ZnVuY3Rpb24oYSl7YS5hYnImJmEuYWJyLm1hbmFnZXImJmEuYWJyLm1hbmFnZXIhPXRoaXMuYi5hYnIubWFuYWdlciYmKHRoaXMuYi5hYnIubWFuYWdlci5zdG9wKCksYS5hYnIubWFuYWdlci5pbml0KHRoaXMuSmIuYmluZCh0aGlzKSkpO0NhKHRoaXMuYixhLGxnKHRoaXMpLHRnKCksXCJcIik7dWcodGhpcyl9O1cucHJvdG90eXBlLmNvbmZpZ3VyZT1XLnByb3RvdHlwZS5jb25maWd1cmU7XG5mdW5jdGlvbiB1ZyhhKXthLmgmJmEuaC5jb25maWd1cmUoYS5iLm1hbmlmZXN0KTthLmomJmEuai5jb25maWd1cmUoYS5iLmRybSk7aWYoYS5hKXthLmEuY29uZmlndXJlKGEuYi5zdHJlYW1pbmcpO3RyeXthLmMucGVyaW9kcy5mb3JFYWNoKGEuZmIuYmluZChhKSl9Y2F0Y2goYil7YS54YShiKX12ZyhhLFYoYS5hKSl9YS5iLmFici5lbmFibGVkJiYhYS5aYT9hLmIuYWJyLm1hbmFnZXIuZW5hYmxlKCk6YS5iLmFici5tYW5hZ2VyLmRpc2FibGUoKTthLmIuYWJyLm1hbmFnZXIuc2V0RGVmYXVsdEVzdGltYXRlKGEuYi5hYnIuZGVmYXVsdEJhbmR3aWR0aEVzdGltYXRlKTthLmIuYWJyLm1hbmFnZXIuc2V0UmVzdHJpY3Rpb25zKGEuYi5hYnIucmVzdHJpY3Rpb25zKX1XLnByb3RvdHlwZS5nZXRDb25maWd1cmF0aW9uPWZ1bmN0aW9uKCl7dmFyIGE9bGcodGhpcyk7Q2EoYSx0aGlzLmIsbGcodGhpcyksdGcoKSxcIlwiKTtyZXR1cm4gYX07XG5XLnByb3RvdHlwZS5nZXRDb25maWd1cmF0aW9uPVcucHJvdG90eXBlLmdldENvbmZpZ3VyYXRpb247Vy5wcm90b3R5cGUuUGQ9ZnVuY3Rpb24oKXt2YXIgYT1sZyh0aGlzKTthLmFiciYmYS5hYnIubWFuYWdlciYmYS5hYnIubWFuYWdlciE9dGhpcy5iLmFici5tYW5hZ2VyJiYodGhpcy5iLmFici5tYW5hZ2VyLnN0b3AoKSxhLmFici5tYW5hZ2VyLmluaXQodGhpcy5KYi5iaW5kKHRoaXMpKSk7dGhpcy5iPWxnKHRoaXMpO3VnKHRoaXMpfTtXLnByb3RvdHlwZS5yZXNldENvbmZpZ3VyYXRpb249Vy5wcm90b3R5cGUuUGQ7Vy5wcm90b3R5cGUuUWM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mfTtXLnByb3RvdHlwZS5nZXRNZWRpYUVsZW1lbnQ9Vy5wcm90b3R5cGUuUWM7Vy5wcm90b3R5cGUuVWI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vfTtXLnByb3RvdHlwZS5nZXROZXR3b3JraW5nRW5naW5lPVcucHJvdG90eXBlLlViO1cucHJvdG90eXBlLlBjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuWWF9O1xuVy5wcm90b3R5cGUuZ2V0TWFuaWZlc3RVcmk9Vy5wcm90b3R5cGUuUGM7Vy5wcm90b3R5cGUuZGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jP3RoaXMuYy5wcmVzZW50YXRpb25UaW1lbGluZS5kYSgpOiExfTtXLnByb3RvdHlwZS5pc0xpdmU9Vy5wcm90b3R5cGUuZGE7Vy5wcm90b3R5cGUudmE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jP3RoaXMuYy5wcmVzZW50YXRpb25UaW1lbGluZS52YSgpOiExfTtXLnByb3RvdHlwZS5pc0luUHJvZ3Jlc3M9Vy5wcm90b3R5cGUudmE7Vy5wcm90b3R5cGUuUmQ9ZnVuY3Rpb24oKXt2YXIgYT0wLGI9MDt0aGlzLmMmJihiPXRoaXMuYy5wcmVzZW50YXRpb25UaW1lbGluZSxhPWIubWEoKSxiPWIuYmIoKSk7cmV0dXJue3N0YXJ0OmEsZW5kOmJ9fTtXLnByb3RvdHlwZS5zZWVrUmFuZ2U9Vy5wcm90b3R5cGUuUmQ7Vy5wcm90b3R5cGUua2V5U3lzdGVtPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaj90aGlzLmoua2V5U3lzdGVtKCk6XCJcIn07XG5XLnByb3RvdHlwZS5rZXlTeXN0ZW09Vy5wcm90b3R5cGUua2V5U3lzdGVtO1cucHJvdG90eXBlLmRybUluZm89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5qP3RoaXMuai5iOm51bGx9O1cucHJvdG90eXBlLmRybUluZm89Vy5wcm90b3R5cGUuZHJtSW5mbztXLnByb3RvdHlwZS5hYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmo/dGhpcy5qLmFiKCk6SW5maW5pdHl9O1cucHJvdG90eXBlLmdldEV4cGlyYXRpb249Vy5wcm90b3R5cGUuYWI7Vy5wcm90b3R5cGUuWWM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5rYX07Vy5wcm90b3R5cGUuaXNCdWZmZXJpbmc9Vy5wcm90b3R5cGUuWWM7XG5XLnByb3RvdHlwZS5oYj1mdW5jdGlvbigpe2lmKHRoaXMuSilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7dGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBIKFwidW5sb2FkaW5nXCIpKTt2YXIgYT1Qcm9taXNlLnJlc29sdmUoKTt0aGlzLkcmJihhPXRoaXMuRy5jYW5jZWwobmV3IHQoMiw3LDdFMykpKTtyZXR1cm4gYS50aGVuKGZ1bmN0aW9uKCl7dGhpcy5sYXx8KHRoaXMubGE9d2codGhpcykudGhlbihmdW5jdGlvbigpe3RoaXMubGE9bnVsbH0uYmluZCh0aGlzKSkpO3JldHVybiB0aGlzLmxhfS5iaW5kKHRoaXMpKX07Vy5wcm90b3R5cGUudW5sb2FkPVcucHJvdG90eXBlLmhiO1cucHJvdG90eXBlLnBiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZz90aGlzLmcucGIoKTowfTtXLnByb3RvdHlwZS5nZXRQbGF5YmFja1JhdGU9Vy5wcm90b3R5cGUucGI7Vy5wcm90b3R5cGUubGU9ZnVuY3Rpb24oYSl7dGhpcy5nJiZoZih0aGlzLmcsYSk7dGhpcy5hJiZ1Zih0aGlzLmEsMSE9YSl9O1xuVy5wcm90b3R5cGUudHJpY2tQbGF5PVcucHJvdG90eXBlLmxlO1cucHJvdG90eXBlLkZjPWZ1bmN0aW9uKCl7dGhpcy5nJiZoZih0aGlzLmcsMSk7dGhpcy5hJiZ1Zih0aGlzLmEsITEpfTtXLnByb3RvdHlwZS5jYW5jZWxUcmlja1BsYXk9Vy5wcm90b3R5cGUuRmM7Vy5wcm90b3R5cGUuZ2V0VHJhY2tzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuV2IoKS5jb25jYXQodGhpcy5WYigpKX07Vy5wcm90b3R5cGUuZ2V0VHJhY2tzPVcucHJvdG90eXBlLmdldFRyYWNrcztXLnByb3RvdHlwZS5VZD1mdW5jdGlvbihhLGIpe1widGV4dFwiPT1hLnR5cGU/dGhpcy5yYyhhKToodGhpcy5jb25maWd1cmUoe2Ficjp7ZW5hYmxlZDohMX19KSx0aGlzLnNjKGEsYikpfTtXLnByb3RvdHlwZS5zZWxlY3RUcmFjaz1XLnByb3RvdHlwZS5VZDtcblcucHJvdG90eXBlLldiPWZ1bmN0aW9uKCl7aWYoIXRoaXMuYylyZXR1cm5bXTt2YXIgYT1mYyh0aGlzLmMsZmYodGhpcy5nKSksYj10aGlzLlBbYV18fHt9O3JldHVybiBYYih0aGlzLmMucGVyaW9kc1thXSxiLmF1ZGlvLGIudmlkZW8pfTtXLnByb3RvdHlwZS5nZXRWYXJpYW50VHJhY2tzPVcucHJvdG90eXBlLldiO1cucHJvdG90eXBlLlZiPWZ1bmN0aW9uKCl7aWYoIXRoaXMuYylyZXR1cm5bXTt2YXIgYT1mYyh0aGlzLmMsZmYodGhpcy5nKSk7cmV0dXJuIFpiKHRoaXMuYy5wZXJpb2RzW2FdLCh0aGlzLlBbYV18fHt9KS50ZXh0KS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIDA+dGhpcy5WYS5pbmRleE9mKGEuaWQpfS5iaW5kKHRoaXMpKX07Vy5wcm90b3R5cGUuZ2V0VGV4dFRyYWNrcz1XLnByb3RvdHlwZS5WYjtcblcucHJvdG90eXBlLnJjPWZ1bmN0aW9uKGEpe2lmKHRoaXMuYSYmKGE9YWMoVih0aGlzLmEpLGEpKSl7eGcodGhpcyxhLCExKTt2YXIgYj17fTtiLnRleHQ9YTt5Zyh0aGlzLGIsITApfX07Vy5wcm90b3R5cGUuc2VsZWN0VGV4dFRyYWNrPVcucHJvdG90eXBlLnJjO1xuVy5wcm90b3R5cGUuc2M9ZnVuY3Rpb24oYSxiKXtpZih0aGlzLmEpe3ZhciBjPXt9LGQ9JGIoVih0aGlzLmEpLGEpLGU9c2YodGhpcy5hKTtpZihkKXtpZighZC5hbGxvd2VkQnlBcHBsaWNhdGlvbnx8IWQuYWxsb3dlZEJ5S2V5U3lzdGVtKXJldHVybjtkLmF1ZGlvJiYoemcodGhpcyxkLmF1ZGlvKSxkLmF1ZGlvIT1lLmF1ZGlvJiYoYy5hdWRpbz1kLmF1ZGlvKSk7ZC52aWRlbyYmKHpnKHRoaXMsZC52aWRlbyksZC52aWRlbyE9ZS52aWRlbyYmKGMudmlkZW89ZC52aWRlbykpfU1hKGMpLmZvckVhY2goZnVuY3Rpb24oYSl7eGcodGhpcyxhLCExKX0uYmluZCh0aGlzKSk7KGQ9ZS50ZXh0KSYmKGMudGV4dD1kKTt5Zyh0aGlzLGMsYil9fTtXLnByb3RvdHlwZS5zZWxlY3RWYXJpYW50VHJhY2s9Vy5wcm90b3R5cGUuc2M7XG5XLnByb3RvdHlwZS5OYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/WWIoVih0aGlzLmEpLnZhcmlhbnRzKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEubGFuZ3VhZ2V9KS5maWx0ZXIoQWEpOltdfTtXLnByb3RvdHlwZS5nZXRBdWRpb0xhbmd1YWdlcz1XLnByb3RvdHlwZS5OYztXLnByb3RvdHlwZS5XYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/Vih0aGlzLmEpLnRleHRTdHJlYW1zLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5sYW5ndWFnZX0pLmZpbHRlcihBYSk6W119O1cucHJvdG90eXBlLmdldFRleHRMYW5ndWFnZXM9Vy5wcm90b3R5cGUuV2M7Vy5wcm90b3R5cGUuU2Q9ZnVuY3Rpb24oYSl7aWYodGhpcy5hKXt2YXIgYj1WKHRoaXMuYSk7dGhpcy5pYT1hO3ZnKHRoaXMsYil9fTtXLnByb3RvdHlwZS5zZWxlY3RBdWRpb0xhbmd1YWdlPVcucHJvdG90eXBlLlNkO1xuVy5wcm90b3R5cGUuVGQ9ZnVuY3Rpb24oYSl7aWYodGhpcy5hKXt2YXIgYj1WKHRoaXMuYSk7dGhpcy5CYT1hO3ZnKHRoaXMsYil9fTtXLnByb3RvdHlwZS5zZWxlY3RUZXh0TGFuZ3VhZ2U9Vy5wcm90b3R5cGUuVGQ7Vy5wcm90b3R5cGUuJGM9ZnVuY3Rpb24oKXtyZXR1cm5cInNob3dpbmdcIj09dGhpcy5BLm1vZGV9O1cucHJvdG90eXBlLmlzVGV4dFRyYWNrVmlzaWJsZT1XLnByb3RvdHlwZS4kYztXLnByb3RvdHlwZS5XZD1mdW5jdGlvbihhKXt0aGlzLkEubW9kZT1hP1wic2hvd2luZ1wiOlwiaGlkZGVuXCI7QWcodGhpcyl9O1cucHJvdG90eXBlLnNldFRleHRUcmFja1Zpc2liaWxpdHk9Vy5wcm90b3R5cGUuV2Q7Vy5wcm90b3R5cGUuU2M9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jP25ldyBEYXRlKDFFMyp0aGlzLmMucHJlc2VudGF0aW9uVGltZWxpbmUuZisxRTMqdGhpcy5mLmN1cnJlbnRUaW1lKTpudWxsfTtXLnByb3RvdHlwZS5nZXRQbGF5aGVhZFRpbWVBc0RhdGU9Vy5wcm90b3R5cGUuU2M7XG5XLnByb3RvdHlwZS5nZXRTdGF0cz1mdW5jdGlvbigpe0JnKHRoaXMpO3RoaXMuU2EoKTt2YXIgYT1udWxsLGI9bnVsbCxjPXRoaXMuZiYmdGhpcy5mLmdldFZpZGVvUGxheWJhY2tRdWFsaXR5P3RoaXMuZi5nZXRWaWRlb1BsYXliYWNrUXVhbGl0eSgpOnt9O3RoaXMuZyYmdGhpcy5jJiYoYT1mYyh0aGlzLmMsZmYodGhpcy5nKSksYj10aGlzLlBbYV0sYj1lYyhiLmF1ZGlvLGIudmlkZW8sdGhpcy5jLnBlcmlvZHNbYV0udmFyaWFudHMpLGE9Yi52aWRlb3x8e30pO2F8fChhPXt9KTtifHwoYj17fSk7cmV0dXJue3dpZHRoOmEud2lkdGh8fDAsaGVpZ2h0OmEuaGVpZ2h0fHwwLHN0cmVhbUJhbmR3aWR0aDpiLmJhbmR3aWR0aHx8MCxkZWNvZGVkRnJhbWVzOk51bWJlcihjLnRvdGFsVmlkZW9GcmFtZXMpLGRyb3BwZWRGcmFtZXM6TnVtYmVyKGMuZHJvcHBlZFZpZGVvRnJhbWVzKSxlc3RpbWF0ZWRCYW5kd2lkdGg6dGhpcy5iLmFici5tYW5hZ2VyLmdldEJhbmR3aWR0aEVzdGltYXRlKCksXG5sb2FkTGF0ZW5jeTp0aGlzLmkubG9hZExhdGVuY3kscGxheVRpbWU6dGhpcy5pLnBsYXlUaW1lLGJ1ZmZlcmluZ1RpbWU6dGhpcy5pLmJ1ZmZlcmluZ1RpbWUsc3dpdGNoSGlzdG9yeTpEYSh0aGlzLmkuc3dpdGNoSGlzdG9yeSksc3RhdGVIaXN0b3J5OkRhKHRoaXMuaS5zdGF0ZUhpc3RvcnkpfX07Vy5wcm90b3R5cGUuZ2V0U3RhdHM9Vy5wcm90b3R5cGUuZ2V0U3RhdHM7XG5XLnByb3RvdHlwZS5hZGRUZXh0VHJhY2s9ZnVuY3Rpb24oYSxiLGMsZCxlKXtpZighdGhpcy5hKXJldHVybiBQcm9taXNlLnJlamVjdCgpO2Zvcih2YXIgZj1WKHRoaXMuYSksZyxoPTA7aDx0aGlzLmMucGVyaW9kcy5sZW5ndGg7aCsrKWlmKHRoaXMuYy5wZXJpb2RzW2hdPT1mKXtpZihoPT10aGlzLmMucGVyaW9kcy5sZW5ndGgtMSl7aWYoZz10aGlzLmMucHJlc2VudGF0aW9uVGltZWxpbmUuWSgpLWYuc3RhcnRUaW1lLEluZmluaXR5PT1nKXJldHVybiBQcm9taXNlLnJlamVjdCgpfWVsc2UgZz10aGlzLmMucGVyaW9kc1toKzFdLnN0YXJ0VGltZS1mLnN0YXJ0VGltZTticmVha312YXIgbD17aWQ6dGhpcy5CYysrLGNyZWF0ZVNlZ21lbnRJbmRleDpQcm9taXNlLnJlc29sdmUuYmluZChQcm9taXNlKSxmaW5kU2VnbWVudFBvc2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIDF9LGdldFNlZ21lbnRSZWZlcmVuY2U6ZnVuY3Rpb24oYil7cmV0dXJuIDEhPWI/bnVsbDpuZXcgTygxLDAsZyxcbmZ1bmN0aW9uKCl7cmV0dXJuW2FdfSwwLG51bGwpfSxpbml0U2VnbWVudFJlZmVyZW5jZTpudWxsLHByZXNlbnRhdGlvblRpbWVPZmZzZXQ6MCxtaW1lVHlwZTpkLGNvZGVjczplfHxcIlwiLGtpbmQ6YyxlbmNyeXB0ZWQ6ITEsa2V5SWQ6bnVsbCxsYW5ndWFnZTpiLHR5cGU6XCJ0ZXh0XCIscHJpbWFyeTohMSx0cmlja01vZGVWaWRlbzpudWxsLGNvbnRhaW5zRW1zZ0JveGVzOiExfTt0aGlzLlZhLnB1c2gobC5pZCk7Zi50ZXh0U3RyZWFtcy5wdXNoKGwpO3JldHVybiB0Zih0aGlzLmEsbCkudGhlbihmdW5jdGlvbigpe2lmKCF0aGlzLkopcmV0dXJuIHRoaXMuVmEuc3BsaWNlKHRoaXMuVmEuaW5kZXhPZihsLmlkKSwxKSx2Zyh0aGlzLGYpLHJnKHRoaXMpLHtpZDpsLmlkLGFjdGl2ZTohMSx0eXBlOlwidGV4dFwiLGJhbmR3aWR0aDowLGxhbmd1YWdlOmIsa2luZDpjLHdpZHRoOm51bGwsaGVpZ2h0Om51bGx9fS5iaW5kKHRoaXMpKX07Vy5wcm90b3R5cGUuYWRkVGV4dFRyYWNrPVcucHJvdG90eXBlLmFkZFRleHRUcmFjaztcblcucHJvdG90eXBlLkhiPWZ1bmN0aW9uKGEsYil7dGhpcy5tYi53aWR0aD1hO3RoaXMubWIuaGVpZ2h0PWJ9O1cucHJvdG90eXBlLnNldE1heEhhcmR3YXJlUmVzb2x1dGlvbj1XLnByb3RvdHlwZS5IYjtmdW5jdGlvbiB4ZyhhLGIsYyl7YS5pLnN3aXRjaEhpc3RvcnkucHVzaCh7dGltZXN0YW1wOkRhdGUubm93KCkvMUUzLGlkOmIuaWQsdHlwZTpiLnR5cGUsZnJvbUFkYXB0YXRpb246Y30pO3pnKGEsYil9ZnVuY3Rpb24gemcoYSxiKXt2YXIgYz1nYyhhLmMsYik7YS5QW2NdfHwoYS5QW2NdPXt9KTthLlBbY11bYi50eXBlXT1iLmlkfVxuZnVuY3Rpb24gb2coYSl7YS5sJiYoYS5sLmhhKGEuTixcInNvdXJjZW9wZW5cIiksYS5sLmhhKGEuZixcImxvYWRlZGRhdGFcIiksYS5sLmhhKGEuZixcInBsYXlpbmdcIiksYS5sLmhhKGEuZixcInBhdXNlXCIpLGEubC5oYShhLmYsXCJlbmRlZFwiKSk7YS5mJiYoYS5mLnJlbW92ZUF0dHJpYnV0ZShcInNyY1wiKSxhLmYubG9hZCgpKTt2YXIgYj1Qcm9taXNlLmFsbChbYS5iP2EuYi5hYnIubWFuYWdlci5zdG9wKCk6bnVsbCxhLmo/YS5qLm0oKTpudWxsLGEuamE/YS5qYS5tKCk6bnVsbCxhLmc/YS5nLm0oKTpudWxsLGEudj9hLnYubSgpOm51bGwsYS5hP2EuYS5tKCk6bnVsbCxhLmg/YS5oLnN0b3AoKTpudWxsXSk7YS5qPW51bGw7YS5qYT1udWxsO2EuZz1udWxsO2Eudj1udWxsO2EuYT1udWxsO2EuaD1udWxsO2EuYz1udWxsO2EuWWE9bnVsbDthLldhPW51bGw7YS5OPW51bGw7YS5YYT1bXTthLlA9e307YS5CPXt9O2EuaT1tZygpO3JldHVybiBifVxuZnVuY3Rpb24gd2coYSl7cmV0dXJuIGEuaD9vZyhhKS50aGVuKGZ1bmN0aW9uKCl7dGhpcy5KfHwodGhpcy54YyghMSksdGhpcy5XYT1uZyh0aGlzKSl9LmJpbmQoYSkpOlByb21pc2UucmVzb2x2ZSgpfWZ1bmN0aW9uIHRnKCl7cmV0dXJue1wiLmRybS5zZXJ2ZXJzXCI6XCJcIixcIi5kcm0uY2xlYXJLZXlzXCI6XCJcIixcIi5kcm0uYWR2YW5jZWRcIjp7ZGlzdGluY3RpdmVJZGVudGlmaWVyUmVxdWlyZWQ6ITEscGVyc2lzdGVudFN0YXRlUmVxdWlyZWQ6ITEsdmlkZW9Sb2J1c3RuZXNzOlwiXCIsYXVkaW9Sb2J1c3RuZXNzOlwiXCIsc2VydmVyQ2VydGlmaWNhdGU6bnVsbH19fVxuZnVuY3Rpb24gbGcoYSl7cmV0dXJue2RybTp7cmV0cnlQYXJhbWV0ZXJzOkZhKCksc2VydmVyczp7fSxjbGVhcktleXM6e30sYWR2YW5jZWQ6e30sZGVsYXlMaWNlbnNlUmVxdWVzdFVudGlsUGxheWVkOiExfSxtYW5pZmVzdDp7cmV0cnlQYXJhbWV0ZXJzOkZhKCksZGFzaDp7Y3VzdG9tU2NoZW1lOmZ1bmN0aW9uKGEpe2lmKGEpcmV0dXJuIG51bGx9LGNsb2NrU3luY1VyaTpcIlwiLGlnbm9yZURybUluZm86ITF9LGhsczp7ZGVmYXVsdFRpbWVPZmZzZXQ6MH19LHN0cmVhbWluZzp7cmV0cnlQYXJhbWV0ZXJzOkZhKCkscmVidWZmZXJpbmdHb2FsOjIsYnVmZmVyaW5nR29hbDoxMCxidWZmZXJCZWhpbmQ6MzAsaWdub3JlVGV4dFN0cmVhbUZhaWx1cmVzOiExLHN0YXJ0QXRTZWdtZW50Qm91bmRhcnk6ITEsc21hbGxHYXBMaW1pdDouNSxqdW1wTGFyZ2VHYXBzOiExfSxhYnI6e21hbmFnZXI6YS5PYixlbmFibGVkOiEwLGRlZmF1bHRCYW5kd2lkdGhFc3RpbWF0ZTo1RTUscmVzdHJpY3Rpb25zOnttaW5XaWR0aDowLFxubWF4V2lkdGg6SW5maW5pdHksbWluSGVpZ2h0OjAsbWF4SGVpZ2h0OkluZmluaXR5LG1pblBpeGVsczowLG1heFBpeGVsczpJbmZpbml0eSxtaW5CYW5kd2lkdGg6MCxtYXhCYW5kd2lkdGg6SW5maW5pdHl9fSxwcmVmZXJyZWRBdWRpb0xhbmd1YWdlOlwiXCIscHJlZmVycmVkVGV4dExhbmd1YWdlOlwiXCIscmVzdHJpY3Rpb25zOnttaW5XaWR0aDowLG1heFdpZHRoOkluZmluaXR5LG1pbkhlaWdodDowLG1heEhlaWdodDpJbmZpbml0eSxtaW5QaXhlbHM6MCxtYXhQaXhlbHM6SW5maW5pdHksbWluQmFuZHdpZHRoOjAsbWF4QmFuZHdpZHRoOkluZmluaXR5fX19XG5mdW5jdGlvbiBtZygpe3JldHVybnt3aWR0aDpOYU4saGVpZ2h0Ok5hTixzdHJlYW1CYW5kd2lkdGg6TmFOLGRlY29kZWRGcmFtZXM6TmFOLGRyb3BwZWRGcmFtZXM6TmFOLGVzdGltYXRlZEJhbmR3aWR0aDpOYU4sbG9hZExhdGVuY3k6TmFOLHBsYXlUaW1lOjAsYnVmZmVyaW5nVGltZTowLHN3aXRjaEhpc3Rvcnk6W10sc3RhdGVIaXN0b3J5OltdfX1rPVcucHJvdG90eXBlO2suZmI9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5hP3NmKHRoaXMuYSk6e307VWIodGhpcy5qLGIsYSk7Yj0wPFliKGEudmFyaWFudHMpLmxlbmd0aDtUYihhLHRoaXMuYi5yZXN0cmljdGlvbnMsdGhpcy5tYikmJnRoaXMuYSYmVih0aGlzLmEpPT1hJiZyZyh0aGlzKTthPTE+WWIoYS52YXJpYW50cykubGVuZ3RoO2lmKCFiKXRocm93IG5ldyB0KDIsNCw0MDExKTtpZihhKXRocm93IG5ldyB0KDIsNCw0MDEyKTt9O1xuZnVuY3Rpb24geWcoYSxiLGMpe2Zvcih2YXIgZCBpbiBiKXt2YXIgZT1iW2RdLGY9Y3x8ITE7XCJ0ZXh0XCI9PWQmJihmPSEwKTthLlphP2EuQltkXT17c3RyZWFtOmUsSWM6Zn06dmYoYS5hLGQsZSxmKX19ZnVuY3Rpb24gQmcoYSl7aWYoYS5jKXt2YXIgYj1EYXRlLm5vdygpLzFFMzthLmthP2EuaS5idWZmZXJpbmdUaW1lKz1iLWEuVWE6YS5pLnBsYXlUaW1lKz1iLWEuVWE7YS5VYT1ifX1cbmZ1bmN0aW9uIHFnKGEsYil7ZnVuY3Rpb24gYyhhLGIpe2lmKCFhKXJldHVybiBudWxsO3ZhciBjPWEuZmluZFNlZ21lbnRQb3NpdGlvbihiLWUuc3RhcnRUaW1lKTtyZXR1cm4gbnVsbD09Yz9udWxsOihjPWEuZ2V0U2VnbWVudFJlZmVyZW5jZShjKSk/Yy5zdGFydFRpbWUrZS5zdGFydFRpbWU6bnVsbH12YXIgZD1zZihhLmEpLGU9VihhLmEpLGY9YyhkLnZpZGVvLGIpLGQ9YyhkLmF1ZGlvLGIpO3JldHVybiBudWxsIT1mJiZudWxsIT1kP01hdGgubWF4KGYsZCk6bnVsbCE9Zj9mOm51bGwhPWQ/ZDpifWsuYmU9ZnVuY3Rpb24oYSxiKXt0aGlzLmIuYWJyLm1hbmFnZXIuc2VnbWVudERvd25sb2FkZWQoYSxiKX07ay54Yz1mdW5jdGlvbihhKXtCZyh0aGlzKTt0aGlzLmthPWE7dGhpcy5TYSgpO2lmKHRoaXMuZyl7dmFyIGI9dGhpcy5nO2EhPWIuaCYmKGIuaD1hLGhmKGIsYi5nKSl9dGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBIKFwiYnVmZmVyaW5nXCIse2J1ZmZlcmluZzphfSkpfTtcbmsuWWQ9ZnVuY3Rpb24oKXtyZyh0aGlzKX07ay5TYT1mdW5jdGlvbigpe2lmKCF0aGlzLkope3ZhciBhPXRoaXMua2E/XCJidWZmZXJpbmdcIjp0aGlzLmYuZW5kZWQ/XCJlbmRlZFwiOnRoaXMuZi5wYXVzZWQ/XCJwYXVzZWRcIjpcInBsYXlpbmdcIjt2YXIgYj1EYXRlLm5vdygpLzFFMztpZih0aGlzLmkuc3RhdGVIaXN0b3J5Lmxlbmd0aCl7dmFyIGM9dGhpcy5pLnN0YXRlSGlzdG9yeVt0aGlzLmkuc3RhdGVIaXN0b3J5Lmxlbmd0aC0xXTtjLmR1cmF0aW9uPWItYy50aW1lc3RhbXA7aWYoYT09Yy5zdGF0ZSlyZXR1cm59dGhpcy5pLnN0YXRlSGlzdG9yeS5wdXNoKHt0aW1lc3RhbXA6YixzdGF0ZTphLGR1cmF0aW9uOjB9KX19O2suYWU9ZnVuY3Rpb24oKXtpZih0aGlzLnYpe3ZhciBhPXRoaXMudjthLmMuZm9yRWFjaChhLm8uYmluZChhLCEwKSl9dGhpcy5hJiZ4Zih0aGlzLmEpfTtcbmZ1bmN0aW9uIENnKGEsYixjLGQsZSl7aWYoIWN8fDE+Yy5sZW5ndGgpcmV0dXJuIGEueGEobmV3IHQoMiw0LDQwMTIpKSx7fTthLmIuYWJyLm1hbmFnZXIuc2V0VmFyaWFudHMoYyk7YS5iLmFici5tYW5hZ2VyLnNldFRleHRTdHJlYW1zKGQpO3ZhciBmPVtdO2UmJihmPVtcInZpZGVvXCIsXCJhdWRpb1wiXSxiLnRleHRTdHJlYW1zLmxlbmd0aCYmZi5wdXNoKFwidGV4dFwiKSk7ZT1zZihhLmEpO2lmKGI9ZGMoZS5hdWRpbyxlLnZpZGVvLGIudmFyaWFudHMpKXtiLmFsbG93ZWRCeUFwcGxpY2F0aW9uJiZiLmFsbG93ZWRCeUtleVN5c3RlbXx8KGYucHVzaChcImF1ZGlvXCIpLGYucHVzaChcInZpZGVvXCIpKTtmb3IodmFyIGcgaW4gZSliPWVbZ10sXCJhdWRpb1wiPT1iLnR5cGUmJmIubGFuZ3VhZ2UhPWNbMF0ubGFuZ3VhZ2U/Zi5wdXNoKGcpOlwidGV4dFwiPT1iLnR5cGUmJjA8ZC5sZW5ndGgmJmIubGFuZ3VhZ2UhPWRbMF0ubGFuZ3VhZ2UmJmYucHVzaChnKX1mPWYuZmlsdGVyKEFhKTtpZigwPGYubGVuZ3RoKXtjPVxue307dHJ5e2M9YS5iLmFici5tYW5hZ2VyLmNob29zZVN0cmVhbXMoZil9Y2F0Y2goaCl7YS54YShoKX1yZXR1cm4gY31yZXR1cm57fX1mdW5jdGlvbiB2ZyhhLGIpe3ZhciBjPXthdWRpbzohMSx0ZXh0OiExfSxkPWJjKGIsYS5pYSxjKSxlPWNjKGIsYS5CYSxjKSxkPUNnKGEsYixkLGUpLGY7Zm9yKGYgaW4gZCl4ZyhhLGRbZl0sITApO3lnKGEsZCwhMCk7c2coYSk7ZC50ZXh0JiZkLmF1ZGlvJiZjLnRleHQmJmQudGV4dC5sYW5ndWFnZSE9ZC5hdWRpby5sYW5ndWFnZSYmKGEuQS5tb2RlPVwic2hvd2luZ1wiLEFnKGEpKX1rLmNkPWZ1bmN0aW9uKGEpe3RoaXMuWmE9ITA7dGhpcy5iLmFici5tYW5hZ2VyLmRpc2FibGUoKTt2YXIgYj1iYyhhLHRoaXMuaWEpLGM9Y2MoYSx0aGlzLkJhKTthPUNnKHRoaXMsYSxiLGMsITApO2Zvcih2YXIgZCBpbiB0aGlzLkIpYVtkXT10aGlzLkJbZF0uc3RyZWFtO3RoaXMuQj17fTtmb3IoZCBpbiBhKXhnKHRoaXMsYVtkXSwhMCk7cmV0dXJuIGF9O1xuay5FYz1mdW5jdGlvbigpe3RoaXMuWmE9ITE7dGhpcy5iLmFici5lbmFibGVkJiZ0aGlzLmIuYWJyLm1hbmFnZXIuZW5hYmxlKCk7Zm9yKHZhciBhIGluIHRoaXMuQil7dmFyIGI9dGhpcy5CW2FdO3ZmKHRoaXMuYSxhLGIuc3RyZWFtLGIuSWMpfXRoaXMuQj17fX07ay5qZD1mdW5jdGlvbigpe3RoaXMuaCYmdGhpcy5oLnVwZGF0ZSYmdGhpcy5oLnVwZGF0ZSgpfTtrLnNkPWZ1bmN0aW9uKCl7dGhpcy5nJiZ0aGlzLmcueWIoKX07ay5KYj1mdW5jdGlvbihhLGIpe3ZhciBjPXNmKHRoaXMuYSksZDtmb3IoZCBpbiBhKXt2YXIgZT1hW2RdO2NbZF0hPWU/eGcodGhpcyxlLCEwKTpkZWxldGUgYVtkXX1pZighTGEoYSkmJnRoaXMuYSl7Zm9yKGQgaW4gYSl2Zih0aGlzLmEsZCxhW2RdLGJ8fCExKTtzZyh0aGlzKX19O1xuZnVuY3Rpb24gc2coYSl7UHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbigpe3RoaXMuSnx8dGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBIKFwiYWRhcHRhdGlvblwiKSl9LmJpbmQoYSkpfWZ1bmN0aW9uIHJnKGEpe1Byb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24oKXt0aGlzLkp8fHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgSChcInRyYWNrc2NoYW5nZWRcIikpfS5iaW5kKGEpKX1mdW5jdGlvbiBBZyhhKXthLmRpc3BhdGNoRXZlbnQobmV3IEgoXCJ0ZXh0dHJhY2t2aXNpYmlsaXR5XCIpKX1rLnhhPWZ1bmN0aW9uKGEpe3RoaXMuSnx8dGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBIKFwiZXJyb3JcIix7ZGV0YWlsOmF9KSl9O2sudmQ9ZnVuY3Rpb24oYSl7dGhpcy52P3RoaXMudi52KGEpOnRoaXMuWGEucHVzaChhKX07ay5nYj1mdW5jdGlvbihhKXt0aGlzLmRpc3BhdGNoRXZlbnQoYSl9O1xuay53ZD1mdW5jdGlvbigpe2lmKHRoaXMuZi5lcnJvcil7dmFyIGE9dGhpcy5mLmVycm9yLmNvZGU7aWYoMSE9YSl7dmFyIGI9dGhpcy5mLmVycm9yLm1zRXh0ZW5kZWRDb2RlO2ImJigwPmImJihiKz1NYXRoLnBvdygyLDMyKSksYj1iLnRvU3RyaW5nKDE2KSk7dGhpcy54YShuZXcgdCgyLDMsMzAxNixhLGIpKX19fTtcbmsuJGQ9ZnVuY3Rpb24oYSl7dmFyIGI9W1wib3V0cHV0LXJlc3RyaWN0ZWRcIixcImludGVybmFsLWVycm9yXCJdLGM9Vih0aGlzLmEpLGQ9ITE7Yy52YXJpYW50cy5mb3JFYWNoKGZ1bmN0aW9uKGMpe3ZhciBlPVtdO2MuYXVkaW8mJmUucHVzaChjLmF1ZGlvKTtjLnZpZGVvJiZlLnB1c2goYy52aWRlbyk7ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBmPWMuYWxsb3dlZEJ5S2V5U3lzdGVtO2Uua2V5SWQmJihlPWFbZS5rZXlJZF0sYy5hbGxvd2VkQnlLZXlTeXN0ZW09ISFlJiYwPmIuaW5kZXhPZihlKSk7ZiE9Yy5hbGxvd2VkQnlLZXlTeXN0ZW0mJihkPSEwKX0pfSk7dmFyIGU9c2YodGhpcy5hKTsoZT1kYyhlLmF1ZGlvLGUudmlkZW8sYy52YXJpYW50cykpJiYhZS5hbGxvd2VkQnlLZXlTeXN0ZW0mJnZnKHRoaXMsYyk7ZCYmcmcodGhpcyl9O1xuay5aZD1mdW5jdGlvbihhLGIpe2lmKHRoaXMuaCYmdGhpcy5oLm9uRXhwaXJhdGlvblVwZGF0ZWQpdGhpcy5oLm9uRXhwaXJhdGlvblVwZGF0ZWQoYSxiKTt0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEgoXCJleHBpcmF0aW9udXBkYXRlZFwiKSl9O2Z1bmN0aW9uIFgoYSl7dGhpcy5hPWJnKCk7dGhpcy5mPWE7dGhpcy5pPURnKHRoaXMpO3RoaXMuYj1udWxsO3RoaXMudj0hMTt0aGlzLmo9bnVsbDt0aGlzLmc9LTE7dGhpcy5sPTA7dGhpcy5jPW51bGw7dGhpcy5oPW5ldyBjZyh0aGlzLmEsYS5vLGEuZ2V0Q29uZmlndXJhdGlvbigpLnN0cmVhbWluZy5yZXRyeVBhcmFtZXRlcnMsdGhpcy5pKX1tKFwic2hha2Eub2ZmbGluZS5TdG9yYWdlXCIsWCk7ZnVuY3Rpb24gRWcoKXtyZXR1cm4hIXdpbmRvdy5pbmRleGVkREJ9WC5zdXBwb3J0PUVnO1gucHJvdG90eXBlLm09ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmEsYj10aGlzLmg/dGhpcy5oLm0oKVtcImNhdGNoXCJdKGZ1bmN0aW9uKCl7fSkudGhlbihmdW5jdGlvbigpe2lmKGEpcmV0dXJuIGEubSgpfSk6UHJvbWlzZS5yZXNvbHZlKCk7dGhpcy5pPXRoaXMuZj10aGlzLmg9dGhpcy5hPW51bGw7cmV0dXJuIGJ9O1gucHJvdG90eXBlLmRlc3Ryb3k9WC5wcm90b3R5cGUubTtcblgucHJvdG90eXBlLmNvbmZpZ3VyZT1mdW5jdGlvbihhKXtDYSh0aGlzLmksYSxEZyh0aGlzKSx7fSxcIlwiKX07WC5wcm90b3R5cGUuY29uZmlndXJlPVgucHJvdG90eXBlLmNvbmZpZ3VyZTtcblgucHJvdG90eXBlLmplPWZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBkKGEpe2Y9YX1pZih0aGlzLnYpcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyB0KDIsOSw5MDA2KSk7dGhpcy52PSEwO3ZhciBlLGY9bnVsbDtyZXR1cm4gRmcodGhpcykudGhlbihmdW5jdGlvbigpe1kodGhpcyk7cmV0dXJuIEdnKHRoaXMsYSxkLGMpfS5iaW5kKHRoaXMpKS50aGVuKGZ1bmN0aW9uKGMpe1kodGhpcyk7dGhpcy5jPWMubWFuaWZlc3Q7dGhpcy5iPWMuSmM7aWYodGhpcy5jLnByZXNlbnRhdGlvblRpbWVsaW5lLmRhKCl8fHRoaXMuYy5wcmVzZW50YXRpb25UaW1lbGluZS52YSgpKXRocm93IG5ldyB0KDIsOSw5MDA1LGEpO3RoaXMuYy5wZXJpb2RzLmZvckVhY2godGhpcy5vLmJpbmQodGhpcykpO3RoaXMuZz10aGlzLmEuYy5tYW5pZmVzdCsrO3RoaXMubD0wO2M9dGhpcy5jLnBlcmlvZHMubWFwKHRoaXMuQi5iaW5kKHRoaXMpKTt2YXIgZD10aGlzLmIuYixmPWhiKHRoaXMuYik7aWYoZCl7aWYoIWYubGVuZ3RoKXRocm93IG5ldyB0KDIsXG45LDkwMDcsYSk7ZC5pbml0RGF0YT1bXX1lPXtrZXk6dGhpcy5nLG9yaWdpbmFsTWFuaWZlc3RVcmk6YSxkdXJhdGlvbjp0aGlzLmwsc2l6ZTowLGV4cGlyYXRpb246dGhpcy5iLmFiKCkscGVyaW9kczpjLHNlc3Npb25JZHM6Zixkcm1JbmZvOmQsYXBwTWV0YWRhdGE6Yn07cmV0dXJuIGVnKHRoaXMuaCxlKX0uYmluZCh0aGlzKSkudGhlbihmdW5jdGlvbigpe1kodGhpcyk7aWYoZil0aHJvdyBmO3JldHVybiBIZyh0aGlzKX0uYmluZCh0aGlzKSkudGhlbihmdW5jdGlvbigpe3JldHVybiBXZihlKX0uYmluZCh0aGlzKSlbXCJjYXRjaFwiXShmdW5jdGlvbihhKXtyZXR1cm4gSGcodGhpcylbXCJjYXRjaFwiXSh5KS50aGVuKGZ1bmN0aW9uKCl7dGhyb3cgYTt9KX0uYmluZCh0aGlzKSl9O1gucHJvdG90eXBlLnN0b3JlPVgucHJvdG90eXBlLmplO1xuWC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7NjAxMyE9YS5jb2RlJiYoZT1hKX12YXIgYz1hLm9mZmxpbmVVcmksZD0vXm9mZmxpbmU6KFswLTldKykkLy5leGVjKGMpO2lmKCFkKXJldHVybiBQcm9taXNlLnJlamVjdChuZXcgdCgyLDksOTAwNCxjKSk7dmFyIGU9bnVsbCxmLGcsaD1OdW1iZXIoZFsxXSk7cmV0dXJuIEZnKHRoaXMpLnRoZW4oZnVuY3Rpb24oKXtZKHRoaXMpO3JldHVybiB0aGlzLmEuZ2V0KFwibWFuaWZlc3RcIixoKX0uYmluZCh0aGlzKSkudGhlbihmdW5jdGlvbihhKXtZKHRoaXMpO2lmKCFhKXRocm93IG5ldyB0KDIsOSw5MDAzLGMpO2Y9YTthPWhnKGYpO2c9bmV3ICRhKHRoaXMuZi5vLGIsZnVuY3Rpb24oKXt9LGZ1bmN0aW9uKCl7fSk7Zy5jb25maWd1cmUodGhpcy5mLmdldENvbmZpZ3VyYXRpb24oKS5kcm0pO3JldHVybiBnLmluaXQoYSwhMCl9LmJpbmQodGhpcykpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gZWIoZyxmLnNlc3Npb25JZHMpfS5iaW5kKHRoaXMpKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGcubSgpfS5iaW5kKHRoaXMpKS50aGVuKGZ1bmN0aW9uKCl7WSh0aGlzKTtcbmlmKGUpdGhyb3cgZTt2YXIgYj1mLnBlcmlvZHMubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnN0cmVhbXMubWFwKGZ1bmN0aW9uKGEpe3ZhciBiPWEuc2VnbWVudHMubWFwKGZ1bmN0aW9uKGEpe2E9L15vZmZsaW5lOlswLTldK1xcL1swLTldK1xcLyhbMC05XSspJC8uZXhlYyhhLnVyaSk7cmV0dXJuIE51bWJlcihhWzFdKX0pO2EuaW5pdFNlZ21lbnRVcmkmJihhPS9eb2ZmbGluZTpbMC05XStcXC9bMC05XStcXC8oWzAtOV0rKSQvLmV4ZWMoYS5pbml0U2VnbWVudFVyaSksYi5wdXNoKE51bWJlcihhWzFdKSkpO3JldHVybiBifSkucmVkdWNlKHgsW10pfSkucmVkdWNlKHgsW10pLGM9MCxkPWIubGVuZ3RoLGc9dGhpcy5pLnByb2dyZXNzQ2FsbGJhY2s7cmV0dXJuIFRmKHRoaXMuYSxiLGZ1bmN0aW9uKCl7YysrO2coYSxjL2QpfSl9LmJpbmQodGhpcykpLnRoZW4oZnVuY3Rpb24oKXtZKHRoaXMpO3RoaXMuaS5wcm9ncmVzc0NhbGxiYWNrKGEsMSk7cmV0dXJuIHRoaXMuYS5yZW1vdmUoXCJtYW5pZmVzdFwiLFxuaCl9LmJpbmQodGhpcykpfTtYLnByb3RvdHlwZS5yZW1vdmU9WC5wcm90b3R5cGUucmVtb3ZlO1gucHJvdG90eXBlLmxpc3Q9ZnVuY3Rpb24oKXt2YXIgYT1bXTtyZXR1cm4gRmcodGhpcykudGhlbihmdW5jdGlvbigpe1kodGhpcyk7cmV0dXJuIHRoaXMuYS5mb3JFYWNoKFwibWFuaWZlc3RcIixmdW5jdGlvbihiKXthLnB1c2goV2YoYikpfSl9LmJpbmQodGhpcykpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gYX0pfTtYLnByb3RvdHlwZS5saXN0PVgucHJvdG90eXBlLmxpc3Q7XG5mdW5jdGlvbiBHZyhhLGIsYyxkKXtmdW5jdGlvbiBlKCl7fXZhciBmPWEuZi5vLGc9YS5mLmdldENvbmZpZ3VyYXRpb24oKSxoLGwsbjtyZXR1cm4gRGQoYixmLGcubWFuaWZlc3QucmV0cnlQYXJhbWV0ZXJzLGQpLnRoZW4oZnVuY3Rpb24oYSl7WSh0aGlzKTtuPW5ldyBhO24uY29uZmlndXJlKGcubWFuaWZlc3QpO3JldHVybiBuLnN0YXJ0KGIse25ldHdvcmtpbmdFbmdpbmU6ZixmaWx0ZXJQZXJpb2Q6dGhpcy5vLmJpbmQodGhpcyksb25UaW1lbGluZVJlZ2lvbkFkZGVkOmZ1bmN0aW9uKCl7fSxvbkV2ZW50OmZ1bmN0aW9uKCl7fSxvbkVycm9yOmN9KX0uYmluZChhKSkudGhlbihmdW5jdGlvbihhKXtZKHRoaXMpO2g9YTtsPW5ldyAkYShmLGMsZSxmdW5jdGlvbigpe30pO2wuY29uZmlndXJlKGcuZHJtKTtyZXR1cm4gbC5pbml0KGgsITApfS5iaW5kKGEpKS50aGVuKGZ1bmN0aW9uKCl7WSh0aGlzKTtyZXR1cm4gSWcoaCl9LmJpbmQoYSkpLnRoZW4oZnVuY3Rpb24oKXtZKHRoaXMpO1xucmV0dXJuIGRiKGwpfS5iaW5kKGEpKS50aGVuKGZ1bmN0aW9uKCl7WSh0aGlzKTtyZXR1cm4gbi5zdG9wKCl9LmJpbmQoYSkpLnRoZW4oZnVuY3Rpb24oKXtZKHRoaXMpO3JldHVybnttYW5pZmVzdDpoLEpjOmx9fS5iaW5kKGEpKVtcImNhdGNoXCJdKGZ1bmN0aW9uKGEpe2lmKG4pcmV0dXJuIG4uc3RvcCgpLnRoZW4oZnVuY3Rpb24oKXt0aHJvdyBhO30pO3Rocm93IGE7fSl9XG5YLnByb3RvdHlwZS5BPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXSxjPVFiKHRoaXMuZi5nZXRDb25maWd1cmF0aW9uKCkucHJlZmVycmVkQXVkaW9MYW5ndWFnZSksZD1bMCxPYixQYl0sZT1hLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm5cInZhcmlhbnRcIj09YS50eXBlfSksZD1kLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gZS5maWx0ZXIoZnVuY3Rpb24oYil7Yj1RYihiLmxhbmd1YWdlKTtyZXR1cm4gTmIoYSxjLGIpfSl9KSxmLGc9MDtnPGQubGVuZ3RoO2crKylpZihkW2ddLmxlbmd0aCl7Zj1kW2ddO2JyZWFrfWZ8fChkPWUuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhLnByaW1hcnl9KSxkLmxlbmd0aCYmKGY9ZCkpO2Z8fChmPWUsZS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEubGFuZ3VhZ2V9KS5maWx0ZXIoQWEpKTt2YXIgaD1mLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYS5oZWlnaHQmJjQ4MD49YS5oZWlnaHR9KTtoLmxlbmd0aCYmKGguc29ydChmdW5jdGlvbihhLFxuYil7cmV0dXJuIGIuaGVpZ2h0LWEuaGVpZ2h0fSksZj1oLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYS5oZWlnaHQ9PWhbMF0uaGVpZ2h0fSkpO2Yuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLmJhbmR3aWR0aC1iLmJhbmR3aWR0aH0pO2YubGVuZ3RoJiZiLnB1c2goZltNYXRoLmZsb29yKGYubGVuZ3RoLzIpXSk7Yi5wdXNoLmFwcGx5KGIsYS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuXCJ0ZXh0XCI9PWEudHlwZX0pKTtyZXR1cm4gYn07ZnVuY3Rpb24gRGcoYSl7cmV0dXJue3RyYWNrU2VsZWN0aW9uQ2FsbGJhY2s6YS5BLmJpbmQoYSkscHJvZ3Jlc3NDYWxsYmFjazpmdW5jdGlvbihhLGMpe2lmKGF8fGMpcmV0dXJuIG51bGx9fX1mdW5jdGlvbiBGZyhhKXtyZXR1cm4gYS5hP2EuYS5hP1Byb21pc2UucmVzb2x2ZSgpOmEuYS5pbml0KFZmKTpQcm9taXNlLnJlamVjdChuZXcgdCgyLDksOUUzKSl9XG5YLnByb3RvdHlwZS5vPWZ1bmN0aW9uKGEpe3ZhciBiPXt9O2lmKHRoaXMuail7dmFyIGM9dGhpcy5qLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm5cInZhcmlhbnRcIj09YS50eXBlfSksZD1udWxsO2MubGVuZ3RoJiYoZD0kYihhLGNbMF0pKTtkJiYoZC52aWRlbyYmKGIudmlkZW89ZC52aWRlbyksZC5hdWRpbyYmKGIuYXVkaW89ZC5hdWRpbykpfVViKHRoaXMuYixiLGEpO1RiKGEsdGhpcy5mLmdldENvbmZpZ3VyYXRpb24oKS5yZXN0cmljdGlvbnMse3dpZHRoOkluZmluaXR5LGhlaWdodDpJbmZpbml0eX0pfTtmdW5jdGlvbiBIZyhhKXt2YXIgYj1hLmI/YS5iLm0oKTpQcm9taXNlLnJlc29sdmUoKTthLmI9bnVsbDthLmM9bnVsbDthLnY9ITE7YS5qPW51bGw7YS5nPS0xO3JldHVybiBifVxuZnVuY3Rpb24gSWcoYSl7dmFyIGI9YS5wZXJpb2RzLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS52YXJpYW50c30pLnJlZHVjZSh4LFtdKS5tYXAoZnVuY3Rpb24oYSl7dmFyIGI9W107YS5hdWRpbyYmYi5wdXNoKGEuYXVkaW8pO2EudmlkZW8mJmIucHVzaChhLnZpZGVvKTtyZXR1cm4gYn0pLnJlZHVjZSh4LFtdKS5maWx0ZXIoQWEpO2E9YS5wZXJpb2RzLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS50ZXh0U3RyZWFtc30pLnJlZHVjZSh4LFtdKTtiLnB1c2guYXBwbHkoYixhKTtyZXR1cm4gUHJvbWlzZS5hbGwoYi5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuY3JlYXRlU2VnbWVudEluZGV4KCl9KSl9XG5YLnByb3RvdHlwZS5CPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZD1YYihhLG51bGwsbnVsbCksZT1aYihhLG51bGwpLGQ9dGhpcy5pLnRyYWNrU2VsZWN0aW9uQ2FsbGJhY2soZC5jb25jYXQoZSkpO3RoaXMuanx8KHRoaXMuaj1kLHRoaXMuYy5wZXJpb2RzLmZvckVhY2godGhpcy5vLmJpbmQodGhpcykpKTtmb3IoZT1kLmxlbmd0aC0xOzA8ZTstLWUpe3ZhciBmPSExO2ZvcihjPWUtMTswPD1jOy0tYylpZihkW2VdLnR5cGU9PWRbY10udHlwZSYmZFtlXS5raW5kPT1kW2NdLmtpbmQmJmRbZV0ubGFuZ3VhZ2U9PWRbY10ubGFuZ3VhZ2Upe2Y9ITA7YnJlYWt9aWYoZilicmVha31mPVtdO2ZvcihlPTA7ZTxkLmxlbmd0aDtlKyspKGI9JGIoYSxkW2VdKSk/KGIuYXVkaW8mJigoYz1mLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYS5pZD09Yi5hdWRpby5pZH0pWzBdKT9jLnZhcmlhbnRJZHMucHVzaChiLmlkKTooYz1iLnZpZGVvP2IuYmFuZHdpZHRoLzI6Yi5iYW5kd2lkdGgsZi5wdXNoKEpnKHRoaXMsXG5hLGIuYXVkaW8sYyxiLmlkKSkpKSxiLnZpZGVvJiYoKGM9Zi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaWQ9PWIudmlkZW8uaWR9KVswXSk/Yy52YXJpYW50SWRzLnB1c2goYi5pZCk6KGM9Yi5hdWRpbz9iLmJhbmR3aWR0aC8yOmIuYmFuZHdpZHRoLGYucHVzaChKZyh0aGlzLGEsYi52aWRlbyxjLGIuaWQpKSkpKTpmLnB1c2goSmcodGhpcyxhLGFjKGEsZFtlXSksMCkpO3JldHVybntzdGFydFRpbWU6YS5zdGFydFRpbWUsc3RyZWFtczpmfX07XG5mdW5jdGlvbiBKZyhhLGIsYyxkLGUpe3ZhciBmPVtdLGc9YS5jLnByZXNlbnRhdGlvblRpbWVsaW5lLm1hKCk7dmFyIGg9Zztmb3IodmFyIGw9Yy5maW5kU2VnbWVudFBvc2l0aW9uKGcpLG49bnVsbCE9bD9jLmdldFNlZ21lbnRSZWZlcmVuY2UobCk6bnVsbDtuOyloPWEuYS5jLnNlZ21lbnQrKyxkZyhhLmgsYy50eXBlLG4sKG4uZW5kVGltZS1uLnN0YXJ0VGltZSkqZC84LHtrZXk6aCxkYXRhOm51bGwsbWFuaWZlc3RLZXk6YS5nLHN0cmVhbU51bWJlcjpjLmlkLHNlZ21lbnROdW1iZXI6aH0pLGYucHVzaCh7c3RhcnRUaW1lOm4uc3RhcnRUaW1lLGVuZFRpbWU6bi5lbmRUaW1lLHVyaTpcIm9mZmxpbmU6XCIrYS5nK1wiL1wiK2MuaWQrXCIvXCIraH0pLGg9bi5lbmRUaW1lK2Iuc3RhcnRUaW1lLG49Yy5nZXRTZWdtZW50UmVmZXJlbmNlKCsrbCk7YS5sPU1hdGgubWF4KGEubCxoLWcpO2I9bnVsbDtjLmluaXRTZWdtZW50UmVmZXJlbmNlJiYoaD1hLmEuYy5zZWdtZW50KyssYj1cIm9mZmxpbmU6XCIrXG5hLmcrXCIvXCIrYy5pZCtcIi9cIitoLGRnKGEuaCxjLmNvbnRlbnRUeXBlLGMuaW5pdFNlZ21lbnRSZWZlcmVuY2UsMCx7a2V5OmgsZGF0YTpudWxsLG1hbmlmZXN0S2V5OmEuZyxzdHJlYW1OdW1iZXI6Yy5pZCxzZWdtZW50TnVtYmVyOi0xfSkpO2E9W107bnVsbCE9ZSYmYS5wdXNoKGUpO3JldHVybntpZDpjLmlkLHByaW1hcnk6Yy5wcmltYXJ5LHByZXNlbnRhdGlvblRpbWVPZmZzZXQ6Yy5wcmVzZW50YXRpb25UaW1lT2Zmc2V0fHwwLGNvbnRlbnRUeXBlOmMudHlwZSxtaW1lVHlwZTpjLm1pbWVUeXBlLGNvZGVjczpjLmNvZGVjcyxmcmFtZVJhdGU6Yy5mcmFtZVJhdGUsa2luZDpjLmtpbmQsbGFuZ3VhZ2U6Yy5sYW5ndWFnZSx3aWR0aDpjLndpZHRofHxudWxsLGhlaWdodDpjLmhlaWdodHx8bnVsbCxpbml0U2VnbWVudFVyaTpiLGVuY3J5cHRlZDpjLmVuY3J5cHRlZCxrZXlJZDpjLmtleUlkLHNlZ21lbnRzOmYsdmFyaWFudElkczphfX1cbmZ1bmN0aW9uIFkoYSl7aWYoIWEuZil0aHJvdyBuZXcgdCgyLDksOTAwMik7fXBnLm9mZmxpbmU9RWc7bShcInNoYWthLnBvbHlmaWxsLmluc3RhbGxBbGxcIixmdW5jdGlvbigpe2Zvcih2YXIgYT0wO2E8S2cubGVuZ3RoOysrYSlLZ1thXSgpfSk7dmFyIEtnPVtdO2Z1bmN0aW9uIExnKGEpe0tnLnB1c2goYSl9bShcInNoYWthLnBvbHlmaWxsLnJlZ2lzdGVyXCIsTGcpO2Z1bmN0aW9uIE1nKGEpe3ZhciBiPWEudHlwZS5yZXBsYWNlKC9eKHdlYmtpdHxtb3p8TVMpLyxcIlwiKS50b0xvd2VyQ2FzZSgpO2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBFdmVudCl2YXIgYz1uZXcgRXZlbnQoYixhKTtlbHNlIGM9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJFdmVudFwiKSxjLmluaXRFdmVudChiLGEuYnViYmxlcyxhLmNhbmNlbGFibGUpO2EudGFyZ2V0LmRpc3BhdGNoRXZlbnQoYyl9XG5MZyhmdW5jdGlvbigpe2lmKHdpbmRvdy5Eb2N1bWVudCl7dmFyIGE9RWxlbWVudC5wcm90b3R5cGU7YS5yZXF1ZXN0RnVsbHNjcmVlbj1hLnJlcXVlc3RGdWxsc2NyZWVufHxhLm1velJlcXVlc3RGdWxsU2NyZWVufHxhLm1zUmVxdWVzdEZ1bGxzY3JlZW58fGEud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW47YT1Eb2N1bWVudC5wcm90b3R5cGU7YS5leGl0RnVsbHNjcmVlbj1hLmV4aXRGdWxsc2NyZWVufHxhLm1vekNhbmNlbEZ1bGxTY3JlZW58fGEubXNFeGl0RnVsbHNjcmVlbnx8YS53ZWJraXRFeGl0RnVsbHNjcmVlbjtcImZ1bGxzY3JlZW5FbGVtZW50XCJpbiBkb2N1bWVudHx8KE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkb2N1bWVudCxcImZ1bGxzY3JlZW5FbGVtZW50XCIse2dldDpmdW5jdGlvbigpe3JldHVybiBkb2N1bWVudC5tb3pGdWxsU2NyZWVuRWxlbWVudHx8ZG9jdW1lbnQubXNGdWxsc2NyZWVuRWxlbWVudHx8ZG9jdW1lbnQud2Via2l0RnVsbHNjcmVlbkVsZW1lbnR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGRvY3VtZW50LFxuXCJmdWxsc2NyZWVuRW5hYmxlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZG9jdW1lbnQubW96RnVsbFNjcmVlbkVuYWJsZWR8fGRvY3VtZW50Lm1zRnVsbHNjcmVlbkVuYWJsZWR8fGRvY3VtZW50LndlYmtpdEZ1bGxzY3JlZW5FbmFibGVkfX0pKTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwid2Via2l0ZnVsbHNjcmVlbmNoYW5nZVwiLE1nKTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwid2Via2l0ZnVsbHNjcmVlbmVycm9yXCIsTWcpO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3pmdWxsc2NyZWVuY2hhbmdlXCIsTWcpO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3pmdWxsc2NyZWVuZXJyb3JcIixNZyk7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIk1TRnVsbHNjcmVlbkNoYW5nZVwiLE1nKTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiTVNGdWxsc2NyZWVuRXJyb3JcIixNZyl9fSk7TGcoZnVuY3Rpb24oKXt2YXIgYT1uYXZpZ2F0b3IudXNlckFnZW50O2EmJjA8PWEuaW5kZXhPZihcIkNyS2V5XCIpJiZkZWxldGUgd2luZG93LmluZGV4ZWREQn0pO2Z1bmN0aW9uIE5nKGEpe3RoaXMuZj1bXTt0aGlzLmI9W107dGhpcy5hPVtdOyhuZXcgUSkuY2EoXCJwc3NoXCIsdGhpcy5jLmJpbmQodGhpcykpLnBhcnNlKGEuYnVmZmVyKX1OZy5wcm90b3R5cGUuYz1mdW5jdGlvbihhKXtpZighKDE8YS52ZXJzaW9uKSl7dmFyIGI9WWEoYS5zLkphKDE2KSksYz1bXTtpZigwPGEudmVyc2lvbilmb3IodmFyIGQ9YS5zLkQoKSxlPTA7ZTxkOysrZSl7dmFyIGY9WWEoYS5zLkphKDE2KSk7Yy5wdXNoKGYpfWQ9YS5zLkQoKTthLnMuSShkKTt0aGlzLmIucHVzaC5hcHBseSh0aGlzLmIsYyk7dGhpcy5mLnB1c2goYik7dGhpcy5hLnB1c2goe3N0YXJ0OmEuc3RhcnQsZW5kOmEuc3RhcnQrYS5zaXplLTF9KX19O2Z1bmN0aW9uIE9nKGEsYil7dHJ5e3ZhciBjPW5ldyBQZyhhLGIpO3JldHVybiBQcm9taXNlLnJlc29sdmUoYyl9Y2F0Y2goZCl7cmV0dXJuIFByb21pc2UucmVqZWN0KGQpfX1cbmZ1bmN0aW9uIFBnKGEsYil7dGhpcy5rZXlTeXN0ZW09YTtmb3IodmFyIGM9ITEsZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdO3ZhciBmPXthdWRpb0NhcGFiaWxpdGllczpbXSx2aWRlb0NhcGFiaWxpdGllczpbXSxwZXJzaXN0ZW50U3RhdGU6XCJvcHRpb25hbFwiLGRpc3RpbmN0aXZlSWRlbnRpZmllcjpcIm9wdGlvbmFsXCIsaW5pdERhdGFUeXBlczplLmluaXREYXRhVHlwZXMsc2Vzc2lvblR5cGVzOltcInRlbXBvcmFyeVwiXSxsYWJlbDplLmxhYmVsfSxnPSExO2lmKGUuYXVkaW9DYXBhYmlsaXRpZXMpZm9yKHZhciBoPTA7aDxlLmF1ZGlvQ2FwYWJpbGl0aWVzLmxlbmd0aDsrK2gpe3ZhciBsPWUuYXVkaW9DYXBhYmlsaXRpZXNbaF07aWYobC5jb250ZW50VHlwZSl7Zz0hMDt2YXIgbj1sLmNvbnRlbnRUeXBlLnNwbGl0KFwiO1wiKVswXTtNU01lZGlhS2V5cy5pc1R5cGVTdXBwb3J0ZWQodGhpcy5rZXlTeXN0ZW0sbikmJihmLmF1ZGlvQ2FwYWJpbGl0aWVzLnB1c2gobCksYz0hMCl9fWlmKGUudmlkZW9DYXBhYmlsaXRpZXMpZm9yKGg9XG4wO2g8ZS52aWRlb0NhcGFiaWxpdGllcy5sZW5ndGg7KytoKWw9ZS52aWRlb0NhcGFiaWxpdGllc1toXSxsLmNvbnRlbnRUeXBlJiYoZz0hMCxuPWwuY29udGVudFR5cGUuc3BsaXQoXCI7XCIpWzBdLE1TTWVkaWFLZXlzLmlzVHlwZVN1cHBvcnRlZCh0aGlzLmtleVN5c3RlbSxuKSYmKGYudmlkZW9DYXBhYmlsaXRpZXMucHVzaChsKSxjPSEwKSk7Z3x8KGM9TVNNZWRpYUtleXMuaXNUeXBlU3VwcG9ydGVkKHRoaXMua2V5U3lzdGVtLFwidmlkZW8vbXA0XCIpKTtcInJlcXVpcmVkXCI9PWUucGVyc2lzdGVudFN0YXRlJiYoZi5wZXJzaXN0ZW50U3RhdGU9XCJyZXF1aXJlZFwiLGYuc2Vzc2lvblR5cGVzPVtcInBlcnNpc3RlbnQtbGljZW5zZVwiXSk7aWYoYyl7dGhpcy5hPWY7cmV0dXJufX1lPUVycm9yKFwiVW5zdXBwb3J0ZWQga2V5U3lzdGVtXCIpO2UubmFtZT1cIk5vdFN1cHBvcnRlZEVycm9yXCI7ZS5jb2RlPURPTUV4Y2VwdGlvbi5OT1RfU1VQUE9SVEVEX0VSUjt0aHJvdyBlO31cblBnLnByb3RvdHlwZS5jcmVhdGVNZWRpYUtleXM9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgUWcodGhpcy5rZXlTeXN0ZW0pO3JldHVybiBQcm9taXNlLnJlc29sdmUoYSl9O1BnLnByb3RvdHlwZS5nZXRDb25maWd1cmF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYX07ZnVuY3Rpb24gUmcoYSl7dmFyIGI9dGhpcy5tZWRpYUtleXM7YiYmYiE9YSYmU2coYixudWxsKTtkZWxldGUgdGhpcy5tZWRpYUtleXM7cmV0dXJuKHRoaXMubWVkaWFLZXlzPWEpP1NnKGEsdGhpcyk6UHJvbWlzZS5yZXNvbHZlKCl9ZnVuY3Rpb24gUWcoYSl7dGhpcy5hPW5ldyBNU01lZGlhS2V5cyhhKTt0aGlzLmI9bmV3IER9UWcucHJvdG90eXBlLmNyZWF0ZVNlc3Npb249ZnVuY3Rpb24oYSl7aWYoXCJ0ZW1wb3JhcnlcIiE9KGF8fFwidGVtcG9yYXJ5XCIpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTZXNzaW9uIHR5cGUgXCIrYStcIiBpcyB1bnN1cHBvcnRlZCBvbiB0aGlzIHBsYXRmb3JtLlwiKTtyZXR1cm4gbmV3IFRnKHRoaXMuYSl9O1xuUWcucHJvdG90eXBlLnNldFNlcnZlckNlcnRpZmljYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSghMSl9O2Z1bmN0aW9uIFNnKGEsYil7ZnVuY3Rpb24gYygpe2IubXNTZXRNZWRpYUtleXMoZC5hKTtiLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJsb2FkZWRtZXRhZGF0YVwiLGMpfUlhKGEuYik7aWYoIWIpcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO0UoYS5iLGIsXCJtc25lZWRrZXlcIixVZyk7dmFyIGQ9YTt0cnl7cmV0dXJuIDE8PWIucmVhZHlTdGF0ZT9iLm1zU2V0TWVkaWFLZXlzKGEuYSk6Yi5hZGRFdmVudExpc3RlbmVyKFwibG9hZGVkbWV0YWRhdGFcIixjKSxQcm9taXNlLnJlc29sdmUoKX1jYXRjaChlKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoZSl9fVxuZnVuY3Rpb24gVGcoYSl7cC5jYWxsKHRoaXMpO3RoaXMuYz1udWxsO3RoaXMuZz1hO3RoaXMuYj10aGlzLmE9bnVsbDt0aGlzLmY9bmV3IEQ7dGhpcy5zZXNzaW9uSWQ9XCJcIjt0aGlzLmV4cGlyYXRpb249TmFOO3RoaXMuY2xvc2VkPW5ldyBBO3RoaXMua2V5U3RhdHVzZXM9bmV3IFZnfWJhKFRnKTtrPVRnLnByb3RvdHlwZTtrLmdlbmVyYXRlUmVxdWVzdD1mdW5jdGlvbihhLGIpe3RoaXMuYT1uZXcgQTt0cnl7dGhpcy5jPXRoaXMuZy5jcmVhdGVTZXNzaW9uKFwidmlkZW8vbXA0XCIsbmV3IFVpbnQ4QXJyYXkoYiksbnVsbCksRSh0aGlzLmYsdGhpcy5jLFwibXNrZXltZXNzYWdlXCIsdGhpcy5uZC5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmMsXCJtc2tleWFkZGVkXCIsdGhpcy5sZC5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmMsXCJtc2tleWVycm9yXCIsdGhpcy5tZC5iaW5kKHRoaXMpKSxXZyh0aGlzLFwic3RhdHVzLXBlbmRpbmdcIil9Y2F0Y2goYyl7dGhpcy5hLnJlamVjdChjKX1yZXR1cm4gdGhpcy5hfTtcbmsubG9hZD1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlamVjdChFcnJvcihcIk1lZGlhS2V5U2Vzc2lvbi5sb2FkIG5vdCB5ZXQgc3VwcG9ydGVkXCIpKX07ay51cGRhdGU9ZnVuY3Rpb24oYSl7dGhpcy5iPW5ldyBBO3RyeXt0aGlzLmMudXBkYXRlKG5ldyBVaW50OEFycmF5KGEpKX1jYXRjaChiKXt0aGlzLmIucmVqZWN0KGIpfXJldHVybiB0aGlzLmJ9O2suY2xvc2U9ZnVuY3Rpb24oKXt0cnl7dGhpcy5jLmNsb3NlKCksdGhpcy5jbG9zZWQucmVzb2x2ZSgpLElhKHRoaXMuZil9Y2F0Y2goYSl7dGhpcy5jbG9zZWQucmVqZWN0KGEpfXJldHVybiB0aGlzLmNsb3NlZH07ay5yZW1vdmU9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoRXJyb3IoXCJNZWRpYUtleVNlc3Npb24ucmVtb3ZlIGlzIG9ubHkgYXBwbGljYWJsZSBmb3IgcGVyc2lzdGVudCBsaWNlbnNlcywgd2hpY2ggYXJlIG5vdCBzdXBwb3J0ZWQgb24gdGhpcyBwbGF0Zm9ybVwiKSl9O1xuZnVuY3Rpb24gVWcoYSl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJDdXN0b21FdmVudFwiKTtiLmluaXRDdXN0b21FdmVudChcImVuY3J5cHRlZFwiLCExLCExLG51bGwpO2IuaW5pdERhdGFUeXBlPVwiY2VuY1wiO2lmKGE9YS5pbml0RGF0YSl7dmFyIGM9bmV3IE5nKGEpO2lmKCEoMT49Yy5hLmxlbmd0aCkpe2Zvcih2YXIgZD1bXSxlPTA7ZTxjLmEubGVuZ3RoO2UrKylkLnB1c2goYS5zdWJhcnJheShjLmFbZV0uc3RhcnQsYy5hW2VdLmVuZCsxKSk7ZT1YZzthPVtdO2ZvcihjPTA7YzxkLmxlbmd0aDsrK2Mpe2Zvcih2YXIgZj0hMSxnPTA7ZzxhLmxlbmd0aCYmIShmPWU/ZShkW2NdLGFbZ10pOmRbY109PT1hW2ddKTsrK2cpO2Z8fGEucHVzaChkW2NdKX1mb3IoZT1kPTA7ZTxhLmxlbmd0aDtlKyspZCs9YVtlXS5sZW5ndGg7ZD1uZXcgVWludDhBcnJheShkKTtmb3IoZT1jPTA7ZTxhLmxlbmd0aDtlKyspZC5zZXQoYVtlXSxjKSxjKz1hW2VdLmxlbmd0aDthPWR9fWIuaW5pdERhdGE9XG5hO3RoaXMuZGlzcGF0Y2hFdmVudChiKX1mdW5jdGlvbiBYZyhhLGIpe3JldHVybiBaYShhLGIpfWsubmQ9ZnVuY3Rpb24oYSl7dGhpcy5hJiYodGhpcy5hLnJlc29sdmUoKSx0aGlzLmE9bnVsbCk7dGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBIKFwibWVzc2FnZVwiLHttZXNzYWdlVHlwZTp2b2lkIDA9PXRoaXMua2V5U3RhdHVzZXMucWIoKT9cImxpY2Vuc2VyZXF1ZXN0XCI6XCJsaWNlbnNlcmVuZXdhbFwiLG1lc3NhZ2U6YS5tZXNzYWdlLmJ1ZmZlcn0pKX07ay5sZD1mdW5jdGlvbigpe3RoaXMuYT8oV2codGhpcyxcInVzYWJsZVwiKSx0aGlzLmEucmVzb2x2ZSgpLHRoaXMuYT1udWxsKTp0aGlzLmImJihXZyh0aGlzLFwidXNhYmxlXCIpLHRoaXMuYi5yZXNvbHZlKCksdGhpcy5iPW51bGwpfTtcbmsubWQ9ZnVuY3Rpb24oKXt2YXIgYT1FcnJvcihcIkVNRSBQYXRjaGVkTWVkaWFLZXlzTXMga2V5IGVycm9yXCIpO2EuZXJyb3JDb2RlPXRoaXMuYy5lcnJvcjtpZih0aGlzLmEpdGhpcy5hLnJlamVjdChhKSx0aGlzLmE9bnVsbDtlbHNlIGlmKHRoaXMuYil0aGlzLmIucmVqZWN0KGEpLHRoaXMuYj1udWxsO2Vsc2Ugc3dpdGNoKHRoaXMuYy5lcnJvci5jb2RlKXtjYXNlIE1TTWVkaWFLZXlFcnJvci5NU19NRURJQV9LRVlFUlJfT1VUUFVUOmNhc2UgTVNNZWRpYUtleUVycm9yLk1TX01FRElBX0tFWUVSUl9IQVJEV0FSRUNIQU5HRTpXZyh0aGlzLFwib3V0cHV0LW5vdC1hbGxvd2VkXCIpO2RlZmF1bHQ6V2codGhpcyxcImludGVybmFsLWVycm9yXCIpfX07ZnVuY3Rpb24gV2coYSxiKXthLmtleVN0YXR1c2VzLkliKGIpO2EuZGlzcGF0Y2hFdmVudChuZXcgSChcImtleXN0YXR1c2VzY2hhbmdlXCIpKX1mdW5jdGlvbiBWZygpe3RoaXMuc2l6ZT0wO3RoaXMuYT12b2lkIDB9dmFyIFlnO2s9VmcucHJvdG90eXBlO1xuay5JYj1mdW5jdGlvbihhKXt0aGlzLnNpemU9dm9pZCAwPT1hPzA6MTt0aGlzLmE9YX07ay5xYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2suZm9yRWFjaD1mdW5jdGlvbihhKXt0aGlzLmEmJmEodGhpcy5hLFlnKX07ay5nZXQ9ZnVuY3Rpb24oYSl7aWYodGhpcy5oYXMoYSkpcmV0dXJuIHRoaXMuYX07ay5oYXM9ZnVuY3Rpb24oYSl7dmFyIGI9WWc7cmV0dXJuIHRoaXMuYSYmWmEobmV3IFVpbnQ4QXJyYXkoYSksbmV3IFVpbnQ4QXJyYXkoYikpPyEwOiExfTtrLmVudHJpZXM9ZnVuY3Rpb24oKXt9O2sua2V5cz1mdW5jdGlvbigpe307ay52YWx1ZXM9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIFpnKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KEVycm9yKFwiVGhlIGtleSBzeXN0ZW0gc3BlY2lmaWVkIGlzIG5vdCBzdXBwb3J0ZWQuXCIpKX1mdW5jdGlvbiAkZyhhKXtyZXR1cm4gYT9Qcm9taXNlLnJlamVjdChFcnJvcihcIk1lZGlhS2V5cyBub3Qgc3VwcG9ydGVkLlwiKSk6UHJvbWlzZS5yZXNvbHZlKCl9ZnVuY3Rpb24gYWgoKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiSWxsZWdhbCBjb25zdHJ1Y3Rvci5cIik7fWFoLnByb3RvdHlwZS5jcmVhdGVTZXNzaW9uPWZ1bmN0aW9uKCl7fTthaC5wcm90b3R5cGUuc2V0U2VydmVyQ2VydGlmaWNhdGU9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIGJoKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIklsbGVnYWwgY29uc3RydWN0b3IuXCIpO31iaC5wcm90b3R5cGUuZ2V0Q29uZmlndXJhdGlvbj1mdW5jdGlvbigpe307YmgucHJvdG90eXBlLmNyZWF0ZU1lZGlhS2V5cz1mdW5jdGlvbigpe307dmFyIGNoPVwiXCI7ZnVuY3Rpb24gZGgoYSl7Y2g9YTtlaD0obmV3IFVpbnQ4QXJyYXkoWzBdKSkuYnVmZmVyO25hdmlnYXRvci5yZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3M9Zmg7ZGVsZXRlIEhUTUxNZWRpYUVsZW1lbnQucHJvdG90eXBlLm1lZGlhS2V5cztIVE1MTWVkaWFFbGVtZW50LnByb3RvdHlwZS5tZWRpYUtleXM9bnVsbDtIVE1MTWVkaWFFbGVtZW50LnByb3RvdHlwZS5zZXRNZWRpYUtleXM9Z2g7d2luZG93Lk1lZGlhS2V5cz1oaDt3aW5kb3cuTWVkaWFLZXlTeXN0ZW1BY2Nlc3M9aWh9ZnVuY3Rpb24gamgoYSl7dmFyIGI9Y2g7cmV0dXJuIGI/YithLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Euc2xpY2UoMSk6YX1mdW5jdGlvbiBmaChhLGIpe3RyeXt2YXIgYz1uZXcgaWgoYSxiKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGMpfWNhdGNoKGQpe3JldHVybiBQcm9taXNlLnJlamVjdChkKX19XG5mdW5jdGlvbiBnaChhKXt2YXIgYj10aGlzLm1lZGlhS2V5cztiJiZiIT1hJiZraChiLG51bGwpO2RlbGV0ZSB0aGlzLm1lZGlhS2V5czsodGhpcy5tZWRpYUtleXM9YSkmJmtoKGEsdGhpcyk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfVxuZnVuY3Rpb24gaWgoYSxiKXt0aGlzLmE9dGhpcy5rZXlTeXN0ZW09YTt2YXIgYz0hMDtcIm9yZy53My5jbGVhcmtleVwiPT1hJiYodGhpcy5hPVwid2Via2l0LW9yZy53My5jbGVhcmtleVwiLGM9ITEpO3ZhciBkPSExO3ZhciBlPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidmlkZW9cIik7dmFyIGY9ZS5sZW5ndGg/ZVswXTpkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIik7Zm9yKHZhciBnPTA7ZzxiLmxlbmd0aDsrK2cpe2U9YltnXTt2YXIgaD17YXVkaW9DYXBhYmlsaXRpZXM6W10sdmlkZW9DYXBhYmlsaXRpZXM6W10scGVyc2lzdGVudFN0YXRlOlwib3B0aW9uYWxcIixkaXN0aW5jdGl2ZUlkZW50aWZpZXI6XCJvcHRpb25hbFwiLGluaXREYXRhVHlwZXM6ZS5pbml0RGF0YVR5cGVzLHNlc3Npb25UeXBlczpbXCJ0ZW1wb3JhcnlcIl0sbGFiZWw6ZS5sYWJlbH0sbD0hMTtpZihlLmF1ZGlvQ2FwYWJpbGl0aWVzKWZvcih2YXIgbj0wO248ZS5hdWRpb0NhcGFiaWxpdGllcy5sZW5ndGg7KytuKXt2YXIgcT1cbmUuYXVkaW9DYXBhYmlsaXRpZXNbbl07aWYocS5jb250ZW50VHlwZSl7dmFyIGw9ITAscj1xLmNvbnRlbnRUeXBlLnNwbGl0KFwiO1wiKVswXTtmLmNhblBsYXlUeXBlKHIsdGhpcy5hKSYmKGguYXVkaW9DYXBhYmlsaXRpZXMucHVzaChxKSxkPSEwKX19aWYoZS52aWRlb0NhcGFiaWxpdGllcylmb3Iobj0wO248ZS52aWRlb0NhcGFiaWxpdGllcy5sZW5ndGg7KytuKXE9ZS52aWRlb0NhcGFiaWxpdGllc1tuXSxxLmNvbnRlbnRUeXBlJiYobD0hMCxmLmNhblBsYXlUeXBlKHEuY29udGVudFR5cGUsdGhpcy5hKSYmKGgudmlkZW9DYXBhYmlsaXRpZXMucHVzaChxKSxkPSEwKSk7bHx8KGQ9Zi5jYW5QbGF5VHlwZShcInZpZGVvL21wNFwiLHRoaXMuYSl8fGYuY2FuUGxheVR5cGUoXCJ2aWRlby93ZWJtXCIsdGhpcy5hKSk7XCJyZXF1aXJlZFwiPT1lLnBlcnNpc3RlbnRTdGF0ZSYmKGM/KGgucGVyc2lzdGVudFN0YXRlPVwicmVxdWlyZWRcIixoLnNlc3Npb25UeXBlcz1bXCJwZXJzaXN0ZW50LWxpY2Vuc2VcIl0pOlxuZD0hMSk7aWYoZCl7dGhpcy5iPWg7cmV0dXJufX1jPVwiVW5zdXBwb3J0ZWQga2V5U3lzdGVtXCI7aWYoXCJvcmcudzMuY2xlYXJrZXlcIj09YXx8XCJjb20ud2lkZXZpbmUuYWxwaGFcIj09YSljPVwiTm9uZSBvZiB0aGUgcmVxdWVzdGVkIGNvbmZpZ3VyYXRpb25zIHdlcmUgc3VwcG9ydGVkLlwiO2M9RXJyb3IoYyk7Yy5uYW1lPVwiTm90U3VwcG9ydGVkRXJyb3JcIjtjLmNvZGU9RE9NRXhjZXB0aW9uLk5PVF9TVVBQT1JURURfRVJSO3Rocm93IGM7fWloLnByb3RvdHlwZS5jcmVhdGVNZWRpYUtleXM9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgaGgodGhpcy5hKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGEpfTtpaC5wcm90b3R5cGUuZ2V0Q29uZmlndXJhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ9O2Z1bmN0aW9uIGhoKGEpe3RoaXMuZz1hO3RoaXMuYj1udWxsO3RoaXMuYT1uZXcgRDt0aGlzLmM9W107dGhpcy5mPXt9fVxuZnVuY3Rpb24ga2goYSxiKXthLmI9YjtJYShhLmEpO3ZhciBjPWNoO2ImJihFKGEuYSxiLGMrXCJuZWVka2V5XCIsYS5BZC5iaW5kKGEpKSxFKGEuYSxiLGMrXCJrZXltZXNzYWdlXCIsYS56ZC5iaW5kKGEpKSxFKGEuYSxiLGMrXCJrZXlhZGRlZFwiLGEueGQuYmluZChhKSksRShhLmEsYixjK1wia2V5ZXJyb3JcIixhLnlkLmJpbmQoYSkpKX1rPWhoLnByb3RvdHlwZTtrLmNyZWF0ZVNlc3Npb249ZnVuY3Rpb24oYSl7dmFyIGI9YXx8XCJ0ZW1wb3JhcnlcIjtpZihcInRlbXBvcmFyeVwiIT1iJiZcInBlcnNpc3RlbnQtbGljZW5zZVwiIT1iKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTZXNzaW9uIHR5cGUgXCIrYStcIiBpcyB1bnN1cHBvcnRlZCBvbiB0aGlzIHBsYXRmb3JtLlwiKTthPXRoaXMuYnx8ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInZpZGVvXCIpO2Euc3JjfHwoYS5zcmM9XCJhYm91dDpibGFua1wiKTtiPW5ldyBsaChhLHRoaXMuZyxiKTt0aGlzLmMucHVzaChiKTtyZXR1cm4gYn07XG5rLnNldFNlcnZlckNlcnRpZmljYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSghMSl9O2suQWQ9ZnVuY3Rpb24oYSl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJDdXN0b21FdmVudFwiKTtiLmluaXRDdXN0b21FdmVudChcImVuY3J5cHRlZFwiLCExLCExLG51bGwpO2IuaW5pdERhdGFUeXBlPVwid2VibVwiO2IuaW5pdERhdGE9YS5pbml0RGF0YTt0aGlzLmIuZGlzcGF0Y2hFdmVudChiKX07ay56ZD1mdW5jdGlvbihhKXt2YXIgYj1taCh0aGlzLGEuc2Vzc2lvbklkKTtiJiYoYT1uZXcgSChcIm1lc3NhZ2VcIix7bWVzc2FnZVR5cGU6dm9pZCAwPT1iLmtleVN0YXR1c2VzLnFiKCk/XCJsaWNlbnNlcmVxdWVzdFwiOlwibGljZW5zZXJlbmV3YWxcIixtZXNzYWdlOmEubWVzc2FnZX0pLGIuYiYmKGIuYi5yZXNvbHZlKCksYi5iPW51bGwpLGIuZGlzcGF0Y2hFdmVudChhKSl9O1xuay54ZD1mdW5jdGlvbihhKXtpZihhPW1oKHRoaXMsYS5zZXNzaW9uSWQpKW5oKGEsXCJ1c2FibGVcIiksYS5hJiZhLmEucmVzb2x2ZSgpLGEuYT1udWxsfTtcbmsueWQ9ZnVuY3Rpb24oYSl7dmFyIGI9bWgodGhpcyxhLnNlc3Npb25JZCk7aWYoYil7dmFyIGM9RXJyb3IoXCJFTUUgdjAuMWIga2V5IGVycm9yXCIpO2MuZXJyb3JDb2RlPWEuZXJyb3JDb2RlO2MuZXJyb3JDb2RlLnN5c3RlbUNvZGU9YS5zeXN0ZW1Db2RlOyFhLnNlc3Npb25JZCYmYi5iPyhjLm1ldGhvZD1cImdlbmVyYXRlUmVxdWVzdFwiLDQ1PT1hLnN5c3RlbUNvZGUmJihjLm1lc3NhZ2U9XCJVbnN1cHBvcnRlZCBzZXNzaW9uIHR5cGUuXCIpLGIuYi5yZWplY3QoYyksYi5iPW51bGwpOmEuc2Vzc2lvbklkJiZiLmE/KGMubWV0aG9kPVwidXBkYXRlXCIsYi5hLnJlamVjdChjKSxiLmE9bnVsbCk6KGM9YS5zeXN0ZW1Db2RlLGEuZXJyb3JDb2RlLmNvZGU9PU1lZGlhS2V5RXJyb3IuTUVESUFfS0VZRVJSX09VVFBVVD9uaChiLFwib3V0cHV0LXJlc3RyaWN0ZWRcIik6MT09Yz9uaChiLFwiZXhwaXJlZFwiKTpuaChiLFwiaW50ZXJuYWwtZXJyb3JcIikpfX07XG5mdW5jdGlvbiBtaChhLGIpe3ZhciBjPWEuZltiXTtyZXR1cm4gYz9jOihjPWEuYy5zaGlmdCgpKT8oYy5zZXNzaW9uSWQ9YixhLmZbYl09Yyk6bnVsbH1mdW5jdGlvbiBsaChhLGIsYyl7cC5jYWxsKHRoaXMpO3RoaXMuZj1hO3RoaXMuaD0hMTt0aGlzLmE9dGhpcy5iPW51bGw7dGhpcy5jPWI7dGhpcy5nPWM7dGhpcy5zZXNzaW9uSWQ9XCJcIjt0aGlzLmV4cGlyYXRpb249TmFOO3RoaXMuY2xvc2VkPW5ldyBBO3RoaXMua2V5U3RhdHVzZXM9bmV3IG9ofWJhKGxoKTtcbmZ1bmN0aW9uIHBoKGEsYixjKXtpZihhLmgpcmV0dXJuIFByb21pc2UucmVqZWN0KEVycm9yKFwiVGhlIHNlc3Npb24gaXMgYWxyZWFkeSBpbml0aWFsaXplZC5cIikpO2EuaD0hMDt0cnl7aWYoXCJwZXJzaXN0ZW50LWxpY2Vuc2VcIj09YS5nKWlmKGMpdmFyIGQ9bmV3IFVpbnQ4QXJyYXkoU2EoXCJMT0FEX1NFU1NJT058XCIrYykpO2Vsc2V7dmFyIGU9U2EoXCJQRVJTSVNURU5UfFwiKSxmPW5ldyBVaW50OEFycmF5KGUuYnl0ZUxlbmd0aCtiLmJ5dGVMZW5ndGgpO2Yuc2V0KG5ldyBVaW50OEFycmF5KGUpLDApO2Yuc2V0KG5ldyBVaW50OEFycmF5KGIpLGUuYnl0ZUxlbmd0aCk7ZD1mfWVsc2UgZD1uZXcgVWludDhBcnJheShiKX1jYXRjaChoKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoaCl9YS5iPW5ldyBBO3ZhciBnPWpoKFwiZ2VuZXJhdGVLZXlSZXF1ZXN0XCIpO3RyeXthLmZbZ10oYS5jLGQpfWNhdGNoKGgpe2lmKFwiSW52YWxpZFN0YXRlRXJyb3JcIiE9aC5uYW1lKXJldHVybiBhLmI9bnVsbCxQcm9taXNlLnJlamVjdChoKTtcbnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0cnl7dGhpcy5mW2ddKHRoaXMuYyxkKX1jYXRjaChsKXt0aGlzLmIucmVqZWN0KGwpLHRoaXMuYj1udWxsfX0uYmluZChhKSwxMCl9cmV0dXJuIGEuYn1rPWxoLnByb3RvdHlwZTtcbmsuS2I9ZnVuY3Rpb24oYSxiKXtpZih0aGlzLmEpdGhpcy5hLnRoZW4odGhpcy5LYi5iaW5kKHRoaXMsYSxiKSlbXCJjYXRjaFwiXSh0aGlzLktiLmJpbmQodGhpcyxhLGIpKTtlbHNle3RoaXMuYT1hO2lmKFwid2Via2l0LW9yZy53My5jbGVhcmtleVwiPT10aGlzLmMpe3ZhciBjPUYoYik7dmFyIGQ9SlNPTi5wYXJzZShjKTtcIm9jdFwiIT1kLmtleXNbMF0ua3R5JiYodGhpcy5hLnJlamVjdChFcnJvcihcIlJlc3BvbnNlIGlzIG5vdCBhIHZhbGlkIEpTT04gV2ViIEtleSBTZXQuXCIpKSx0aGlzLmE9bnVsbCk7Yz1XYShkLmtleXNbMF0uayk7ZD1XYShkLmtleXNbMF0ua2lkKX1lbHNlIGM9bmV3IFVpbnQ4QXJyYXkoYiksZD1udWxsO3ZhciBlPWpoKFwiYWRkS2V5XCIpO3RyeXt0aGlzLmZbZV0odGhpcy5jLGMsZCx0aGlzLnNlc3Npb25JZCl9Y2F0Y2goZil7dGhpcy5hLnJlamVjdChmKSx0aGlzLmE9bnVsbH19fTtcbmZ1bmN0aW9uIG5oKGEsYil7YS5rZXlTdGF0dXNlcy5JYihiKTthLmRpc3BhdGNoRXZlbnQobmV3IEgoXCJrZXlzdGF0dXNlc2NoYW5nZVwiKSl9ay5nZW5lcmF0ZVJlcXVlc3Q9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gcGgodGhpcyxiLG51bGwpfTtrLmxvYWQ9ZnVuY3Rpb24oYSl7cmV0dXJuXCJwZXJzaXN0ZW50LWxpY2Vuc2VcIj09dGhpcy5nP3BoKHRoaXMsbnVsbCxhKTpQcm9taXNlLnJlamVjdChFcnJvcihcIk5vdCBhIHBlcnNpc3RlbnQgc2Vzc2lvbi5cIikpfTtrLnVwZGF0ZT1mdW5jdGlvbihhKXt2YXIgYj1uZXcgQTt0aGlzLktiKGIsYSk7cmV0dXJuIGJ9O1xuay5jbG9zZT1mdW5jdGlvbigpe2lmKFwicGVyc2lzdGVudC1saWNlbnNlXCIhPXRoaXMuZyl7aWYoIXRoaXMuc2Vzc2lvbklkKXJldHVybiB0aGlzLmNsb3NlZC5yZWplY3QoRXJyb3IoXCJUaGUgc2Vzc2lvbiBpcyBub3QgY2FsbGFibGUuXCIpKSx0aGlzLmNsb3NlZDt2YXIgYT1qaChcImNhbmNlbEtleVJlcXVlc3RcIik7dHJ5e3RoaXMuZlthXSh0aGlzLmMsdGhpcy5zZXNzaW9uSWQpfWNhdGNoKGIpe319dGhpcy5jbG9zZWQucmVzb2x2ZSgpO3JldHVybiB0aGlzLmNsb3NlZH07ay5yZW1vdmU9ZnVuY3Rpb24oKXtyZXR1cm5cInBlcnNpc3RlbnQtbGljZW5zZVwiIT10aGlzLmc/UHJvbWlzZS5yZWplY3QoRXJyb3IoXCJOb3QgYSBwZXJzaXN0ZW50IHNlc3Npb24uXCIpKTp0aGlzLmNsb3NlKCl9O2Z1bmN0aW9uIG9oKCl7dGhpcy5zaXplPTA7dGhpcy5hPXZvaWQgMH12YXIgZWg7az1vaC5wcm90b3R5cGU7ay5JYj1mdW5jdGlvbihhKXt0aGlzLnNpemU9dm9pZCAwPT1hPzA6MTt0aGlzLmE9YX07XG5rLnFiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYX07ay5mb3JFYWNoPWZ1bmN0aW9uKGEpe3RoaXMuYSYmYSh0aGlzLmEsZWgpfTtrLmdldD1mdW5jdGlvbihhKXtpZih0aGlzLmhhcyhhKSlyZXR1cm4gdGhpcy5hfTtrLmhhcz1mdW5jdGlvbihhKXt2YXIgYj1laDtyZXR1cm4gdGhpcy5hJiZaYShuZXcgVWludDhBcnJheShhKSxuZXcgVWludDhBcnJheShiKSk/ITA6ITF9O2suZW50cmllcz1mdW5jdGlvbigpe307ay5rZXlzPWZ1bmN0aW9uKCl7fTtrLnZhbHVlcz1mdW5jdGlvbigpe307TGcoZnVuY3Rpb24oKXshd2luZG93LkhUTUxWaWRlb0VsZW1lbnR8fG5hdmlnYXRvci5yZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3MmJk1lZGlhS2V5U3lzdGVtQWNjZXNzLnByb3RvdHlwZS5nZXRDb25maWd1cmF0aW9ufHwoSFRNTE1lZGlhRWxlbWVudC5wcm90b3R5cGUud2Via2l0R2VuZXJhdGVLZXlSZXF1ZXN0P2RoKFwid2Via2l0XCIpOkhUTUxNZWRpYUVsZW1lbnQucHJvdG90eXBlLmdlbmVyYXRlS2V5UmVxdWVzdD9kaChcIlwiKTp3aW5kb3cuTVNNZWRpYUtleXM/KFlnPShuZXcgVWludDhBcnJheShbMF0pKS5idWZmZXIsZGVsZXRlIEhUTUxNZWRpYUVsZW1lbnQucHJvdG90eXBlLm1lZGlhS2V5cyxIVE1MTWVkaWFFbGVtZW50LnByb3RvdHlwZS5tZWRpYUtleXM9bnVsbCxIVE1MTWVkaWFFbGVtZW50LnByb3RvdHlwZS5zZXRNZWRpYUtleXM9Umcsd2luZG93Lk1lZGlhS2V5cz1RZyx3aW5kb3cuTWVkaWFLZXlTeXN0ZW1BY2Nlc3M9UGcsbmF2aWdhdG9yLnJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2Vzcz1cbk9nKToobmF2aWdhdG9yLnJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2Vzcz1aZyxkZWxldGUgSFRNTE1lZGlhRWxlbWVudC5wcm90b3R5cGUubWVkaWFLZXlzLEhUTUxNZWRpYUVsZW1lbnQucHJvdG90eXBlLm1lZGlhS2V5cz1udWxsLEhUTUxNZWRpYUVsZW1lbnQucHJvdG90eXBlLnNldE1lZGlhS2V5cz0kZyx3aW5kb3cuTWVkaWFLZXlzPWFoLHdpbmRvdy5NZWRpYUtleVN5c3RlbUFjY2Vzcz1iaCkpfSk7ZnVuY3Rpb24gcWgoKXt2YXIgYT1NZWRpYVNvdXJjZS5wcm90b3R5cGUuYWRkU291cmNlQnVmZmVyO01lZGlhU291cmNlLnByb3RvdHlwZS5hZGRTb3VyY2VCdWZmZXI9ZnVuY3Rpb24oKXt2YXIgYj1hLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtiLmFib3J0PWZ1bmN0aW9uKCl7fTtyZXR1cm4gYn19XG5mdW5jdGlvbiByaCgpe3ZhciBhPU1lZGlhU291cmNlLnByb3RvdHlwZS5lbmRPZlN0cmVhbTtNZWRpYVNvdXJjZS5wcm90b3R5cGUuZW5kT2ZTdHJlYW09ZnVuY3Rpb24oKXtmb3IodmFyIGIsZD0wLGU9MDtlPHRoaXMuc291cmNlQnVmZmVycy5sZW5ndGg7KytlKWI9dGhpcy5zb3VyY2VCdWZmZXJzW2VdLGI9Yi5idWZmZXJlZC5lbmQoYi5idWZmZXJlZC5sZW5ndGgtMSksZD1NYXRoLm1heChkLGIpO2lmKCFpc05hTih0aGlzLmR1cmF0aW9uKSYmZDx0aGlzLmR1cmF0aW9uKWZvcih0aGlzLlhiPSEwLGU9MDtlPHRoaXMuc291cmNlQnVmZmVycy5sZW5ndGg7KytlKWI9dGhpcy5zb3VyY2VCdWZmZXJzW2VdLGIuUmI9ITE7cmV0dXJuIGEuYXBwbHkodGhpcyxhcmd1bWVudHMpfTt2YXIgYj1NZWRpYVNvdXJjZS5wcm90b3R5cGUuYWRkU291cmNlQnVmZmVyO01lZGlhU291cmNlLnByb3RvdHlwZS5hZGRTb3VyY2VCdWZmZXI9ZnVuY3Rpb24oKXt2YXIgYT1iLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcbmEuTj10aGlzO2EuYWRkRXZlbnRMaXN0ZW5lcihcInVwZGF0ZWVuZFwiLHNoLCExKTt0aGlzLmF8fCh0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJzb3VyY2VjbG9zZVwiLHRoLCExKSx0aGlzLmE9ITApO3JldHVybiBhfX1mdW5jdGlvbiBzaChhKXt2YXIgYj1hLnRhcmdldCxjPWIuTjtpZihjLlhiKXthLnByZXZlbnREZWZhdWx0KCk7YS5zdG9wUHJvcGFnYXRpb24oKTthLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO2IuUmI9ITA7Zm9yKGE9MDthPGMuc291cmNlQnVmZmVycy5sZW5ndGg7KythKWlmKDA9PWMuc291cmNlQnVmZmVyc1thXS5SYilyZXR1cm47Yy5YYj0hMX19ZnVuY3Rpb24gdGgoYSl7YT1hLnRhcmdldDtmb3IodmFyIGI9MDtiPGEuc291cmNlQnVmZmVycy5sZW5ndGg7KytiKWEuc291cmNlQnVmZmVyc1tiXS5yZW1vdmVFdmVudExpc3RlbmVyKFwidXBkYXRlZW5kXCIsc2gsITEpO2EucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNvdXJjZWNsb3NlXCIsdGgsITEpfVxuTGcoZnVuY3Rpb24oKXtpZih3aW5kb3cuTWVkaWFTb3VyY2Upe3ZhciBhPW5hdmlnYXRvci52ZW5kb3IsYj1uYXZpZ2F0b3IuYXBwVmVyc2lvbjshYXx8IWJ8fDA+YS5pbmRleE9mKFwiQXBwbGVcIil8fCgwPD1iLmluZGV4T2YoXCJWZXJzaW9uLzhcIik/d2luZG93Lk1lZGlhU291cmNlPW51bGw6MDw9Yi5pbmRleE9mKFwiVmVyc2lvbi85XCIpP3FoKCk6MDw9Yi5pbmRleE9mKFwiVmVyc2lvbi8xMFwiKSYmKHFoKCkscmgoKSkpfX0pO2Z1bmN0aW9uIFooYSl7dGhpcy5jPVtdO3RoaXMuYj1bXTt0aGlzLnphPXVoO2lmKGEpdHJ5e2EodGhpcy5mYS5iaW5kKHRoaXMpLHRoaXMuYS5iaW5kKHRoaXMpKX1jYXRjaChiKXt0aGlzLmEoYil9fXZhciB1aD0wO2Z1bmN0aW9uIHZoKGEpe3ZhciBiPW5ldyBaO2IuZmEodm9pZCAwKTtyZXR1cm4gYi50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KX1mdW5jdGlvbiB3aChhKXt2YXIgYj1uZXcgWjtiLmEoYSk7cmV0dXJuIGJ9ZnVuY3Rpb24geGgoYSl7ZnVuY3Rpb24gYihhLGIsYyl7YS56YT09dWgmJihlW2JdPWMsZCsrLGQ9PWUubGVuZ3RoJiZhLmZhKGUpKX12YXIgYz1uZXcgWjtpZighYS5sZW5ndGgpcmV0dXJuIGMuZmEoW10pLGM7Zm9yKHZhciBkPTAsZT1BcnJheShhLmxlbmd0aCksZj1jLmEuYmluZChjKSxnPTA7ZzxhLmxlbmd0aDsrK2cpYVtnXSYmYVtnXS50aGVuP2FbZ10udGhlbihiLmJpbmQobnVsbCxjLGcpLGYpOmIoYyxnLGFbZ10pO3JldHVybiBjfVxuZnVuY3Rpb24geWgoYSl7Zm9yKHZhciBiPW5ldyBaLGM9Yi5mYS5iaW5kKGIpLGQ9Yi5hLmJpbmQoYiksZT0wO2U8YS5sZW5ndGg7KytlKWFbZV0mJmFbZV0udGhlbj9hW2VdLnRoZW4oYyxkKTpjKGFbZV0pO3JldHVybiBifVoucHJvdG90eXBlLnRoZW49ZnVuY3Rpb24oYSxiKXt2YXIgYz1uZXcgWjtzd2l0Y2godGhpcy56YSl7Y2FzZSAxOnpoKHRoaXMsYyxhKTticmVhaztjYXNlIDI6emgodGhpcyxjLGIpO2JyZWFrO2Nhc2UgdWg6dGhpcy5jLnB1c2goe0w6YyxuYjphfSksdGhpcy5iLnB1c2goe0w6YyxuYjpifSl9cmV0dXJuIGN9O1oucHJvdG90eXBlW1wiY2F0Y2hcIl09ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMudGhlbih2b2lkIDAsYSl9O1xuWi5wcm90b3R5cGUuZmE9ZnVuY3Rpb24oYSl7aWYodGhpcy56YT09dWgpe3RoaXMuamI9YTt0aGlzLnphPTE7Zm9yKGE9MDthPHRoaXMuYy5sZW5ndGg7KythKXpoKHRoaXMsdGhpcy5jW2FdLkwsdGhpcy5jW2FdLm5iKTt0aGlzLmM9W107dGhpcy5iPVtdfX07Wi5wcm90b3R5cGUuYT1mdW5jdGlvbihhKXtpZih0aGlzLnphPT11aCl7dGhpcy5qYj1hO3RoaXMuemE9Mjtmb3IoYT0wO2E8dGhpcy5iLmxlbmd0aDsrK2EpemgodGhpcyx0aGlzLmJbYV0uTCx0aGlzLmJbYV0ubmIpO3RoaXMuYz1bXTt0aGlzLmI9W119fTtcbmZ1bmN0aW9uIHpoKGEsYixjKXtBaC5wdXNoKGZ1bmN0aW9uKCl7aWYoYyYmXCJmdW5jdGlvblwiPT10eXBlb2YgYyl7dHJ5e3ZhciBhPWModGhpcy5qYil9Y2F0Y2goZil7Yi5hKGYpO3JldHVybn10cnl7dmFyIGU9YSYmYS50aGVufWNhdGNoKGYpe2IuYShmKTtyZXR1cm59YSBpbnN0YW5jZW9mIFo/YT09Yj9iLmEobmV3IFR5cGVFcnJvcihcIkNoYWluaW5nIGN5Y2xlIGRldGVjdGVkXCIpKTphLnRoZW4oYi5mYS5iaW5kKGIpLGIuYS5iaW5kKGIpKTplP0JoKGEsZSxiKTpiLmZhKGEpfWVsc2UgMT09dGhpcy56YT9iLmZhKHRoaXMuamIpOmIuYSh0aGlzLmpiKX0uYmluZChhKSk7bnVsbD09Q2gmJihDaD1EaChFaCkpfVxuZnVuY3Rpb24gQmgoYSxiLGMpe3RyeXt2YXIgZD0hMTtiLmNhbGwoYSxmdW5jdGlvbihhKXtpZighZCl7ZD0hMDt0cnl7dmFyIGI9YSYmYS50aGVufWNhdGNoKGcpe2MuYShnKTtyZXR1cm59Yj9CaChhLGIsYyk6Yy5mYShhKX19LGMuYS5iaW5kKGMpKX1jYXRjaChlKXtjLmEoZSl9fWZ1bmN0aW9uIEVoKCl7Zm9yKDtBaC5sZW5ndGg7KXtudWxsIT1DaCYmKEZoKENoKSxDaD1udWxsKTt2YXIgYT1BaDtBaD1bXTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoOysrYilhW2JdKCl9fWZ1bmN0aW9uIERoKCl7cmV0dXJuIDB9ZnVuY3Rpb24gRmgoKXt9dmFyIENoPW51bGwsQWg9W107XG5MZyhmdW5jdGlvbihhKXt3aW5kb3cuc2V0SW1tZWRpYXRlPyhEaD1mdW5jdGlvbihhKXtyZXR1cm4gd2luZG93LnNldEltbWVkaWF0ZShhKX0sRmg9ZnVuY3Rpb24oYSl7cmV0dXJuIHdpbmRvdy5jbGVhckltbWVkaWF0ZShhKX0pOihEaD1mdW5jdGlvbihhKXtyZXR1cm4gd2luZG93LnNldFRpbWVvdXQoYSwwKX0sRmg9ZnVuY3Rpb24oYSl7cmV0dXJuIHdpbmRvdy5jbGVhclRpbWVvdXQoYSl9KTtpZighd2luZG93LlByb21pc2V8fGEpd2luZG93LlByb21pc2U9Wix3aW5kb3cuUHJvbWlzZS5yZXNvbHZlPXZoLHdpbmRvdy5Qcm9taXNlLnJlamVjdD13aCx3aW5kb3cuUHJvbWlzZS5hbGw9eGgsd2luZG93LlByb21pc2UucmFjZT15aCx3aW5kb3cuUHJvbWlzZS5wcm90b3R5cGUudGhlbj1aLnByb3RvdHlwZS50aGVuLHdpbmRvdy5Qcm9taXNlLnByb3RvdHlwZVtcImNhdGNoXCJdPVoucHJvdG90eXBlW1wiY2F0Y2hcIl19KTtmdW5jdGlvbiBHaCgpe3JldHVybntkcm9wcGVkVmlkZW9GcmFtZXM6dGhpcy53ZWJraXREcm9wcGVkRnJhbWVDb3VudCx0b3RhbFZpZGVvRnJhbWVzOnRoaXMud2Via2l0RGVjb2RlZEZyYW1lQ291bnQsY29ycnVwdGVkVmlkZW9GcmFtZXM6MCxjcmVhdGlvblRpbWU6TmFOLHRvdGFsRnJhbWVEZWxheTowfX1MZyhmdW5jdGlvbigpe2lmKHdpbmRvdy5IVE1MVmlkZW9FbGVtZW50KXt2YXIgYT1IVE1MVmlkZW9FbGVtZW50LnByb3RvdHlwZTshYS5nZXRWaWRlb1BsYXliYWNrUXVhbGl0eSYmXCJ3ZWJraXREcm9wcGVkRnJhbWVDb3VudFwiaW4gYSYmKGEuZ2V0VmlkZW9QbGF5YmFja1F1YWxpdHk9R2gpfX0pO2Z1bmN0aW9uIEhoKGEsYixjKXtyZXR1cm4gbmV3IHdpbmRvdy5UZXh0VHJhY2tDdWUoYSxiLGMpfWZ1bmN0aW9uIEloKGEsYixjKXtyZXR1cm4gbmV3IHdpbmRvdy5UZXh0VHJhY2tDdWUoYStcIi1cIitiK1wiLVwiK2MsYSxiLGMpfUxnKGZ1bmN0aW9uKCl7aWYoIXdpbmRvdy5WVFRDdWUmJndpbmRvdy5UZXh0VHJhY2tDdWUpe3ZhciBhPVRleHRUcmFja0N1ZS5sZW5ndGg7aWYoMz09YSl3aW5kb3cuVlRUQ3VlPUhoO2Vsc2UgaWYoNj09YSl3aW5kb3cuVlRUQ3VlPUloO2Vsc2V7dHJ5e3ZhciBiPSEhSGgoMSwyLFwiXCIpfWNhdGNoKGMpe2I9ITF9YiYmKHdpbmRvdy5WVFRDdWU9SGgpfX19KTt9LmNhbGwoZyx0aGlzKSk7XG5pZiAodHlwZW9mKG1vZHVsZSkhPVwidW5kZWZpbmVkXCImJm1vZHVsZS5leHBvcnRzKW1vZHVsZS5leHBvcnRzPWcuc2hha2E7XG5lbHNlIGlmICh0eXBlb2YoZGVmaW5lKSE9XCJ1bmRlZmluZWRcIiAmJiBkZWZpbmUuYW1kKWRlZmluZShmdW5jdGlvbigpe3JldHVybiBnLnNoYWthfSk7XG5lbHNlIHRoaXMuc2hha2E9Zy5zaGFrYTtcbn0pKCk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNoYWthLXBsYXllci5jb21waWxlZC5tYXBcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vc2hha2EtcGxheWVyL2Rpc3Qvc2hha2EtcGxheWVyLmNvbXBpbGVkLmpzXG4vLyBtb2R1bGUgaWQgPSAyMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 22 */
/* unknown exports provided */
/* all exports used */
/*!*************************************!*\
  !*** ./~/style-loader/addStyles.js ***!
  \*************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\nvar stylesInDom = {},\n\tmemoize = function(fn) {\n\t\tvar memo;\n\t\treturn function () {\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\t\treturn memo;\n\t\t};\n\t},\n\tisOldIE = memoize(function() {\n\t\t// Test for IE <= 9 as proposed by Browserhacks\n\t\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t\t// Tests for existence of standard globals is to allow style-loader \n\t\t// to operate correctly into non-standard environments\n\t\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\t\treturn window && document && document.all && !window.atob;\n\t}),\n\tgetElement = (function(fn) {\n\t\tvar memo = {};\n\t\treturn function(selector) {\n\t\t\tif (typeof memo[selector] === \"undefined\") {\n\t\t\t\tmemo[selector] = fn.call(this, selector);\n\t\t\t}\n\t\t\treturn memo[selector]\n\t\t};\n\t})(function (styleTarget) {\n\t\treturn document.querySelector(styleTarget)\n\t}),\n\tsingletonElement = null,\n\tsingletonCounter = 0,\n\tstyleElementsInsertedAtTop = [],\n\tfixUrls = __webpack_require__(/*! ./fixUrls */ 23);\n\nmodule.exports = function(list, options) {\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n\tif (typeof options.insertInto === \"undefined\") options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list);\n\taddStylesToDom(styles, options);\n\n\treturn function update(newList) {\n\t\tvar mayRemove = [];\n\t\tfor(var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\n\t\t\t\t\tdomStyle.parts[j]();\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom(styles, options) {\n\tfor(var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles(list) {\n\tvar styles = [];\n\tvar newStyles = {};\n\tfor(var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\t\tif(!newStyles[id])\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse\n\t\t\tnewStyles[id].parts.push(part);\n\t}\n\treturn styles;\n}\n\nfunction insertStyleElement(options, styleElement) {\n\tvar styleTarget = getElement(options.insertInto)\n\tif (!styleTarget) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\n\tif (options.insertAt === \"top\") {\n\t\tif(!lastStyleElementInsertedAtTop) {\n\t\t\tstyleTarget.insertBefore(styleElement, styleTarget.firstChild);\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\tstyleTarget.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\tstyleTarget.appendChild(styleElement);\n\t\t}\n\t\tstyleElementsInsertedAtTop.push(styleElement);\n\t} else if (options.insertAt === \"bottom\") {\n\t\tstyleTarget.appendChild(styleElement);\n\t} else {\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\n\t}\n}\n\nfunction removeStyleElement(styleElement) {\n\tstyleElement.parentNode.removeChild(styleElement);\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\n\tif(idx >= 0) {\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement(options) {\n\tvar styleElement = document.createElement(\"style\");\n\toptions.attrs.type = \"text/css\";\n\n\tattachTagAttrs(styleElement, options.attrs);\n\tinsertStyleElement(options, styleElement);\n\treturn styleElement;\n}\n\nfunction createLinkElement(options) {\n\tvar linkElement = document.createElement(\"link\");\n\toptions.attrs.type = \"text/css\";\n\toptions.attrs.rel = \"stylesheet\";\n\n\tattachTagAttrs(linkElement, options.attrs);\n\tinsertStyleElement(options, linkElement);\n\treturn linkElement;\n}\n\nfunction attachTagAttrs(element, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\telement.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction addStyle(obj, options) {\n\tvar styleElement, update, remove;\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\n\t} else if(obj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\") {\n\t\tstyleElement = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, styleElement, options);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t\tif(styleElement.href)\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\n\t\t};\n\t} else {\n\t\tstyleElement = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, styleElement);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle(newObj) {\n\t\tif(newObj) {\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\n\t\t\t\treturn;\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = styleElement.childNodes;\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\n\t\tif (childNodes.length) {\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyleElement.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag(styleElement, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyleElement.setAttribute(\"media\", media)\n\t}\n\n\tif(styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = css;\n\t} else {\n\t\twhile(styleElement.firstChild) {\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\n\t\t}\n\t\tstyleElement.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink(linkElement, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/* If convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls){\n\t\tcss = fixUrls(css);\n\t}\n\n\tif(sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = linkElement.href;\n\n\tlinkElement.href = URL.createObjectURL(blob);\n\n\tif(oldSrc)\n\t\tURL.revokeObjectURL(oldSrc);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanM/Yjk4MCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xudmFyIHN0eWxlc0luRG9tID0ge30sXG5cdG1lbW9pemUgPSBmdW5jdGlvbihmbikge1xuXHRcdHZhciBtZW1vO1xuXHRcdHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRpZiAodHlwZW9mIG1lbW8gPT09IFwidW5kZWZpbmVkXCIpIG1lbW8gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdFx0cmV0dXJuIG1lbW87XG5cdFx0fTtcblx0fSxcblx0aXNPbGRJRSA9IG1lbW9pemUoZnVuY3Rpb24oKSB7XG5cdFx0Ly8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3Ncblx0XHQvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG5cdFx0Ly8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlciBcblx0XHQvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcblx0XHQvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcblx0XHRyZXR1cm4gd2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2I7XG5cdH0pLFxuXHRnZXRFbGVtZW50ID0gKGZ1bmN0aW9uKGZuKSB7XG5cdFx0dmFyIG1lbW8gPSB7fTtcblx0XHRyZXR1cm4gZnVuY3Rpb24oc2VsZWN0b3IpIHtcblx0XHRcdGlmICh0eXBlb2YgbWVtb1tzZWxlY3Rvcl0gPT09IFwidW5kZWZpbmVkXCIpIHtcblx0XHRcdFx0bWVtb1tzZWxlY3Rvcl0gPSBmbi5jYWxsKHRoaXMsIHNlbGVjdG9yKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBtZW1vW3NlbGVjdG9yXVxuXHRcdH07XG5cdH0pKGZ1bmN0aW9uIChzdHlsZVRhcmdldCkge1xuXHRcdHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHN0eWxlVGFyZ2V0KVxuXHR9KSxcblx0c2luZ2xldG9uRWxlbWVudCA9IG51bGwsXG5cdHNpbmdsZXRvbkNvdW50ZXIgPSAwLFxuXHRzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcCA9IFtdLFxuXHRmaXhVcmxzID0gcmVxdWlyZShcIi4vZml4VXJsc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XG5cdGlmKHR5cGVvZiBERUJVRyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBERUJVRykge1xuXHRcdGlmKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xuXHR9XG5cblx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cdG9wdGlvbnMuYXR0cnMgPSB0eXBlb2Ygb3B0aW9ucy5hdHRycyA9PT0gXCJvYmplY3RcIiA/IG9wdGlvbnMuYXR0cnMgOiB7fTtcblxuXHQvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cblx0Ly8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXHRpZiAodHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uID09PSBcInVuZGVmaW5lZFwiKSBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSA8aGVhZD4gZWxlbWVudFxuXHRpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0SW50byA9PT0gXCJ1bmRlZmluZWRcIikgb3B0aW9ucy5pbnNlcnRJbnRvID0gXCJoZWFkXCI7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgYm90dG9tIG9mIHRoZSB0YXJnZXRcblx0aWYgKHR5cGVvZiBvcHRpb25zLmluc2VydEF0ID09PSBcInVuZGVmaW5lZFwiKSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcblxuXHR2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QpO1xuXHRhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuXHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXHRcdFx0ZG9tU3R5bGUucmVmcy0tO1xuXHRcdFx0bWF5UmVtb3ZlLnB1c2goZG9tU3R5bGUpO1xuXHRcdH1cblx0XHRpZihuZXdMaXN0KSB7XG5cdFx0XHR2YXIgbmV3U3R5bGVzID0gbGlzdFRvU3R5bGVzKG5ld0xpc3QpO1xuXHRcdFx0YWRkU3R5bGVzVG9Eb20obmV3U3R5bGVzLCBvcHRpb25zKTtcblx0XHR9XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IG1heVJlbW92ZS5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGRvbVN0eWxlID0gbWF5UmVtb3ZlW2ldO1xuXHRcdFx0aWYoZG9tU3R5bGUucmVmcyA9PT0gMCkge1xuXHRcdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspXG5cdFx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oKTtcblx0XHRcdFx0ZGVsZXRlIHN0eWxlc0luRG9tW2RvbVN0eWxlLmlkXTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59O1xuXG5mdW5jdGlvbiBhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpIHtcblx0Zm9yKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXHRcdGlmKGRvbVN0eWxlKSB7XG5cdFx0XHRkb21TdHlsZS5yZWZzKys7XG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XG5cdFx0XHR9XG5cdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIHBhcnRzID0gW107XG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblx0XHRcdHN0eWxlc0luRG9tW2l0ZW0uaWRdID0ge2lkOiBpdGVtLmlkLCByZWZzOiAxLCBwYXJ0czogcGFydHN9O1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBsaXN0VG9TdHlsZXMobGlzdCkge1xuXHR2YXIgc3R5bGVzID0gW107XG5cdHZhciBuZXdTdHlsZXMgPSB7fTtcblx0Zm9yKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IGxpc3RbaV07XG5cdFx0dmFyIGlkID0gaXRlbVswXTtcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcblx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xuXHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcblx0XHRpZighbmV3U3R5bGVzW2lkXSlcblx0XHRcdHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7aWQ6IGlkLCBwYXJ0czogW3BhcnRdfSk7XG5cdFx0ZWxzZVxuXHRcdFx0bmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xuXHR9XG5cdHJldHVybiBzdHlsZXM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZUVsZW1lbnQpIHtcblx0dmFyIHN0eWxlVGFyZ2V0ID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEludG8pXG5cdGlmICghc3R5bGVUYXJnZXQpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydEludG8nIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcblx0fVxuXHR2YXIgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AgPSBzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcFtzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcblx0aWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcblx0XHRpZighbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcblx0XHRcdHN0eWxlVGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZUVsZW1lbnQsIHN0eWxlVGFyZ2V0LmZpcnN0Q2hpbGQpO1xuXHRcdH0gZWxzZSBpZihsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZykge1xuXHRcdFx0c3R5bGVUYXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlRWxlbWVudCwgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzdHlsZVRhcmdldC5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpO1xuXHRcdH1cblx0XHRzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5wdXNoKHN0eWxlRWxlbWVudCk7XG5cdH0gZWxzZSBpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJib3R0b21cIikge1xuXHRcdHN0eWxlVGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdpbnNlcnRBdCcuIE11c3QgYmUgJ3RvcCcgb3IgJ2JvdHRvbScuXCIpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpIHtcblx0c3R5bGVFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KTtcblx0dmFyIGlkeCA9IHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLmluZGV4T2Yoc3R5bGVFbGVtZW50KTtcblx0aWYoaWR4ID49IDApIHtcblx0XHRzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5zcGxpY2UoaWR4LCAxKTtcblx0fVxufVxuXG5mdW5jdGlvbiBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuXHR2YXIgc3R5bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuXHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cblx0YXR0YWNoVGFnQXR0cnMoc3R5bGVFbGVtZW50LCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlRWxlbWVudCk7XG5cdHJldHVybiBzdHlsZUVsZW1lbnQ7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpIHtcblx0dmFyIGxpbmtFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG5cdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0b3B0aW9ucy5hdHRycy5yZWwgPSBcInN0eWxlc2hlZXRcIjtcblxuXHRhdHRhY2hUYWdBdHRycyhsaW5rRWxlbWVudCwgb3B0aW9ucy5hdHRycyk7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBsaW5rRWxlbWVudCk7XG5cdHJldHVybiBsaW5rRWxlbWVudDtcbn1cblxuZnVuY3Rpb24gYXR0YWNoVGFnQXR0cnMoZWxlbWVudCwgYXR0cnMpIHtcblx0T2JqZWN0LmtleXMoYXR0cnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdGVsZW1lbnQuc2V0QXR0cmlidXRlKGtleSwgYXR0cnNba2V5XSk7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlRWxlbWVudCwgdXBkYXRlLCByZW1vdmU7XG5cblx0aWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG5cdFx0dmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG5cdFx0c3R5bGVFbGVtZW50ID0gc2luZ2xldG9uRWxlbWVudCB8fCAoc2luZ2xldG9uRWxlbWVudCA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSk7XG5cdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCwgc3R5bGVJbmRleCwgZmFsc2UpO1xuXHRcdHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQsIHN0eWxlSW5kZXgsIHRydWUpO1xuXHR9IGVsc2UgaWYob2JqLnNvdXJjZU1hcCAmJlxuXHRcdHR5cGVvZiBVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcblx0XHRzdHlsZUVsZW1lbnQgPSBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSB1cGRhdGVMaW5rLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50LCBvcHRpb25zKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbigpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xuXHRcdFx0aWYoc3R5bGVFbGVtZW50LmhyZWYpXG5cdFx0XHRcdFVSTC5yZXZva2VPYmplY3RVUkwoc3R5bGVFbGVtZW50LmhyZWYpO1xuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0c3R5bGVFbGVtZW50ID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuXHRcdHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XG5cdFx0fTtcblx0fVxuXG5cdHVwZGF0ZShvYmopO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcblx0XHRpZihuZXdPYmopIHtcblx0XHRcdGlmKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcClcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0dXBkYXRlKG9iaiA9IG5ld09iaik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlbW92ZSgpO1xuXHRcdH1cblx0fTtcbn1cblxudmFyIHJlcGxhY2VUZXh0ID0gKGZ1bmN0aW9uICgpIHtcblx0dmFyIHRleHRTdG9yZSA9IFtdO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG5cdFx0dGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuXHRcdHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuXHR9O1xufSkoKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyhzdHlsZUVsZW1lbnQsIGluZGV4LCByZW1vdmUsIG9iaikge1xuXHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XG5cblx0aWYgKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuXHR9IGVsc2Uge1xuXHRcdHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcblx0XHR2YXIgY2hpbGROb2RlcyA9IHN0eWxlRWxlbWVudC5jaGlsZE5vZGVzO1xuXHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcblx0XHRpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcblx0XHRcdHN0eWxlRWxlbWVudC5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGVFbGVtZW50LCBvYmopIHtcblx0dmFyIGNzcyA9IG9iai5jc3M7XG5cdHZhciBtZWRpYSA9IG9iai5tZWRpYTtcblxuXHRpZihtZWRpYSkge1xuXHRcdHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSlcblx0fVxuXG5cdGlmKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcblx0fSBlbHNlIHtcblx0XHR3aGlsZShzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xuXHRcdFx0c3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcblx0XHR9XG5cdFx0c3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUxpbmsobGlua0VsZW1lbnQsIG9wdGlvbnMsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cblx0LyogSWYgY29udmVydFRvQWJzb2x1dGVVcmxzIGlzbid0IGRlZmluZWQsIGJ1dCBzb3VyY2VtYXBzIGFyZSBlbmFibGVkXG5cdGFuZCB0aGVyZSBpcyBubyBwdWJsaWNQYXRoIGRlZmluZWQgdGhlbiBsZXRzIHR1cm4gY29udmVydFRvQWJzb2x1dGVVcmxzXG5cdG9uIGJ5IGRlZmF1bHQuICBPdGhlcndpc2UgZGVmYXVsdCB0byB0aGUgY29udmVydFRvQWJzb2x1dGVVcmxzIG9wdGlvblxuXHRkaXJlY3RseVxuXHQqL1xuXHR2YXIgYXV0b0ZpeFVybHMgPSBvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyA9PT0gdW5kZWZpbmVkICYmIHNvdXJjZU1hcDtcblxuXHRpZiAob3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgfHwgYXV0b0ZpeFVybHMpe1xuXHRcdGNzcyA9IGZpeFVybHMoY3NzKTtcblx0fVxuXG5cdGlmKHNvdXJjZU1hcCkge1xuXHRcdC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI2NjAzODc1XG5cdFx0Y3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyBcIiAqL1wiO1xuXHR9XG5cblx0dmFyIGJsb2IgPSBuZXcgQmxvYihbY3NzXSwgeyB0eXBlOiBcInRleHQvY3NzXCIgfSk7XG5cblx0dmFyIG9sZFNyYyA9IGxpbmtFbGVtZW50LmhyZWY7XG5cblx0bGlua0VsZW1lbnQuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG5cblx0aWYob2xkU3JjKVxuXHRcdFVSTC5yZXZva2VPYmplY3RVUkwob2xkU3JjKTtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXG4vLyBtb2R1bGUgaWQgPSAyMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 23 */
/* unknown exports provided */
/* all exports used */
/*!***********************************!*\
  !*** ./~/style-loader/fixUrls.js ***!
  \***********************************/
/***/ (function(module, exports) {

eval("\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L3N0eWxlLWxvYWRlci9maXhVcmxzLmpzPzRlMmQiXSwic291cmNlc0NvbnRlbnQiOlsiXG4vKipcbiAqIFdoZW4gc291cmNlIG1hcHMgYXJlIGVuYWJsZWQsIGBzdHlsZS1sb2FkZXJgIHVzZXMgYSBsaW5rIGVsZW1lbnQgd2l0aCBhIGRhdGEtdXJpIHRvXG4gKiBlbWJlZCB0aGUgY3NzIG9uIHRoZSBwYWdlLiBUaGlzIGJyZWFrcyBhbGwgcmVsYXRpdmUgdXJscyBiZWNhdXNlIG5vdyB0aGV5IGFyZSByZWxhdGl2ZSB0byBhXG4gKiBidW5kbGUgaW5zdGVhZCBvZiB0aGUgY3VycmVudCBwYWdlLlxuICpcbiAqIE9uZSBzb2x1dGlvbiBpcyB0byBvbmx5IHVzZSBmdWxsIHVybHMsIGJ1dCB0aGF0IG1heSBiZSBpbXBvc3NpYmxlLlxuICpcbiAqIEluc3RlYWQsIHRoaXMgZnVuY3Rpb24gXCJmaXhlc1wiIHRoZSByZWxhdGl2ZSB1cmxzIHRvIGJlIGFic29sdXRlIGFjY29yZGluZyB0byB0aGUgY3VycmVudCBwYWdlIGxvY2F0aW9uLlxuICpcbiAqIEEgcnVkaW1lbnRhcnkgdGVzdCBzdWl0ZSBpcyBsb2NhdGVkIGF0IGB0ZXN0L2ZpeFVybHMuanNgIGFuZCBjYW4gYmUgcnVuIHZpYSB0aGUgYG5wbSB0ZXN0YCBjb21tYW5kLlxuICpcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3MpIHtcbiAgLy8gZ2V0IGN1cnJlbnQgbG9jYXRpb25cbiAgdmFyIGxvY2F0aW9uID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cubG9jYXRpb247XG5cbiAgaWYgKCFsb2NhdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihcImZpeFVybHMgcmVxdWlyZXMgd2luZG93LmxvY2F0aW9uXCIpO1xuICB9XG5cblx0Ly8gYmxhbmsgb3IgbnVsbD9cblx0aWYgKCFjc3MgfHwgdHlwZW9mIGNzcyAhPT0gXCJzdHJpbmdcIikge1xuXHQgIHJldHVybiBjc3M7XG4gIH1cblxuICB2YXIgYmFzZVVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICsgbG9jYXRpb24uaG9zdDtcbiAgdmFyIGN1cnJlbnREaXIgPSBiYXNlVXJsICsgbG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvXFwvW15cXC9dKiQvLCBcIi9cIik7XG5cblx0Ly8gY29udmVydCBlYWNoIHVybCguLi4pXG5cdC8qXG5cdFRoaXMgcmVndWxhciBleHByZXNzaW9uIGlzIGp1c3QgYSB3YXkgdG8gcmVjdXJzaXZlbHkgbWF0Y2ggYnJhY2tldHMgd2l0aGluXG5cdGEgc3RyaW5nLlxuXG5cdCAvdXJsXFxzKlxcKCAgPSBNYXRjaCBvbiB0aGUgd29yZCBcInVybFwiIHdpdGggYW55IHdoaXRlc3BhY2UgYWZ0ZXIgaXQgYW5kIHRoZW4gYSBwYXJlbnNcblx0ICAgKCAgPSBTdGFydCBhIGNhcHR1cmluZyBncm91cFxuXHQgICAgICg/OiAgPSBTdGFydCBhIG5vbi1jYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAgICAgW14pKF0gID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICg/OiAgPSBTdGFydCBhbm90aGVyIG5vbi1jYXB0dXJpbmcgZ3JvdXBzXG5cdCAgICAgICAgICAgICAgICAgW14pKF0rICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgICAgICBbXikoXSogID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgXFwpICA9IE1hdGNoIGEgZW5kIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICApICA9IEVuZCBHcm91cFxuICAgICAgICAgICAgICAqXFwpID0gTWF0Y2ggYW55dGhpbmcgYW5kIHRoZW4gYSBjbG9zZSBwYXJlbnNcbiAgICAgICAgICApICA9IENsb3NlIG5vbi1jYXB0dXJpbmcgZ3JvdXBcbiAgICAgICAgICAqICA9IE1hdGNoIGFueXRoaW5nXG4gICAgICAgKSAgPSBDbG9zZSBjYXB0dXJpbmcgZ3JvdXBcblx0IFxcKSAgPSBNYXRjaCBhIGNsb3NlIHBhcmVuc1xuXG5cdCAvZ2kgID0gR2V0IGFsbCBtYXRjaGVzLCBub3QgdGhlIGZpcnN0LiAgQmUgY2FzZSBpbnNlbnNpdGl2ZS5cblx0ICovXG5cdHZhciBmaXhlZENzcyA9IGNzcy5yZXBsYWNlKC91cmxcXHMqXFwoKCg/OlteKShdfFxcKCg/OlteKShdK3xcXChbXikoXSpcXCkpKlxcKSkqKVxcKS9naSwgZnVuY3Rpb24oZnVsbE1hdGNoLCBvcmlnVXJsKSB7XG5cdFx0Ly8gc3RyaXAgcXVvdGVzIChpZiB0aGV5IGV4aXN0KVxuXHRcdHZhciB1bnF1b3RlZE9yaWdVcmwgPSBvcmlnVXJsXG5cdFx0XHQudHJpbSgpXG5cdFx0XHQucmVwbGFjZSgvXlwiKC4qKVwiJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KVxuXHRcdFx0LnJlcGxhY2UoL14nKC4qKSckLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pO1xuXG5cdFx0Ly8gYWxyZWFkeSBhIGZ1bGwgdXJsPyBubyBjaGFuZ2Vcblx0XHRpZiAoL14oI3xkYXRhOnxodHRwOlxcL1xcL3xodHRwczpcXC9cXC98ZmlsZTpcXC9cXC9cXC8pL2kudGVzdCh1bnF1b3RlZE9yaWdVcmwpKSB7XG5cdFx0ICByZXR1cm4gZnVsbE1hdGNoO1xuXHRcdH1cblxuXHRcdC8vIGNvbnZlcnQgdGhlIHVybCB0byBhIGZ1bGwgdXJsXG5cdFx0dmFyIG5ld1VybDtcblxuXHRcdGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi8vXCIpID09PSAwKSB7XG5cdFx0ICBcdC8vVE9ETzogc2hvdWxkIHdlIGFkZCBwcm90b2NvbD9cblx0XHRcdG5ld1VybCA9IHVucXVvdGVkT3JpZ1VybDtcblx0XHR9IGVsc2UgaWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiL1wiKSA9PT0gMCkge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJhc2UgdXJsXG5cdFx0XHRuZXdVcmwgPSBiYXNlVXJsICsgdW5xdW90ZWRPcmlnVXJsOyAvLyBhbHJlYWR5IHN0YXJ0cyB3aXRoICcvJ1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byBjdXJyZW50IGRpcmVjdG9yeVxuXHRcdFx0bmV3VXJsID0gY3VycmVudERpciArIHVucXVvdGVkT3JpZ1VybC5yZXBsYWNlKC9eXFwuXFwvLywgXCJcIik7IC8vIFN0cmlwIGxlYWRpbmcgJy4vJ1xuXHRcdH1cblxuXHRcdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgdXJsKC4uLilcblx0XHRyZXR1cm4gXCJ1cmwoXCIgKyBKU09OLnN0cmluZ2lmeShuZXdVcmwpICsgXCIpXCI7XG5cdH0pO1xuXG5cdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgY3NzXG5cdHJldHVybiBmaXhlZENzcztcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vc3R5bGUtbG9hZGVyL2ZpeFVybHMuanNcbi8vIG1vZHVsZSBpZCA9IDIzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ })
/******/ ]);
});