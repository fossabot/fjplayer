!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("fjplayer",[],t):"object"==typeof exports?exports.fjplayer=t():e.fjplayer=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=81)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n,r){var i=o(r);!i[e]&&t&&(i[e]={instance:t,override:n})}function t(e,t){for(var n in l){var r=l[n];if(r.context===e&&r.name===t)return r.instance}return null}function n(e,t,n){for(var r in l){var i=l[r];if(i.context===e&&i.name===t)return void(l[r].instance=n)}l.push({name:t,context:e,instance:n})}function r(e){return function(t){return void 0===t&&(t={}),{create:function(){return a(e.__dashjs_factory_name,e.apply({context:t},arguments),t,arguments)}}}}function i(e){return function(n){var r=void 0;return void 0===n&&(n={}),{getInstance:function(){return r||(r=t(n,e.__dashjs_factory_name)),r||(r=a(e.__dashjs_factory_name,e.apply({context:n},arguments),n,arguments),l.push({name:e.__dashjs_factory_name,context:n,instance:r})),r}}}}function a(e,t,n,r){var i=o(n),a=i[e];if(a){var u=a.instance;if(!a.override)return u.apply({context:n,factory:s},r);u=u.apply({context:n,factory:s,parent:t},r);for(var l in u)t.hasOwnProperty(l)&&(t[l]=u[l])}return t}function o(e){var t=void 0;return u.forEach(function(n){n===e&&(t=n)}),t||(t=u.push(e)),t}var s=void 0,u=[],l=[];return s={extend:e,getSingletonInstance:t,setSingletonInstance:n,getSingletonFactory:i,getClassFactory:r}}();t.default=r,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=a,n=o,r=!0,s=l=void 0}},o=n(93),s=function(e){return e&&e.__esModule?e:{default:e}}(o),u=function(e){function t(){r(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),t}(s.default),l=new u;t.default=l,e.exports=t.default},function(e,t,n){"use strict";function r(){function e(e,t,n){var i=arguments.length<=3||void 0===arguments[3]?o:arguments[3];if(!e)throw new Error("event type cannot be null or undefined");if(!t||"function"!=typeof t)throw new Error("listener must be a function: "+t);if(!(r(e,t,n)>=0)){a[e]=a[e]||[];var s={callback:t,scope:n,priority:i};a[e].some(function(t,n){if(i>t.priority)return a[e].splice(n,0,s),!0})||a[e].push(s)}}function t(e,t,n){if(e&&t&&a[e]){var i=r(e,t,n);i<0||a[e].splice(i,1)}}function n(e,t){if(e&&a[e]){if(t=t||{},t.hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");t.type=e,a[e].forEach(function(e){return e.callback.call(e.scope,t)})}}function r(e,t,n){var r=-1;return a[e]?(a[e].some(function(e,i){if(e.callback===t&&(!n||n===e.scope))return r=i,!0}),r):r}function i(){a={}}var a={};return{on:e,off:t,trigger:n,reset:i}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(i),o=0;r.__dashjs_factory_name="EventBus";var s=a.default.getSingletonFactory(r);s.EVENT_PRIORITY_LOW=o,s.EVENT_PRIORITY_HIGH=5e3,t.default=s,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){d=e}function t(e){l=e}function n(){return l}function r(){var e="",t=null;d&&(t=(new Date).getTime(),e+="["+(t-f)+"]"),e.length>0&&(e+=" "),Array.apply(null,arguments).forEach(function(t){e+=t+" "}),l&&console.log(e),a.trigger(u.default.LOG,{message:e})}var i=this.context,a=(0,o.default)(i).getInstance(),s=void 0,l=void 0,d=void 0,f=void 0;return s={log:r,setLogTimestampVisible:e,setLogToBrowserConsole:t,getLogToBrowserConsole:n},function(){l=!0,d=!0,f=(new Date).getTime()}(),s}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=r(a),s=n(1),u=r(s),l=n(0),d=r(l);i.__dashjs_factory_name="Debug",t.default=d.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(){function e(e){Ke=e}function t(){return Ke}function n(e){xe=e}function i(){return xe}function a(e){ke=e}function o(){return ke}function u(e){Ne=e}function D(){return isNaN(Ne)?He?v:m:Ne}function N(e){Pe=e}function P(){return Pe}function L(e){Le=e}function w(){return Le}function F(e){we=e}function x(){return we}function k(e){Fe=e}function U(){return Fe}function B(e){be=e}function j(){return be}function K(e,t){Oe.enabled=e,void 0===t||isNaN(t)||"number"!=typeof t||(Oe.ttl=t)}function G(){return Oe}function H(e,t){De.enabled=e,void 0===t||isNaN(t)||"number"!=typeof t||(De.ttl=t)}function Y(){return De}function q(e){Me=e}function z(){return Me}function V(e){Ue[s.HTTPRequest.MEDIA_SEGMENT_TYPE]=e}function J(e,t){Ue[e]=t}function W(){return Ue[s.HTTPRequest.MEDIA_SEGMENT_TYPE]}function Q(e){return Ue[e]}function X(e){Be[s.HTTPRequest.MEDIA_SEGMENT_TYPE]=e}function Z(e,t){Be[e]=t}function $(){return Be[s.HTTPRequest.MEDIA_SEGMENT_TYPE]}function ee(e){return Be[e]}function te(e){je=e}function ne(){return je}function re(e){Re=e}function ie(){return Re}function ae(e){Ie=e}function oe(e){Ce=e}function se(){return Ie}function ue(){return Ce}function le(e){Te=e}function de(){return Te}function fe(e){Se=e}function ce(){return Se}function ge(e){Ae=e}function pe(){return Ae}function he(e){Ge=!!e}function me(){return Ge}function ve(){return He}function _e(e){He=e}function ye(){}var Ee=void 0,Te=void 0,Se=void 0,Ae=void 0,Ie=void 0,Ce=void 0,Re=void 0,be=void 0,Me=void 0,Oe=void 0,De=void 0,Ne=void 0,Pe=void 0,Le=void 0,we=void 0,Fe=void 0,xe=void 0,ke=void 0,Ue=void 0,Be=void 0,je=void 0,Ke=void 0,Ge=void 0,He=void 0;return Ee={setBufferOccupancyABREnabled:e,getBufferOccupancyABREnabled:t,setBandwidthSafetyFactor:n,getBandwidthSafetyFactor:i,setAbandonLoadTimeout:a,getAbandonLoadTimeout:o,setLastBitrateCachingInfo:K,getLastBitrateCachingInfo:G,setLastMediaSettingsCachingInfo:H,getLastMediaSettingsCachingInfo:Y,setStableBufferTime:u,getStableBufferTime:D,setBufferTimeAtTopQuality:N,getBufferTimeAtTopQuality:P,setBufferTimeAtTopQualityLongForm:L,getBufferTimeAtTopQualityLongForm:w,setLongFormContentDurationThreshold:F,getLongFormContentDurationThreshold:x,setRichBufferThreshold:k,getRichBufferThreshold:U,setBufferToKeep:B,getBufferToKeep:j,setBufferPruningInterval:q,getBufferPruningInterval:z,setFragmentRetryAttempts:V,getFragmentRetryAttempts:W,setRetryAttemptsForType:J,getRetryAttemptsForType:Q,setFragmentRetryInterval:X,getFragmentRetryInterval:$,setRetryIntervalForType:Z,getRetryIntervalForType:ee,setWallclockTimeUpdateInterval:te,getWallclockTimeUpdateInterval:ne,setScheduleWhilePaused:re,getScheduleWhilePaused:ie,getUseSuggestedPresentationDelay:ce,setUseSuggestedPresentationDelay:fe,setLiveDelayFragmentCount:ae,getLiveDelayFragmentCount:se,getLiveDelay:ue,setLiveDelay:oe,setUseManifestDateHeaderTimeSource:le,getUseManifestDateHeaderTimeSource:de,setUTCTimingSources:ge,getUTCTimingSources:pe,setXHRWithCredentials:he,getXHRWithCredentials:me,setFastSwitchEnabled:_e,getFastSwitchEnabled:ve,reset:ye},function(){var e,t;Ae=[],Se=!1,Te=!0,Re=!0,Ke=!1,He=!1,Oe={enabled:!0,ttl:d},De={enabled:!0,ttl:f},Ie=l,Ce=void 0,be=p,Me=h,Ne=NaN,Pe=_,Le=y,we=E,Fe=T,xe=c,ke=g,je=M,Ge=O,e={},r(e,s.HTTPRequest.MPD_TYPE,I),r(e,s.HTTPRequest.XLINK_EXPANSION_TYPE,R),r(e,s.HTTPRequest.MEDIA_SEGMENT_TYPE,S),r(e,s.HTTPRequest.INIT_SEGMENT_TYPE,S),r(e,s.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,S),r(e,s.HTTPRequest.INDEX_SEGMENT_TYPE,S),r(e,s.HTTPRequest.OTHER_TYPE,S),Ue=e,t={},r(t,s.HTTPRequest.MPD_TYPE,C),r(t,s.HTTPRequest.XLINK_EXPANSION_TYPE,b),r(t,s.HTTPRequest.MEDIA_SEGMENT_TYPE,A),r(t,s.HTTPRequest.INIT_SEGMENT_TYPE,A),r(t,s.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,A),r(t,s.HTTPRequest.INDEX_SEGMENT_TYPE,A),r(t,s.HTTPRequest.OTHER_TYPE,A),Be=t}(),Ee}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(a),s=n(6),u={scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"http://time.akamai.com/?iso"},l=4,d=36e4,f=36e4,c=.9,g=1e4,p=30,h=30,m=12,v=20,_=30,y=60,E=600,T=20,S=3,A=1e3,I=3,C=500,R=1,b=500,M=50,O=!1;i.__dashjs_factory_name="MediaPlayerModel";var D=o.default.getSingletonFactory(i);D.DEFAULT_UTC_TIMING_SOURCE=u,t.default=D,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t,n,i){r(this,e),this.code=t||null,this.message=n||null,this.data=i||null};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this._stream=null,this._tfinish=null,this._mediaduration=null,this._responseHeaders=null,this._serviceLocation=null},a=function e(){r(this,e),this.s=null,this.d=null,this.b=[]};i.MPD_TYPE="MPD",i.XLINK_EXPANSION_TYPE="XLinkExpansion",i.INIT_SEGMENT_TYPE="InitializationSegment",i.INDEX_SEGMENT_TYPE="IndexSegment",i.MEDIA_SEGMENT_TYPE="MediaSegment",i.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",i.OTHER_TYPE="other",t.HTTPRequest=i,t.HTTPRequestTrace=a},function(e,t,n){"use strict";function r(e,t,n){return{value:void 0===e?o:e,priority:void 0===t?s:t,reason:void 0===n?null:n}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(i),o=999,s=.5;r.__dashjs_factory_name="SwitchRequest";var u=a.default.getClassFactory(r);u.NO_CHANGE=o,u.DEFAULT=s,u.STRONG=1,u.WEAK=0,t.default=u,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){ce=0,ge=NaN,pe=null,ve=null,ye=!1,he={},_e=(0,d.default)($).getInstance()}function t(e){me=e,re=fe.getElement(),X(),ve=me.manifestInfo.isDynamic,ge=me.start,te.on(p.default.DATA_UPDATE_COMPLETED,w,this),te.on(p.default.LIVE_EDGE_SEARCH_COMPLETED,F,this),te.on(p.default.BYTES_APPENDED,W,this),te.on(p.default.BUFFER_LEVEL_STATE_CHANGED,Q,this),te.on(p.default.PERIOD_SWITCH_STARTED,n,this),ye&&(ye=!1,l())}function n(e){e.fromStreamInfo&&he[e.fromStreamInfo.id]&&delete he[e.fromStreamInfo.id]}function r(){return M(!0)+me.duration-v()}function i(){return v()>0}function a(){return me.id}function s(){return me.duration}function l(){if(re){re.autoplay=!0;var e=re.play();e&&"undefined"!=typeof Promise&&e instanceof Promise&&e.catch(function(e){"NotAllowedError"===e.name&&te.trigger(p.default.PLAYBACK_NOT_ALLOWED),ee("Caught pending play exception - continuing ("+e+")")})}else ye=!0}function f(){if(re)return re.paused}function g(){re&&(re.pause(),re.autoplay=!1)}function h(){if(re)return re.seeking}function m(e){fe&&(ee("Requesting seek to time: "+e),fe.setCurrentTime(e))}function v(){if(re)return re.currentTime}function y(){if(re)return re.playbackRate}function E(){if(re)return re.played}function T(){if(re)return re.ended}function S(){return ve}function A(e){ge=e}function I(){return ge}function C(e,t){var n=le.getMpd(ue.getValue()),r=void 0;r=_e.getUseSuggestedPresentationDelay()&&n.hasOwnProperty("suggestedPresentationDelay")?n.suggestedPresentationDelay:_e.getLiveDelay()?_e.getLiveDelay():isNaN(e)?2*me.manifestInfo.minBufferTime:e*_e.getLiveDelayFragmentCount();var i=Math.max(t-10,t/2);return Math.min(r,i)}function R(){fe&&re&&(te.off(p.default.DATA_UPDATE_COMPLETED,w,this),te.off(p.default.BUFFER_LEVEL_STATE_CHANGED,Q,this),te.off(p.default.LIVE_EDGE_SEARCH_COMPLETED,F,this),te.off(p.default.BYTES_APPENDED,W,this),N(),Z()),fe=null,me=null,re=null,ve=null,e()}function b(e){e&&(e.streamController&&(ie=e.streamController),e.timelineConverter&&(ae=e.timelineConverter),e.metricsModel&&(oe=e.metricsModel),e.dashMetrics&&(se=e.dashMetrics),e.manifestModel&&(ue=e.manifestModel),e.dashManifestModel&&(le=e.dashManifestModel),e.adapter&&(de=e.adapter),e.videoModel&&(fe=e.videoModel))}function M(e){var t=void 0,n=(0,u.default)($).getInstance().getURIFragmentData(),r=parseInt(n.s,10),i=parseInt(n.t,10),a=NaN;if(e||(a=isNaN(r)?i:r),ve)!isNaN(a)&&a>1262304e3&&((t=a-me.manifestInfo.availableFrom.getTime()/1e3)>ge||t<ge-me.manifestInfo.DVRWindowSize)&&(t=null),t=t||ge;else if(!isNaN(a)&&a<Math.max(me.manifestInfo.duration,me.duration)&&a>=0)t=a;else{var o=he[me.id];void 0===o&&(o=ie.getActiveStreamCommonEarliestTime()),t=Math.max(o,me.start)}return t}function O(e){var t=oe.getReadOnlyMetricsFor("video")||oe.getReadOnlyMetricsFor("audio"),n=se.getCurrentDVRInfo(t),r=n?n.range:null;return r?e>=r.start&&e<=r.end?e:Math.max(r.end-2*me.manifestInfo.minBufferTime,r.start):NaN}function D(){if(null===pe){var e=function(){J()};pe=setInterval(e,_e.getWallclockTimeUpdateInterval())}}function N(){clearInterval(pe),pe=null}function P(){var e=M(!1);e>0&&(m(e),ee("Starting playback at offset: "+e))}function L(){if(!f()&&ve&&0!==re.readyState){var e=v(),t=O(e);!isNaN(t)&&t!==e&&m(t)}}function w(e){if(!e.error){var t=de.convertDataToTrack(ue.getValue(),e.currentRepresentation),n=t.mediaInfo.streamInfo;me.id===n.id&&(me=n,L())}}function F(e){e.error||0===re.readyState||P()}function x(){te.trigger(p.default.CAN_PLAY)}function k(){ee("Native video element event: play"),L(),D(),te.trigger(p.default.PLAYBACK_STARTED,{startTime:v()})}function U(){ee("Native video element event: playing"),te.trigger(p.default.PLAYBACK_PLAYING,{playingTime:v()})}function B(){ee("Native video element event: pause"),te.trigger(p.default.PLAYBACK_PAUSED,{ended:T()})}function j(){var e=v();ee("Seeking to: "+e),D(),te.trigger(p.default.PLAYBACK_SEEKING,{seekTime:e})}function K(){ee("Native video element event: seeked"),te.trigger(p.default.PLAYBACK_SEEKED)}function G(){var e=v();e!==ce&&(ce=e,te.trigger(p.default.PLAYBACK_TIME_UPDATED,{timeToEnd:r(),time:e}))}function H(){te.trigger(p.default.PLAYBACK_PROGRESS)}function Y(){var e=y();ee("Native video element event: ratechange: ",e),te.trigger(p.default.PLAYBACK_RATE_CHANGED,{playbackRate:e})}function q(){ee("Native video element event: loadedmetadata"),(!ve&&me.isFirst||ae.isTimeSyncCompleted())&&P(),te.trigger(p.default.PLAYBACK_METADATA_LOADED),D()}function z(){ee("Native video element event: ended"),g(),N(),te.trigger(p.default.PLAYBACK_ENDED)}function V(e){var t=e.target||e.srcElement;te.trigger(p.default.PLAYBACK_ERROR,{error:t.error})}function J(){te.trigger(p.default.WALLCLOCK_TIME_UPDATED,{isDynamic:ve,time:new Date})}function W(e){var t=e.bufferedRanges;if(t&&t.length){var n=Math.max(t.start(0),me.start),r=void 0===he[me.id]?n:Math.max(he[me.id],n);r!==he[me.id]&&(!ve&&M(!0)<r&&v()<r&&m(r),he[me.id]=r)}}function Q(e){e.streamInfo.id===me.id&&fe.setStallState(e.mediaType,e.state===o.default.BUFFER_EMPTY)}function X(){re.addEventListener("canplay",x),re.addEventListener("play",k),re.addEventListener("playing",U),re.addEventListener("pause",B),re.addEventListener("error",V),re.addEventListener("seeking",j),re.addEventListener("seeked",K),re.addEventListener("timeupdate",G),re.addEventListener("progress",H),re.addEventListener("ratechange",Y),re.addEventListener("loadedmetadata",q),re.addEventListener("ended",z)}function Z(){re.removeEventListener("canplay",x),re.removeEventListener("play",k),re.removeEventListener("playing",U),re.removeEventListener("pause",B),re.removeEventListener("error",V),re.removeEventListener("seeking",j),re.removeEventListener("seeked",K),re.removeEventListener("timeupdate",G),re.removeEventListener("progress",H),re.removeEventListener("ratechange",Y),re.removeEventListener("loadedmetadata",q),re.removeEventListener("ended",z)}var $=this.context,ee=(0,_.default)($).getInstance().log,te=(0,c.default)($).getInstance(),ne=void 0,re=void 0,ie=void 0,ae=void 0,oe=void 0,se=void 0,ue=void 0,le=void 0,de=void 0,fe=void 0,ce=void 0,ge=void 0,pe=void 0,he=void 0,me=void 0,ve=void 0,_e=void 0,ye=void 0;return ne={initialize:t,setConfig:b,getStreamStartTime:M,getTimeToStreamEnd:r,isPlaybackStarted:i,getStreamId:a,getStreamDuration:s,getTime:v,getPlaybackRate:y,getPlayedRanges:E,getEnded:T,getIsDynamic:S,setLiveStartTime:A,getLiveStartTime:I,computeLiveDelay:C,play:l,isPaused:f,pause:g,isSeeking:h,seek:m,reset:R},e(),ne}Object.defineProperty(t,"__esModule",{value:!0});var a=n(19),o=r(a),s=n(44),u=r(s),l=n(4),d=r(l),f=n(2),c=r(f),g=n(1),p=r(g),h=n(0),m=r(h),v=n(3),_=r(v);i.__dashjs_factory_name="PlaybackController",t.default=m.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){var t;if(this.gState=!0,this.debug={},this.gState)for(t in console)"function"==typeof console[t]&&(this.debug[t]=console[t].bind(window.console,e.constructor.name+": "));else for(t in console)"function"==typeof console[t]&&(this.debug[t]=function(){});return this.debug}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){se={video:!0,audio:!0},ue={},le={},de={},fe={},ce={},ge={},he={},pe={},ve=!1,_e=!1,Ae=(0,d.default)(te).getInstance(),Se=(0,p.default)(te).getInstance(),ye=(0,I.default)(te).getInstance(),Ee=(0,R.default)(te).getInstance(),Te=(0,M.default)(te).getInstance()}function t(e,t){pe[e]=t,he[e]=he[e]||{},he[e].state=D,ne.on(E.default.LOADING_PROGRESS,ee,this)}function n(e){e&&(e.abrRulesCollection&&(ie=e.abrRulesCollection),e.rulesController&&(ae=e.rulesController),e.streamController&&(oe=e.streamController))}function r(e,t){var n;return ue[t]=ue[t]||{},ue[t].hasOwnProperty(e)||(ue[t][e]=0),n=X(ue[t][e],e),n=Z(n,e,ue[t][e]),n=$(n,e)}function i(e){var t=Ae.getSavedBitrateSettings(e);if(!fe.hasOwnProperty(e))if(ce.hasOwnProperty(e)){var n=ye.getValue(),r=Ee.getAdaptationForType(n,0,e).Representation;if(Array.isArray(r)){var i=Math.max(Math.round(r.length*ce[e])-1,0);fe[e]=r[i].bandwidth}else fe[e]=0}else isNaN(t)?fe[e]="video"===e?N:P:fe[e]=t;return fe[e]}function a(e,t){fe[e]=t}function s(e){return ce.hasOwnProperty(e)?ce[e]:null}function l(e,t){ce[e]=t}function f(e){return fe.hasOwnProperty("max")&&fe.max.hasOwnProperty(e)?fe.max[e]:NaN}function g(e,t){fe.max=fe.max||{},fe.max[e]=t}function h(e){return ce.hasOwnProperty("max")&&ce.max.hasOwnProperty(e)?ce.max[e]:1}function v(e,t){ce.max=ce.max||{},ce.max[e]=t}function y(e){return se[e]}function T(e,t){se[e]=t}function S(){return ve}function A(e){ve=e}function C(){return _e}function b(e){_e=e}function w(e,t){var n=e.getType(),i=e.getStreamInfo(),a=i.id,s=function(e){var o=r(n,a),s=e.value;s<0&&(s=0),s>o&&(s=o);var u=z(n,i);s!==u&&(he[n].state===D||s>u)&&(W(n,a,e.confidence),x(n,i,u,s,e.reason)),t&&t()};if(y(n)){var u=ie.getRules(c.default.QUALITY_SWITCH_RULES);ae.applyRules(u,e,s,z(n,i),function(e,t){return e=e===o.default.NO_CHANGE?0:e,Math.max(e,t)})}else t&&t()}function F(e,t,n,i){var a=t.id,o=z(e,t);if(null===n||isNaN(n)||n%1!=0)throw new Error("argument is not an integer");n!==o&&n>=0&&n<=r(e,a)&&x(e,t,o,n,i)}function x(e,t,n,r,i){V(e,t.id,r),ne.trigger(E.default.QUALITY_CHANGE_REQUESTED,{mediaType:e,streamInfo:t,oldQuality:n,newQuality:r,reason:i})}function k(e,t){he[e].state=t}function U(e){return he[e].state}function B(e,t){var n=j(e);if(!n||0===n.length)return L;for(var r=n.length-1;r>=0;r--){if(1e3*t>=n[r].bitrate)return r}return 0}function j(e){if(!e||!e.bitrateList)return null;for(var t,n=e.bitrateList,r=e.type,i=[],a=0,o=n.length;a<o;a++)t=new u.default,t.mediaType=r,t.qualityIndex=a,t.bitrate=n[a].bandwidth,t.width=n[a].width,t.height=n[a].height,i.push(t);return i}function K(e,t){ge[e]=t}function G(e){return ge[e]}function H(e){var t=e.type,n=e.streamInfo.id,r=e.representationCount-1;return Q(t,n,r),r}function Y(e){var t=e.id,n=z("audio",e),i=z("video",e);return n===r("audio",t)&&i===r("video",t)}function q(){ne.off(E.default.LOADING_PROGRESS,ee,this),clearTimeout(me),me=null,e()}function z(e,t){var n=t.id;return le[n]=le[n]||{},le[n].hasOwnProperty(e)||(le[n][e]=L),le[n][e]}function V(e,t,n){le[t]=le[t]||{},le[t][e]=n}function J(e,t){return de[t]=de[t]||{},de[t].hasOwnProperty(e)||(de[t][e]=0),de[t][e]}function W(e,t,n){de[t]=de[t]||{},de[t][e]=n}function Q(e,t,n){ue[t]=ue[t]||{},ue[t][e]=n}function X(e,t){var n=f(t);if(isNaN(n)||!pe[t])return e;var r=B(pe[t].getMediaInfo(),n);return Math.min(e,r)}function Z(e,t,n){var r=h(t);return isNaN(r)||r>=1||r<0?e:Math.min(e,Math.round(n*r))}function $(e,t){if("video"!==t||!ve||!pe[t])return e;var n=_e&&window.hasOwnProperty("devicePixelRatio"),r=n?window.devicePixelRatio:1,i=Te.getElement(),a=i.clientWidth*r,o=i.clientHeight*r,s=ye.getValue(),u=Ee.getAdaptationForType(s,0,t).Representation,l=e;if(a>0&&o>0){for(;l>0&&u[l]&&a<u[l].width&&a-u[l-1].width<u[l].width-a;)l-=1;u.length-2>=l&&u[l].width===u[l+1].width&&(l=Math.min(e,l+1))}return l}function ee(e){var t=e.request.mediaType;if(y(t)){var n=function(){var n=ie.getRules(c.default.ABANDON_FRAGMENT_RULES),r=pe[t].getScheduleController();if(!r)return{v:void 0};var i=function(n){if(n.confidence===o.default.STRONG&&n.value<z(t,oe.getActiveStreamInfo())){var i=r.getFragmentModel(),a=i.getRequests({state:m.default.FRAGMENT_MODEL_LOADING,index:e.request.index})[0];a&&(i.abortRequests(),k(t,O),F(t,oe.getActiveStreamInfo(),n.value,n.reason),ne.trigger(E.default.FRAGMENT_LOADING_ABANDONED,{streamProcessor:pe[t],request:a,mediaType:t}),clearTimeout(me),me=setTimeout(function(){k(t,D),me=null},Se.getAbandonLoadTimeout()))}};ae.applyRules(n,pe[t],i,e,function(e,t){return t})}();if("object"==typeof n)return n.v}}var te=this.context,ne=(0,_.default)(te).getInstance(),re=void 0,ie=void 0,ae=void 0,oe=void 0,se=void 0,ue=void 0,le=void 0,de=void 0,fe=void 0,ce=void 0,ge=void 0,pe=void 0,he=void 0,me=void 0,ve=void 0,_e=void 0,ye=void 0,Ee=void 0,Te=void 0,Se=void 0,Ae=void 0;return re={isPlayingAtTopQuality:Y,updateTopQualityIndex:H,getAverageThroughput:G,getBitrateList:j,getQualityForBitrate:B,getMaxAllowedBitrateFor:f,setMaxAllowedBitrateFor:g,getMaxAllowedRepresentationRatioFor:h,setMaxAllowedRepresentationRatioFor:v,getInitialBitrateFor:i,setInitialBitrateFor:a,getInitialRepresentationRatioFor:s,setInitialRepresentationRatioFor:l,setAutoSwitchBitrateFor:T,getAutoSwitchBitrateFor:y,setLimitBitrateByPortal:A,getLimitBitrateByPortal:S,getUsePixelRatioInLimitBitrateByPortal:C,setUsePixelRatioInLimitBitrateByPortal:b,getConfidenceFor:J,getQualityFor:z,getAbandonmentStateFor:U,setAbandonmentStateFor:k,setPlaybackQuality:F,getPlaybackQuality:w,setAverageThroughput:K,getTopQualityIndexFor:r,initialize:t,setConfig:n,reset:q},e(),re}Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),o=r(a),s=n(183),u=r(s),l=n(54),d=r(l),f=n(51),c=r(f),g=n(4),p=r(g),h=n(32),m=r(h),v=n(2),_=r(v),y=n(1),E=r(y),T=n(0),S=r(T),A=n(33),I=r(A),C=n(12),R=r(C),b=n(20),M=r(b),O="abandonload",D="allowload",N=1e3,P=100,L=0;i.__dashjs_factory_name="AbrController";var w=S.default.getSingletonFactory(i);w.ABANDON_LOAD=O,w.QUALITY_DEFAULT=L,t.default=w,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){d.trigger(u.default.ERROR,{error:"capability",event:e})}function t(e,t,n){d.trigger(u.default.ERROR,{error:"download",event:{id:e,url:t,request:n}})}function n(e,t,n,r){d.trigger(u.default.ERROR,{error:"manifestError",event:{message:e,id:t,manifest:n,event:r}})}function r(e,t,n){d.trigger(u.default.ERROR,{error:"cc",event:{message:e,id:t,cc:n}})}function i(e){d.trigger(u.default.ERROR,{error:"mediasource",event:e})}function a(e){d.trigger(u.default.ERROR,{error:"key_session",event:e})}function s(e){d.trigger(u.default.ERROR,{error:"key_message",event:e})}var l=this.context,d=(0,o.default)(l).getInstance();return{capabilityError:e,downloadError:t,manifestError:n,timedTextError:r,mediaSourceError:i,mediaKeySessionError:a,mediaKeyMessageError:s}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=r(a),s=n(1),u=r(s),l=n(0),d=r(l);i.__dashjs_factory_name="ErrorHandler";var f=d.default.getSingletonFactory(i);f.CAPABILITY_ERROR_MEDIASOURCE="mediasource",f.CAPABILITY_ERROR_MEDIAKEYS="mediakeys",f.DOWNLOAD_ERROR_ID_MANIFEST="manifest",f.DOWNLOAD_ERROR_ID_SIDX="SIDX",f.DOWNLOAD_ERROR_ID_CONTENT="content",f.DOWNLOAD_ERROR_ID_INITIALIZATION="initialization",f.DOWNLOAD_ERROR_ID_XLINK="xlink",f.MANIFEST_ERROR_ID_CODEC="codec",f.MANIFEST_ERROR_ID_PARSE="parse",f.MANIFEST_ERROR_ID_NOSTREAMS="nostreams",f.TIMED_TEXT_ERROR_ID_PARSE="parse",t.default=f,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e,t){var n,r,i,a=!1,o=!1,s=e.ContentComponent_asArray,u="text"!==t?new RegExp(t):new RegExp("(vtt|ttml)");if(e.Representation_asArray.length>0&&e.Representation_asArray[0].hasOwnProperty("codecs")){var l=e.Representation_asArray[0].codecs;if("stpp"===l||"wvtt"===l)return"fragmentedText"===t}if(s){if(s.length>1)return"muxed"===t;s[0]&&s[0].contentType===t&&(a=!0,o=!0)}if(e.hasOwnProperty("mimeType")&&(a=u.test(e.mimeType),o=!0),!o)for(n=0,r=e.Representation_asArray.length;!o&&n<r;)i=e.Representation_asArray[n],i.hasOwnProperty("mimeType")&&(a=u.test(i.mimeType),o=!0),n++;return a}function t(t){return e(t,"audio")}function n(t){return e(t,"video")}function r(t){return e(t,"fragmentedText")}function i(t){return e(t,"text")}function a(t){return e(t,"muxed")}function s(e){return"text/vtt"===e||"application/ttml+xml"===e}function l(e){var t="";return e.hasOwnProperty("lang")&&(t=e.lang.replace(/[^A-Za-z0-9-]/g,"")),t}function f(e){return e.hasOwnProperty("Viewpoint")?e.Viewpoint:null}function g(e){return e.hasOwnProperty("Role_asArray")?e.Role_asArray:[]}function h(e){return e.hasOwnProperty("Accessibility_asArray")?e.Accessibility_asArray:[]}function v(e){return e.hasOwnProperty("AudioChannelConfiguration_asArray")?e.AudioChannelConfiguration_asArray:[]}function y(e){return g(e).filter(function(e){return"main"===e.value})[0]}function T(){return function(e,t){return e.bandwidth-t.bandwidth}}function A(e){return void 0!==e.Representation_asArray&&null!==e.Representation_asArray&&e.Representation_asArray.sort(T()),e}function C(e,t,n){var r,i,a=t.Period_asArray[n].AdaptationSet_asArray;for(r=0,i=a.length;r<i;r++)if(a[r].hasOwnProperty("id")&&a[r].id===e)return a[r];return null}function b(e,t,n){return t.Period_asArray[n].AdaptationSet_asArray[e]}function O(e,t,n){var r,i,a=t.Period_asArray[n].AdaptationSet_asArray;for(r=0,i=a.length;r<i;r++)if(a[r]===e)return r;return-1}function D(t,n,r){var i,a,o=t.Period_asArray[n].AdaptationSet_asArray,s=[];for(i=0,a=o.length;i<a;i++)e(o[i],r)&&s.push(A(o[i]));return s}function N(e,t,n,r){var i=D(e,t,n);if(!i||0===i.length)return null;if(i.length>1&&r)for(var a=de.getCurrentTrackFor(n,r),o=fe.getAllMediaInfoForType(e,r,n),s=0,u=i.length;s<u;s++){if(a&&de.isTracksEqual(a,o[s]))return i[s];if(y(i[s]))return i[s]}return i[0]}function P(e){var t=e.Representation_asArray[0];return t.mimeType+';codecs="'+t.codecs+'"'}function L(e){return e.Representation_asArray[0].mimeType}function w(e){return e&&e.hasOwnProperty("cenc:default_KID")?e["cenc:default_KID"]:null}function F(e){return e&&e.hasOwnProperty("ContentProtection_asArray")&&0!==e.ContentProtection_asArray.length?e.ContentProtection_asArray:null}function x(e){var t=!1;return e.hasOwnProperty("type")&&(t="dynamic"===e.type),t}function k(e){var t,n=x(e);return t=!isNaN(e.timeShiftBufferDepth),n&&t}function U(e,t){var n=!1;return e.profiles&&e.profiles.length>0&&(n=-1!==e.profiles.indexOf(t)),n}function B(e){return U(e,"urn:mpeg:dash:profile:isoff-on-demand:2011")}function j(e){return U(e,"urn:dvb:dash:profile:dvb-dash:2014")}function K(e){return e.hasOwnProperty("mediaPresentationDuration")?e.mediaPresentationDuration:Number.MAX_VALUE}function G(e){return e.bandwidth}function H(e){var t=NaN;return e.hasOwnProperty("minimumUpdatePeriod")&&(t=Math.max(parseFloat(e.minimumUpdatePeriod),2)),t}function Y(e){return e.Representation_asArray.length}function q(e){if(!e||!e.Representation_asArray||!e.Representation_asArray.length)return null;for(var t=A(e),n=t.Representation_asArray,r=n.length,i=[],a=0;a<r;a++)i.push({bandwidth:n[a].bandwidth,width:n[a].width||0,height:n[a].height||0});return i}function z(e,t){return t.Representation_asArray[e]}function V(e,t){for(var n,r,i,a,u,l=A(e.Period_asArray[t.period.index].AdaptationSet_asArray[t.index]),d=[],f=0;f<l.Representation_asArray.length;f++)a=l.Representation_asArray[f],n=new o.default,n.index=f,n.adaptation=t,a.hasOwnProperty("id")&&(n.id=a.id),a.hasOwnProperty("bandwidth")&&(n.bandwidth=a.bandwidth),a.hasOwnProperty("maxPlayoutRate")&&(n.maxPlayoutRate=a.maxPlayoutRate),a.hasOwnProperty("SegmentBase")?(i=a.SegmentBase,n.segmentInfoType="SegmentBase"):a.hasOwnProperty("SegmentList")?(i=a.SegmentList,i.hasOwnProperty("SegmentTimeline")?(n.segmentInfoType="SegmentTimeline",u=i.SegmentTimeline.S_asArray[i.SegmentTimeline.S_asArray.length-1],(!u.hasOwnProperty("r")||u.r>=0)&&(n.useCalculatedLiveEdgeTime=!0)):(n.segmentInfoType="SegmentList",n.useCalculatedLiveEdgeTime=!0)):a.hasOwnProperty("SegmentTemplate")?(i=a.SegmentTemplate,i.hasOwnProperty("SegmentTimeline")?(n.segmentInfoType="SegmentTimeline",u=i.SegmentTimeline.S_asArray[i.SegmentTimeline.S_asArray.length-1],(!u.hasOwnProperty("r")||u.r>=0)&&(n.useCalculatedLiveEdgeTime=!0)):n.segmentInfoType="SegmentTemplate",i.hasOwnProperty("initialization")&&(n.initialization=i.initialization.split("$Bandwidth$").join(a.bandwidth).split("$RepresentationID$").join(a.id))):(i=a.BaseURL,n.segmentInfoType="BaseURL"),i.hasOwnProperty("Initialization")?(r=i.Initialization,r.hasOwnProperty("sourceURL")?n.initialization=r.sourceURL:r.hasOwnProperty("range")&&(n.range=r.range)):a.hasOwnProperty("mimeType")&&s(a.mimeType)&&(n.range=0),i.hasOwnProperty("timescale")&&(n.timescale=i.timescale),i.hasOwnProperty("duration")&&(n.segmentDuration=i.duration/n.timescale),i.hasOwnProperty("startNumber")&&(n.startNumber=i.startNumber),i.hasOwnProperty("indexRange")&&(n.indexRange=i.indexRange),i.hasOwnProperty("presentationTimeOffset")&&(n.presentationTimeOffset=i.presentationTimeOffset/n.timescale),n.MSETimeOffset=le.calcMSETimeOffset(n),n.path=[t.period.index,t.index,f],d.push(n);return d}function J(e,i){for(var o,s,l=e.Period_asArray[i.index],d=[],f=0;f<l.AdaptationSet_asArray.length;f++)s=l.AdaptationSet_asArray[f],o=new u.default,s.hasOwnProperty("id")&&(o.id=s.id),o.index=f,o.period=i,a(s)?o.type="muxed":t(s)?o.type="audio":n(s)?o.type="video":r(s)?o.type="fragmentedText":o.type="text",d.push(o);return d}function W(e,t){var n,r,i=x(e),a=[],o=null,s=null,u=null,l=null;for(r=0,n=e.Period_asArray.length;r<n;r++)s=e.Period_asArray[r],s.hasOwnProperty("start")?(l=new d.default,l.start=s.start):null!==o&&s.hasOwnProperty("duration")&&null!==u?(l=new d.default,l.start=u.start+u.duration,l.duration=s.duration):0!==r||i||(l=new d.default,l.start=0),null!==u&&isNaN(u.duration)&&(u.duration=l.start-u.start),null!==l&&(l.id=Q(s)),null!==l&&s.hasOwnProperty("duration")&&(l.duration=s.duration),null!==l&&(l.index=r,l.mpd=t,a.push(l),o=s,u=l),s=null,l=null;return 0===a.length?a:(null!==u&&isNaN(u.duration)&&(u.duration=ee(e,u)-u.start),a)}function Q(e){if(!e)throw new Error("Period cannot be null or undefined");var t=d.default.DEFAULT_ID;return e.hasOwnProperty("id")&&"__proto__"!==e.id&&(t=e.id),t}function X(e){var t=new c.default;return t.manifest=e,e.hasOwnProperty("availabilityStartTime")?t.availabilityStartTime=new Date(e.availabilityStartTime.getTime()):t.availabilityStartTime=new Date(e.loadedTime.getTime()),e.hasOwnProperty("availabilityEndTime")&&(t.availabilityEndTime=new Date(e.availabilityEndTime.getTime())),e.hasOwnProperty("suggestedPresentationDelay")&&(t.suggestedPresentationDelay=e.suggestedPresentationDelay),e.hasOwnProperty("timeShiftBufferDepth")&&(t.timeShiftBufferDepth=e.timeShiftBufferDepth),e.hasOwnProperty("maxSegmentDuration")&&(t.maxSegmentDuration=e.maxSegmentDuration),t}function Z(e,t){return le.calcPresentationTimeFromWallTime(e.loadedTime,t)}function $(e,t){var n,r=NaN;return e.hasOwnProperty("minimumUpdatePeriod")&&(n=Z(e,t),r=n+e.minimumUpdatePeriod),r}function ee(e,t){var n,r=$(e,t);if(e.mediaPresentationDuration)n=e.mediaPresentationDuration;else{if(isNaN(r))throw new Error("Must have @mediaPresentationDuration or @minimumUpdatePeriod on MPD or an explicit @duration on the last period.");n=r}return n}function te(e,t){var n=e.Period_asArray,r=n[t.index].EventStream_asArray,i=[];if(r)for(var a=0;a<r.length;a++){var o=new R.default;if(o.period=t,o.timescale=1,!r[a].hasOwnProperty("schemeIdUri"))throw new Error("Invalid EventStream. SchemeIdUri has to be set");o.schemeIdUri=r[a].schemeIdUri,r[a].hasOwnProperty("timescale")&&(o.timescale=r[a].timescale),r[a].hasOwnProperty("value")&&(o.value=r[a].value);for(var s=0;s<r[a].Event_asArray.length;s++){var u=new S.default;u.presentationTime=0,u.eventStream=o,r[a].Event_asArray[s].hasOwnProperty("presentationTime")&&(u.presentationTime=r[a].Event_asArray[s].presentationTime),r[a].Event_asArray[s].hasOwnProperty("duration")&&(u.duration=r[a].Event_asArray[s].duration),r[a].Event_asArray[s].hasOwnProperty("id")&&(u.id=r[a].Event_asArray[s].id),i.push(u)}}return i}function ne(e,t){var n=[];if(!e)return n;for(var r=0;r<e.length;r++){var i=new R.default;if(i.timescale=1,i.representation=t,!e[r].hasOwnProperty("schemeIdUri"))throw new Error("Invalid EventStream. SchemeIdUri has to be set");i.schemeIdUri=e[r].schemeIdUri,e[r].hasOwnProperty("timescale")&&(i.timescale=e[r].timescale),e[r].hasOwnProperty("value")&&(i.value=e[r].value),n.push(i)}return n}function re(e,t){return ne(e.Period_asArray[t.period.index].AdaptationSet_asArray[t.index].InbandEventStream_asArray,null)}function ie(e,t){return ne(e.Period_asArray[t.adaptation.period.index].AdaptationSet_asArray[t.adaptation.index].Representation_asArray[t.index].InbandEventStream_asArray,t)}function ae(e){var t=x(e),n=e.hasOwnProperty("availabilityStartTime"),r=e.UTCTiming_asArray,i=[];return(t||n)&&r&&r.forEach(function(e){var t=new p.default;e.hasOwnProperty("schemeIdUri")&&(t.schemeIdUri=e.schemeIdUri,e.hasOwnProperty("value")&&(t.value=e.value.toString(),i.push(t)))}),i}function oe(e){var t=[],n=e.BaseURL_asArray||[e.baseUri],r=!1;return n.some(function(n){if(n){var i=new I.default,a=n.__text||n;return ce.isRelative(a)&&(r=!0,e.baseUri&&(a=e.baseUri+a)),i.url=a,n.hasOwnProperty("serviceLocation")&&n.serviceLocation.length?i.serviceLocation=n.serviceLocation:i.serviceLocation=a,n.hasOwnProperty("dvb:priority")&&(i.dvb_priority=n["dvb:priority"]),n.hasOwnProperty("dvb:weight")&&(i.dvb_weight=n["dvb:weight"]),t.push(i),r}}),t}function se(e){return e.hasOwnProperty("Location")&&(e.Location=e.Location_asArray[0]),e.Location}var ue=this.context,le=(0,m.default)(ue).getInstance(),de=(0,_.default)(ue).getInstance(),fe=(0,E.default)(ue).getInstance(),ce=(0,M.default)(ue).getInstance();return{getIsTypeOf:e,getIsAudio:t,getIsVideo:n,getIsText:i,getIsMuxed:a,getIsTextTrack:s,getIsFragmentedText:r,getIsMain:y,getLanguageForAdaptation:l,getViewpointForAdaptation:f,getRolesForAdaptation:g,getAccessibilityForAdaptation:h,getAudioChannelConfigurationForAdaptation:v,processAdaptation:A,getAdaptationForIndex:b,getIndexForAdaptation:O,getAdaptationForId:C,getAdaptationsForType:D,getAdaptationForType:N,getCodec:P,getMimeType:L,getKID:w,getContentProtectionData:F,getIsDynamic:x,getIsDVR:k,getIsOnDemand:B,getIsDVB:j,getDuration:K,getBandwidth:G,getRefreshDelay:H,getRepresentationCount:Y,getBitrateListForAdaptation:q,getRepresentationFor:z,getRepresentationsForAdaptation:V,getAdaptationsForPeriod:J,getRegularPeriods:W,getPeriodId:Q,getMpd:X,getFetchTime:Z,getCheckTime:$,getEndTimeForLastPeriod:ee,getEventsForPeriod:te,getEventStreams:ne,getEventStreamForAdaptationSet:re,getEventStreamForRepresentation:ie,getUTCTimingSources:ae,getBaseURLsFromElement:oe,getRepresentationSortFunction:T,getLocation:se}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(114),o=r(a),s=n(110),u=r(s),l=n(113),d=r(l),f=n(112),c=r(f),g=n(65),p=r(g),h=n(28),m=r(h),v=n(13),_=r(v),y=n(16),E=r(y),T=n(64),S=r(T),A=n(63),I=r(A),C=n(111),R=r(C),b=n(23),M=r(b),O=n(0),D=r(O);i.__dashjs_factory_name="DashManifestModel",t.default=D.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){U={},D(),O()}function t(e,t){var n=d(e),i=r(e,t),a=[];if("fragmentedText"===e)return void s(i[0]);n||(n=k.getSavedMediaSettings(e),l(e,n)),i&&0!==i.length&&(n&&i.forEach(function(e){M(n,e)&&a.push(e)}),s(0===a.length?N(i):a.length>1?N(a):a[0]))}function n(e){var t=e?e.type:null,n=e?e.streamInfo.id:null,r=d(t);return!(!e||!A(t))&&(U[n]=U[n]||P(),!(U[n][t].list.indexOf(e)>=0)&&(U[n][t].list.push(e),r&&M(r,e)&&!i(t,e.streamInfo)&&s(e),!0))}function r(e,t){if(!e||!t)return[];var n=t.id;return U[n]&&U[n][e]?U[n][e].list:[]}function i(e,t){return!e||!t||t&&!U[t.id]?null:U[t.id][e].current}function a(e){var t=e.type,n=e.streamInfo.id;return U[n]&&U[n][t]&&I(U[n][t].current,e)}function s(e){if(e){var t=e.type,n=e.streamInfo,r=n.id,a=i(t,n);if(U[r]&&U[r][t]&&(!a||!I(e,a))){U[r][t].current=e,a&&F.trigger(o.default.CURRENT_TRACK_CHANGED,{oldMediaInfo:a,newMediaInfo:e,switchMode:K[t]});var s=b(e);s&&U[r][t].storeLastSettings&&(s.roles&&(s.role=s.roles[0],delete s.roles),s.accessibility&&(s.accessibility=s.accessibility[0]),s.audioChannelConfiguration&&(s.audioChannelConfiguration=s.audioChannelConfiguration[0]),k.setSavedMediaSettings(t,s))}}}function l(e,t){e&&t&&(B[e]=t)}function d(e){return e?B[e]:null}function f(e,t){if(-1===H.indexOf(t))return void w("track switch mode is not supported: "+t);K[e]=t}function g(e){return K[e]}function h(e){if(-1===Y.indexOf(e))return void w("track selection mode is not supported: "+e);j=e}function S(){return j||T}function A(e){return"audio"===e||"video"===e||"text"===e||"fragmentedText"===e}function I(e,t){var n=e.id===t.id,r=e.viewpoint===t.viewpoint,i=e.lang===t.lang,a=e.roles.toString()===t.roles.toString(),o=e.accessibility.toString()===t.accessibility.toString(),s=e.audioChannelConfiguration.toString()===t.audioChannelConfiguration.toString();return n&&r&&i&&a&&o&&s}function C(e){e&&e.errHandler&&(G=e.errHandler)}function R(){e(),x.resetEmbedded()}function b(e){var t={lang:e.lang,viewpoint:e.viewpoint,roles:e.roles,accessibility:e.accessibility,audioChannelConfiguration:e.audioChannelConfiguration};return t.lang||t.viewpoint||t.role&&t.role.length>0||t.accessibility&&t.accessibility.length>0||t.audioChannelConfiguration&&t.audioChannelConfiguration.length>0?t:null}function M(e,t){var n=!e.lang||e.lang===t.lang,r=!e.viewpoint||e.viewpoint===t.viewpoint,i=!e.role||!!t.roles.filter(function(t){return t===e.role})[0],a=!e.accessibility||!!t.accessibility.filter(function(t){return t===e.accessibility})[0],o=!e.audioChannelConfiguration||!!t.audioChannelConfiguration.filter(function(t){return t===e.audioChannelConfiguration})[0];return n&&r&&i&&a&&o}function O(){K={audio:_,video:v}}function D(){B={audio:null,video:null}}function N(e){var t=S(),n=[],r=function(e){var t,n=0,r=[];return e.forEach(function(e){t=Math.max.apply(Math,e.bitrateList.map(function(e){return e.bandwidth})),t>n?(n=t,r=[e]):t===n&&r.push(e)}),r},i=function(e){var t,n=0,r=[];return e.forEach(function(e){t=e.representationCount,t>n?(n=t,r=[e]):t===n&&r.push(e)}),r};switch(t){case y:n=r(e),n.length>1&&(n=i(n));break;case E:n=i(e),n.length>1&&(n=r(e));break;default:w("track selection mode is not supported: "+t)}return n[0]}function P(){return{audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},fragmentedText:{list:[],storeLastSettings:!0,current:null}}}var L=this.context,w=(0,c.default)(L).getInstance().log,F=(0,u.default)(L).getInstance(),x=(0,p.default)(L).getInstance(),k=(0,m.default)(L).getInstance(),U=void 0,B=void 0,j=void 0,K=void 0,G=void 0,H=[_,v],Y=[y,E];return{initialize:e,checkInitialMediaSettingsForType:t,addTrack:n,getTracksFor:r,getCurrentTrackFor:i,isCurrentTrack:a,setTrack:s,setInitialSettings:l,getInitialSettings:d,setSwitchMode:f,getSwitchMode:g,setSelectionModeForInitialTrack:h,getSelectionModeForInitialTrack:S,isMultiTrackSupportedByType:A,isTracksEqual:I,setConfig:C,reset:R}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=r(a),s=n(2),u=r(s),l=n(0),d=r(l),f=n(3),c=r(f),g=n(18),p=r(g),h=n(54),m=r(h),v="neverReplace",_="alwaysReplace",y="highestBitrate",E="widestRange",T=y;i.__dashjs_factory_name="MediaController";var S=d.default.getSingletonFactory(i);S.TRACK_SWITCH_MODE_NEVER_REPLACE=v,S.TRACK_SWITCH_MODE_ALWAYS_REPLACE=_,S.TRACK_SELECTION_MODE_HIGHEST_BITRATE=y,S.TRACK_SELECTION_MODE_WIDEST_RANGE=E,S.DEFAULT_INIT_TRACK_SELECTION_MODE=T,t.default=S,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){e&&e.adapter&&(H=e.adapter)}function t(){K.trigger(M.default.METRICS_CHANGED)}function n(e){K.trigger(M.default.METRIC_CHANGED,{mediaType:e}),t()}function r(e,t,r){K.trigger(M.default.METRIC_UPDATED,{mediaType:e,metric:t,value:r}),n(e)}function i(e,t,r){K.trigger(M.default.METRIC_ADDED,{mediaType:e,metric:t,value:r}),n(e)}function a(e){delete Y[e],n(e)}function s(){Y={},t()}function d(e){return Y.hasOwnProperty(e)?Y[e]:null}function c(e){var t;return Y.hasOwnProperty(e)?t=Y[e]:(t=new o.default,Y[e]=t),t}function p(e,t,n,r,a,o){var s=new u.default;return s.tcpid=t,s.dest=n,s.topen=r,s.tclose=a,s.tconnect=o,c(e).TcpList.push(s),i(e,H.metricsList.TCP_CONNECTION,s),s}function m(e,t,n,r){var i=new l.HTTPRequestTrace;return i.s=t,i.d=n,i.b=r,e.trace.push(i),e.interval||(e.interval=0),e.interval+=n,i}function _(e,t,n,r,a,o,s,u,d,f,g,p,h,v){var y=new l.HTTPRequest;return a&&a!==r&&(_(e,null,n,r,null,null,s,u,null,null,null,p,null,null),y.actualurl=a),y.tcpid=t,y.type=n,y.url=r,y.range=s,y.trequest=u,y.tresponse=d,y.responsecode=g,y._tfinish=f,y._stream=e,y._mediaduration=p,y._responseHeaders=h,y._serviceLocation=o,v?v.forEach(function(e){m(y,e.s,e.d,e.b)}):(delete y.interval,delete y.trace),c(e).HttpList.push(y),i(e,H.metricsList.HTTP_REQUEST,y),y}function T(e,t,n,r,a){var o=new f.default;return o.t=t,o.mt=n,o.to=r,a?o.lto=a:delete o.lto,c(e).RepSwitchList.push(o),i(e,H.metricsList.TRACK_SWITCH,o),o}function A(e,t,n){var r=new g.default;return r.t=t,r.level=n,c(e).BufferLevel.push(r),i(e,H.metricsList.BUFFER_LEVEL,r),r}function C(e,t,n){var r=new h.default;return r.target=n,r.state=t,c(e).BufferState.push(r),i(e,H.metricsList.BUFFER_STATE,r),r}function b(e,t,n,r){var a=new v.default;return a.time=t,a.range=r,a.manifestInfo=n,c(e).DVRInfo.push(a),i(e,H.metricsList.DVR_INFO,a),a}function O(e,t){var n=new y.default,r=c(e).DroppedFrames;return n.time=t.creationTime,n.droppedFrames=t.droppedVideoFrames,r.length>0&&r[r.length-1]==n?r[r.length-1]:(r.push(n),i(e,H.metricsList.DROPPED_FRAMES,n),n)}function D(e,t,n,r,a,o,s,u,l){var d=new S.default;return d.mediaType=e,d.t=t,d.type=n,d.startTime=r,d.availabilityStartTime=a,d.duration=o,d.quality=s,d.range=u,d.state=l,c(e).SchedulingInfo.push(d),i(e,H.metricsList.SCHEDULING_INFO,d),d}function N(e,t,n){var r=new R.default;r.loadingRequests=t,r.executedRequests=n,c(e).RequestsQueue=r,i(e,H.metricsList.REQUESTS_QUEUE,r)}function L(e,t,n,r,a,o,s,u,l,d){var f=new E.ManifestUpdate,g=c("stream");return f.mediaType=e,f.type=t,f.requestTime=n,f.fetchTime=r,f.availabilityStartTime=a,f.presentationStartTime=o,f.clientTimeOffset=s,f.currentTime=u,f.buffered=l,f.latency=d,g.ManifestUpdate.push(f),i(e,H.metricsList.MANIFEST_UPDATE,f),f}function w(e,t){if(e){for(var n in t)e[n]=t[n];r(e.mediaType,H.metricsList.MANIFEST_UPDATE,e)}}function F(e,t,n,i,a){if(e){var o=new E.ManifestUpdateStreamInfo;return o.id=t,o.index=n,o.start=i,o.duration=a,e.streamInfo.push(o),r(e.mediaType,H.metricsList.MANIFEST_UPDATE_STREAM_INFO,e),o}return null}function x(e,t,n,i,a,o,s,u){if(e){var l=new E.ManifestUpdateTrackInfo;return l.id=t,l.index=n,l.streamIndex=i,l.mediaType=a,l.startNumber=s,l.fragmentInfoType=u,l.presentationTimeOffset=o,e.trackInfo.push(l),r(e.mediaType,H.metricsList.MANIFEST_UPDATE_TRACK_INFO,e),l}return null}function k(e){return e.trace&&Array.isArray(e.trace)?e.trace.forEach(function(e){e.hasOwnProperty("subreplevel")&&!e.subreplevel&&delete e.subreplevel}):delete e.trace,c("stream").PlayList.push(e),i("stream",H.metricsList.PLAY_LIST,e),e}function U(e){return c("stream").DVBErrors.push(e),i("stream",H.metricsList.DVB_ERRORS,e),e}function B(e,t){var n=new P.default;return n._s=t,c(e).BolaState=[n],i(e,"BolaState",n),n}var j=this.context,K=(0,I.default)(j).getInstance(),G=void 0,H=void 0,Y=void 0;return G={metricsChanged:t,metricChanged:n,metricUpdated:r,metricAdded:i,clearCurrentMetricsForType:a,clearAllCurrentMetrics:s,getReadOnlyMetricsFor:d,getMetricsFor:c,addTcpConnection:p,addHttpRequest:_,addRepresentationSwitch:T,addBufferLevel:A,addBufferState:C,addDVRInfo:b,addDroppedFrames:O,addSchedulingInfo:D,addRequestsQueue:N,addManifestUpdate:L,updateManifestUpdateInfo:w,addManifestUpdateStreamInfo:F,addManifestUpdateRepresentationInfo:x,addPlayList:k,addDVBErrors:U,updateBolaState:B,setConfig:e},function(){Y={}}(),G}Object.defineProperty(t,"__esModule",{value:!0});var a=n(189),o=r(a),s=n(203),u=r(s),l=n(6),d=n(200),f=r(d),c=n(195),g=r(c),p=n(196),h=r(p),m=n(197),v=r(m),_=n(198),y=r(_),E=n(199),T=n(202),S=r(T),A=n(2),I=r(A),C=n(201),R=r(C),b=n(1),M=r(b),O=n(0),D=r(O),N=n(194),P=r(N);i.__dashjs_factory_name="MetricsModel",t.default=D.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(t.FJCONFIG_CLASS="FJClass",t.FJCONFIG_TYPE="FJType",t.FJCONFIG_TITLE="FJTitle",t.FJCONFIG_SRC="FJSrc",t.FJCONFIG_POSTER="FJPoster",t.FJCONFIG_ADS_LINK_URL="FJAdsLinkUrl",t.FJCONFIG_CAN_ESCAPE="FJCanEscape",t.FJCONFIG_THUMBS="FJThumbs",t.FJCONFIG_SUBTITLES="FJSubtitles",t.FJCONFIG_ADS="FJAds",t.FJCONFIG_AUDIOS="FJAudios",t.FJCONFIG_OVERLAYS="FJOverlays",t.FJCONFIG_DRM="FJDrm",t.FJCONFIG_LABEL="FJLabel",t.FJCONFIG_LANG="FJLang",t.FJCONFIG_DATA="FJData",t.FJCONFIG_URL="FJUrl",t.FJCONFIG_DURATION="FJDuration",t.FJCONFIG_SHOW_AT="FJShowAt",t.FJCONFIG_DRM_SCHEME="FJDrmScheme",t.FJCONFIG_DRM_LICENSE_SERVER="FJLicenceServer",t.FJCONFIG_DRM_HEADER_LICENSE_REQUEST="FJHeadersOnLicenseRequest",t.FJCONFIG_DRM_HEADER_SEGMENTS_REQUEST="FJHeadersOnSegmentsRequest",t.FJCONFIG_TRUE="true"),i=t.FJCONFIG_FALSE="false",a=(t.FJCONFIG_BOOLEAN={FJCONFIG_TRUE:r,FJCONFIG_FALSE:i},t.FJCONFIG_CLASS_VOD="vod"),o=t.FJCONFIG_CLASS_LIVE="live",s=(t.FJCONFIG_CLASSES=[o,a],t.FJCONFIG_SCREEN_MODE_MINIMAL="minimal"),u=t.FJCONFIG_SCREEN_MODE_CINEMA="cinema",l=t.FJCONFIG_SCREEN_MODE_MAXIMAL="maximal",d=(t.FJCONFIG_SCREEN_MODES=[s,u,l],t.FJCONFIG_TYPE_MP4="video/mp4"),f=t.FJCONFIG_TYPE_DASH="dash",c=(t.FJCONFIG_TYPES=[d,f],t.FJCONFIG_ADS_CLASS_PRE_ROLL="pre-roll"),g=t.FJCONFIG_ADS_CLASS_MID_ROLL="mid-roll",p=t.FJCONFIG_ADS_CLASS_POST_ROLL="post-roll",h=(t.FJCONFIG_ADS_CLASSES=[c,g,p],t.FJCONFIG_DRM_SCHEME_FORJA="forja"),m=t.FJCONFIG_DRM_SCHEME_CLEARKEY="clearKey",v=t.FJCONFIG_DRM_SCHEME_WIDEVINE="widevine",_=t.FJCONFIG_DRM_SCHEME_PLAYREADY="playReady",y=(t.FJCONFIG_DRM_SCHEMES=[h,m,v,_],t.AdsEnum={ADS_PRE_ROLL:"ADS_PRE_ROLL",ADS_MID_ROLL:"ADS_MID_ROLL",ADS_POST_ROLL:"ADS_POST_ROLL"},{STREAM_LOADED:"STREAM_LOADED",TRACKS_ADDED:"TRACKS_ADDED",PLAYBACK_STARTED:"PLAYBACK_STARTED",PLAYBACK_PAUSED:"PLAYBACK_PAUSED",PLAYBACK_SEEKING:"PLAYBACK_SEEKING",PLAYBACK_SEEKED:"PLAYBACK_SEEKED",PLAYBACK_ENDED:"PLAYBACK_ENDED",PLAYBACK_TIME_UPDATE:"PLAYBACK_TIME_UPDATE"}),E={ADS_USER_CLICKED:"ADS_USER_CLICKED",ADS_PLAYBACK_STARTED:"ADS_PLAYBACK_STARTED",ADS_PLAYBACK_ENDED:"ADS_PLAYBACK_ENDED",ADS_PLAYBACK_ERROR:"ADS_PLAYBACK_ERROR"},T={OVERLAY_USER_CLICKED:"OVERLAY_USER_CLICKED",OVERLAY_STARTED:"OVERLAY_STARTED",OVERLAY_ENDED:"OVERLAY_ENDED",OVERLAY_ERROR:"OVERLAY_ERROR",OVERLAY_SKIPPED:"OVERLAY_SKIPPED"};t.PlayerEvents=y,t.AdsEvents=E,t.OverlayEvents=T},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){e&&e.dashManifestModel&&(L=e.dashManifestModel)}function t(){w=[],F={}}function n(e,t){return t.getRepresentationForQuality(e.quality)}function r(e){return F[e.streamInfo.id][e.index]}function i(e){for(var t=w.length,n=0;n<t;n++){var r=w[n];if(e.id===r.id)return r}return null}function a(e,t){var n=new o.default,r=t.adaptation.period.mpd.manifest.Period_asArray[t.adaptation.period.index].AdaptationSet_asArray[t.adaptation.index],i=L.getRepresentationFor(t.index,r);return n.id=t.id,n.quality=t.index,n.bandwidth=L.getBandwidth(i),n.DVRWindow=t.segmentAvailabilityRange,n.fragmentDuration=t.segmentDuration||(t.segments&&t.segments.length>0?t.segments[0].duration:NaN),n.MSETimeOffset=t.MSETimeOffset,n.useCalculatedLiveEdgeTime=t.useCalculatedLiveEdgeTime,n.mediaInfo=s(e,t.adaptation),n}function s(e,t){var n,r=new u.default,i=t.period.mpd.manifest.Period_asArray[t.period.index].AdaptationSet_asArray[t.index];return r.id=t.id,r.index=t.index,r.type=t.type,r.streamInfo=f(e,t.period),r.representationCount=L.getRepresentationCount(i),r.lang=L.getLanguageForAdaptation(i),n=L.getViewpointForAdaptation(i),r.viewpoint=n?n.value:void 0,r.accessibility=L.getAccessibilityForAdaptation(i).map(function(e){var t=e.value,n=t;return e.schemeIdUri&&e.schemeIdUri.search("cea-608")>=0&&void 0!==_.default&&(n=t?"cea-608:"+t:"cea-608",r.embeddedCaptions=!0),n}),r.audioChannelConfiguration=L.getAudioChannelConfigurationForAdaptation(i).map(function(e){return e.value}),r.roles=L.getRolesForAdaptation(i).map(function(e){return e.value}),r.codec=L.getCodec(i),r.mimeType=L.getMimeType(i),r.contentProtection=L.getContentProtectionData(i),r.bitrateList=L.getBitrateListForAdaptation(i),r.contentProtection&&r.contentProtection.forEach(function(e){e.KID=L.getKID(e)}),r.isText=L.getIsTextTrack(r.mimeType),r}function l(e,t,n){e.id=t,e.index=100+parseInt(t.substring(2,3)),e.type="embeddedText",e.codec="cea-608-in-SEI",e.isText=!0,e.isEmbedded=!0,e.lang=t+" "+n,e.roles=["caption"]}function f(e,t){var n=new d.default;return n.id=t.id,n.index=t.index,n.start=t.start,n.duration=t.duration,n.manifestInfo=g(e,t.mpd),n.isLast=1===e.Period_asArray.length||Math.abs(n.start+n.duration-n.manifestInfo.duration)<1,n.isFirst=1===e.Period_asArray.length||L.getRegularPeriods(e,L.getMpd(e))[0].id===t.id,n}function g(e,t){var n=new c.default;return n.DVRWindowSize=t.timeShiftBufferDepth,n.loadedTime=t.manifest.loadedTime,n.availableFrom=t.availabilityStartTime,n.minBufferTime=t.manifest.minBufferTime,n.maxFragmentDuration=t.maxSegmentDuration,n.duration=L.getDuration(e),n.isDynamic=L.getIsDynamic(e),n}function h(e,t,n){var r=L.getAdaptationForType(e,t.index,n,t);if(!r)return null;var a=i(t),o=a.id,u=L.getIndexForAdaptation(r,e,t.index);return F[o]=F[o]||L.getAdaptationsForPeriod(e,a),s(e,F[o][u])}function m(e,t,n){var r,a,o,u,d,f,c=i(t),g=c.id,p=L.getAdaptationsForType(e,t.index,"embeddedText"!==n?n:"video"),h=[];if(!p)return h;for(F[g]=F[g]||L.getAdaptationsForPeriod(e,c),u=0,f=p.length;u<f;u++){if(r=p[u],o=L.getIndexForAdaptation(r,e,t.index),a=s(e,F[g][o]),"embeddedText"===n){var m=a.accessibility.length;for(d=0;d<m;d++)if(a){var v=a.accessibility[d];if(0===v.indexOf("cea-608:")){var _=v.substring(8),y=_.split(";");if("CC"===y[0].substring(0,2))for(d=0;d<y.length;d++)a||(a=s.call(this,e,F[g][o])),l(a,y[d].substring(0,3),y[d].substring(4)),h.push(a),a=null;else for(d=0;d<y.length;d++)a||(a=s.call(this,e,F[g][o])),l(a,"CC"+(d+1),y[d]),h.push(a),a=null}else 0===v.indexOf("cea-608")&&(l(a,"CC1","eng"),h.push(a),a=null)}}a&&"embeddedText"!==n&&h.push(a)}return h}function v(e){var t,n,r,i=[];if(!e)return null;for(t=L.getMpd(e),w=L.getRegularPeriods(e,t),t.checkTime=L.getCheckTime(e,w[0]),F={},n=w.length,r=0;r<n;r++)i.push(f(e,w[r]));return i}function y(e){return g(e,L.getMpd(e))}function T(e,t){var n=e.getRepresentationController().getRepresentationForQuality(t);return e.getIndexHandler().getInitRequest(n)}function S(e,t){var r=n(t,e.getRepresentationController());return e.getIndexHandler().getNextSegmentRequest(r)}function A(e,t,r,i){var a=n(t,e.getRepresentationController());return e.getIndexHandler().getSegmentRequestForTime(a,r,i)}function I(e,t,r){var i=n(t,e.getRepresentationController());return e.getIndexHandler().generateSegmentRequestForTime(i,r)}function C(e){return e.getIndexHandler().getCurrentTime()}function R(e,t){return e.getIndexHandler().setCurrentTime(t)}function b(e,t){var n,a,o=i(t.getStreamInfo()),s=t.getMediaInfo(),u=r(s),l=t.getType();n=s.id,a=n?L.getAdaptationForId(n,e,o.index):L.getAdaptationForIndex(s.index,e,o.index),t.getRepresentationController().updateData(a,u,l)}function M(e,t,n){var r=t.getRepresentationForQuality(n);return r?a(e,r):null}function O(e,t){var n=t.getCurrentRepresentation();return n?a(e,n):null}function D(e,t,n){var r=new p.default,i=e.scheme_id_uri,a=e.value,o=e.timescale,s=e.presentation_time_delta,u=e.event_duration,l=e.id,d=e.message_data,f=n*o+s;return t[i]?(r.eventStream=t[i],r.eventStream.value=a,r.eventStream.timescale=o,r.duration=u,r.id=l,r.presentationTime=f,r.messageData=d,r.presentationTimeDelta=s,r):null}function N(e,t,a){var s=[];return t instanceof d.default?s=L.getEventsForPeriod(e,i(t)):t instanceof u.default?s=L.getEventStreamForAdaptationSet(e,r(t)):t instanceof o.default&&(s=L.getEventStreamForRepresentation(e,n(t,a.getRepresentationController()))),s}function P(){w=[],F={}}var L=void 0,w=void 0,F=void 0;return{initialize:t,convertDataToTrack:a,convertDataToMedia:s,convertDataToStream:f,getDataForTrack:n,getDataForMedia:r,getDataForStream:i,getStreamsInfo:v,getManifestInfo:y,getMediaInfoForType:h,getAllMediaInfoForType:m,getCurrentRepresentationInfo:O,getRepresentationInfoForQuality:M,updateData:b,getInitRequest:T,getNextFragmentRequest:S,getFragmentRequestForTime:A,generateFragmentRequestForTime:I,getIndexHandlerTime:C,setIndexHandlerTime:R,getEventsFor:N,getEvent:D,setConfig:e,reset:P,metricsList:E}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(192),o=r(a),s=n(188),u=r(s),l=n(190),d=r(l),f=n(187),c=r(f),g=n(64),p=r(g),h=n(0),m=r(h),v=n(59),_=r(v),y=n(61),E=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(y);i.__dashjs_factory_name="DashAdapter",t.default=m.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e,t){var n;return n=A(b.getValue().Period_asArray[t],e),null===n?null:n.bandwidth}function t(e,t){return S(b.getValue().Period_asArray[t],e)}function n(e,t){return C(b.getValue().Period_asArray[t],e)}function r(e){return c(e,g.TRACK_SWITCH)}function i(e){return c(e,g.BUFFER_LEVEL)}function o(e){var t=i(e);return t?(0,p.round10)(t.level/1e3,-3):0}function u(e){return e.RequestsQueue}function d(e){if(null===e)return null;var t,n,r=e.HttpList,i=null;if(null===r||r.length<=0)return null;for(t=r.length,n=t-1;n>=0;){if(r[n].responsecode){i=r[n];break}n--}return i}function f(e){return null===e?[]:e.HttpList?e.HttpList:[]}function c(e,t){if(null===e)return null;var n=e[t];if(null===n)return null;var r=n.length;return r<=0?null:n[r-1]}function h(e){return c(e,g.DROPPED_FRAMES)}function m(e){return c(e,g.SCHEDULING_INFO)}function v(e){return c(e,g.MANIFEST_UPDATE)}function _(e){return c(e,g.DVR_INFO)}function y(e,t){var n,r,i,o={};if(null===e)return null;for(n=f(e),i=n.length-1;i>=0;i--)if(r=n[i],r.type===a.HTTPRequest.MPD_TYPE){o=T(r._responseHeaders);break}return void 0===o[t]?null:o[t]}function E(e,t){if(null===e)return null;var n,r=d(e);return null===r||null===r._responseHeaders?null:(n=T(r._responseHeaders),void 0===n[t]?null:n[t])}function T(e){var t={};if(!e)return t;for(var n=e.split("\r\n"),r=0,i=n.length;r<i;r++){var a=n[r],o=a.indexOf(": ");o>0&&(t[a.substring(0,o)]=a.substring(o+2))}return t}function S(e,t){var n=A(e,t,!0);return null!==n?n:-1}function A(e,t,n){var r,i,a,o,s,u;for(i=e.AdaptationSet_asArray,s=0;s<i.length;s+=1)for(r=i[s],o=r.Representation_asArray,u=0;u<o.length;u+=1)if(a=o[u],t===a.id)return n?u:a;return null}function I(e,t){return(0,l.default)(R).getInstance().getIsTypeOf(e,t)}function C(e,t){var n,r,i,a;if(!e||!t)return-1;for(r=e.AdaptationSet_asArray,a=0;a<r.length;a+=1)if(n=r[a],i=n.Representation_asArray,I(n,t))return i.length;return-1}var R=this.context,b=(0,s.default)(R).getInstance();return{getBandwidthForRepresentation:e,getIndexForRepresentation:t,getMaxIndexForBufferType:n,getCurrentRepresentationSwitch:r,getLatestBufferLevelVO:i,getCurrentBufferLevel:o,getCurrentHttpRequest:d,getHttpRequests:f,getCurrentDroppedFrames:h,getCurrentSchedulingInfo:m,getCurrentDVRInfo:_,getCurrentManifestUpdate:v,getLatestFragmentRequestHeaderValueByID:E,getLatestMPDRequestHeaderValueByID:y,getRequestsQueue:u}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),o=n(33),s=r(o),u=n(12),l=r(u),d=n(0),f=r(d),c=n(61),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(c),p=n(204);i.__dashjs_factory_name="DashMetrics",t.default=f.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e,n){k=!1,U=null,q=null,z=!1,V=NaN,J=[],X=null,D||t();var r=n.getStreamProcessor();if(G=r.getMediaInfoArr(),H.setConfig({videoModel:W}),H.initialize(),Y=!F.getIsTextTrack(e),P=(0,d.default)(M).getInstance(),K=(0,u.default)(M).getInstance(),K.setConfig({boxParser:P}),Y){q=r.getFragmentModel(),this.buffered=(0,c.default)(M).create(),J=x.getTracksFor("fragmentedText",Q.getActiveStreamInfo());for(var i=x.getCurrentTrackFor("fragmentedText",Q.getActiveStreamInfo()),a=0;a<J.length;a++)if(J[a]===i){Z=a;break}}}function t(){$=[],G=[],W=(0,_.default)(M).getInstance(),H=(0,E.default)(M).getInstance(),H.setConfig({videoModel:W}),H.initialize(),P=(0,d.default)(M).getInstance(),K=(0,u.default)(M).getInstance(),K.setConfig({boxParser:P}),Y=!1,Z=null,ee=!1,te=0,ie=[],re=[],ne=null,D=!0}function n(e,t){function n(e,t){var n=new o.default,r={subtitle:"subtitles",caption:"captions"};n.captionData=e,n.lang=t.lang,n.label=t.id,n.index=t.index,n.isTTML=function(){var e=!1;return t.codec&&t.codec.search("stpp")>=0&&(e=!0),t.mimeType&&t.mimeType.search("ttml")>=0&&(e=!0),e}(),n.video=W.getElement(),n.defaultTrack=R(t),n.isFragmented=Y,n.isEmbedded=!!t.isEmbedded,n.kind=function(){var e=t.roles.length>0?r[t.roles[0]]:r.caption;return e=e===r.caption||e===r.subtitle?e:r.caption}();var i=(G?G.length:0)+$.length;H.addTextTrack(n,i)}var i,a,s,u,l,d=t.mediaInfo,f=d.type,c=d.mimeType,g=d.codec||c;if(!g)return void O("No text type defined");if("fragmentedText"===f)if(z)if(u=K.getSamplesInfo(e),a=u.sampleList,!X&&a.length>0&&(X=a[0].cts-t.start*V),g.search("stpp")>=0)for(U=null!==U?U:b(g),s=0;s<a.length;s++){var h=a[s],m=h.cts,v=m-X;this.buffered.add(v/V,(v+h.duration)/V);var _=new DataView(e,h.offset,h.size);l=S.default.Utils.dataViewToString(_,"utf-8");try{i=U.parse(l,m/V,(m+h.duration)/V),H.addCaptions(Z,X/V,i)}catch(e){O("TTML parser error: "+e.message)}}else{var y=[];for(s=0;s<a.length;s++){var E=a[s];E.cts-=X,this.buffered.add(E.cts/V,(E.cts+E.duration)/V);for(var T=e.slice(E.offset,E.offset+E.size),A=S.default.parseBuffer(T),C=0;C<A.boxes.length;C++){var M=A.boxes[C];if(O("VTT box1: "+M.type),"vtte"!==M.type&&"vttc"===M.type){O("VTT vttc boxes.length = "+M.boxes.length);for(var D=0;D<M.boxes.length;D++){var N=M.boxes[D];if(O("VTT box2: "+N.type),"payl"===N.type){var P=N.cue_text;O("VTT cue_text = "+P);var w=E.cts/V,F=(E.cts+E.duration)/V;y.push({start:w,end:F,data:P,styles:{}}),O("VTT "+w+"-"+F+" : "+P)}}}}}y.length>0&&H.addCaptions(Z,0,y)}else{for(z=!0,s=0;s<G.length;s++)n(null,G[s]);V=K.getMediaTimescaleFromMoov(e)}else if("text"===f){var _=new DataView(e,0,e.byteLength);l=S.default.Utils.dataViewToString(_,"utf-8");try{i=b(g).parse(l),n(i,d)}catch(e){L.timedTextError(e,"parse",l)}}else if("video"===f)if("InitializationSegment"===t.segmentType){if(0===te)for(te=K.getMediaTimescaleFromMoov(e),s=0;s<$.length;s++)n(null,$[s])}else{if(0===te)return void O("CEA-608: No timescale for embeddedTextTrack yet");u=K.getSamplesInfo(e);var x=u.sequenceNumber;if(!ie[0]&&!ie[1]){var k=void 0,B=void 0;for(s=0;s<$.length;s++){if("CC1"===$[s].id?(0,B=H.getTrackIdxForId("CC1")):"CC3"===$[s].id&&(1,B=H.getTrackIdxForId("CC3")),-1===B)return void O("CEA-608: data before track is ready.");k=function(e,t){function n(e,n,r){var i=null;if(W.getTTMLRenderingDiv())i=p(W.getElement(),e,n,r);else{i=[{start:e,end:n,data:r.getDisplayText(),styles:{}}]}i&&H.addCaptions(t,0,i)}return n}(0,B),ie[s]=new I.default.Cea608Parser(s,{newCue:k},null)}}if(te&&-1==re.indexOf(x)){if(null!==ne&&x!==ne+1)for(s=0;s<ie.length;s++)ie[s]&&ie[s].reset();for(var j=r(e),q=0;q<ie.length;q++){var J=j.fields[q],Q=ie[q];if(Q){for(s=0;s<J.length;s++)Q.addData(J[s][0]/te,J[s][1]);j.endTime&&Q.cueSplitAtTime(j.endTime/te)}}ne=x,re.push(x)}}}function r(e){var t=P.parse(e),n=t.getBox("moof"),r=t.getBox("tfdt"),i=t.getBoxes("trun"),a=null;if(0===i.length)return null;a=i[0],i.length>1&&O("Warning: Too many truns");for(var o=n.offset+a.data_offset,s=a.sample_count,u=o,l=r.baseMediaDecodeTime,d=new DataView(e),f={startTime:null,endTime:null,fields:[[],[]]},c=0,g=0;g<s;g++){for(var p=a.samples[g],h=l+c+p.sample_composition_time_offset,m=I.default.findCea608Nalus(d,u,p.sample_size),v=0;v<m.length;v++)for(var _=I.default.extractCea608DataFromRange(d,m[v]),y=0;y<2;y++)_[y].length>0&&function(e,t,n){var r=e.length;if(r>0){if(t>=e[r-1][0])e.push([t,n]);else for(var i=r-1;i>=0;i--)if(t<e[i][0]){e.splice(i,0,[t,n]);break}}else e.push([t,n])}(f.fields[y],h,_[y]);c+=p.sample_duration,u+=p.sample_size}var E=l+c;return f.startTime=l,f.endTime=E,f}function i(e){for(var t="",n=0;n<e.length;++n){t+=e[n].uchar}return t.length-t.replace(/^\s+/,"").length}function a(e){return"left: "+3.125*e.x+"%; top: "+6.66*e.y1+"%; width: "+(100-3.125*e.x)+"%; height: "+6.66*Math.max(e.y2-1-e.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function s(e){return"red"==e?"rgb(255, 0, 0)":"green"==e?"rgb(0, 255, 0)":"blue"==e?"rgb(0, 0, 255)":"cyan"==e?"rgb(0, 255, 255)":"magenta"==e?"rgb(255, 0, 255)":"yellow"==e?"rgb(255, 255, 0)":"white"==e?"rgb(255, 255, 255)":"black"==e?"rgb(0, 0, 0)":e}function l(e,t){var n=e.videoHeight/15;return t?"font-size: "+n+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(t.foreground?s(t.foreground):"rgb(255, 255, 255)")+"; font-style: "+(t.italics?"italic":"normal")+"; text-decoration: "+(t.underline?"underline":"none")+"; white-space: pre; background-color: "+(t.background?s(t.background):"transparent")+";":"font-size: "+n+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function f(e){return e.replace(/^\s+/g,"")}function g(e){return e.replace(/\s+$/g,"")}function p(e,t,n,r){var o=null,s=null,u=!1,d=-1,c={start:t,end:n,spans:[]},p="style_cea608_white_black",h={},m={},v=[],_=void 0,y=void 0;for(_=0;_<15;++_){var E=r.rows[_],T="",S=null;if(!1===E.isEmpty()){var A=i(E.chars);null===o&&(o={x:A,y1:_,y2:_+1,p:[]}),A!==d&&u&&(o.p.push(c),c={start:t,end:n,spans:[]},o.y2=_,o.name="region_"+o.x+"_"+o.y1+"_"+o.y2,!1===h.hasOwnProperty(o.name)?(v.push(o),h[o.name]=o):(s=h[o.name],s.p.contat(o.p)),o={x:A,y1:_,y2:_+1,p:[]});for(var I=0;I<E.chars.length;++I){var C=E.chars[I],R=C.penState;if(null===S||!R.equals(S)){T.trim().length>0&&(c.spans.push({name:p,line:T,row:_}),T="");var b="style_cea608_"+R.foreground+"_"+R.background;R.underline&&(b+="_underline"),R.italics&&(b+="_italics"),m.hasOwnProperty(b)||(m[b]=JSON.parse(JSON.stringify(R))),S=R,p=b}T+=C.uchar}T.trim().length>0&&c.spans.push({name:p,line:T,row:_}),u=!0,d=A}else u=!1,d=-1,o&&(o.p.push(c),c={start:t,end:n,spans:[]},o.y2=_,o.name="region_"+o.x+"_"+o.y1+"_"+o.y2,!1===h.hasOwnProperty(o.name)?(v.push(o),h[o.name]=o):(s=h[o.name],s.p.contat(o.p)),o=null)}o&&(o.p.push(c),o.y2=_+1,o.name="region_"+o.x+"_"+o.y1+"_"+o.y2,!1===h.hasOwnProperty(o.name)?(v.push(o),h[o.name]=o):(s=h[o.name],s.p.contat(o.p)),o=null);var M=[];for(_=0;_<v.length;++_){var O=v[_],D="sub_cea608_"+N++,P=document.createElement("div");P.id=D;var L=a(O);P.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+L;var w=document.createElement("div");w.className="paragraph bodyStyle",w.style.cssText=l(e);var F=document.createElement("div");F.className="cueUniWrapper",F.style.cssText="unicode-bidi: normal; direction: ltr;";for(var x=0;x<O.p.length;++x){var k=O.p[x],U=0;for(y=0;y<k.spans.length;++y){var B=k.spans[y];if(B.line.length>0){if(0!==y&&U!=B.row){var j=document.createElement("br");j.className="lineBreak",F.appendChild(j)}var K=!1;U===B.row&&(K=!0),U=B.row;var G=m[B.name],H=document.createElement("span");H.className="spanPadding "+B.name+" customSpanColor",H.style.cssText=l(e,G),0!==y&&K?y===k.spans.length-1?H.textContent=g(B.line):H.textContent=B.line:0===y&&k.spans.length>1&&B.row===k.spans[1].row?H.textContent=f(B.line):H.textContent=B.line.trim(),F.appendChild(H)}}}w.appendChild(F),P.appendChild(w);var Y={bodyStyle:90};for(y in m)m.hasOwnProperty(y)&&(Y[y]=90);M.push({type:"html",start:t,end:n,cueHTMLElement:P,cueID:D,cellResolution:[32,15],isFromCEA608:!0,regions:v,regionID:O.name,videoHeight:e.videoHeight,videoWidth:e.videoWidth,fontSize:Y||{defaultFontSize:"100"},lineHeight:{},linePadding:{}})}return M}function h(){H.deleteAllTextTracks(),k=!1,U=null,K=null,G=null,H=null,Y=!1,q=null,z=!1,V=NaN,J=[],W=null,Q=null,D=!1,$=null}function v(e){D||t(),"CC1"===e.id||"CC3"===e.id?$.push(e):O("Warning: Embedded track "+e.id+" not supported!")}function y(){D=!1,$=[],ie=[null,null],re=[],ne=null}function T(){return k}function A(e){e&&(e.errHandler&&(L=e.errHandler),e.adapter&&(w=e.adapter),e.dashManifestModel&&(F=e.dashManifestModel),e.mediaController&&(x=e.mediaController),e.videoModel&&(W=e.videoModel),e.streamController&&(Q=e.streamController),e.textTracks&&(H=e.textTracks),e.VTTParser&&(B=e.VTTParser),e.TTMLParser&&(j=e.TTMLParser))}function C(){for(var e=W.getElement(),t=e.textTracks,n=t.length,r=n-$.length,i=H.getCurrentTrackIdx(),a=0;a<n;a++){var o=t[a];if(k="showing"!==o.mode,"showing"===o.mode){if(i!==a&&(H.setCurrentTrackIdx(a),H.addCaptions(a,0,null),Y&&a<r)){var s=x.getCurrentTrackFor("fragmentedText",Q.getActiveStreamInfo()),u=J[a];u!==s&&(q.abortRequests(),H.deleteTrackCues(s),x.setTrack(u),Z=a)}break}}k&&H.setCurrentTrackIdx(-1)}function R(e){var t=!1;return $.length>1?t=e.id&&"CC1"===e.id:1===$.length?e.id&&"CC"===e.id.substring(0,2)&&(t=!0):t=e.index===G[0].index,t}function b(e){var t;return e.search("vtt")>=0?t=B:(e.search("ttml")>=0||e.search("stpp")>=0)&&(t=j,t.setConfig({videoModel:W})),t}var M=this.context,O=(0,m.default)(M).getInstance().log,D=!1,N=0,P=void 0,L=void 0,w=void 0,F=void 0,x=void 0,k=void 0,U=void 0,B=void 0,j=void 0,K=void 0,G=void 0,H=void 0,Y=void 0,q=void 0,z=void 0,V=void 0,J=void 0,W=void 0,Q=void 0,X=void 0,Z=void 0,$=void 0,ee=void 0,te=void 0,ne=void 0,re=void 0,ie=void 0;return{initialize:e,append:n,abort:h,getAllTracksAreDisabled:T,setTextTrack:C,setConfig:A,addEmbeddedTrack:v,resetEmbedded:y}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(191),o=r(a),s=n(105),u=r(s),l=n(53),d=r(l),f=n(74),c=r(f),g=n(0),p=r(g),h=n(3),m=r(h),v=n(20),_=r(v),y=n(43),E=r(y),T=n(58),S=r(T),A=n(59),I=r(A);i.__dashjs_factory_name="TextSourceBuffer",t.default=p.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e,t,n){Ee=e,X(t),De=n,Le=(0,u.default)(te).getInstance(),Oe=(0,p.default)(te).getInstance(),Ne=(0,c.default)(te).getInstance(),we=(0,M.default)(te).getInstance(),Pe=De.getScheduleController(),ge=Ne.getQualityFor(Ee,De.getStreamInfo()),re.on(E.default.DATA_UPDATE_COMPLETED,B,this),re.on(E.default.INIT_FRAGMENT_LOADED,i,this),re.on(E.default.MEDIA_FRAGMENT_LOADED,s,this),re.on(E.default.QUALITY_CHANGE_REQUESTED,g,this),re.on(E.default.STREAM_COMPLETED,j,this),re.on(E.default.PLAYBACK_PROGRESS,v,this),re.on(E.default.PLAYBACK_TIME_UPDATED,v,this),re.on(E.default.PLAYBACK_RATE_CHANGED,H,this),re.on(E.default.PLAYBACK_SEEKING,h,this),re.on(E.default.WALLCLOCK_TIME_UPDATED,G,this),re.on(E.default.CURRENT_TRACK_CHANGED,K,this,_.default.EVENT_PRIORITY_HIGH),re.on(E.default.SOURCEBUFFER_APPEND_COMPLETED,f,this),re.on(E.default.SOURCEBUFFER_REMOVE_COMPLETED,k,this)}function n(e){if(!e||!ve||!De)return null;var t=null;try{t=oe.createSourceBuffer(ve,e),t&&t.hasOwnProperty("initialize")&&t.initialize(Ee,this)}catch(e){se.mediaSourceError("Error creating "+Ee+" source buffer.")}return J(t),U(De.getRepresentationInfoForQuality(ge).MSETimeOffset),t}function r(){return De.getStreamInfo().id===ue.getActiveStreamInfo().id}function i(e){e.fragmentModel===De.getFragmentModel()&&(ne("Init fragment finished loading saving to",Ee+"'s init cache"),we.save(e.chunk),l(e.chunk))}function a(e,t){var n=we.extract(e,Ee,t);n?l(n):re.trigger(E.default.INIT_REQUESTED,{sender:ce})}function s(e){if(e.fragmentModel===De.getFragmentModel()){var t=e.chunk,n=t.bytes,r=t.quality,i=De.getRepresentationInfoForQuality(r),a=ae.getValue(),s=de.getEventsFor(a,i.mediaInfo,De),u=de.getEventsFor(a,i,De);if(s.length>0||u.length>0){var d=De.getFragmentModel().getRequests({state:o.default.FRAGMENT_MODEL_EXECUTED,quality:r,index:t.index})[0],f=b(n,d,s,u);De.getEventController().addInbandEvents(f)}t.bytes=P(n),l(t)}}function l(e){Re=!0,Ae=e,oe.append(Te,e),"video"===e.mediaInfo.type&&e.mediaInfo.embeddedCaptions&&fe.append(e.bytes,e)}function f(e){if(Te===e.buffer){if(e.error||!L())return e.error.code===d.default.QUOTA_EXCEEDED_ERROR_CODE&&(me=.8*oe.getTotalBufferedTime(Te)),void(e.error.code!==d.default.QUOTA_EXCEEDED_ERROR_CODE&&L()||(re.trigger(E.default.QUOTA_EXCEEDED,{sender:ce,criticalBufferLevel:me}),x(F())));isNaN(Ae.index)||(_e=Math.max(Ae.index,_e),A());var t=oe.getAllRanges(Te);if(t&&t.length>0)for(var n=0,r=t.length;n<r;n++)ne("Buffered Range for type:",Ee,":",t.start(n)," - ",t.end(n));v(),Re=!1,re.trigger(E.default.BYTES_APPENDED,{sender:ce,quality:Ae.quality,startTime:Ae.start,index:Ae.index,bufferedRanges:t})}}function g(e){ge!==e.newQuality&&Ee===e.mediaType&&De.getStreamInfo().id===e.streamInfo.id&&(U(De.getRepresentationInfoForQuality(e.newQuality).MSETimeOffset),ge=e.newQuality)}function h(){ye=0,pe=!1,v()}function v(){y(),T()}function y(){he=oe.getBufferLength(Te,Oe.getTime()),re.trigger(E.default.BUFFER_LEVEL_UPDATED,{sender:ce,bufferLevel:he}),I()}function T(){r()&&(ie.addBufferState(Ee,Se,Pe.getBufferTarget()),ie.addBufferLevel(Ee,new Date,1e3*he))}function A(){_e===ye-1&&!pe&&(pe=!0,re.trigger(E.default.BUFFERING_COMPLETED,{sender:ce,streamInfo:De.getStreamInfo()}))}function I(){C(he<N&&!pe?D:O)}function C(e){Se===e||"fragmentedText"===Ee&&fe.getAllTracksAreDisabled()||(Se=e,T(),re.trigger(E.default.BUFFER_LEVEL_STATE_CHANGED,{sender:ce,state:e,mediaType:Ee,streamInfo:De.getStreamInfo()}),re.trigger(e===O?E.default.BUFFER_LOADED:E.default.BUFFER_EMPTY,{mediaType:Ee}),ne(e===O?"Got enough buffer to start.":"Waiting for more buffer before starting playback."))}function b(e,t,n,r){var i=Math.max(isNaN(t.startTime)?0:t.startTime,0),a=[],o=[];Me=!1;for(var s=n.concat(r),u=0,l=s.length;u<l;u++)a[s[u].schemeIdUri]=s[u];for(var d=(0,S.default)(te).getInstance().parse(e),f=d.getBoxes("emsg"),u=0,l=f.length;u<l;u++){var c=de.getEvent(f[u],a,i);c&&o.push(c)}return o}function P(e){if(!Me)return e;for(var t=e.length,n=Math.pow(256,2),r=Math.pow(256,3),i=new Uint8Array(e.length),a=0,o=0;a<t;){var s=String.fromCharCode(e[a+4],e[a+5],e[a+6],e[a+7]),u=e[a]*r+e[a+1]*n+256*e[a+2]+1*e[a+3];if("emsg"!=s)for(var l=a;l<a+u;l++)i[o]=e[l],o++;a+=u}return i.subarray(0,o)}function L(){return oe.getTotalBufferedTime(Te)<me}function w(){if("fragmentedText"!==Ee){var e=Te.buffered.length?Te.buffered.start(0):0,t=Oe.getTime()-e-Le.getBufferToKeep();t>0&&(ne("pruning buffer: "+t+" seconds."),be=!0,oe.remove(Te,0,Math.round(e+t),ve))}}function F(){if(!Te)return null;var e=Oe.getTime(),t=De.getFragmentModel().getRequests({state:o.default.FRAGMENT_MODEL_EXECUTED,time:e})[0],n=oe.getBufferRange(Te,e),r=t&&!isNaN(t.startTime)?t.startTime:Math.floor(e);return null===n&&Te.buffered.length>0&&(r=Te.buffered.end(Te.buffered.length-1)),{start:Te.buffered.start(0),end:r}}function x(e){e&&Te&&oe.remove(Te,e.start,e.end,ve)}function k(e){Te===e.buffer&&(be&&(be=!1),y(),re.trigger(E.default.BUFFER_CLEARED,{sender:ce,from:e.from,to:e.to,hasEnoughSpaceToAppend:L()}))}function U(e){Te&&Te.timestampOffset!==e&&!isNaN(e)&&(Te.timestampOffset=e)}function B(e){e.sender.getStreamProcessor()!==De||e.error||U(e.currentRepresentation.MSETimeOffset)}function j(e){e.fragmentModel===De.getFragmentModel()&&(ye=e.request.index,A())}function K(e){Te&&e.newMediaInfo.type===Ee&&e.newMediaInfo.streamInfo.id===De.getStreamInfo().id&&le.getSwitchMode(Ee)===m.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&x(F())}function G(){++Ie*(Le.getWallclockTimeUpdateInterval()/1e3)>=Le.getBufferPruningInterval()&&!Re&&(Ie=0,w())}function H(){I()}function Y(){return Ee}function q(){return De}function z(e){De=e}function V(){return Te}function J(e){Te=e}function W(){return he}function Q(){return me}function X(e){ve=e}function Z(){return ve}function $(){return pe}function ee(e){re.off(E.default.DATA_UPDATE_COMPLETED,B,this),re.off(E.default.QUALITY_CHANGE_REQUESTED,g,this),re.off(E.default.INIT_FRAGMENT_LOADED,i,this),re.off(E.default.MEDIA_FRAGMENT_LOADED,s,this),re.off(E.default.STREAM_COMPLETED,j,this),re.off(E.default.CURRENT_TRACK_CHANGED,K,this),re.off(E.default.PLAYBACK_PROGRESS,v,this),re.off(E.default.PLAYBACK_TIME_UPDATED,v,this),re.off(E.default.PLAYBACK_RATE_CHANGED,H,this),re.off(E.default.PLAYBACK_SEEKING,h,this),re.off(E.default.WALLCLOCK_TIME_UPDATED,G,this),re.off(E.default.SOURCEBUFFER_APPEND_COMPLETED,f,this),re.off(E.default.SOURCEBUFFER_REMOVE_COMPLETED,k,this),me=Number.POSITIVE_INFINITY,Se=D,ge=c.default.QUALITY_DEFAULT,ye=0,_e=0,Ae=null,Ce=!1,pe=!1,Re=!1,be=!1,Oe=null,De=null,Ne=null,Pe=null,e||(oe.abort(ve,Te),oe.removeSourceBuffer(ve,Te)),Te=null}var te=this.context,ne=(0,R.default)(te).getInstance().log,re=(0,_.default)(te).getInstance(),ie=e.metricsModel,ae=e.manifestModel,oe=e.sourceBufferController,se=e.errHandler,ue=e.streamController,le=e.mediaController,de=e.adapter,fe=e.textSourceBuffer,ce=void 0,ge=void 0,pe=void 0,he=void 0,me=void 0,ve=void 0,_e=void 0,ye=void 0,Ee=void 0,Te=void 0,Se=void 0,Ae=void 0,Ie=void 0,Ce=void 0,Re=void 0,be=void 0,Me=void 0,Oe=void 0,De=void 0,Ne=void 0,Pe=void 0,Le=void 0,we=void 0;return ce={initialize:t,createBuffer:n,getType:Y,getStreamProcessor:q,setStreamProcessor:z,getBuffer:V,setBuffer:J,getBufferLevel:W,getCriticalBufferLevel:Q,setMediaSource:X,getMediaSource:Z,getIsBufferingCompleted:$,switchInitData:a,reset:ee},function(){ge=c.default.QUALITY_DEFAULT,pe=!1,he=0,me=Number.POSITIVE_INFINITY,_e=0,ye=0,Te=null,Se=D,Ie=0,Ce=!1,Re=!1,be=!1,Me=!1}(),ce}Object.defineProperty(t,"__esModule",{value:!0});var a=n(32),o=r(a),s=n(4),u=r(s),l=n(30),d=r(l),f=n(10),c=r(f),g=n(8),p=r(g),h=n(13),m=r(h),v=n(2),_=r(v),y=n(1),E=r(y),T=n(53),S=r(T),A=n(0),I=r(A),C=n(3),R=r(C),b=n(75),M=r(b),O="bufferLoaded",D="bufferStalled",N=.5;i.__dashjs_factory_name="BufferController";var P=I.default.getClassFactory(i);P.BUFFER_LOADED=O,P.BUFFER_EMPTY=D,t.default=P,e.exports=t.default},function(e,t,n){"use strict";function r(){function e(){E=[]}function t(e){!v||v.readyState<2||(v.playbackRate=e)}function n(e){if(v.currentTime!=e)try{v.currentTime=e}catch(t){0===v.readyState&&t.code===t.INVALID_STATE_ERR&&setTimeout(function(){v.currentTime=e},400)}}function r(){return v}function i(e){v=e,v.preload="auto"}function a(e){e?v.src=e:(v.removeAttribute("src"),v.load())}function o(){return v.src}function s(){return y}function u(e){y=e}function l(){return _}function d(e){_=e,_.style.position="absolute",_.style.display="flex",_.style.overflow="hidden",_.style.pointerEvents="none",_.style.top=0,_.style.left=0}function f(e,t){h(e,t)}function c(){return E.length>0}function g(e){var n=void 0;null===e||v.seeking||-1!==E.indexOf(e)||(E.push(e),1===E.length&&(n=document.createEvent("Event"),n.initEvent("waiting",!0,!1),T=v.playbackRate,t(0),v.dispatchEvent(n)))}function p(e){var n=E.indexOf(e),r=void 0;null!==e&&(-1!==n&&E.splice(n,1),!1===c()&&0===v.playbackRate&&(r=document.createEvent("Event"),r.initEvent("playing",!0,!1),t(T||1),v.dispatchEvent(r)))}function h(e,t){t?g(e):p(e)}function m(){var e="webkitDroppedFrameCount"in v,t="getVideoPlaybackQuality"in v,n=null;return t?n=v.getVideoPlaybackQuality():e&&(n={droppedVideoFrames:v.webkitDroppedFrameCount,creationTime:new Date}),n}var v=void 0,_=void 0,y=void 0,E=void 0,T=void 0;return{initialize:e,setCurrentTime:n,setStallState:f,getElement:r,setElement:i,setSource:a,getSource:o,getVideoContainer:s,setVideoContainer:u,getTTMLRenderingDiv:l,setTTMLRenderingDiv:d,getPlaybackQuality:m}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(i);r.__dashjs_factory_name="VideoModel",t.default=a.default.getSingletonFactory(r),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e,t){he=e,pe=t,de.initialize(),ue=(0,b.default)(z).getInstance(),X=(0,d.default)(z).getInstance(),X.setConfig({log:V,manifestModel:$,dashManifestModel:ee}),X.initialize(Z),Te=(0,_.default)(z).getInstance(),Se=(0,o.default)(z).getInstance(),Se.setConfig({streamController:W,timelineConverter:de,metricsModel:ne,dashMetrics:re,manifestModel:$,dashManifestModel:ee,adapter:te,videoModel:Te}),J.on(p.default.TIME_SYNCHRONIZATION_COMPLETED,L,this),J.on(p.default.PLAYBACK_SEEKING,f,this),J.on(p.default.PLAYBACK_TIME_UPDATED,s,this),J.on(p.default.PLAYBACK_ENDED,l,this),J.on(p.default.PLAYBACK_ERROR,a,this),J.on(p.default.PLAYBACK_STARTED,g,this),J.on(p.default.PLAYBACK_PAUSED,h,this),J.on(p.default.MANIFEST_UPDATED,w,this),J.on(p.default.STREAM_BUFFERING_COMPLETED,v,this)}function t(e,t){t=t||new Date,Re&&(ce&&ce.getProcessors().forEach(function(n){var r=n.getScheduleController();r&&r.finalisePlayList(t,e)}),ne.addPlayList(Re),Re=null)}function n(e){Re=new A.PlayList,Re.start=new Date,Re.mstart=1e3*Se.getTime(),Re.starttype=e,ce&&ce.getProcessors().forEach(function(e){var t=e.getScheduleController();t&&t.setPlayList(Re)})}function r(e,t,n){J.trigger(e,{fromStreamInfo:t?t.getStreamInfo():null,toStreamInfo:n.getStreamInfo()})}function i(){ce.isActivated()&&Ce&&0===ce.getStreamInfo().index&&(ce.startEventController(),he&&Se.play())}function a(e){if(e.error){var t="";switch(e.error.code){case 1:t="MEDIA_ERR_ABORTED";break;case 2:t="MEDIA_ERR_NETWORK";break;case 3:t="MEDIA_ERR_DECODE";break;case 4:t="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:t="MEDIA_ERR_ENCRYPTED";break;default:t="UNKNOWN"}_e=!0,e.error.msExtendedCode&&(t+=" (0x"+(e.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),V("Video Element Error: "+t),e.error&&V(e.error),le.mediaSourceError(t),Y()}}function s(e){if(F()){var t=Te.getPlaybackQuality();t&&ne.addDroppedFrames("video",t)}Se.isSeeking()||e.timeToEnd<q&&ae.signalEndOfStream(Ee)}function l(){var e=y();e&&R(ce,e,NaN),t(e?A.PlayListTrace.END_OF_PERIOD_STOP_REASON:A.PlayListTrace.END_OF_CONTENT_STOP_REASON)}function f(e){var r=T(e.seekTime);r&&r!==ce?(t(A.PlayListTrace.END_OF_PERIOD_STOP_REASON),R(ce,r,e.seekTime)):t(A.PlayListTrace.USER_REQUEST_STOP_REASON),n(A.PlayList.SEEK_START_REASON)}function g(){Ce?(Ce=!1,n(A.PlayList.INITIAL_PLAYOUT_START_REASON)):Ie&&(Ie=!1,n(A.PlayList.RESUME_FROM_PAUSE_START_REASON))}function h(e){e.ended||(Ie=!0,t(A.PlayListTrace.USER_REQUEST_STOP_REASON))}function v(e){Ee&&e.streamInfo.isLast&&ae.signalEndOfStream(Ee)}function y(){var e=ce.getStreamInfo().start,t=ce.getStreamInfo().duration;return fe.filter(function(n){return n.getStreamInfo().start===e+t})[0]}function T(e){var t=0,n=null,r=fe.length;r>0&&(t+=fe[0].getStartTime());for(var i=0;i<r;i++)if(n=fe[i],t+=n.getDuration(),e<t)return n;return null}function S(e,t){for(var n=null,r=0,i=0,a=null,o=fe.length,s=0;s<o;s++){if(n=fe[s],i=n.getStartTime(),a=n.getDuration(),Number.isFinite(i)&&(r=i),n.getId()===t)return e-r;Number.isFinite(a)&&(r+=a)}return null}function I(){var e=[];return ce.getProcessors().forEach(function(t){e.push(t.getIndexHandler().getEarliestTime())}),Math.min.apply(Math,e)}function R(e,t,n){function i(){isNaN(n)?function(){var e=Se.getStreamStartTime(!0);ce.getProcessors().forEach(function(t){te.setIndexHandlerTime(t,e)}),Se.seek(e)}():Se.seek(n),Se.play(),ce.startEventController(),me=!1,r(p.default.PERIOD_SWITCH_COMPLETED,e,t)}!me&&e&&t&&e!==t&&(me=!0,r(p.default.PERIOD_SWITCH_STARTED,e,t),e.deactivate(),ce=t,Se.initialize(ce.getStreamInfo()),be=x(),M(i))}function M(e){function t(){V("MediaSource is open!"),window.URL.revokeObjectURL(n),Ee.removeEventListener("sourceopen",t),Ee.removeEventListener("webkitsourceopen",t),O(),ce.activate(Ee),e&&e()}var n=void 0;Ee?ae.detachMediaSource(Te):Ee=ae.createMediaSource(),Ee.addEventListener("sourceopen",t,!1),Ee.addEventListener("webkitsourceopen",t,!1),n=ae.attachMediaSource(Ee,Te),V("MediaSource attached to element.  Waiting on open...")}function O(){var e,t;e=ce.getStreamInfo().manifestInfo.duration,t=ae.setDuration(Ee,e),V("Duration successfully set to: "+t)}function D(){var e,t,n,i,a,o,s,l=$.getValue(),d=ne.getMetricsFor("stream"),f=re.getCurrentManifestUpdate(d),c=[];if(l){o=te.getStreamsInfo(l),ge&&(J.trigger(p.default.PROTECTION_CREATED,{controller:ge,manifest:l}),ge.setMediaElement(Te.getElement()),pe&&ge.setProtectionData(pe));try{if(0===o.length)throw new Error("There are no streams");for(ne.updateManifestUpdateInfo(f,{currentTime:Se.getTime(),buffered:Te.getElement().buffered,presentationStartTime:o[0].start,clientTimeOffset:de.getClientTimeOffset()}),ve=!0,i=0,t=o.length;i<t;i++){for(e=o[i],a=0,n=fe.length;a<n;a++)fe[a].getId()===e.id&&(s=fe[a],c.push(s),s.updateData(e));s||(s=(0,u.default)(z).create({manifestModel:$,manifestUpdater:X,adapter:te,timelineConverter:de,capabilities:Q,errHandler:le,baseURLController:se}),s.initialize(e,ge),J.on(p.default.STREAM_INITIALIZED,P,this),c.push(s),ce&&s.updateData(e)),ne.addManifestUpdateStreamInfo(f,e.id,e.index,e.start,e.duration),s=null}fe=c,ce||(ce=fe[0],r(p.default.PERIOD_SWITCH_STARTED,null,ce),Se.initialize(ce.getStreamInfo()),r(p.default.PERIOD_SWITCH_COMPLETED,null,ce)),Ee||M(),ve=!1,N()}catch(e){le.manifestError(e.message,"nostreamscomposed",l),ye=!0,Y()}}}function N(){if(!ve){var e=fe.length,t=0;for(i(),t;t<e;t++)if(!fe[t].isInitialized())return;J.trigger(p.default.STREAMS_COMPOSED)}}function P(){N()}function L(){D()}function w(e){if(e.error)ye=!0,Y();else{var t,n,r=e.manifest,i=te.getStreamsInfo(r)[0],a=te.getMediaInfoForType(r,i,"video")||te.getMediaInfoForType(r,i,"audio");a&&(t=te.getDataForMedia(a),(n=ee.getRepresentationsForAdaptation(r,t)[0].useCalculatedLiveEdgeTime)&&(V("SegmentTimeline detected using calculated Live Edge Time"),Ae.setUseManifestDateHeaderTimeSource(!1)));var o=ee.getUTCTimingSources(e.manifest),s=!ee.getIsDynamic(r)||n?o:o.concat(Ae.getUTCTimingSources()),u=(0,m.default)(z).getInstance().isManifestHTTPS();s.forEach(function(e){e.value.replace(/.*?:\/\//g,"")===E.default.DEFAULT_UTC_TIMING_SOURCE.value.replace(/.*?:\/\//g,"")&&(e.value=e.value.replace(u?new RegExp(/^(http:)?\/\//i):new RegExp(/^(https:)?\/\//i),u?"https://":"http://"),V("Matching default timing source protocol to manifest protocol: ",e.value))}),se.initialize(r),oe.setConfig({metricsModel:ne,dashMetrics:re}),oe.initialize(s,Ae.getUseManifestDateHeaderTimeSource())}}function F(){return void 0===be&&(be=x()),be}function x(){var e=!1;return ce.getProcessors().forEach(function(t){"video"===t.getMediaInfo().type&&(e=!0)}),e}function k(){return he}function U(){return ce?ce.getStreamInfo():null}function B(e){return ce.getId()===e.id}function j(e){return fe.filter(function(t){return t.getId()===e})[0]}function K(e){Z.load(e)}function G(e){X.setManifest(e)}function H(e){e&&(e.capabilities&&(Q=e.capabilities),e.manifestLoader&&(Z=e.manifestLoader),e.manifestModel&&($=e.manifestModel),e.dashManifestModel&&(ee=e.dashManifestModel),e.protectionController&&(ge=e.protectionController),e.adapter&&(te=e.adapter),e.metricsModel&&(ne=e.metricsModel),e.dashMetrics&&(re=e.dashMetrics),e.liveEdgeFinder&&(ie=e.liveEdgeFinder),e.mediaSourceController&&(ae=e.mediaSourceController),e.timeSyncController&&(oe=e.timeSyncController),e.baseURLController&&(se=e.baseURLController),e.errHandler&&(le=e.errHandler),e.timelineConverter&&(de=e.timelineConverter))}function Y(){oe.reset(),t(_e||ye?A.PlayListTrace.FAILURE_STOP_REASON:A.PlayListTrace.USER_REQUEST_STOP_REASON);for(var e=0,n=fe.length;e<n;e++){var r=fe[e];J.off(p.default.STREAM_INITIALIZED,P,this),r.reset(_e)}fe=[],J.off(p.default.PLAYBACK_TIME_UPDATED,s,this),J.off(p.default.PLAYBACK_SEEKING,f,this),J.off(p.default.PLAYBACK_ERROR,a,this),J.off(p.default.PLAYBACK_STARTED,g,this),J.off(p.default.PLAYBACK_PAUSED,h,this),J.off(p.default.PLAYBACK_ENDED,l,this),J.off(p.default.MANIFEST_UPDATED,w,this),J.off(p.default.STREAM_BUFFERING_COMPLETED,v,this),se.reset(),X.reset(),ne.clearAllCurrentMetrics(),$.setValue(null),Z.reset(),de.reset(),ie.reset(),te.reset(),ue.reset(),me=!1,ve=!1,ce=null,_e=!1,ye=!1,be=void 0,Ce=!0,Ie=!1,Ee&&(ae.detachMediaSource(Te),Ee=null),Te=null,ge&&(ge.setMediaElement(null),ge=null,pe=null,$.getValue()&&J.trigger(p.default.PROTECTION_DESTROYED,{data:$.getValue().url})),J.trigger(p.default.STREAM_TEARDOWN_COMPLETE)}var q=1,z=this.context,V=(0,C.default)(z).getInstance().log,J=(0,c.default)(z).getInstance(),W=void 0,Q=void 0,X=void 0,Z=void 0,$=void 0,ee=void 0,te=void 0,ne=void 0,re=void 0,ie=void 0,ae=void 0,oe=void 0,se=void 0,ue=void 0,le=void 0,de=void 0,fe=void 0,ce=void 0,ge=void 0,pe=void 0,he=void 0,me=void 0,ve=void 0,_e=void 0,ye=void 0,Ee=void 0,Te=void 0,Se=void 0,Ae=void 0,Ie=void 0,Ce=void 0,Re=void 0,be=void 0;return W={initialize:e,getAutoPlay:k,getActiveStreamInfo:U,isStreamActive:B,isVideoTrackPresent:F,getStreamById:j,getTimeRelativeToStreamId:S,load:K,loadWithManifest:G,getActiveStreamCommonEarliestTime:I,setConfig:H,reset:Y},function(){ge=null,fe=[],Ae=(0,E.default)(z).getInstance(),he=!0,me=!1,ve=!1,Ie=!1,Ce=!0,Re=null,_e=!1,ye=!1}(),W}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),o=r(a),s=n(119),u=r(s),l=n(117),d=r(l),f=n(2),c=r(f),g=n(1),p=r(g),h=n(44),m=r(h),v=n(20),_=r(v),y=n(4),E=r(y),T=n(0),S=r(T),A=n(77),I=n(3),C=r(I),R=n(75),b=r(R);i.__dashjs_factory_name="StreamController",t.default=S.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(38),o=function(e){return e&&e.__esModule?e:{default:e}}(a),s=function(){function e(){r(this,e)}return i(e,null,[{key:"findCencContentProtection",value:function(e){for(var t=null,n=0;n<e.length;++n){var r=e[n];"urn:mpeg:dash:mp4protection:2011"===r.schemeIdUri.toLowerCase()&&"cenc"===r.value.toLowerCase()&&(t=r)}return t}},{key:"getPSSHData",value:function(e){var t=8,n=new DataView(e),r=n.getUint8(t);return t+=20,r>0&&(t+=4+16*n.getUint32(t)),t+=4,e.slice(t)}},{key:"getPSSHForKeySystem",value:function(t,n){var r=e.parsePSSHList(n);return r.hasOwnProperty(t.uuid.toLowerCase())?r[t.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(e){return"pssh"in e?o.default.decodeArray(e.pssh.__text).buffer:null}},{key:"parsePSSHList",value:function(e){if(null===e)return[];for(var t=new DataView(e),n={},r=0;;){var i,a,o,s,u=r;if(r>=t.buffer.byteLength)break;if(i=t.getUint32(r),a=r+i,r+=4,1886614376===t.getUint32(r))if(r+=4,0===(o=t.getUint8(r))||1===o){r++,r+=3,s="";var l,d;for(l=0;l<4;l++)d=t.getUint8(r+l).toString(16),s+=1===d.length?"0"+d:d;for(r+=4,s+="-",l=0;l<2;l++)d=t.getUint8(r+l).toString(16),s+=1===d.length?"0"+d:d;for(r+=2,s+="-",l=0;l<2;l++)d=t.getUint8(r+l).toString(16),s+=1===d.length?"0"+d:d;for(r+=2,s+="-",l=0;l<2;l++)d=t.getUint8(r+l).toString(16),s+=1===d.length?"0"+d:d;for(r+=2,s+="-",l=0;l<6;l++)d=t.getUint8(r+l).toString(16),s+=1===d.length?"0"+d:d;r+=6,s=s.toLowerCase(),t.getUint32(r),r+=4,n[s]=t.buffer.slice(u,a),r=a}else r=a;else r=a}return n}}]),e}();t.default=s,e.exports=t.default},function(e,t,n){"use strict";function r(){function e(e){var t="";return-1!==e.indexOf("/")&&(-1!==e.indexOf("?")&&(e=e.substring(0,e.indexOf("?"))),t=e.substring(0,e.lastIndexOf("/")+1)),t}function t(e){var t=e.match(s);return t?t[1]:""}function n(e){return!a.test(e)}function r(e){return a.test(e)&&"/"===e.charAt(0)}function i(e){return o.test(e)}var a=/^(?:(?:[a-z]+:)?\/)?\//i,o=/^https?:\/\//i,s=/^(https?:\/\/[^\/]+)\/?/i;return{parseBaseUrl:e,parseOrigin:t,isRelative:n,isPathAbsolute:r,isHTTPURL:i}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(i);r.__dashjs_factory_name="URLUtils",t.default=a.default.getSingletonFactory(r),e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.action=e.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer"};i.ACTION_DOWNLOAD="download",i.ACTION_COMPLETE="complete",t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(){function e(e,t){i.hasOwnProperty(e)?i[e].push(t):i[e]=[t]}function t(e,t){var n=-1;i.hasOwnProperty(e)&&-1!==(n=i[e].indexOf(t))&&i[e].splice(n,1)}function n(e,t){var n,r,a;if(i.hasOwnProperty(e))for(n=i[e],r=n.length,a=0;a<r;a++)n[a](e,t)}var i={};return{fireEvent:n,addEventListener:e,removeEventListener:t,on:e,off:t,constructor:r}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){r(this,e)}return i(e,[{key:"extend",value:function(e,t){if(e){var n=!!t&&t.override,r=!!t&&t.publicOnly;for(var i in e)!e.hasOwnProperty(i)||this[i]&&!n||r&&-1===e[i].indexOf("public_")||(this[i]=e[i])}}}]),e}();t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){for(;e.length<t;)e="0"+e;return e}function i(e,t){return e.representation.startNumber+t}function a(e,t,n){for(var i,a,o,s,u,l,d=t.length,f="%0".length;;){if((i=e.indexOf("$"+t))<0)return e;if((a=e.indexOf("$",i+d))<0)return e;if((o=e.indexOf("%0",i+d))>i&&o<a)switch(s=e.charAt(a-1),u=parseInt(e.substring(o+f,a-1),10),s){case"d":case"i":case"u":l=r(n.toString(),u);break;case"x":l=r(n.toString(16),u);break;case"X":l=r(n.toString(16),u).toUpperCase();break;case"o":l=r(n.toString(8),u);break;default:return e}else l=n;e=e.substring(0,i)+l+e.substring(a+1)}}function o(e,t,n,r){var a,o,s,u;return o=n.segmentDuration,isNaN(o)&&(o=n.adaptation.period.duration),s=n.adaptation.period.start+r*o,u=s+o,a=new c.default,a.representation=n,a.duration=o,a.presentationStartTime=s,a.mediaStartTime=e.calcMediaTimeFromPresentationTime(a.presentationStartTime,n),a.availabilityStartTime=e.calcAvailabilityStartTimeFromPresentationTime(a.presentationStartTime,n.adaptation.period.mpd,t),a.availabilityEndTime=e.calcAvailabilityEndTimeFromPresentationTime(u,n.adaptation.period.mpd,t),a.wallStartTime=e.calcWallTimeForSegment(a,t),a.replacementNumber=i(a,r),a.availabilityIdx=r,a}function s(e,t,n,r,o,s,u,l,d){var f,g,p,h=r/s,m=Math.min(o/s,n.adaptation.period.mpd.maxSegmentDuration);return f=e.calcPresentationTimeFromMediaTime(h,n),g=f+m,p=new c.default,p.representation=n,p.duration=m,p.mediaStartTime=h,p.presentationStartTime=f,p.availabilityStartTime=n.adaptation.period.mpd.manifest.loadedTime,p.availabilityEndTime=e.calcAvailabilityEndTimeFromPresentationTime(g,n.adaptation.period.mpd,t),p.wallStartTime=e.calcWallTimeForSegment(p,t),p.replacementTime=r,p.replacementNumber=i(p,d),u=a(u,"Number",p.replacementNumber),u=a(u,"Time",p.replacementTime),p.media=u,p.mediaRange=l,p.availabilityIdx=d,p}function u(e,t){if(!t||!t.segments)return null;var n,r,i=t.segments.length;if(e<i&&(n=t.segments[e])&&n.availabilityIdx===e)return n;for(r=0;r<i;r++)if((n=t.segments[r])&&n.availabilityIdx===e)return n;return null}function l(e,t,n,r,i){var a,o,s=i||10,u=Number.POSITIVE_INFINITY;return t&&!e.isTimeSyncCompleted()?{start:0,end:u}:!t&&n||r<0?null:(a=Math.max(r-2,0),o=Math.min(r+s,u),{start:a,end:o})}function d(e,t,n,r,i,a){var o,s,l=n.segmentDuration,d=n.adaptation.period.mpd.manifest.minBufferTime,f=n.segmentAvailabilityRange,c={start:e.calcPeriodRelativeTimeFromMpdRelativeTime(n,f.start),end:e.calcPeriodRelativeTimeFromMpdRelativeTime(n,f.end)},g=n.segments,p=2*l,h=a||Math.max(2*d,10*l),m=NaN,v=null;return c.start=Math.max(c.start,0),t&&!e.isTimeSyncCompleted()?(o=Math.floor(c.start/l),s=Math.floor(c.end/l),{start:o,end:s}):(g&&g.length>0?(v=u(i,n),m=v?e.calcPeriodRelativeTimeFromMpdRelativeTime(n,v.presentationStartTime):i>0?i*l:e.calcPeriodRelativeTimeFromMpdRelativeTime(n,r)):m=i>0?i*l:t?c.end:c.start,o=Math.floor(Math.max(m-p,c.start)/l),s=Math.floor(Math.min(o+h/l,c.end/l)),{start:o,end:s})}Object.defineProperty(t,"__esModule",{value:!0}),t.replaceTokenForTemplate=a,t.getIndexBasedSegment=o,t.getTimeBasedSegment=s,t.getSegmentByIndex=u,t.decideSegmentListRangeForTimeline=l,t.decideSegmentListRangeForTemplate=d;var f=n(41),c=function(e){return e&&e.__esModule?e:{default:e}}(f)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){I=0,C=!1,R=NaN,A.on(u.default.LIVE_EDGE_SEARCH_COMPLETED,_,this),A.on(u.default.TIME_SYNCHRONIZATION_COMPLETED,y,this)}function t(){return C}function n(e){C=e}function r(){return I}function i(){return R}function a(e){R=e}function s(e,t,n,r){return r?n&&t.timeShiftBufferDepth!=Number.POSITIVE_INFINITY?new Date(t.availabilityStartTime.getTime()+1e3*(e+t.timeShiftBufferDepth)):t.availabilityEndTime:n?new Date(t.availabilityStartTime.getTime()+1e3*(e-I)):t.availabilityStartTime}function l(e,t,n){return s.call(this,e,t,n)}function d(e,t,n){return s.call(this,e,t,n,!0)}function f(e,t){return(e.getTime()-t.mpd.availabilityStartTime.getTime()+1e3*I)/1e3}function c(e,t){return e+(t.adaptation.period.start-t.presentationTimeOffset)}function g(e,t){return e-t.adaptation.period.start+t.presentationTimeOffset}function p(e,t){var n,r,i;return t&&(n=e.representation.adaptation.period.mpd.suggestedPresentationDelay,r=e.presentationStartTime+n,i=new Date(e.availabilityStartTime.getTime()+1e3*r)),i}function h(e,t){var n,r,i=e.adaptation.period.start,a=i+e.adaptation.period.duration,o={start:i,end:a},s=e.segmentDuration||(e.segments&&e.segments.length?e.segments[e.segments.length-1].duration:0);if(!t)return o;if(!C&&e.segmentAvailabilityRange)return e.segmentAvailabilityRange;n=e.adaptation.period.mpd.checkTime,r=f(new Date,e.adaptation.period),i=Math.max(r-e.adaptation.period.mpd.timeShiftBufferDepth,e.adaptation.period.start);var u=isNaN(n)?r:Math.min(n,r),l=e.adaptation.period.start+e.adaptation.period.duration;return a=(u>=l&&u-s<l?l:u)-s,o={start:i,end:a}}function m(e,t){return t-e.adaptation.period.start}function v(e,t){return t+e.adaptation.period.start}function _(e){C||e.error||(I+=e.liveEdge-(R+e.searchTime),C=!0)}function y(e){C||e.error||(I=e.offset/1e3,C=!0)}function E(e){var t=e.presentationTimeOffset;return e.adaptation.period.start-t}function T(){A.off(u.default.LIVE_EDGE_SEARCH_COMPLETED,_,this),A.off(u.default.TIME_SYNCHRONIZATION_COMPLETED,y,this),I=0,C=!1,R=NaN}var S=this.context,A=(0,o.default)(S).getInstance(),I=void 0,C=void 0,R=void 0;return{initialize:e,isTimeSyncCompleted:t,setTimeSyncCompleted:n,getClientTimeOffset:r,getExpectedLiveEdge:i,setExpectedLiveEdge:a,calcAvailabilityStartTimeFromPresentationTime:l,calcAvailabilityEndTimeFromPresentationTime:d,calcPresentationTimeFromWallTime:f,calcPresentationTimeFromMediaTime:c,calcPeriodRelativeTimeFromMpdRelativeTime:m,calcMpdRelativeTimeFromPeriodRelativeTime:v,calcMediaTimeFromPresentationTime:g,calcSegmentAvailabilityRange:h,calcWallTimeForSegment:p,calcMSETimeOffset:E,reset:T}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=r(a),s=n(1),u=r(s),l=n(0),d=r(l);i.__dashjs_factory_name="TimelineConverter",t.default=d.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){function t(e,n){var r=e.request,i=new XMLHttpRequest,a=[],o=!0,d=!0,c=new Date,g=c,_=0,y=function(e){d=!1,r.requestStartDate=c,r.requestEndDate=new Date,r.firstByteDate=r.firstByteDate||c,r.checkExistenceOnly||l.addHttpRequest(r.mediaType,null,r.type,r.url,i.responseURL||null,r.serviceLocation||null,r.range||null,r.requestStartDate,r.firstByteDate,r.requestEndDate,i.status,r.duration,i.getAllResponseHeaders(),e?a:null)},E=function(){-1!==p.indexOf(i)&&(p.splice(p.indexOf(i),1),d&&(y(!1),n>0?(n--,m.push(setTimeout(function(){t(e,n)},s.getRetryIntervalForType(r.type)))):(u.downloadError(v[r.type],r.url,r),e.error&&e.error(r,"error",i.statusText),e.complete&&e.complete(r,i.statusText))))},T=function(t){var n=new Date;o&&(o=!1,(!t.lengthComputable||t.lengthComputable&&t.total!==t.loaded)&&(r.firstByteDate=n)),t.lengthComputable&&(r.bytesLoaded=t.loaded,r.bytesTotal=t.total),a.push({s:g,d:n.getTime()-g.getTime(),b:[t.loaded?t.loaded-_:0]}),g=n,_=t.loaded,e.progress&&e.progress()},S=function(){i.status>=200&&i.status<=299&&(y(!0),e.success&&e.success(i.response,i.statusText,i),e.complete&&e.complete(r,i.statusText))};try{var A=f.modifyRequestURL(r.url),I=r.checkExistenceOnly?"HEAD":"GET";i.open(I,A,!0),r.responseType&&(i.responseType=r.responseType),r.range&&i.setRequestHeader("Range","bytes="+r.range),r.requestStartDate||(r.requestStartDate=c),i=f.modifyRequestHeader(i),i.withCredentials=s.getXHRWithCredentials(),i.onload=S,i.onloadend=E,i.onerror=E,i.onprogress=T;var C=(new Date).getTime();isNaN(r.delayLoadingTime)||C>=r.delayLoadingTime?(p.push(i),i.send()):function(){var e={xhr:i};h.push(e),e.delayTimeout=setTimeout(function(){if(-1!==h.indexOf(e)){h.splice(h.indexOf(e),1);try{p.push(e.xhr),e.xhr.send()}catch(t){e.xhr.onerror()}}},r.delayLoadingTime-C)}()}catch(e){i.onerror()}}function n(e){e.request&&t(e,s.getRetryAttemptsForType(e.request.type))}function r(){m.forEach(function(e){return clearTimeout(e)}),m=[],h.forEach(function(e){return clearTimeout(e.delayTimeout)}),h=[],p.forEach(function(e){e.onloadend=e.onerror=e.onprogress=void 0,e.abort()}),p=[]}var a=this.context,s=(0,d.default)(a).getInstance(),u=e.errHandler,l=e.metricsModel,f=e.requestModifier,g=void 0,p=void 0,h=void 0,m=void 0,v=void 0;return g={load:n,abort:r},function(){var e;p=[],h=[],m=[],e={},i(e,o.HTTPRequest.MPD_TYPE,c.default.DOWNLOAD_ERROR_ID_MANIFEST),i(e,o.HTTPRequest.XLINK_EXPANSION_TYPE,c.default.DOWNLOAD_ERROR_ID_XLINK),i(e,o.HTTPRequest.INIT_SEGMENT_TYPE,c.default.DOWNLOAD_ERROR_ID_INITIALIZATION),i(e,o.HTTPRequest.MEDIA_SEGMENT_TYPE,c.default.DOWNLOAD_ERROR_ID_CONTENT),i(e,o.HTTPRequest.INDEX_SEGMENT_TYPE,c.default.DOWNLOAD_ERROR_ID_CONTENT),i(e,o.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,c.default.DOWNLOAD_ERROR_ID_CONTENT),i(e,o.HTTPRequest.OTHER_TYPE,c.default.DOWNLOAD_ERROR_ID_CONTENT),v=e}(),g}Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),s=n(0),u=r(s),l=n(4),d=r(l),f=n(11),c=r(f);a.__dashjs_factory_name="XHRLoader";var g=u.default.getClassFactory(a);t.default=g,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e,t){var n=t.codec,r=null;try{if(n.match(/application\/mp4;\s*codecs="(stpp|wvtt)"/i))throw new I.default("not really supported");r=e.addSourceBuffer(n)}catch(e){if(!t.isText&&-1===n.indexOf('codecs="stpp"')&&-1===n.indexOf('codecs="wvtt"'))throw e;r=(0,o.default)(y).getInstance(),r.setConfig({errHandler:(0,c.default)(y).getInstance(),adapter:(0,d.default)(y).getInstance(),dashManifestModel:A,mediaController:(0,u.default)(y).getInstance(),videoModel:(0,S.default)(y).getInstance(),streamController:(0,p.default)(y).getInstance(),textTracks:(0,m.default)(y).getInstance(),VTTParser:(0,_.default)(y).getInstance(),TTMLParser:(0,E.default)(y).getInstance()})}return r}function t(e,t){try{e.removeSourceBuffer(t)}catch(e){}}function n(e,t,n){var r,i,a=null,o=0,s=0,u=null,l=null,d=0,f=n||.15;try{a=e.buffered}catch(e){return null}if(null!==a&&void 0!==a){for(i=0,r=a.length;i<r;i++)if(o=a.start(i),s=a.end(i),null===u)d=Math.abs(o-t),t>=o&&t<s?(u=o,l=s):d<=f&&(u=o,l=s);else{if(!((d=o-l)<=f))break;l=s}if(null!==u)return{start:u,end:l}}return null}function r(e){try{return e.buffered}catch(e){return null}}function i(e){var t,n,i=r(e),a=0;if(!i)return a;for(n=0,t=i.length;n<t;n++)a+=i.end(n)-i.start(n);return a}function a(e,t,r){var i;return i=n(e,t,r),null===i?0:i.end-t}function s(e,t){if(!t)return null;var n,i,a,o,s,u,l,d,f,c=r(t);if(!c)return null;for(var g=0,p=c.length;g<p;g++){if(d=e.length>g,s=d?{start:e.start(g),end:e.end(g)}:null,n=c.start(g),i=c.end(g),!s)return f={start:n,end:i};if(a=s.start===n,o=s.end===i,!a||!o){if(a)f={start:s.end,end:i};else{if(!o)return f={start:n,end:i};f={start:n,end:s.start}}return u=e.length>g+1?{start:e.start(g+1),end:e.end(g+1)}:null,l=g+1<p?{start:c.start(g+1),end:c.end(g+1)}:null,!u||l&&l.start===u.start&&l.end===u.end||(f.end=u.start),f}}return null}function l(e,t){var n=t.bytes,r="append"in e?"append":"appendBuffer"in e?"appendBuffer":null,i="Object"===Object.prototype.toString.call(e).slice(8,-1);if(r)try{v(e,function(){i?e[r](n,t):e[r](n),v(e,function(){T.trigger(M.default.SOURCEBUFFER_APPEND_COMPLETED,{buffer:e,bytes:n})})})}catch(t){T.trigger(M.default.SOURCEBUFFER_APPEND_COMPLETED,{buffer:e,bytes:n,error:new I.default(t.code,t.message,null)})}}function f(e,t,n,r){try{v(e,function(){t>=0&&n>t&&"ended"!==r.readyState&&e.remove(t,n),v(e,function(){T.trigger(M.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:e,from:t,to:n})})})}catch(r){T.trigger(M.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:e,from:t,to:n,error:new I.default(r.code,r.message,null)})}}function g(e,t){try{"open"===e.readyState?t.abort():t.setTextTrack&&"ended"===e.readyState&&t.abort()}catch(e){}}function h(e){e&&e.dashManifestModel&&(A=e.dashManifestModel)}function v(e,t){var n,r=function(){e.updating||(clearInterval(n),t())},i=function n(){e.updating||(e.removeEventListener("updateend",n,!1),t())};if(!e.updating)return void t();if("function"==typeof e.addEventListener)try{e.addEventListener("updateend",i,!1)}catch(e){n=setInterval(r,50)}else n=setInterval(r,50)}var y=this.context,T=(0,R.default)(y).getInstance(),A=void 0;return{append:l,remove:f,abort:g,createSourceBuffer:e,removeSourceBuffer:t,getBufferRange:n,getAllRanges:r,getTotalBufferedTime:i,getBufferLength:a,getRangeDifference:s,setConfig:h}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(18),o=r(a),s=n(13),u=r(s),l=n(16),d=r(l),f=n(11),c=r(f),g=n(21),p=r(g),h=n(43),m=r(h),v=n(182),_=r(v),y=n(181),E=r(y),T=n(20),S=r(T),A=n(5),I=r(A),C=n(2),R=r(C),b=n(1),M=r(b),O=n(0),D=r(O);i.__dashjs_factory_name="SourceBufferController";var N=D.default.getSingletonFactory(i);N.QUOTA_EXCEEDED_ERROR_CODE=22,t.default=N,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=a,n=o,r=!0,s=l=void 0}},o=n(26),s=function(e){return e&&e.__esModule?e:{default:e}}(o),u=function(e){function t(){r(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",this.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer"}return i(t,e),t}(s.default),l=new u;t.default=l,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e){N=e}function n(e){M=e}function r(){return M}function i(e){var t=function(e,t){return e.action===c.default.ACTION_COMPLETE&&e.action===t.action},n=function(e,t){return!isNaN(e.index)&&e.startTime===t.startTime&&e.adaptationIndex===t.adaptationIndex},r=function(e,t){return isNaN(e.index)&&isNaN(t.index)&&e.quality===t.quality};return function(i){var a=!1;return i.some(function(i){if(n(e,i)||r(e,i)||t(e,i))return a=!0}),a}(O)}function a(e){var t=e.state instanceof Array?e.state:[e.state],n=[];return t.forEach(function(t){var r=y(t);n=n.concat(_(r,e))}),n}function s(e){O=O.filter(function(t){return isNaN(t.startTime)||t.startTime>=e})}function l(){N.abort(),D=[]}function d(e){switch(e.action){case c.default.ACTION_COMPLETE:O.push(e),E(e,m),C.trigger(u.default.STREAM_COMPLETED,{request:e,fragmentModel:this});break;case c.default.ACTION_DOWNLOAD:E(e,h),D.push(e),f(e);break;default:I("Unknown request action.")}}function f(e){C.trigger(u.default.FRAGMENT_LOADING_STARTED,{sender:b,request:e}),N.load(e)}function g(e,t,n){for(var r=e.length-1,i=r;i>=0;i--){var a=e[i],o=a.startTime,s=o+a.duration;if(n=void 0!==n?n:a.duration/2,!isNaN(o)&&!isNaN(s)&&t+n>=o&&t-n<s||isNaN(o)&&isNaN(t))return a}return null}function _(e,t){return t.hasOwnProperty("time")?[g(e,t.time,t.threshold)]:e.filter(function(e){for(var n in t)if("state"!==n&&t.hasOwnProperty(n)&&e[n]!=t[n])return!1;return!0})}function y(e){var t=void 0;switch(e){case h:t=D;break;case m:t=O;break;default:t=[]}return t}function E(e,t){R.addSchedulingInfo(e.mediaType,new Date,e.type,e.startTime,e.availabilityStartTime,e.duration,e.quality,e.range,t),R.addRequestsQueue(e.mediaType,D,O)}function T(e){e.sender===N&&(D.splice(D.indexOf(e.request),1),e.response&&!e.error&&O.push(e.request),E(e.request,e.error?v:m),C.trigger(u.default.FRAGMENT_LOADING_COMPLETED,{request:e.request,response:e.response,error:e.error,sender:this}))}function S(){C.off(u.default.LOADING_COMPLETED,T,this),N&&(N.reset(),N=null),O=[],D=[]}var A=this.context,I=(0,p.default)(A).getInstance().log,C=(0,o.default)(A).getInstance(),R=e.metricsModel,b=void 0,M=void 0,O=void 0,D=void 0,N=void 0;return b={setLoader:t,setScheduleController:n,getScheduleController:r,getRequests:a,isFragmentLoaded:i,removeExecutedRequestsBeforeTime:s,abortRequests:l,executeRequest:d,reset:S},function(){M=null,N=null,O=[],D=[],C.on(u.default.LOADING_COMPLETED,T,b)}(),b}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=r(a),s=n(1),u=r(s),l=n(0),d=r(l),f=n(24),c=r(f),g=n(3),p=r(g),h="loading",m="executed",v="failed";i.__dashjs_factory_name="FragmentModel";var _=d.default.getClassFactory(i);_.FRAGMENT_MODEL_LOADING=h,_.FRAGMENT_MODEL_EXECUTED=m,_.FRAGMENT_MODEL_CANCELED="canceled",_.FRAGMENT_MODEL_FAILED=v,t.default=_,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){return i}function t(e){i=e,e&&r.trigger(u.default.MANIFEST_LOADED,{data:e})}var n=this.context,r=(0,o.default)(n).getInstance(),i=void 0;return{getValue:e,setValue:t}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=r(a),s=n(1),u=r(s),l=n(0),d=r(l);i.__dashjs_factory_name="ManifestModel",t.default=d.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){e&&e.log&&(v=e.log)}function t(){y=[];var e;e=(0,c.default)(h).getInstance(),y.push(e),e=(0,d.default)(h).getInstance(),y.push(e),e=(0,u.default)(h).getInstance(),y.push(e),T=e}function n(){return y}function r(e){for(var t=0;t<y.length;t++)if(y[t].systemString===e)return y[t];return null}function i(e){return e===T}function a(e,t){if(e.byteLength===t.byteLength){for(var n=new Uint8Array(e),r=new Uint8Array(t),i=0;i<n.length;i++)if(n[i]!==r[i])return!1;return!0}return!1}function s(e){var t,n,r,i,a=[];if(e)for(r=0;r<y.length;++r)for(n=y[r],i=0;i<e.length;++i)if(t=e[i],t.schemeIdUri.toLowerCase()===n.schemeIdURI){var o=n.getInitData(t);o&&a.push({ks:y[r],initData:o})}return a}function l(e,t){var n,r=[],i=o.default.parsePSSHList(e);for(n=0;n<y.length;++n){var a=y[n].systemString,s=!t||a in t;y[n].uuid in i&&s&&r.push({ks:y[n],initData:i[y[n].uuid]})}return r}function f(e,t,n){if("license-release"===n||"individualization-request"===n)return null;var r=null;return t&&t.hasOwnProperty("drmtoday")?r=(0,p.default)(h).getInstance():"com.widevine.alpha"===e.systemString?r=(0,_.default)(h).getInstance():"com.microsoft.playready"===e.systemString?r=(0,m.default)(h).getInstance():"org.w3.clearkey"===e.systemString&&(r=(0,E.default)(h).getInstance()),r}function g(e,t){try{return T.getClearKeysFromProtectionData(e,t)}catch(e){return v("Failed to retrieve clearkeys from ProtectionData"),null}}var h=this.context,v=void 0,y=void 0,T=void 0;return{initialize:t,isClearKey:i,initDataEquals:a,getKeySystems:n,getKeySystemBySystemString:r,getSupportedKeySystemsFromContentProtection:s,getSupportedKeySystems:l,getLicenseServer:f,processClearKeyLicenseRequest:g,setConfig:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(22),o=r(a),s=n(153),u=r(s),l=n(155),d=r(l),f=n(154),c=r(f),g=n(160),p=r(g),h=n(161),m=r(h),v=n(162),_=r(v),y=n(159),E=r(y),T=n(0),S=r(T);i.__dashjs_factory_name="ProtectionKeyController",t.default=S.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(){function e(e){return e}function t(e){return e}return{modifyRequestURL:e,modifyRequestHeader:t}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(i);r.__dashjs_factory_name="RequestModifier",t.default=a.default.getSingletonFactory(r),e.exports=t.default},function(e,t,n){var r=n(89);"string"==typeof r&&(r=[[e.i,r,""]]);n(205)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";function r(e){var t=parseInt(e,10),n=Math.floor(t/3600),r=Math.floor((t-3600*n)/60),i=t-3600*n-60*r;return r<10&&(r="0"+r),i<10&&(i="0"+i),0===n?r+":"+i:(n<10&&(n="0"+n),n+":"+r+":"+i)}Object.defineProperty(t,"__esModule",{value:!0}),t.duration=r},function(e,t,n){"use strict";var r={};r.encode=function(e){for(var t=[],n=0;n<e.length;++n){var r=e.charCodeAt(n);r<128?t.push(r):r<2048?(t.push(192|r>>6),t.push(128|63&r)):r<65536?(t.push(224|r>>12),t.push(128|63&r>>6),t.push(128|63&r)):(t.push(240|r>>18),t.push(128|63&r>>12),t.push(128|63&r>>6),t.push(128|63&r))}return t},r.decode=function(e){for(var t=[],n=0;n<e.length;){var r=e[n++];r<128||(r<224?(r=(31&r)<<6,r|=63&e[n++]):r<240?(r=(15&r)<<12,r|=(63&e[n++])<<6,r|=63&e[n++]):(r=(7&r)<<18,r|=(63&e[n++])<<12,r|=(63&e[n++])<<6,r|=63&e[n++])),t.push(String.fromCharCode(r))}return t.join("")};var i={};!function(e){var t=function(t){for(var n=0,r=[],i=0|t.length/3;0<i--;){var a=(t[n]<<16)+(t[n+1]<<8)+t[n+2];n+=3,r.push(e.charAt(63&a>>18)),r.push(e.charAt(63&a>>12)),r.push(e.charAt(63&a>>6)),r.push(e.charAt(63&a))}if(2==t.length-n){var a=(t[n]<<16)+(t[n+1]<<8);r.push(e.charAt(63&a>>18)),r.push(e.charAt(63&a>>12)),r.push(e.charAt(63&a>>6)),r.push("=")}else if(1==t.length-n){var a=t[n]<<16;r.push(e.charAt(63&a>>18)),r.push(e.charAt(63&a>>12)),r.push("==")}return r.join("")},n=function(){for(var t=[],n=0;n<e.length;++n)t[e.charCodeAt(n)]=n;return t["=".charCodeAt(0)]=0,t}(),o=function(e){for(var t=0,r=[],i=0|e.length/4;0<i--;){var a=(n[e.charCodeAt(t)]<<18)+(n[e.charCodeAt(t+1)]<<12)+(n[e.charCodeAt(t+2)]<<6)+n[e.charCodeAt(t+3)];r.push(255&a>>16),r.push(255&a>>8),r.push(255&a),t+=4}return r&&("="==e.charAt(t-2)?(r.pop(),r.pop()):"="==e.charAt(t-1)&&r.pop()),r},u={};u.encode=function(e){for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t},u.decode=function(e){for(var t=0;t<s.length;++t)a[t]=String.fromCharCode(a[t]);return a.join("")},i.decodeArray=function(e){var t=o(e);return new Uint8Array(t)},i.encodeASCII=function(e){var n=u.encode(e);return t(n)},i.decodeASCII=function(e){var t=o(e);return u.decode(t)},i.encode=function(e){var n=r.encode(e);return t(n)},i.decode=function(e){var t=o(e);return r.decode(t)}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),t.decode=i.decode,t.decodeArray=i.decodeArray},function(e,t,n){"use strict";function r(e,t,n){function r(e){var t=e.localName;return null==t&&(t=e.baseName),null!=t&&""!=t||(t=e.nodeName),t}function i(e){return e.prefix}function a(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"):e}function o(e){return e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/")}function s(a){if(a.nodeType==y.DOCUMENT_NODE){var u,l,d,f=a.firstChild;for(l=0,d=a.childNodes.length;l<d;l+=1)if(a.childNodes[l].nodeType!==y.COMMENT_NODE){f=a.childNodes[l];break}if(n)u=s(f);else{u={};var c=r(f);u[c]=s(f)}return u}if(a.nodeType==y.ELEMENT_NODE){var u=new Object;u.__cnt=0;for(var g=[],p=a.childNodes,h=0;h<p.length;h++){var f=p.item(h),c=r(f);if(u.__cnt++,null==u[c]){var m=s(f);if("#text"!=c||/[^\s]/.test(m)){var v={};v[c]=m,g.push(v)}u[c]=m,u[c+"_asArray"]=new Array(1),u[c+"_asArray"][0]=u[c]}else{if(null!=u[c]&&!(u[c]instanceof Array)){var E=u[c];u[c]=new Array,u[c][0]=E,u[c+"_asArray"]=u[c]}for(var T=0;null!=u[c][T];)T++;var m=s(f);if("#text"!=c||/[^\s]/.test(m)){var v={};v[c]=m,g.push(v)}u[c][T]=m}}u.__children=g;for(var S=0;S<a.attributes.length;S++){var A=a.attributes.item(S);u.__cnt++;for(var I=A.value,C=0,R=e.length;C<R;C++){var b=e[C];b.test(A)&&(I=b.converter(A.value))}u[t+A.name]=I}var M=i(a);return null!=M&&""!=M&&(u.__cnt++,u.__prefix=M),1==u.__cnt&&null!=u["#text"]&&(u=u["#text"]),null!=u["#text"]&&(u.__text=u["#text"],_&&(u.__text=o(u.__text)),delete u["#text"],delete u["#text_asArray"]),null!=u["#cdata-section"]&&(u.__cdata=u["#cdata-section"],delete u["#cdata-section"],delete u["#cdata-section_asArray"]),null==u.__text&&null==u.__cdata||(u.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),u}return a.nodeType==y.TEXT_NODE||a.nodeType==y.CDATA_SECTION_NODE?a.nodeValue:a.nodeType==y.COMMENT_NODE?null:void 0}function u(e,t,n,r){var i="<"+(null!=e&&null!=e.__prefix?e.__prefix+":":"")+t;if(null!=n)for(var a=0;a<n.length;a++){var o=n[a],s=e[o];i+=" "+o.substr(1)+"='"+s+"'"}return i+=r?"/>":">"}function l(e,t){return"</"+(null!=e.__prefix?e.__prefix+":":"")+t+">"}function d(e,t){return-1!==e.indexOf(t,e.length-t.length)}function f(e,t){return!!(d(t.toString(),"_asArray")||0==t.toString().indexOf("_")||e[t]instanceof Function)}function c(e){var t=0;if(e instanceof Object)for(var n in e)f(e,n)||t++;return t}function g(e){var t=[];if(e instanceof Object)for(var n in e)-1==n.toString().indexOf("__")&&0==n.toString().indexOf("_")&&t.push(n);return t}function p(e){var t="";return null!=e.__cdata&&(t+="<![CDATA["+e.__cdata+"]]>"),null!=e.__text&&(t+=_?a(e.__text):e.__text),t}function h(e){var t="";return e instanceof Object?t+=p(e):null!=e&&(t+=_?a(e):e),t}function m(e,t,n){var r="";if(0==e.length)r+=u(e,t,n,!0);else for(var i=0;i<e.length;i++)r+=u(e[i],t,g(e[i]),!1),r+=v(e[i]),r+=l(e[i],t);return r}function v(e){var t="";if(c(e)>0)for(var n in e)if(!f(e,n)){var r=e[n],i=g(r);if(null==r||void 0==r)t+=u(r,n,i,!0);else if(r instanceof Object)if(r instanceof Array)t+=m(r,n,i);else{var a=c(r);a>0||null!=r.__text||null!=r.__cdata?(t+=u(r,n,i,!1),t+=v(r),t+=l(r,n)):t+=u(r,n,i,!0)}else t+=u(r,n,i,!1),t+=h(r),t+=l(r,n)}return t+=h(e)}null!==t&&void 0!==t||(t="_"),null!==n&&void 0!==n||(n=!1);var _=!1,y={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};this.parseXmlString=function(e){var t,n,r;if(window.DOMParser){n=new window.DOMParser;try{r=n.parseFromString("<","text/xml").getElementsByTagName("parsererror")[0].namespaceURI}catch(e){}try{t=n.parseFromString(e,"text/xml"),r&&t.getElementsByTagNameNS(r,"parsererror").length&&(t=void 0)}catch(e){}}else 0==e.indexOf("<?")&&(e=e.substr(e.indexOf("?>")+2)),t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e);return t},this.xml2json=function(e){return s(e)},this.xml_str2json=function(e){var t=this.parseXmlString(e);return t?this.xml2json(t):void 0},this.json2xml_str=function(e){return v(e)},this.json2xml=function(e){var t=this.json2xml_str(e);return this.parseXmlString(t)},this.getVersion=function(){return"1.0.11"},this.escapeMode=function(e){_=e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t,n){r(this,e),this._test=t,this._converter=n}return i(e,[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}]),e}();t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.availabilityIdx=NaN,this.wallStartTime=NaN,this.representation=null};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=a,n=o,r=!0,s=l=void 0}},o=n(26),s=function(e){return e&&e.__esModule?e:{default:e}}(o),u=function(e){function t(){r(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.BUFFER_EMPTY="bufferstalled",this.BUFFER_LOADED="bufferloaded",this.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",this.ERROR="error",this.LOG="log",this.MANIFEST_LOADED="manifestloaded",this.METRICS_CHANGED="metricschanged",this.METRIC_CHANGED="metricchanged",this.METRIC_ADDED="metricadded",this.METRIC_UPDATED="metricupdated",this.PERIOD_SWITCH_COMPLETED="streamswitchcompleted",this.PERIOD_SWITCH_STARTED="streamswitchstarted",this.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",this.QUALITY_CHANGE_RENDERED="qualityChangeRendered",this.STREAM_INITIALIZED="streaminitialized",this.TEXT_TRACKS_ADDED="alltexttracksadded",this.TEXT_TRACK_ADDED="texttrackadded",this.CAN_PLAY="canPlay",this.PLAYBACK_ENDED="playbackEnded",this.PLAYBACK_ERROR="playbackError",this.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",this.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",this.PLAYBACK_PAUSED="playbackPaused",this.PLAYBACK_PLAYING="playbackPlaying",this.PLAYBACK_PROGRESS="playbackProgress",this.PLAYBACK_RATE_CHANGED="playbackRateChanged",this.PLAYBACK_SEEKED="playbackSeeked",this.PLAYBACK_SEEKING="playbackSeeking",this.PLAYBACK_STARTED="playbackStarted",this.PLAYBACK_TIME_UPDATED="playbackTimeUpdated"}return i(t,e),t}(s.default),l=new u;t.default=l,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){M=window.VTTCue||window.TextTrackCue,N=[],P=[],L=-1,w=0,F=0,x=0,k=0,U=null,B=null,G=!1,H=2147483647,j=!!navigator.userAgent.match(/Chrome/)&&!navigator.userAgent.match(/Edge/),void 0!==document.fullscreenElement?K="fullscreenElement":void 0!==document.webkitIsFullScreen?K="webkitIsFullScreen":document.msFullscreenElement?K="msFullscreenElement":document.mozFullScreen&&(K="mozFullScreen")}function t(e){var t=N[e].kind,n=void 0!==N[e].label?N[e].label:N[e].lang,r=N[e].lang,i=j?document.createElement("track"):D.addTextTrack(t,n,r);return j&&(i.kind=t,i.label=n,i.srclang=r),i}function n(e){G=e,U&&!document[K]&&(U.style.zIndex=e?H:null)}function r(e,n){if(N.length===n)return void b("Trying to add too many tracks.");if(N.push(e),void 0===D&&(D=e.video),N.length===n){N.sort(function(e,t){return e.index-t.index}),U=O.getTTMLRenderingDiv();for(var r=-1,i=0;i<N.length;i++){var a=t.call(this,i);P.push(a),N[i].defaultTrack&&(a.default=!0,r=i),j&&D.appendChild(a);var o=D.textTracks[i];o.nonAddedCues=[],U&&(N[i].isTTML||N[i].isEmbedded)?o.renderingType="html":o.renderingType="default",this.addCaptions(i,0,N[i].captionData),R.trigger(u.default.TEXT_TRACK_ADDED)}m.call(this,r),r>=0&&(D.textTracks[r].mode="showing",this.addCaptions(r,0,null)),R.trigger(u.default.TEXT_TRACKS_ADDED,{index:L,tracks:N})}}function i(e,t,n,r,i,a){var o=e/t,s=n/r,u=0,l=0;o>s?(l=t,u=l/r*n):(u=e,l=u/n*r);var d=0,f=0,c=0,g=0;return u/l>i?(g=l,c=l/(1/i),d=(e-c)/2,f=0):(c=u,g=u/i,d=0,f=(t-g)/2),a?{x:d+.1*c,y:f+.1*g,w:.8*c,h:.8*g}:{x:d,y:f,w:c,h:g}}function a(){var e=this.getCurrentTextTrack();if(e&&"html"===e.renderingType){var t=D.clientWidth/D.clientHeight,n=!1;e.isFromCEA608&&(t=3.5/3,n=!0);var r=i.call(this,D.clientWidth,D.clientHeight,D.videoWidth,D.videoHeight,t,n),a=r.w,o=r.h;if(a!=x||o!=k){w=r.x,F=r.y,x=a,k=o,U.style.left=w+"px",U.style.top=F+"px",U.style.width=x+"px",U.style.height=k+"px";for(var s=0;e.activeCues&&s<e.activeCues.length;++s){var u=e.activeCues[s];u.scaleCue(u)}K&&document[K]||G?U.style.zIndex=H:U.style.zIndex=null}}}function s(e,t){return Math.round(.01*e*t).toString()+"px"}function l(e){var t=x,n=k;if(t*n!=0&&e.layout){var r=e.layout,i=s(r.left,t),a=s(r.top,n),o=s(r.width,t),u=s(r.height,n);U.style.left=i,U.style.top=a,U.style.width=o,U.style.height=u;var l=U.firstChild;l&&l.style&&(l.style.left="0px",l.style.top="0px",l.style.width=o,l.style.height=u)}}function d(e){var t,n,r,i=x,a=k,o=[i/e.cellResolution[0],a/e.cellResolution[1]];if(e.linePadding)for(t in e.linePadding)if(e.linePadding.hasOwnProperty(t)){var s=e.linePadding[t];n=(s*o[0]).toString();for(var u=document.getElementsByClassName("spanPadding"),l=0;l<u.length;l++)u[l].style.cssText=u[l].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+n),u[l].style.cssText=u[l].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+n)}if(e.fontSize)for(t in e.fontSize)if(e.fontSize.hasOwnProperty(t)){var d=e.fontSize[t]/100;n=(d*o[1]).toString(),r="defaultFontSize"!==t?document.getElementsByClassName(t):document.getElementsByClassName("paragraph");for(var f=0;f<r.length;f++)r[f].style.cssText=r[f].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+n)}if(e.lineHeight)for(t in e.lineHeight)if(e.lineHeight.hasOwnProperty(t)){var c=e.lineHeight[t]/100;n=(c*o[1]).toString(),r=document.getElementsByClassName(t);for(var g=0;g<r.length;g++)r[g].style.cssText=r[g].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+n)}}function f(e,t,n){var r=e>=0?D.textTracks[e]:null,i=this;if(r){if("showing"!==r.mode)return void(n&&n.length>0&&(r.nonAddedCues=r.nonAddedCues.concat(n)));if(n||(n=r.nonAddedCues,r.nonAddedCues=[]),n&&0!==n.length)for(var o in n){var s,u=n[o];r.cellResolution=u.cellResolution,r.isFromCEA608=u.isFromCEA608,B||"html"!==u.type&&"image"!==u.type||(B=setInterval(a.bind(this),500)),"image"===u.type?(s=new M(u.start-t,u.end-t,""),s.image=u.data,s.id=u.id,s.size=0,s.type="image",s.layout=u.layout,s.scaleCue=l.bind(i),s.onenter=function(){if(U&&"showing"===r.mode){var e=new Image;e.id="ttmlImage_"+this.id,e.src=this.image,e.style.cssText="z-index: 2147483648; pointer-events: none; display: block; visibility: visible !important; position: relative !important;",U.appendChild(e),l.call(i,this)}},s.onexit=function(){if(U)for(var e=U.childNodes,t=0;t<e.length;t++)e[t].id==="ttmlImage_"+this.id&&U.removeChild(e[t])}):"html"===u.type?(s=new M(u.start-t,u.end-t,""),s.cueHTMLElement=u.cueHTMLElement,s.regions=u.regions,s.regionID=u.regionID,s.cueID=u.cueID,s.videoWidth=u.videoWidth,s.videoHeight=u.videoHeight,s.cellResolution=u.cellResolution,s.fontSize=u.fontSize,s.lineHeight=u.lineHeight,s.linePadding=u.linePadding,s.scaleCue=d.bind(i),U.style.left=w+"px",U.style.top=F+"px",U.style.width=x+"px",U.style.height=k+"px",s.onenter=function(){"showing"===r.mode&&(b("Cue "+this.startTime+"-"+this.endTime+" : "+this.cueHTMLElement.id+" : "+this.cueHTMLElement.innerText),U.appendChild(this.cueHTMLElement),d.call(i,this))},s.onexit=function(){for(var e=U.childNodes,t=0;t<e.length;++t)e[t].id===this.cueID&&U.removeChild(e[t])}):(s=new M(u.start-t,u.end-t,u.data),u.styles&&(void 0!==u.styles.align&&s.hasOwnProperty("align")&&(s.align=u.styles.align),void 0!==u.styles.line&&s.hasOwnProperty("line")&&(s.line=u.styles.line),void 0!==u.styles.position&&s.hasOwnProperty("position")&&(s.position=u.styles.position),void 0!==u.styles.size&&s.hasOwnProperty("size")&&(s.size=u.styles.size))),r.addCue(s)}}}function g(){return L>=0?D.textTracks[L]:null}function p(){return L}function h(e){for(var t=-1,n=0;n<D.textTracks.length;n++)if(D.textTracks[n].label===e){t=n;break}return t}function m(e){if(L=e,A.call(this),e>=0){"html"===D.textTracks[e].renderingType?T.call(this):S.call(this)}else S.call(this)}function v(e){return D.textTracks[e]}function _(e){if(e.cues){for(var t=e.cues,n=t.length-1,r=n;r>=0;r--)e.removeCue(t[r]);e.mode="disabled"}}function y(){for(var e=P.length,t=0;t<e;t++)if(j)D.removeChild(P[t]);else{var n=v.call(this,t);n.nonAddedCues=[],_.call(this,n)}P=[],N=[],B&&(clearInterval(B),B=null),A.call(this)}function E(e){D.removeChild(P[e]),P.splice(e,1)}function T(){if(j){var e=document.getElementById("native-cue-style");if(!e){e=document.createElement("style"),e.id="native-cue-style",document.head.appendChild(e);var t=e.sheet;D.id?t.insertRule("#"+D.id+"::cue {background: transparent}",0):0!==D.classList.length?t.insertRule("."+D.className+"::cue {background: transparent}",0):t.insertRule("video::cue {background: transparent}",0)}}}function S(){if(j){var e=document.getElementById("native-cue-style");e&&document.head.removeChild(e)}}function A(){if(U)for(;U.firstChild;)U.removeChild(U.firstChild)}function I(e){e&&e.videoModel&&(O=e.videoModel)}var C=this.context,R=(0,o.default)(C).getInstance(),b=(0,c.default)(C).getInstance().log,M=void 0,O=void 0,D=void 0,N=void 0,P=void 0,L=void 0,w=void 0,F=void 0,x=void 0,k=void 0,U=void 0,B=void 0,j=void 0,K=void 0,G=void 0,H=void 0;return{initialize:e,displayCConTop:n,addTextTrack:r,addCaptions:f,getTextTrack:v,getCurrentTextTrack:g,getCurrentTrackIdx:p,setCurrentTrackIdx:m,getTrackIdxForId:h,deleteTrackCues:_,deleteAllTextTracks:y,deleteTextTrack:E,setConfig:I}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=r(a),s=n(1),u=r(s),l=n(0),d=r(l),f=n(3),c=r(f);i.__dashjs_factory_name="TextTracks",t.default=d.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){a=new o.default,s=[],u=!1}function t(){return a}function n(){return s}function r(){return u}function i(e){function t(e,t,n,r){var i=r[0].split(/[=]/);return r.push({key:i[0],value:i[1]}),r.shift(),r}function n(e,t,n){return t>0&&(d&&0===s.length?s=n[t].split(/[&]/):f&&(r=n[t].split(/[&]/))),n}if(!e)return null;var r=[],i=new RegExp(/[?]/),o=new RegExp(/[#]/),l=new RegExp(/^(https:)?\/\//i),d=i.test(e),f=o.test(e);return u=l.test(e),e.split(/[?#]/).map(n),s.length>0&&(s=s.reduce(t,null)),r.length>0&&(r=r.reduce(t,null),r.forEach(function(e){a[e.key]=e.value})),e}var a=void 0,s=void 0,u=void 0;return{initialize:e,parseURI:i,getURIFragmentData:t,getURIQueryData:n,isManifestHTTPS:r}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(193),o=r(a),s=n(0),u=r(s);i.__dashjs_factory_name="URIQueryAndFragmentModel",t.default=u.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t,n){r(this,e),this.sessionToken=t,this.error=n};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t,n,i,a){r(this,e),this.sessionToken=t,this.message=n,this.defaultURL=i,this.messageType=a||"license-request"};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t,n){r(this,e),this.keySystem=t,this.ksConfiguration=n};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t,n,i,a,o){r(this,e),this.initDataTypes=["cenc"],this.audioCapabilities=t,this.videoCapabilities=n,this.distinctiveIdentifier=i,this.persistentState=a,this.sessionTypes=o};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t,n){r(this,e),this.initData=t,this.initDataType=n};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){s={}}function t(e){e&&(e.abrRulesCollection&&(s[h]=e.abrRulesCollection),e.synchronizationRulesCollection&&(s[m]=e.synchronizationRulesCollection))}function n(e,t,n,r,a){var o,s,l={},d={},f=e.length,c=f,g=i(t,r),p=function(e){var t,i,o;if(e.value!==u.default.NO_CHANGE){var s=a(l[e.priority],e.value);s!==l[e.priority]&&(l[e.priority]=s,d[e.priority]=e.reason)}--f||(l[u.default.WEAK]!==u.default.NO_CHANGE&&(o=u.default.WEAK,t=l[u.default.WEAK],i=d[u.default.WEAK]),l[u.default.DEFAULT]!==u.default.NO_CHANGE&&(o=u.default.DEFAULT,t=l[u.default.DEFAULT],i=d[u.default.DEFAULT]),l[u.default.STRONG]!==u.default.NO_CHANGE&&(o=u.default.STRONG,t=l[u.default.STRONG],i=d[u.default.STRONG]),o!=u.default.STRONG&&o!=u.default.WEAK&&(o=u.default.DEFAULT),n(void 0!==t?{value:t,confidence:o,reason:i}:{value:r,confidence:o,reason:{name:"NO_CHANGE"}}))};for(l[u.default.STRONG]=u.default.NO_CHANGE,l[u.default.WEAK]=u.default.NO_CHANGE,l[u.default.DEFAULT]=u.default.NO_CHANGE,s=0;s<c;s++)o=e[s],o.execute(g,p)}function r(){var e,t,n=s[h],r=s[m],i=(n.getRules(d.default.QUALITY_SWITCH_RULES)||[]).concat(n.getRules(d.default.ABANDON_FRAGMENT_RULES)||[]).concat(r.getRules(c.default.TIME_SYNCHRONIZED_RULES)||[]).concat(r.getRules(c.default.BEST_GUESS_RULES)||[]),a=i.length;for(t=0;t<a;t++)e=i[t],"function"==typeof e.reset&&e.reset();s={}}function i(e,t){return(0,o.default)(a).create({streamProcessor:e,currentValue:t})}var a=this.context,s=void 0;return{initialize:e,setConfig:t,applyRules:n,reset:r}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(164),o=r(a),s=n(7),u=r(s),l=n(51),d=r(l),f=n(52),c=r(f),g=n(0),p=r(g),h=0,m=1;i.__dashjs_factory_name="RulesController";var v=p.default.getSingletonFactory(i);v.ABR_RULE=h,v.SYNC_RULE=m,t.default=v,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){r=[],i=[];var e=(0,E.default)(n).getInstance(),t=(0,S.default)(n).getInstance();(0,_.default)(n).getInstance().getBufferOccupancyABREnabled()?(r.push((0,p.default)(n).create({metricsModel:e,dashMetrics:(0,S.default)(n).getInstance()})),i.push((0,m.default)(n).create({metricsModel:e,dashMetrics:(0,S.default)(n).getInstance()}))):(r.push((0,o.default)(n).create({metricsModel:e,dashMetrics:t})),r.push((0,u.default)(n).create({metricsModel:e,dashMetrics:t})),r.push((0,d.default)(n).create({metricsModel:e})),i.push((0,c.default)(n).create()))}function t(e){switch(e){case C:return r;case R:return i;default:return null}}var n=this.context,r=void 0,i=void 0;return{initialize:e,getRules:t}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(169),o=r(a),s=n(167),u=r(s),l=n(168),d=r(l),f=n(165),c=r(f),g=n(73),p=r(g),h=n(166),m=r(h),v=n(4),_=r(v),y=n(14),E=r(y),T=n(17),S=r(T),A=n(0),I=r(A),C="qualitySwitchRules",R="abandonFragmentRules";i.__dashjs_factory_name="ABRRulesCollection";var b=I.default.getSingletonFactory(i);b.QUALITY_SWITCH_RULES=C,b.ABANDON_FRAGMENT_RULES=R,t.default=b,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){r=[],i=[],r.push((0,c.default)(n).create({timelineConverter:(0,u.default)(n).getInstance()})),i.push((0,d.default)(n).create({timelineConverter:(0,u.default)(n).getInstance(),adapter:(0,p.default)(n).getInstance()}))}function t(e){switch(e){case h:return r;case m:return i;default:return null}}var n=this.context,r=void 0,i=void 0;return{initialize:e,getRules:t}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=r(a),s=n(28),u=r(s),l=n(174),d=r(l),f=n(175),c=r(f),g=n(16),p=r(g),h="withAccurateTimeSourceRules",m="bestGuestRules";i.__dashjs_factory_name="SynchronizationRulesCollection";var v=o.default.getSingletonFactory(i);v.TIME_SYNCHRONIZED_RULES=h,v.BEST_GUESS_RULES=m,t.default=v,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){if(!e)return null;void 0===e.fileStart&&(e.fileStart=0);var n=d.default.parseBuffer(e),r=(0,o.default)(t).create();return r.setData(n),r}var t=this.context;return{parse:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(179),o=r(a),s=n(0),u=r(s),l=n(58),d=r(l);i.__dashjs_factory_name="BoxParser",t.default=u.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){if(void 0!==_)return _;_=!1;var t;try{"undefined"!=typeof window&&(t=window[e])}catch(e){return m("Warning: DOMStorage access denied: "+e.message),_}if(!t||e!==p&&e!==h)return _;try{t.setItem("1","1"),t.removeItem("1"),_=!0}catch(e){m("Warning: DOMStorage is supported, but cannot be used: "+e.message)}return _}function t(){e(p)&&f.forEach(function(e){var t=localStorage.getItem(e.oldKey);if(t){localStorage.removeItem(e.oldKey);try{localStorage.setItem(e.newKey,t)}catch(e){m(e.message)}}})}function n(){return 6e5*Math.round((new Date).getTime()/6e5)}function r(t,n){return e(t)&&y["get"+n+"CachingInfo"]().enabled}function i(e){if(!r(p,"LastMediaSettings"))return null;var t=g.replace(/\?/,e),n=JSON.parse(localStorage.getItem(t))||{},i=(new Date).getTime()-parseInt(n.timestamp,10)>=y.getLastMediaSettingsCachingInfo().ttl||!1,a=n.settings;return i&&(localStorage.removeItem(t),a=null),a}function a(e){var t=NaN;if(r(p,"LastBitrate")){var n=c.replace(/\?/,e),i=JSON.parse(localStorage.getItem(n))||{},a=(new Date).getTime()-parseInt(i.timestamp,10)>=y.getLastBitrateCachingInfo().ttl||!1,o=parseInt(i.bitrate,10);isNaN(o)||a?a&&localStorage.removeItem(n):(t=o,m("Last saved bitrate for "+e+" was "+o))}return t}function o(e,t){if(r(p,"LastMediaSettings")){var i=g.replace(/\?/,e);try{localStorage.setItem(i,JSON.stringify({settings:t,timestamp:n()}))}catch(e){m(e.message)}}}function s(e,t){if(r(p,"LastBitrate")&&t){var i=c.replace(/\?/,e);try{localStorage.setItem(i,JSON.stringify({bitrate:t/1e3,timestamp:n()}))}catch(e){m(e.message)}}}var l=this.context,m=(0,d.default)(l).getInstance().log,v=void 0,_=void 0,y=void 0;return v={getSavedBitrateSettings:a,setSavedBitrateSettings:s,getSavedMediaSettings:i,setSavedMediaSettings:o,isSupported:e},function(){y=(0,u.default)(l).getInstance(),t()}(),v}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=r(a),s=n(4),u=r(s),l=n(3),d=r(l),f=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],c="dashjs_?_bitrate",g="dashjs_?_settings",p="localStorage",h="sessionStorage";i.__dashjs_factory_name="DOMStorage";var m=o.default.getSingletonFactory(i);t.default=m,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e,t){f=e,g=t,m=!1,_=NaN,E=null,h=(0,p.default)(s).getInstance(),T=o.default.BEST_GUESS_RULES,l.on(c.default.STREAM_INITIALIZED,a,this)}function t(){m=!1,_=NaN}function n(){return E}function r(){l.off(c.default.STREAM_INITIALIZED,a,this),t(),E=null,f=null,g=null,m=!1,_=NaN,T=null,h=null}function i(e){var t=((new Date).getTime()-_)/1e3;E=e.value,l.trigger(c.default.LIVE_EDGE_SEARCH_COMPLETED,{liveEdge:E,searchTime:t,error:null===E?new u.default(v,"live edge has not been found",null):null})}function a(e){!g.isDynamic()||m||e.error||(T=f.isTimeSyncCompleted()?o.default.TIME_SYNCHRONIZED_RULES:o.default.BEST_GUESS_RULES,y=(0,o.default)(s).getInstance().getRules(T),m=!0,_=(new Date).getTime(),h.applyRules(y,g,i,null,function(e,t){return t}))}var s=this.context,l=(0,d.default)(s).getInstance(),f=void 0,g=void 0,h=void 0,m=void 0,_=void 0,y=void 0,E=void 0,T=void 0;return{initialize:e,abortSearch:t,getLiveEdge:n,reset:r}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(52),o=r(a),s=n(5),u=r(s),l=n(2),d=r(l),f=n(1),c=r(f),g=n(50),p=r(g),h=n(0),m=r(h),v=1;i.__dashjs_factory_name="LiveEdgeFinder";var _=m.default.getSingletonFactory(i);_.LIVE_EDGE_NOT_FOUND_ERROR_CODE=v,t.default=_,e.exports=t.default},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.isoLangs={ab:{name:"Abkhaz",nativeName:"аҧсуа"},aa:{name:"Afar",nativeName:"Afaraf"},af:{name:"Afrikaans",nativeName:"Afrikaans"},ak:{name:"Akan",nativeName:"Akan"},sq:{name:"Albanian",nativeName:"Shqip"},am:{name:"Amharic",nativeName:"አማርኛ"},ar:{name:"Arabic",nativeName:"العربية"},an:{name:"Aragonese",nativeName:"Aragonés"},hy:{name:"Armenian",nativeName:"Հայերեն"},as:{name:"Assamese",nativeName:"অসমীয়া"},av:{name:"Avaric",nativeName:"авар мацӀ, магӀарул мацӀ"},ae:{name:"Avestan",nativeName:"avesta"},ay:{name:"Aymara",nativeName:"aymar aru"},az:{name:"Azerbaijani",nativeName:"azərbaycan dili"},bm:{name:"Bambara",nativeName:"bamanankan"},ba:{name:"Bashkir",nativeName:"башҡорт теле"},eu:{name:"Basque",nativeName:"euskara, euskera"},be:{name:"Belarusian",nativeName:"Беларуская"},bn:{name:"Bengali",nativeName:"বাংলা"},bh:{name:"Bihari",nativeName:"भोजपुरी"},bi:{name:"Bislama",nativeName:"Bislama"},bs:{name:"Bosnian",nativeName:"bosanski jezik"},br:{name:"Breton",nativeName:"brezhoneg"},bg:{name:"Bulgarian",nativeName:"български език"},my:{name:"Burmese",nativeName:"ဗမာစာ"},ca:{name:"Catalan; Valencian",nativeName:"Català"},ch:{name:"Chamorro",nativeName:"Chamoru"},ce:{name:"Chechen",nativeName:"нохчийн мотт"},ny:{name:"Chichewa; Chewa; Nyanja",nativeName:"chiCheŵa, chinyanja"},zh:{name:"Chinese",nativeName:"中文 (Zhōngwén), 汉语, 漢語"},cv:{name:"Chuvash",nativeName:"чӑваш чӗлхи"},kw:{name:"Cornish",nativeName:"Kernewek"},co:{name:"Corsican",nativeName:"corsu, lingua corsa"},cr:{name:"Cree",nativeName:"ᓀᐦᐃᔭᐍᐏᐣ"},hr:{name:"Croatian",nativeName:"hrvatski"},cs:{name:"Czech",nativeName:"česky, čeština"},da:{name:"Danish",nativeName:"dansk"},dv:{name:"Divehi; Dhivehi; Maldivian;",nativeName:"ދިވެހި"},nl:{name:"Dutch",nativeName:"Nederlands, Vlaams"},en:{name:"English",nativeName:"English"},eo:{name:"Esperanto",nativeName:"Esperanto"},et:{name:"Estonian",nativeName:"eesti, eesti keel"},ee:{name:"Ewe",nativeName:"Eʋegbe"},fo:{name:"Faroese",nativeName:"føroyskt"},fj:{name:"Fijian",nativeName:"vosa Vakaviti"},fi:{name:"Finnish",nativeName:"suomi, suomen kieli"},fr:{name:"French",nativeName:"français, langue française"},ff:{name:"Fula; Fulah; Pulaar; Pular",nativeName:"Fulfulde, Pulaar, Pular"},gl:{name:"Galician",nativeName:"Galego"},ka:{name:"Georgian",nativeName:"ქართული"},de:{name:"German",nativeName:"Deutsch"},el:{name:"Greek, Modern",nativeName:"Ελληνικά"},gn:{name:"Guaraní",nativeName:"Avañeẽ"},gu:{name:"Gujarati",nativeName:"ગુજરાતી"},ht:{name:"Haitian; Haitian Creole",nativeName:"Kreyòl ayisyen"},ha:{name:"Hausa",nativeName:"Hausa, هَوُسَ"},he:{name:"Hebrew (modern)",nativeName:"עברית"},hz:{name:"Herero",nativeName:"Otjiherero"},hi:{name:"Hindi",nativeName:"हिन्दी, हिंदी"},ho:{name:"Hiri Motu",nativeName:"Hiri Motu"},hu:{name:"Hungarian",nativeName:"Magyar"},ia:{name:"Interlingua",nativeName:"Interlingua"},id:{name:"Indonesian",nativeName:"Bahasa Indonesia"},ie:{name:"Interlingue",nativeName:"Originally called Occidental; then Interlingue after WWII"},ga:{name:"Irish",nativeName:"Gaeilge"},ig:{name:"Igbo",nativeName:"Asụsụ Igbo"},ik:{name:"Inupiaq",nativeName:"Iñupiaq, Iñupiatun"},io:{name:"Ido",nativeName:"Ido"},is:{name:"Icelandic",nativeName:"Íslenska"},it:{name:"Italian",nativeName:"Italiano"},iu:{name:"Inuktitut",nativeName:"ᐃᓄᒃᑎᑐᑦ"},ja:{name:"Japanese",nativeName:"日本語 (にほんご／にっぽんご)"},jv:{name:"Javanese",nativeName:"basa Jawa"},kl:{name:"Kalaallisut, Greenlandic",nativeName:"kalaallisut, kalaallit oqaasii"},kn:{name:"Kannada",nativeName:"ಕನ್ನಡ"},kr:{name:"Kanuri",nativeName:"Kanuri"},ks:{name:"Kashmiri",nativeName:"कश्मीरी, كشميري‎"},kk:{name:"Kazakh",nativeName:"Қазақ тілі"},km:{name:"Khmer",nativeName:"ភាសាខ្មែរ"},ki:{name:"Kikuyu, Gikuyu",nativeName:"Gĩkũyũ"},rw:{name:"Kinyarwanda",nativeName:"Ikinyarwanda"},ky:{name:"Kirghiz, Kyrgyz",nativeName:"кыргыз тили"},kv:{name:"Komi",nativeName:"коми кыв"},kg:{name:"Kongo",nativeName:"KiKongo"},ko:{name:"Korean",nativeName:"한국어 (韓國語), 조선말 (朝鮮語)"},ku:{name:"Kurdish",nativeName:"Kurdî, كوردی‎"},kj:{name:"Kwanyama, Kuanyama",nativeName:"Kuanyama"},la:{name:"Latin",nativeName:"latine, lingua latina"},lb:{name:"Luxembourgish, Letzeburgesch",nativeName:"Lëtzebuergesch"},lg:{name:"Luganda",nativeName:"Luganda"},li:{name:"Limburgish, Limburgan, Limburger",nativeName:"Limburgs"},ln:{name:"Lingala",nativeName:"Lingála"},lo:{name:"Lao",nativeName:"ພາສາລາວ"},lt:{name:"Lithuanian",nativeName:"lietuvių kalba"},lu:{name:"Luba-Katanga",nativeName:""},lv:{name:"Latvian",nativeName:"latviešu valoda"},gv:{name:"Manx",nativeName:"Gaelg, Gailck"},mk:{name:"Macedonian",nativeName:"македонски јазик"},mg:{name:"Malagasy",nativeName:"Malagasy fiteny"},ms:{name:"Malay",nativeName:"bahasa Melayu, بهاس ملايو‎"},ml:{name:"Malayalam",nativeName:"മലയാളം"},mt:{name:"Maltese",nativeName:"Malti"},mi:{name:"Māori",nativeName:"te reo Māori"},mr:{name:"Marathi (Marāṭhī)",nativeName:"मराठी"},mh:{name:"Marshallese",nativeName:"Kajin M̧ajeļ"},mn:{name:"Mongolian",nativeName:"монгол"},na:{name:"Nauru",nativeName:"Ekakairũ Naoero"},nv:{name:"Navajo, Navaho",nativeName:"Diné bizaad, Dinékʼehǰí"},nb:{name:"Norwegian Bokmål",nativeName:"Norsk bokmål"},nd:{name:"North Ndebele",nativeName:"isiNdebele"},ne:{name:"Nepali",nativeName:"नेपाली"},ng:{name:"Ndonga",nativeName:"Owambo"},nn:{name:"Norwegian Nynorsk",nativeName:"Norsk nynorsk"},no:{name:"Norwegian",nativeName:"Norsk"},ii:{name:"Nuosu",nativeName:"ꆈꌠ꒿ Nuosuhxop"},nr:{name:"South Ndebele",nativeName:"isiNdebele"},oc:{name:"Occitan",nativeName:"Occitan"},oj:{name:"Ojibwe, Ojibwa",nativeName:"ᐊᓂᔑᓈᐯᒧᐎᓐ"},cu:{name:"Old Church Slavonic, Church Slavic, Church Slavonic, Old Bulgarian, Old Slavonic",nativeName:"ѩзыкъ словѣньскъ"},om:{name:"Oromo",nativeName:"Afaan Oromoo"},or:{name:"Oriya",nativeName:"ଓଡ଼ିଆ"},os:{name:"Ossetian, Ossetic",nativeName:"ирон æвзаг"},pa:{name:"Panjabi, Punjabi",nativeName:"ਪੰਜਾਬੀ, پنجابی‎"},pi:{name:"Pāli",nativeName:"पाऴि"},fa:{name:"Persian",nativeName:"فارسی"},pl:{name:"Polish",nativeName:"polski"},ps:{name:"Pashto, Pushto",nativeName:"پښتو"},pt:{name:"Portuguese",nativeName:"Português"},qu:{name:"Quechua",nativeName:"Runa Simi, Kichwa"},rm:{name:"Romansh",nativeName:"rumantsch grischun"},rn:{name:"Kirundi",nativeName:"kiRundi"},ro:{name:"Romanian, Moldavian, Moldovan",nativeName:"română"},ru:{name:"Russian",nativeName:"русский язык"},sa:{name:"Sanskrit (Saṁskṛta)",nativeName:"संस्कृतम्"},sc:{name:"Sardinian",nativeName:"sardu"},sd:{name:"Sindhi",nativeName:"सिन्धी, سنڌي، سندھی‎"},se:{name:"Northern Sami",nativeName:"Davvisámegiella"},sm:{name:"Samoan",nativeName:"gagana faa Samoa"},sg:{name:"Sango",nativeName:"yângâ tî sängö"},sr:{name:"Serbian",nativeName:"српски језик"},gd:{name:"Scottish Gaelic; Gaelic",nativeName:"Gàidhlig"},sn:{name:"Shona",nativeName:"chiShona"},si:{name:"Sinhala, Sinhalese",nativeName:"සිංහල"},sk:{name:"Slovak",nativeName:"slovenčina"},sl:{name:"Slovene",nativeName:"slovenščina"},so:{name:"Somali",nativeName:"Soomaaliga, af Soomaali"},st:{name:"Southern Sotho",nativeName:"Sesotho"},es:{name:"Spanish; Castilian",nativeName:"español, castellano"},su:{name:"Sundanese",nativeName:"Basa Sunda"},sw:{name:"Swahili",nativeName:"Kiswahili"},ss:{name:"Swati",nativeName:"SiSwati"},sv:{name:"Swedish",nativeName:"svenska"},ta:{name:"Tamil",nativeName:"தமிழ்"},te:{name:"Telugu",nativeName:"తెలుగు"},tg:{name:"Tajik",nativeName:"тоҷикӣ, toğikī, تاجیکی‎"},th:{name:"Thai",nativeName:"ไทย"},ti:{name:"Tigrinya",nativeName:"ትግርኛ"},bo:{name:"Tibetan Standard, Tibetan, Central",nativeName:"བོད་ཡིག"},tk:{name:"Turkmen",nativeName:"Türkmen, Түркмен"},tl:{name:"Tagalog",nativeName:"Wikang Tagalog, ᜏᜒᜃᜅ᜔ ᜆᜄᜎᜓᜄ᜔"},tn:{name:"Tswana",nativeName:"Setswana"},to:{name:"Tonga (Tonga Islands)",nativeName:"faka Tonga"},tr:{name:"Turkish",nativeName:"Türkçe"},ts:{name:"Tsonga",nativeName:"Xitsonga"},tt:{name:"Tatar",nativeName:"татарча, tatarça, تاتارچا‎"},tw:{name:"Twi",nativeName:"Twi"},ty:{name:"Tahitian",nativeName:"Reo Tahiti"},ug:{name:"Uighur, Uyghur",nativeName:"Uyƣurqə, ئۇيغۇرچە‎"},uk:{name:"Ukrainian",nativeName:"українська"},ur:{name:"Urdu",nativeName:"اردو"},uz:{name:"Uzbek",nativeName:"zbek, Ўзбек, أۇزبېك‎"},ve:{name:"Venda",nativeName:"Tshivenḓa"},vi:{name:"Vietnamese",nativeName:"Tiếng Việt"},vo:{name:"Volapük",nativeName:"Volapük"},wa:{name:"Walloon",nativeName:"Walon"},cy:{name:"Welsh",nativeName:"Cymraeg"},wo:{name:"Wolof",nativeName:"Wollof"},fy:{name:"Western Frisian",nativeName:"Frysk"},xh:{name:"Xhosa",nativeName:"isiXhosa"},yi:{name:"Yiddish",nativeName:"ייִדיש"},yo:{name:"Yoruba",nativeName:"Yorùbá"},za:{name:"Zhuang, Chuang",nativeName:"Saɯ cueŋƅ, Saw cuengh"}}},function(e,t,n){/*! codem-isoboxer v0.2.2 https://github.com/madebyhiro/codem-isoboxer/blob/master/LICENSE.txt */
var r={};r.parseBuffer=function(e){return new i(e).parse()},r.Utils={},r.Utils.dataViewToString=function(e,t){var n=t||"utf-8";if("undefined"!=typeof TextDecoder)return new TextDecoder(n).decode(e);var r=[],i=0;if("utf-8"===n)for(;i<e.byteLength;){var a=e.getUint8(i++);a<128||(a<224?(a=(31&a)<<6,a|=63&e.getUint8(i++)):a<240?(a=(15&a)<<12,a|=(63&e.getUint8(i++))<<6,a|=63&e.getUint8(i++)):(a=(7&a)<<18,a|=(63&e.getUint8(i++))<<12,a|=(63&e.getUint8(i++))<<6,a|=63&e.getUint8(i++))),r.push(String.fromCharCode(a))}else for(;i<e.byteLength;)r.push(String.fromCharCode(e.getUint8(i++)));return r.join("")},t.parseBuffer=r.parseBuffer,t.Utils=r.Utils,r.Cursor=function(e){this.offset=void 0===e?0:e};var i=function(e){this._raw=new DataView(e),this._cursor=new r.Cursor,this.boxes=[]};i.prototype.fetch=function(e){var t=this.fetchAll(e,!0);return t.length?t[0]:null},i.prototype.fetchAll=function(e,t){var n=[];return i._sweep.call(this,e,n,t),n},i.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var e=a.parse(this);if(void 0===e.type)break;this.boxes.push(e)}return this},i._sweep=function(e,t,n){this.type&&this.type==e&&t.push(this);for(var r in this.boxes){if(t.length&&n)return;i._sweep.call(this.boxes[r],e,t,n)}};var a=function(){this._cursor=new r.Cursor};a.parse=function(e){var t=new a;return t._offset=e._cursor.offset,t._root=e._root?e._root:e,t._raw=e._raw,t._parent=e,t._parseBox(),e._cursor.offset=t._raw.byteOffset+t._raw.byteLength,t},a.prototype._readInt=function(e){var t=null;switch(e){case 8:t=this._raw.getInt8(this._cursor.offset-this._raw.byteOffset);break;case 16:t=this._raw.getInt16(this._cursor.offset-this._raw.byteOffset);break;case 32:t=this._raw.getInt32(this._cursor.offset-this._raw.byteOffset);break;case 64:var n=this._raw.getInt32(this._cursor.offset-this._raw.byteOffset),r=this._raw.getInt32(this._cursor.offset-this._raw.byteOffset+4);t=n*Math.pow(2,32)+r}return this._cursor.offset+=e>>3,t},a.prototype._readUint=function(e){var t=null;switch(e){case 8:t=this._raw.getUint8(this._cursor.offset-this._raw.byteOffset);break;case 16:t=this._raw.getUint16(this._cursor.offset-this._raw.byteOffset);break;case 24:var n=this._raw.getUint16(this._cursor.offset-this._raw.byteOffset),r=this._raw.getUint8(this._cursor.offset-this._raw.byteOffset+2);t=(n<<8)+r;break;case 32:t=this._raw.getUint32(this._cursor.offset-this._raw.byteOffset);break;case 64:var n=this._raw.getUint32(this._cursor.offset-this._raw.byteOffset),r=this._raw.getUint32(this._cursor.offset-this._raw.byteOffset+4);t=n*Math.pow(2,32)+r}return this._cursor.offset+=e>>3,t},a.prototype._readString=function(e){for(var t="",n=0;n<e;n++){var r=this._readUint(8);t+=String.fromCharCode(r)}return t},a.prototype._readTerminatedString=function(){for(var e="";;){var t=this._readUint(8);if(0==t)break;e+=String.fromCharCode(t)}return e},a.prototype._readTemplate=function(e){return this._readUint(e/2)+this._readUint(e/2)/Math.pow(2,e/2)},a.prototype._parseBox=function(){if(this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)return void(this._root._incomplete=!0);switch(this.size=this._readUint(32),this.type=this._readString(4),1==this.size&&(this.largesize=this._readUint(64)),"uuid"==this.type&&(this.usertype=this._readString(16)),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}!this._incomplete&&this._boxParsers[this.type]&&this._boxParsers[this.type].call(this)},a.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},a.prototype._boxParsers={},["moov","trak","tref","mdia","minf","stbl","edts","dinf","mvex","moof","traf","mfra","udta","meco","strk","vttc"].forEach(function(e){a.prototype._boxParsers[e]=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(a.parse(this))}}),a.prototype._boxParsers.elst=function(){this._parseFullBox(),this.entry_count=this._readUint(32),this.entries=[];for(var e=1;e<=this.entry_count;e++){var t={};1==this.version?(t.segment_duration=this._readUint(64),t.media_time=this._readInt(64)):(t.segment_duration=this._readUint(32),t.media_time=this._readInt(32)),t.media_rate_integer=this._readInt(16),t.media_rate_fraction=this._readInt(16),this.entries.push(t)}},a.prototype._boxParsers.emsg=function(){this._parseFullBox(),this.scheme_id_uri=this._readTerminatedString(),this.value=this._readTerminatedString(),this.timescale=this._readUint(32),this.presentation_time_delta=this._readUint(32),this.event_duration=this._readUint(32),this.id=this._readUint(32),this.message_data=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset))},a.prototype._boxParsers.free=a.prototype._boxParsers.skip=function(){this.data=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset))},a.prototype._boxParsers.ftyp=a.prototype._boxParsers.styp=function(){for(this.major_brand=this._readString(4),this.minor_versions=this._readUint(32),this.compatible_brands=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.compatible_brands.push(this._readString(4))},a.prototype._boxParsers.hdlr=function(){this._parseFullBox(),this.pre_defined=this._readUint(32),this.handler_type=this._readString(4),this.reserved=[this._readUint(32),this._readUint(32),this._readUint(32)],this.name=this._readTerminatedString()},a.prototype._boxParsers.mdat=function(){this.data=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset))},a.prototype._boxParsers.mdhd=function(){this._parseFullBox(),1==this.version?(this.creation_time=this._readUint(64),this.modification_time=this._readUint(64),this.timescale=this._readUint(32),this.duration=this._readUint(64)):(this.creation_time=this._readUint(32),this.modification_time=this._readUint(32),this.timescale=this._readUint(32),this.duration=this._readUint(32));var e=this._readUint(16);this.pad=e>>15,this.language=String.fromCharCode(96+(e>>10&31),96+(e>>5&31),96+(31&e)),this.pre_defined=this._readUint(16)},a.prototype._boxParsers.mfhd=function(){this._parseFullBox(),this.sequence_number=this._readUint(32)},a.prototype._boxParsers.mvhd=function(){this._parseFullBox(),1==this.version?(this.creation_time=this._readUint(64),this.modification_time=this._readUint(64),this.timescale=this._readUint(32),this.duration=this._readUint(64)):(this.creation_time=this._readUint(32),this.modification_time=this._readUint(32),this.timescale=this._readUint(32),this.duration=this._readUint(32)),this.rate=this._readTemplate(32),this.volume=this._readTemplate(16),this.reserved1=this._readUint(16),this.reserved2=[this._readUint(32),this._readUint(32)],this.matrix=[];for(var e=0;e<9;e++)this.matrix.push(this._readTemplate(32));this.pre_defined=[];for(var e=0;e<6;e++)this.pre_defined.push(this._readUint(32));this.next_track_ID=this._readUint(32)},a.prototype._boxParsers.payl=function(){var e=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset));this.cue_text=r.Utils.dataViewToString(e)},a.prototype._boxParsers.sidx=function(){this._parseFullBox(),this.reference_ID=this._readUint(32),this.timescale=this._readUint(32),0==this.version?(this.earliest_presentation_time=this._readUint(32),this.first_offset=this._readUint(32)):(this.earliest_presentation_time=this._readUint(64),this.first_offset=this._readUint(64)),this.reserved=this._readUint(16),this.reference_count=this._readUint(16),this.references=[];for(var e=0;e<this.reference_count;e++){var t={},n=this._readUint(32);t.reference_type=n>>31&1,t.referenced_size=2147483647&n,t.subsegment_duration=this._readUint(32);var r=this._readUint(32);t.starts_with_SAP=r>>31&1,t.SAP_type=r>>28&7,t.SAP_delta_time=268435455&r,this.references.push(t)}},a.prototype._boxParsers.ssix=function(){this._parseFullBox(),this.subsegment_count=this._readUint(32),this.subsegments=[];for(var e=0;e<this.subsegment_count;e++){var t={};t.ranges_count=this._readUint(32),t.ranges=[];for(var n=0;n<t.ranges_count;n++){var r={};r.level=this._readUint(8),r.range_size=this._readUint(24),t.ranges.push(r)}this.subsegments.push(t)}},a.prototype._boxParsers.tfdt=function(){this._parseFullBox(),1==this.version?this.baseMediaDecodeTime=this._readUint(64):this.baseMediaDecodeTime=this._readUint(32)},a.prototype._boxParsers.tfhd=function(){this._parseFullBox(),this.track_ID=this._readUint(32),1&this.flags&&(this.base_data_offset=this._readUint(64)),2&this.flags&&(this.sample_description_offset=this._readUint(32)),8&this.flags&&(this.default_sample_duration=this._readUint(32)),16&this.flags&&(this.default_sample_size=this._readUint(32)),32&this.flags&&(this.default_sample_flags=this._readUint(32))},a.prototype._boxParsers.tkhd=function(){this._parseFullBox(),1==this.version?(this.creation_time=this._readUint(64),this.modification_time=this._readUint(64),this.track_ID=this._readUint(32),this.reserved1=this._readUint(32),this.duration=this._readUint(64)):(this.creation_time=this._readUint(32),this.modification_time=this._readUint(32),this.track_ID=this._readUint(32),this.reserved1=this._readUint(32),this.duration=this._readUint(32)),this.reserved2=[this._readUint(32),this._readUint(32)],this.layer=this._readUint(16),this.alternate_group=this._readUint(16),this.volume=this._readTemplate(16),this.reserved3=this._readUint(16),this.matrix=[];for(var e=0;e<9;e++)this.matrix.push(this._readTemplate(32));this.width=this._readUint(32),this.height=this._readUint(32)},a.prototype._boxParsers.trun=function(){this._parseFullBox(),this.sample_count=this._readUint(32),1&this.flags&&(this.data_offset=this._readInt(32)),4&this.flags&&(this.first_sample_flags=this._readUint(32)),this.samples=[];for(var e=0;e<this.sample_count;e++){var t={};256&this.flags&&(t.sample_duration=this._readUint(32)),512&this.flags&&(t.sample_size=this._readUint(32)),1024&this.flags&&(t.sample_flags=this._readUint(32)),2048&this.flags&&(0==this.version?t.sample_composition_time_offset=this._readUint(32):t.sample_composition_time_offset=this._readInt(32)),this.samples.push(t)}},a.prototype._boxParsers.vlab=function(){var e=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset));this.source_label=r.Utils.dataViewToString(e)},a.prototype._boxParsers.vttC=function(){var e=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset));this.config=r.Utils.dataViewToString(e)},a.prototype._boxParsers.vtte=function(){}},function(e,t,n){"use strict";!function(e){var t={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},n=function(e){var n=e;return t.hasOwnProperty(e)&&(n=t[e]),String.fromCharCode(n)},r={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},i={17:2,18:4,21:6,22:8,23:10,19:13,20:15},a={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},o={25:2,26:4,29:6,30:8,31:10,27:13,28:15},s=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],u={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e,t){var n=this.verboseFilter[e];this.verboseLevel>=n&&console.log(this.time+" ["+e+"] "+t)}},l=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].toString(16));return t},d=function(e,t,n,r,i){this.foreground=e||"white",this.underline=t||!1,this.italics=n||!1,this.background=r||"black",this.flash=i||!1};d.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(e){for(var t=["foreground","underline","italics","background","flash"],n=0;n<t.length;n++){var r=t[n];e.hasOwnProperty(r)&&(this[r]=e[r])}},isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},copy:function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var f=function(e,t,n,r,i,a){this.uchar=e||" ",this.penState=new d(t,n,r,i,a)};f.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(e,t){this.uchar=e,this.penState.copy(t)},setPenState:function(e){this.penState.copy(e)},equals:function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},copy:function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}};var c=function(){this.chars=[];for(var e=0;e<32;e++)this.chars.push(new f);this.pos=0,this.currPenState=new d};c.prototype={equals:function(e){for(var t=!0,n=0;n<32;n++)if(!this.chars[n].equals(e.chars[n])){t=!1;break}return t},copy:function(e){for(var t=0;t<32;t++)this.chars[t].copy(e.chars[t])},isEmpty:function(){for(var e=!0,t=0;t<32;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},setCursor:function(e){this.pos!==e&&(this.pos=e),this.pos<0?(u.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>32&&(u.log("ERROR","Too large cursor position "+this.pos),this.pos=32)},moveCursor:function(e){var t=this.pos+e;if(e>1)for(var n=this.pos+1;n<t+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(t)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(e){e>=144&&this.backSpace();var t=n(e);if(this.pos>=32)return void u.log("ERROR","Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!");this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1)},clearFromPos:function(e){var t;for(t=e;t<32;t++)this.chars[t].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var e=[],t=!0,n=0;n<32;n++){var r=this.chars[n].uchar;" "!==r&&(t=!1),e.push(r)}return t?"":e.join("")},setPenStyles:function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}};var g=function(){this.rows=[];for(var e=0;e<15;e++)this.rows.push(new c);this.currRow=14,this.nrRollUpRows=null,this.reset()};g.prototype={reset:function(){for(var e=0;e<15;e++)this.rows[e].clear();this.currRow=14},equals:function(e){for(var t=!0,n=0;n<15;n++)if(!this.rows[n].equals(e.rows[n])){t=!1;break}return t},copy:function(e){for(var t=0;t<15;t++)this.rows[t].copy(e.rows[t])},isEmpty:function(){for(var e=!0,t=0;t<15;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(e){this.rows[this.currRow].insertChar(e)},setPen:function(e){this.rows[this.currRow].setPenStyles(e)},moveCursor:function(e){this.rows[this.currRow].moveCursor(e)},setCursor:function(e){u.log("INFO","setCursor: "+e),this.rows[this.currRow].setCursor(e)},setPAC:function(e){u.log("INFO","pacData = "+JSON.stringify(e));var t=e.row-1;this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.currRow=t;var n=this.rows[this.currRow];if(null!==e.indent){var r=e.indent,i=Math.max(r-1,0);n.setCursor(e.indent),e.color=n.chars[i].penState.foreground}var a={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(a)},setBkgData:function(e){u.log("INFO","bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},setRollUpRows:function(e){this.nrRollUpRows=e},rollUp:function(){if(null===this.nrRollUpRows)return void u.log("DEBUG","roll_up but nrRollUpRows not set yet");u.log("TEXT",this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),u.log("INFO","Rolling up")},getDisplayText:function(e){e=e||!1;for(var t=[],n="",r=-1,i=0;i<15;i++){var a=this.rows[i].getTextString();a&&(r=i+1,e?t.push("Row "+r+': "'+a+'"'):t.push(a.trim()))}return t.length>0&&(n=e?"["+t.join(" | ")+"]":t.join("\n")),n},getTextAndFormat:function(){return this.rows}};var p=function(e,t){this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new g,this.nonDisplayedMemory=new g,this.lastOutputScreen=new g,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};p.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(e){this.outputFilter=e},setPAC:function(e){this.writeScreen.setPAC(e)},setBkgData:function(e){this.writeScreen.setBkgData(e)},setMode:function(e){e!==this.mode&&(this.mode=e,u.log("INFO","MODE="+e),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},insertChars:function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";u.log("INFO",n+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(u.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){u.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){u.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){u.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(e){u.log("INFO","RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},cc_FON:function(){u.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){u.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){u.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){u.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){u.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){u.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){u.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(u.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,u.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(e){u.log("INFO","TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},cc_MIDROW:function(e){var t={flash:!1};if(t.underline=e%2==1,t.italics=e>=46,t.italics)t.foreground="white";else{var n=Math.floor(e/2)-16,r=["white","green","blue","cyan","red","yellow","magenta"];t.foreground=r[n]}u.log("INFO","MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},outputDataUpdate:function(){var e=u.time;null!==e&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(e,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}};var h=function(e,t,n){this.field=e||1,this.outputs=[t,n],this.channels=[new p(1,t),new p(2,n)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};h.prototype={getHandler:function(e){return this.channels[e].getHandler()},setHandler:function(e,t){this.channels[e].setHandler(t)},addData:function(e,t){var n,r,i,a=!1;this.lastTime=e,u.setTime(e);for(var o=0;o<t.length;o+=2)if(r=127&t[o],i=127&t[o+1],0!==r||0!==i){if(u.log("DATA","["+l([t[o],t[o+1]])+"] -> ("+l([r,i])+")"),n=this.parseCmd(r,i),n||(n=this.parseMidrow(r,i)),n||(n=this.parsePAC(r,i)),n||(n=this.parseBackgroundAttributes(r,i)),!n&&(a=this.parseChars(r,i)))if(this.currChNr&&this.currChNr>=0){var s=this.channels[this.currChNr-1];s.insertChars(a)}else u.log("WARNING","No channel found yet. TEXT-MODE?");n?this.dataCounters.cmd+=2:a?this.dataCounters.char+=2:(this.dataCounters.other+=2,u.log("WARNING","Couldn't parse cleaned data "+l([r,i])+" orig: "+l([t[o],t[o+1]])))}else this.dataCounters.padding+=2},parseCmd:function(e,t){var n=null,r=(20===e||28===e)&&32<=t&&t<=47,i=(23===e||31===e)&&33<=t&&t<=35;if(!r&&!i)return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,u.log("DEBUG","Repeated command ("+l([e,t])+") is dropped"),!0;n=20===e||23===e?1:2;var a=this.channels[n-1];return 20===e||28===e?32===t?a.cc_RCL():33===t?a.cc_BS():34===t?a.cc_AOF():35===t?a.cc_AON():36===t?a.cc_DER():37===t?a.cc_RU(2):38===t?a.cc_RU(3):39===t?a.cc_RU(4):40===t?a.cc_FON():41===t?a.cc_RDC():42===t?a.cc_TR():43===t?a.cc_RTD():44===t?a.cc_EDM():45===t?a.cc_CR():46===t?a.cc_ENM():47===t&&a.cc_EOC():a.cc_TO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0},parseMidrow:function(e,t){var n=null;if((17===e||25===e)&&32<=t&&t<=47){if((n=17===e?1:2)!==this.currChNr)return u.log("ERROR","Mismatch channel in midrow parsing"),!1;return this.channels[n-1].cc_MIDROW(t),u.log("DEBUG","MIDROW ("+l([e,t])+")"),!0}return!1},parsePAC:function(e,t){var n=null,s=null,u=(17<=e&&e<=23||25<=e&&e<=31)&&64<=t&&t<=127,l=(16===e||24===e)&&64<=t&&t<=95;if(!u&&!l)return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;n=e<=23?1:2,s=64<=t&&t<=95?1===n?r[e]:a[e]:1===n?i[e]:o[e];var d=this.interpretPAC(s,t);return this.channels[n-1].setPAC(d),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0},interpretPAC:function(e,t){var n=t,r={color:null,italics:!1,indent:null,underline:!1,row:e};return n=t>95?t-96:t-64,r.underline=1==(1&n),n<=13?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(r.italics=!0,r.color="white"):r.indent=4*Math.floor((n-16)/2),r},parseChars:function(e,t){var r=null,i=null,a=null;if(e>=25?(r=2,a=e-8):(r=1,a=e),17<=a&&a<=19){var o=t;o=17===a?t+80:18===a?t+112:t+144,u.log("INFO","Special char '"+n(o)+"' in channel "+r),i=[o]}else 32<=e&&e<=127&&(i=0===t?[e]:[e,t]);if(i){var s=l(i);u.log("DEBUG","Char codes =  "+s.join(",")),this.lastCmdA=null,this.lastCmdB=null}return i},parseBackgroundAttributes:function(e,t){var n,r,i,a,o=(16===e||24===e)&&32<=t&&t<=47,u=(23===e||31===e)&&45<=t&&t<=47;return!(!o&&!u)&&(n={},16===e||24===e?(r=Math.floor((t-32)/2),n.background=s[r],t%2==1&&(n.background=n.background+"_semi")):45===t?n.background="transparent":(n.foreground="black",47===t&&(n.underline=!0)),i=e<24?1:2,a=this.channels[i-1],a.setBkgData(n),this.lastCmdA=null,this.lastCmdB=null,!0)},reset:function(){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(e){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)}};var m=function(e,t,n){for(var r=0,i=t,a=[];i<t+n;){if(r=e.getUint32(i),6===(31&e.getUint8(i+4)))for(var o=i+5,s=-1;o<i+4+r-1;){s=0;for(var u=255;255===u;)u=e.getUint8(o),s+=u,o++;var l=0;for(u=255;255===u;)u=e.getUint8(o),l+=u,o++;(function(e,t,n,r){if(4!==e||t<8)return null;var i=n.getUint8(r),a=n.getUint16(r+1),o=n.getUint32(r+3),s=n.getUint8(r+7);return 181==i&&49==a&&1195456820==o&&3==s})(s,l,e,o)&&a.push([o,l]),o+=l}i+=r+4}return a},v=function(e,t){var n=t[0],r=[[],[]];n+=8;var i=31&e.getUint8(n);n+=2;for(var a=0;a<i;a++){var o=e.getUint8(n),s=4&o,u=3&o;n++;var l=e.getUint8(n);n++;var d=e.getUint8(n);n++,s&&(127&l)+(127&d)!=0&&(0===u?(r[0].push(l),r[0].push(d)):1===u&&(r[1].push(l),r[1].push(d)))}return r};e.logger=u,e.PenState=d,e.CaptionScreen=g,e.Cea608Parser=h,e.findCea608Nalus=m,e.extractCea608DataFromRange=v}(t)},function(e,t,n){"use strict";function r(){return i}Object.defineProperty(t,"__esModule",{value:!0}),t.getVersionString=r;var i="2.3.0"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TCP_CONNECTION="TcpList";t.HTTP_REQUEST="HttpList";t.TRACK_SWITCH="RepSwitchList";t.BUFFER_LEVEL="BufferLevel";t.BUFFER_STATE="BufferState";t.DVR_INFO="DVRInfo";t.DROPPED_FRAMES="DroppedFrames";t.SCHEDULING_INFO="SchedulingInfo";t.REQUESTS_QUEUE="RequestsQueue";t.MANIFEST_UPDATE="ManifestUpdate";t.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo";t.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo";t.PLAY_LIST="PlayList";t.DVB_ERRORS="DVBErrors"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(99),o=function(e){return e&&e.__esModule?e:{default:e}}(a),s=function(){function e(t,n,i,a,s){var u=this;r(this,e),this._name=t||"",this._properties=[],this._children=i||[],this._isRoot=a||!1,this._isArray=s||!0,Array.isArray(n)&&n.forEach(function(e){u._properties.push(new o.default(e))})}return i(e,[{key:"name",get:function(){return this._name}},{key:"isRoot",get:function(){return this._isRoot}},{key:"isArray",get:function(){return this._isArray}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}]),e}();t.default=s,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t,n,i,a){r(this,e),this.url=t||"",this.serviceLocation=n||t||"",this.dvb_priority=i||1,this.dvb_weight=a||1};i.DEFAULT_DVB_PRIORITY=1,i.DEFAULT_DVB_WEIGHT=1,t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.schemeIdUri="",this.value=""};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e,t,n){if(dn=(0,E.default)(qt).getInstance(),ln=(0,_.default)(qt).getInstance(),!dn.supportsMediaSource())return void ln.capabilityError("mediasource");Zt||(Zt=!0,tn=(0,U.default)(qt).getInstance(),gn=(0,u.default)(qt).getInstance(),nn=(0,c.default)(qt).getInstance(),nn.initialize(),hn=(0,he.default)(qt).getInstance(),pn=(0,ve.default)(qt).getInstance(),sn=(0,x.default)(qt).getInstance(),sn.setConfig({adapter:wt()}),nt(),ce(void 0===n||n),e&&It(e),t&&Mt(t),Jt("[dash.js "+K()+"] MediaPlayer has been initialized"))}function t(){return!!mn&&!!Qt}function n(){if(!$t)throw Kt;(!en||i()&&$t)&&gn.play()}function r(){if(!$t)throw Kt;gn.pause()}function i(){if(!$t)throw Kt;return gn.isPaused()}function a(){if(!$t)throw Kt;return gn.isSeeking()}function s(e){if(!mn)throw Gt;At().muted=e}function l(){if(!mn)throw Gt;return At().muted}function f(e){if(!mn)throw Gt;At().volume=e}function g(){if(!mn)throw Gt;return At().volume}function h(e){var t=["video","audio","fragmentedText"];if(e){if(-1!==t.indexOf(e)){var n=Ee().getCurrentBufferLevel(Te(e));return n||NaN}return Jt("Warning  - getBufferLength requested for invalid type"),NaN}return t.map(function(e){return Fe(e).length>0?Ee().getCurrentBufferLevel(Te(e)):Number.MAX_VALUE}).reduce(function(e,t){return Math.min(e,t)})}function v(){var e=kt();return e?e.manifestInfo.DVRWindowSize:0}function y(e){var t=kt();if(!t)return 0;var n=t.range.start+e;return n>t.range.end&&(n=t.range.end),n}function T(e){if(!$t)throw Kt;var t=gn.getIsDynamic()?y(e):e;gn.seek(t)}function A(e){if(!$t)throw Kt;var t=At().currentTime;if(void 0!==e)t=fn.getTimeRelativeToStreamId(t,e);else if(gn.getIsDynamic()){var n=kt();t=null===n?0:C()-(n.range.end-n.time)}return t}function C(){if(!$t)throw Kt;var e=At().duration;if(gn.getIsDynamic()){var t,n=kt();if(!n)return 0;t=n.range.end-n.range.start,e=t<n.manifestInfo.DVRWindowSize?t:n.manifestInfo.DVRWindowSize}return e}function b(){if(!$t)throw Kt;return A()<0?NaN:Ut(A())}function O(){if(!$t)throw Kt;return Ut(C())}function N(e,t,n){var r=new Date(1e3*e),i=r.toLocaleDateString(t);return r.toLocaleTimeString(t,{hour12:n})+" "+i}function L(e){e=Math.max(e,0);var t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=Math.floor(e%3600%60);return(0===t?"":t<10?"0"+t.toString()+":":t.toString()+":")+(n<10?"0"+n.toString():n.toString())+":"+(r<10?"0"+r.toString():r.toString())}function F(e,t,n){ue.default.extend(e,t,n,qt)}function k(e,t,n){zt.on(e,t,n)}function B(e,t,n){zt.off(e,t,n)}function K(){return(0,le.getVersionString)()}function H(){return Vt}function q(){if(!mn)throw Gt;return mn}function V(e){un.setLiveDelayFragmentCount(e)}function W(e){un.setLiveDelay(e)}function X(e){un.setUseSuggestedPresentationDelay(e)}function $(e,t){un.setLastBitrateCachingInfo(e,t)}function te(e,t){un.setLastMediaSettingsCachingInfo(e,t)}function re(e,t){tn.setMaxAllowedBitrateFor(e,t)}function ae(e){return tn.getMaxAllowedBitrateFor(e)}function se(e,t){tn.setMaxAllowedRepresentationRatioFor(e,t)}function de(e){return tn.getMaxAllowedRepresentationRatioFor(e)}function ce(e){en=e}function pe(){return en}function me(e){un.setScheduleWhilePaused(e)}function _e(){return un.getScheduleWhilePaused()}function Ee(){return pn}function Te(e){return sn.getReadOnlyMetricsFor(e)}function Se(e){if(!$t)throw Kt;return tn.getQualityFor(e,fn.getActiveStreamInfo())}function Ae(e,t){if(!$t)throw Kt;tn.setPlaybackQuality(e,fn.getActiveStreamInfo(),t)}function Ie(){return tn.getLimitBitrateByPortal()}function Ce(e){tn.setLimitBitrateByPortal(e)}function Re(){return tn.getUsePixelRatioInLimitBitrateByPortal()}function be(e){tn.setUsePixelRatioInLimitBitrateByPortal(e)}function Me(e){if(!$t)throw Kt;void 0===vn&&(vn=(0,M.default)(qt).getInstance());for(var t=At().textTracks,n=t.length,r=0;r<n;r++){var i=t[r],a=e===r?"showing":"hidden";i.mode!==a&&(i.mode=a)}vn.setTextTrack()}function Oe(e){if(!$t)throw Kt;var t=Bt();return t?t.getBitrateListFor(e):[]}function De(e,t){tn.setInitialBitrateFor(e,t)}function Ne(e){if(!$t)throw Kt;return tn.getInitialBitrateFor(e)}function Pe(e,t){tn.setInitialRepresentationRatioFor(e,t)}function Le(e){return tn.getInitialRepresentationRatioFor(e)}function we(e){if(!$t)throw Kt;return on.getStreamsInfo(e)}function Fe(e){if(!$t)throw Kt;var t=fn.getActiveStreamInfo();return t?nn.getTracksFor(e,t):[]}function xe(e,t,n){if(!$t)throw Kt;return n=n||on.getStreamsInfo(t)[0],n?on.getAllMediaInfoForType(t,n,e):[]}function ke(e){if(!$t)throw Kt;var t=fn.getActiveStreamInfo();return t?nn.getCurrentTrackFor(e,t):null}function Ue(e,t){nn.setInitialSettings(e,t)}function Be(e){return nn.getInitialSettings(e)}function je(e){if(!$t)throw Kt;nn.setTrack(e)}function Ke(e){return nn.getSwitchMode(e)}function Ge(e,t){nn.setSwitchMode(e,t)}function He(e){nn.setSelectionModeForInitialTrack(e)}function Ye(){return nn.getSelectionModeForInitialTrack()}function qe(){return tn.getAutoSwitchBitrateFor("video")||tn.getAutoSwitchBitrateFor("audio")}function ze(e){tn.setAutoSwitchBitrateFor("video",e),tn.setAutoSwitchBitrateFor("audio",e)}function Ve(e){return tn.getAutoSwitchBitrateFor(e)}function Je(e,t){tn.setAutoSwitchBitrateFor(e,t)}function We(e){un.setFastSwitchEnabled(e)}function Qe(){return un.getFastSwitchEnabled()}function Xe(e){un.setBufferOccupancyABREnabled(e)}function Ze(e,t){var n=Pt(),r=this,i=function e(i){i.error?t(null,i.error):t(i.manifest),zt.off(ie.default.INTERNAL_MANIFEST_LOADED,e,r),n.reset()};zt.on(ie.default.INTERNAL_MANIFEST_LOADED,i,r);var a=(0,D.default)(qt).getInstance();a.initialize(),n.load(a.parseURI(e))}function $e(e,t){et(e,t);var n=new o.default;n.schemeIdUri=e,n.value=t,un.getUTCTimingSources().push(n)}function et(e,t){var n=un.getUTCTimingSources();n.forEach(function(r,i){r.schemeIdUri===e&&r.value===t&&n.splice(i,1)})}function tt(){un.setUTCTimingSources([])}function nt(){$e(w.default.DEFAULT_UTC_TIMING_SOURCE.scheme,w.default.DEFAULT_UTC_TIMING_SOURCE.value)}function rt(e){un.setUseManifestDateHeaderTimeSource(e)}function it(e){un.setBufferToKeep(e)}function at(e){un.setBufferPruningInterval(e)}function ot(e){un.setStableBufferTime(e)}function st(e){un.setBufferTimeAtTopQuality(e)}function ut(e){un.setBufferTimeAtTopQualityLongForm(e)}function lt(e){un.setLongFormContentDurationThreshold(e)}function dt(e){un.setRichBufferThreshold(e)}function ft(e){un.setBandwidthSafetyFactor(e)}function ct(){return un.getBandwidthSafetyFactor()}function gt(e){un.setAbandonLoadTimeout(e)}function pt(e){un.setFragmentRetryAttempts(e)}function ht(e){un.setFragmentRetryInterval(e)}function mt(e){un.setXHRWithCredentials(e)}function vt(){return Ft()}function _t(e){rn=e}function yt(e){Xt=e}function Et(e){var t=(0,S.default)(qt).getInstance();t.setConfig({videoModel:mn}),t.initialize(),t.displayCConTop(e)}function Tt(){return mn?mn.getVideoContainer():null}function St(e){if(!mn)throw Gt;mn.setVideoContainer(e)}function At(){if(!mn)throw Gt;return mn.getElement()}function It(e){if(!Zt)throw Yt;mn=null,e&&(mn=(0,Y.default)(qt).getInstance(),mn.initialize(),mn.setElement(e),Ft(),xt()),Dt()}function Ct(){return mn?mn.getTTMLRenderingDiv():null}function Rt(e){if(!mn)throw Gt;mn.setTTMLRenderingDiv(e)}function bt(){if(!Qt)throw Ht;return Qt}function Mt(e){if(!Zt)throw Yt;if("string"==typeof e){var t=(0,D.default)(qt).getInstance();t.initialize(),Qt=t.parseURI(e)}else Qt=e;Dt()}function Ot(){Mt(null),It(null),Xt=null,rn=null}function Dt(){$t?($t=!1,on.reset(),fn.reset(),gn.reset(),tn.reset(),cn.reset(),nn.reset(),fn=null,an=null,t()&&jt()):t()&&jt()}function Nt(){var e=(0,J.default)(qt).getInstance();e.initialize();var t=(0,G.default)(qt).getInstance();t.initialize(),(0,I.default)(qt).getInstance().setConfig({dashManifestModel:hn}),nn.initialize(),nn.setConfig({errHandler:ln}),cn=(0,z.default)(qt).getInstance(),cn.initialize(),cn.setConfig({abrRulesCollection:t,synchronizationRulesCollection:e}),fn=(0,d.default)(qt).getInstance(),fn.setConfig({capabilities:dn,manifestLoader:Pt(),manifestModel:(0,P.default)(qt).getInstance(),dashManifestModel:hn,protectionController:rn,adapter:on,metricsModel:sn,dashMetrics:pn,liveEdgeFinder:(0,m.default)(qt).getInstance(),mediaSourceController:(0,Q.default)(qt).getInstance(),timeSyncController:(0,j.default)(qt).getInstance(),baseURLController:(0,Z.default)(qt).getInstance(),errHandler:ln,timelineConverter:(0,ye.default)(qt).getInstance()}),fn.initialize(en,Xt),tn.setConfig({abrRulesCollection:t,rulesController:cn,streamController:fn})}function Pt(){return(0,p.default)(qt).create({errHandler:ln,parser:Lt(),metricsModel:sn,requestModifier:(0,R.default)(qt).getInstance()})}function Lt(){return(0,ge.default)(qt).create()}function wt(){return on=(0,fe.default)(qt).getInstance(),on.initialize(),on.setConfig({dashManifestModel:hn}),on}function Ft(){if(rn)return rn;var e=dashjs.Protection;if("function"==typeof e){var t=e(qt).create();return ie.default.extend(e.events),oe.default.extend(e.events,{publicOnly:!0}),rn=t.createProtectionSystem({log:Jt,videoModel:mn,capabilities:dn,eventBus:zt,adapter:on})}return null}function xt(){if(an)return an;var e=dashjs.MetricsReporting;if("function"==typeof e){var t=e(qt).create();return an=t.createMetricsReporting({log:Jt,eventBus:zt,mediaElement:At(),dashManifestModel:hn,metricsModel:sn})}return null}function kt(){var e=sn.getReadOnlyMetricsFor("video")||sn.getReadOnlyMetricsFor("audio");return pn.getCurrentDVRInfo(e)}function Ut(e){var t,n=kt();return n?(t=n.manifestInfo.availableFrom.getTime()/1e3,e+(t+n.range.start)):0}function Bt(){if(!$t)throw Kt;var e=fn.getActiveStreamInfo();return e?fn.getStreamById(e.id):null}function jt(){$t||($t=!0,Jt("Playback Initialized"),Nt(),"string"==typeof Qt?fn.load(Qt):fn.loadWithManifest(Qt))}var Kt="You must first call play() to init playback before calling this method",Gt="You must first call attachView() to set the video element before calling this method",Ht="You must first call attachSource() with a valid source before calling this method",Yt="MediaPlayer not initialized!",qt=this.context,zt=(0,ne.default)(qt).getInstance(),Vt=(0,ee.default)(qt).getInstance(),Jt=Vt.log,Wt=void 0,Qt=void 0,Xt=void 0,Zt=void 0,$t=void 0,en=void 0,tn=void 0,nn=void 0,rn=void 0,an=void 0,on=void 0,sn=void 0,un=void 0,ln=void 0,dn=void 0,fn=void 0,cn=void 0,gn=void 0,pn=void 0,hn=void 0,mn=void 0,vn=void 0;return Wt={initialize:e,on:k,off:B,extend:F,attachView:It,attachSource:Mt,isReady:t,play:n,isPaused:i,pause:r,isSeeking:a,seek:T,setMute:s,isMuted:l,setVolume:f,getVolume:g,time:A,duration:C,timeAsUTC:b,durationAsUTC:O,getActiveStream:Bt,getDVRWindowSize:v,getDVRSeekOffset:y,convertToTimeCode:L,formatUTC:N,getVersion:K,getDebug:H,getBufferLength:h,getVideoModel:q,getVideoContainer:Tt,getTTMLRenderingDiv:Ct,getVideoElement:At,getSource:bt,setLiveDelayFragmentCount:V,setLiveDelay:W,useSuggestedPresentationDelay:X,enableLastBitrateCaching:$,enableLastMediaSettingsCaching:te,setMaxAllowedBitrateFor:re,getMaxAllowedBitrateFor:ae,setMaxAllowedRepresentationRatioFor:se,getMaxAllowedRepresentationRatioFor:de,setAutoPlay:ce,getAutoPlay:pe,setScheduleWhilePaused:me,getScheduleWhilePaused:_e,getDashMetrics:Ee,getMetricsFor:Te,getQualityFor:Se,setQualityFor:Ae,getLimitBitrateByPortal:Ie,setLimitBitrateByPortal:Ce,getUsePixelRatioInLimitBitrateByPortal:Re,setUsePixelRatioInLimitBitrateByPortal:be,setTextTrack:Me,getBitrateInfoListFor:Oe,setInitialBitrateFor:De,getInitialBitrateFor:Ne,setInitialRepresentationRatioFor:Pe,getInitialRepresentationRatioFor:Le,getStreamsFromManifest:we,getTracksFor:Fe,getTracksForTypeFromManifest:xe,getCurrentTrackFor:ke,setInitialMediaSettingsFor:Ue,getInitialMediaSettingsFor:Be,setCurrentTrack:je,getTrackSwitchModeFor:Ke,setTrackSwitchModeFor:Ge,setSelectionModeForInitialTrack:He,getSelectionModeForInitialTrack:Ye,getAutoSwitchQuality:qe,setAutoSwitchQuality:ze,setFastSwitchEnabled:We,getFastSwitchEnabled:Qe,getAutoSwitchQualityFor:Ve,setAutoSwitchQualityFor:Je,enableBufferOccupancyABR:Xe,setBandwidthSafetyFactor:ft,getBandwidthSafetyFactor:ct,setAbandonLoadTimeout:gt,retrieveManifest:Ze,addUTCTimingSource:$e,removeUTCTimingSource:et,clearDefaultUTCTimingSources:tt,restoreDefaultUTCTimingSources:nt,setBufferToKeep:it,setBufferPruningInterval:at,setStableBufferTime:ot,setBufferTimeAtTopQuality:st,setFragmentLoaderRetryAttempts:pt,setFragmentLoaderRetryInterval:ht,setXHRWithCredentials:mt,setBufferTimeAtTopQualityLongForm:ut,setLongFormContentDurationThreshold:lt,setRichBufferThreshold:dt,getProtectionController:vt,attachProtectionController:_t,setProtectionData:yt,enableManifestDateHeaderTimeSource:rt,displayCaptionsOnTop:Et,attachVideoContainer:St,attachTTMLRenderingDiv:Rt,reset:Ot},function(){Zt=!1,$t=!1,en=!0,rn=null,Xt=null,on=null,ie.default.extend(oe.default),un=(0,w.default)(qt).getInstance()}(),Wt}Object.defineProperty(t,"__esModule",{value:!0});var a=n(65),o=r(a),s=n(8),u=r(s),l=n(21),d=r(l),f=n(13),c=r(f),g=n(116),p=r(g),h=n(55),m=r(h),v=n(11),_=r(v),y=n(177),E=r(y),T=n(43),S=r(T),A=n(30),I=r(A),C=n(35),R=r(C),b=n(18),M=r(b),O=n(44),D=r(O),N=n(33),P=r(N),L=n(4),w=r(L),F=n(14),x=r(F),k=n(10),U=r(k),B=n(129),j=r(B),K=n(51),G=r(K),H=n(20),Y=r(H),q=n(50),z=r(q),V=n(52),J=r(V),W=n(126),Q=r(W),X=n(122),Z=r(X),$=n(3),ee=r($),te=n(2),ne=r(te),re=n(1),ie=r(re),ae=n(42),oe=r(ae),se=n(0),ue=r(se),le=n(60),de=n(16),fe=r(de),ce=n(98),ge=r(ce),pe=n(12),he=r(pe),me=n(17),ve=r(me),_e=n(28),ye=r(_e);i.__dashjs_factory_name="MediaPlayer";var Ee=ue.default.getClassFactory(i);Ee.events=oe.default,t.default=Ee,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(t,n){var r,u=t.match(a);if(u){try{r=s[u[1]](o).create({eventBus:e.eventBus}),r.initialize(u[1],n,u[3],u[5])}catch(e){r=null,i("MetricsHandlerFactory: Could not create handler for type "+u[1]+" with args "+u[3]+", "+u[5]+" ("+e.message+")")}return r}}function n(e,t){s[e]=t}function r(e){delete s[e]}var i=e.log,a=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,o=this.context,s={BufferLevel:u.default,DVBErrors:d.default,HttpList:c.default,PlayList:p.default,RepSwitchList:p.default,TcpList:p.default};return{create:t,register:n,unregister:r}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=r(a),s=n(137),u=r(s),l=n(138),d=r(l),f=n(140),c=r(f),g=n(139),p=r(g);i.__dashjs_factory_name="MetricsHandlerFactory",t.default=o.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e,t){var n;try{n=i[e.schemeIdUri](a).create(),n.initialize(e,t)}catch(t){n=null,o("ReportingFactory: could not create Reporting with schemeIdUri "+e.schemeIdUri+" ("+t.message+")")}return n}function n(e,t){i[e]=t}function r(e){delete i[e]}var i={"urn:dvb:dash:reporting:2014":u.default},a=this.context,o=e.log;return{create:t,register:n,unregister:r}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=r(a),s=n(141),u=r(s);i.__dashjs_factory_name="ReportingFactory",t.default=o.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(){return{reconstructFullMetricName:function(e,t,n){var r=e;return t&&(r+="("+t,n&&n.length&&(r+=","+n),r+=")"),r},validateN:function(e){if(!e)throw new Error("missing n");if(isNaN(e))throw new Error("n is NaN");if(e<0)throw new Error("n must be positive");return e}}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(i);r.__dashjs_factory_name="HandlerHelpers",t.default=a.default.getSingletonFactory(r),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){var n=null,i=(0,u.default)(r).getInstance();i.setConfig({log:e.log}),i.initialize();var a=t(e);return!n&&a&&(n=(0,o.default)(r).create({protectionModel:a,protectionKeyController:i,adapter:e.adapter,eventBus:e.eventBus,log:e.log}),e.capabilities.setEncryptedMediaSupported(!0)),n}function t(e){var t=e.log,i=e.eventBus,a=e.videoModel.getElement();return void 0!==a.onencrypted&&void 0!==a.mediaKeys&&void 0!==navigator.requestMediaKeySystemAccess&&"function"==typeof navigator.requestMediaKeySystemAccess?(t("EME detected on this user agent! (ProtectionModel_21Jan2015)"),(0,c.default)(r).create({log:t,eventBus:i})):n(a,E)?(t("EME detected on this user agent! (ProtectionModel_3Feb2014)"),(0,p.default)(r).create({log:t,eventBus:i,api:n(a,E)})):n(a,y)?(t("EME detected on this user agent! (ProtectionModel_01b)"),(0,m.default)(r).create({log:t,eventBus:i,api:n(a,y)})):(t("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null)}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];if("function"==typeof e[r[Object.keys(r)[0]]])return r}return null}var r=this.context;return{createProtectionSystem:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(152),o=r(a),s=n(34),u=r(s),l=n(151),d=r(l),f=n(157),c=r(f),g=n(158),p=r(g),h=n(156),m=r(h),v=n(0),_=r(v),y=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],E=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];i.__dashjs_factory_name="Protection";var T=_.default.getClassFactory(i);T.events=d.default,t.default=T,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t,n){if(r(this,e),n&&"persistent"!==n&&"temporary"!==n)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=t,this.type=n}return i(e,[{key:"toJWK",value:function(){var e,t=this.keyPairs.length,n={keys:[]};for(e=0;e<t;e++){var r={kty:"oct",alg:"A128KW",kid:this.keyPairs[e].keyID,k:this.keyPairs[e].key};n.keys.push(r)}this.type&&(n.type=this.type);var i=JSON.stringify(n),a=i.length,o=new ArrayBuffer(a),s=new Uint8Array(o);for(e=0;e<a;e++)s[e]=i.charCodeAt(e);return o}}]),e}();t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t,n){r(this,e),this.keyID=t,this.key=n};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){B={},j=[],K=(0,d.default)(L).getInstance(),G=(0,c.default)(L).getInstance(),H=(0,h.default)(L).getInstance(),k.on(y.default.BUFFER_EMPTY,m,U),k.on(y.default.PLAYBACK_SEEKING,_,U),k.on(y.default.PERIOD_SWITCH_STARTED,E,U)}function n(e){return e.map(function(e){return Math.log(e)})}function r(e,t,r,i){var a=NaN;if(i?(a=0,i.forEach(function(e,t){e>i[a]&&(a=t)})):(i=n(r),a=i.length-1),0===a)return null;var o=1-i[0]+(i[a]-i[0])/(t/e-1),s=e/(i[0]+o-1);return{utilities:i,gp:o,Vp:s}}function a(e){var t={},n=e.getMediaInfo(),i=e.getStreamProcessor(),a=e.getStreamInfo(),o=e.getTrackInfo(),s=i.isDynamic(),u=a.manifestInfo.duration,l=o.fragmentDuration,d=n.bitrateList.map(function(e){return e.bandwidth}),f=r(R,b,d,null);if(null===f)return t.state=S,t;if(t.state=A,t.bitrates=d,t.utilities=f.utilities,t.Vp=f.Vp,t.gp=f.gp,t.isDynamic=s,t.movieDuration=u,t.fragmentDuration=l,t.bandwidthSafetyFactor=K.getBandwidthSafetyFactor(),t.rebufferSafetyFactor=M,t.bufferTarget=K.getStableBufferTime(),t.lastQuality=0,t.virtualBuffer=0,t.throughputCount=s?N:P,C){for(var c="",g=0;g<d.length;++g){var p=f.utilities[g],h=d[g],m=0;if(g>0){var v=f.utilities[g-1],_=d[g-1];m=f.Vp*((v*h-p*_)/(h-_)+f.gp)}var y=f.Vp*(p+f.gp);c+="\n"+g+":"+(1e-6*d[g]).toFixed(3)+"Mbps "+m.toFixed(3)+"/"+y.toFixed(3)}w("BolaDebug "+n.type+" bitrates"+c)}return t}function s(e,t){for(var n=e.bitrates.length,r=NaN,i=NaN,a=0;a<n;++a){var o=(e.Vp*(e.utilities[a]+e.gp)-t)/e.bitrates[a];(isNaN(i)||o>=i)&&(i=o,r=a)}return r}function u(e,t){for(var n=F.getHttpRequests(e),r=[],i=n.length-1;i>=0&&r.length<t;--i){var a=n[i];a.type===g.HTTPRequest.MEDIA_SEGMENT_TYPE&&a._tfinish&&a.tresponse&&a.trace&&r.push(a)}return r}function l(e,t,n){var r=u(e,t);if(0===r.length)return 0;for(var i=0,a="",o=0;o<r.length;++o){var s=.001*(r[o]._tfinish.getTime()-r[o].trequest.getTime()),l=8*r[o].trace.reduce(function(e,t){return e+t.b[0]},0);C&&(a+=" "+(1e-6*l).toFixed(3)+"/"+s.toFixed(3)+"="+(1e-6*l/s).toFixed(3)+"Mbps"),i+=s/l}return C&&w("BolaDebug "+n+" BolaRule recent throughput = "+(r.length/(1e6*i)).toFixed(3)+"Mbps:"+a),r.length/i}function f(e,t){var n=0;return e.bitrates.some(function(e,r){return e>t||(n=r,!1)}),n}function p(e,t){var n=u(e,1);if(0===n.length)return 0;var r=n[0],i=Date.now(),a=r._tfinish.getTime();a>i&&(a=i);var o=B[t];B[t]=i;var s=0;return s=o&&o>a?i-o:i-a,s<=0?0:.001*s}function m(){C&&w("BolaDebug BUFFER_EMPTY"),j.forEach(function(e){var t=x.getReadOnlyMetricsFor(e);if(0!==t.BolaState.length){var n=t.BolaState[0]._s;n.state===I&&(n.virtualBuffer=0,x.updateBolaState(e,n))}})}function _(e){C&&w("BolaDebug PLAYBACK_SEEKING "+e.seekTime.toFixed(3)),j.forEach(function(e){var t=x.getReadOnlyMetricsFor(e);if(0!==t.BolaState.length){var n=t.BolaState[0]._s;n.state!==S&&(n.state=A),x.updateBolaState(e,n)}})}function E(){}function O(e,t){var n=e.getStreamProcessor();n.getScheduleController().setTimeToLoadDelay(0);var r=(0,o.default)(L).create(o.default.NO_CHANGE,o.default.WEAK,{name:i.__dashjs_factory_name}),u=e.getMediaInfo(),d=u.type,c=x.getReadOnlyMetricsFor(d);if(0===c.BolaState.length){C&&w("BolaDebug "+d+"\nBolaDebug "+d+" BolaRule for state=- fragmentStart="+H.getIndexHandlerTime(e.getStreamProcessor()).toFixed(3));var g=a(e);x.updateBolaState(d,g);var h=0;if(g.state!==S){j.push(d);var m=l(c,g.throughputCount,d);if(0===m)return C&&w("BolaDebug "+d+" BolaRule quality unchanged for INITIALIZE"),void t(r);h=f(g,m*g.bandwidthSafetyFactor),g.lastQuality=h,r.value=h,r.priority=o.default.DEFAULT,r.reason.state=g.state,r.reason.throughput=m}return C&&w("BolaDebug "+d+" BolaRule quality "+h+" for INITIALIZE"),void t(r)}var v=c.BolaState[0]._s;if(v.state===S)return C&&w("BolaDebug "+d+" BolaRule quality 0 for ONE_BITRATE"),void t(r);var _=v.bitrates,y=v.utilities;C&&w("BolaDebug "+d+"\nBolaDebug "+d+" EXECUTE BolaRule for state="+v.state+" fragmentStart="+H.getIndexHandlerTime(e.getStreamProcessor()).toFixed(3));var E=F.getCurrentBufferLevel(c)?F.getCurrentBufferLevel(c):0,T=l(c,v.throughputCount,d);E<=.1&&(v.virtualBuffer=0);var R=p(c,d);R>0&&(v.virtualBuffer+=R),v.virtualBuffer<0&&(v.virtualBuffer=0);var b=E+v.virtualBuffer,O=s(v,b);if(C&&w("BolaDebug "+d+" BolaRule bufferLevel="+E.toFixed(3)+"(+"+v.virtualBuffer.toFixed(3)+"="+b.toFixed(3)+") recentThroughput="+(1e-6*T).toFixed(3)+" tentativeQuality="+O),v.state===A){var h=f(v,T*v.bandwidthSafetyFactor);if(E>v.fragmentDuration/M){v.state=I;for(var D=0,N=0;N<h;++N){var P=v.Vp*(v.gp+(_[h]*y[N]-_[N]*y[h])/(_[h]-_[N]));P>D&&(D=P)}D>E&&(v.virtualBuffer=D-E)}return C&&w("BolaDebug "+d+" BolaRule quality "+h+" for STARTUP"),v.lastQuality=h,x.updateBolaState(d,v),r.value=h,r.priority=o.default.DEFAULT,r.reason.state=A,r.reason.throughput=T,void t(r)}if(O>v.lastQuality){var h=f(v,T);O>h&&(h<v.lastQuality&&(h=v.lastQuality),O=h)}if(T>0)for(var k=M*T*E/v.fragmentDuration;O>0&&_[O]>k;)--O;var U=0;U=b-v.Vp*(y[O]+v.gp),U>0&&(U>v.virtualBuffer?(U-=v.virtualBuffer,v.virtualBuffer=0):(v.virtualBuffer-=U,U=0)),U>0?O===_.length-1?U=0:n.getScheduleController().setTimeToLoadDelay(1e3*U):U=0,v.lastQuality=O,x.updateBolaState(d,v),r.value=O,r.priority=o.default.DEFAULT,r.reason.state=v.state,r.reason.throughput=T,r.reason.bufferLevel=E,C&&w("BolaDebug "+d+" BolaRule quality "+O+" delay="+U.toFixed(3)+" for STEADY"),t(r)}function D(){k.off(y.default.BUFFER_EMPTY,m,U),k.off(y.default.PLAYBACK_SEEKING,_,U),k.off(y.default.PERIOD_SWITCH_STARTED,E,U),t()}var N=2,P=3,L=this.context,w=(0,T.default)(L).getInstance().log,F=e.dashMetrics,x=e.metricsModel,k=(0,v.default)(L).getInstance(),U=void 0,B=void 0,j=void 0,K=void 0,G=void 0,H=void 0;return U={execute:O,reset:D},t(),U}Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),o=r(a),s=n(0),u=r(s),l=n(4),d=r(l),f=n(8),c=r(f),g=n(6),p=n(16),h=r(p),m=n(2),v=r(m),_=n(1),y=r(_),E=n(3),T=r(E),S=0,A=1,I=2,C=!1,R=10,b=30,M=.5;i.__dashjs_factory_name="BolaRule";var O=u.default.getClassFactory(i);O.BOLA_STATE_ONE_BITRATE=S,O.BOLA_STATE_STARTUP=A,O.BOLA_STATE_STEADY=I,O.BOLA_DEBUG=C,t.default=O,e.exports=t.default},function(e,t,n){"use strict";function r(){function e(e,t){var n=0;for(n=0;n<this.customTimeRangeArray.length&&e>this.customTimeRangeArray[n].start;n++);for(this.customTimeRangeArray.splice(n,0,{start:e,end:t}),n=0;n<this.customTimeRangeArray.length-1;n++)this.mergeRanges(n,n+1)&&n--;this.length=this.customTimeRangeArray.length}function t(){this.customTimeRangeArray=[],this.length=0}function n(e,t){for(var n=0;n<this.customTimeRangeArray.length;n++)if(e<=this.customTimeRangeArray[n].start&&t>=this.customTimeRangeArray[n].end)this.customTimeRangeArray.splice(n,1),n--;else{if(e>this.customTimeRangeArray[n].start&&t<this.customTimeRangeArray[n].end){this.customTimeRangeArray.splice(n+1,0,{start:t,end:this.customTimeRangeArray[n].end}),this.customTimeRangeArray[n].end=e;break}e>this.customTimeRangeArray[n].start&&e<this.customTimeRangeArray[n].end?this.customTimeRangeArray[n].end=e:t>this.customTimeRangeArray[n].start&&t<this.customTimeRangeArray[n].end&&(this.customTimeRangeArray[n].start=t)}this.length=this.customTimeRangeArray.length}function r(e,t){var n=this.customTimeRangeArray[e],r=this.customTimeRangeArray[t];return n.start<=r.start&&r.start<=n.end&&n.end<=r.end?(n.end=r.end,this.customTimeRangeArray.splice(t,1),!0):r.start<=n.start&&n.start<=r.end&&r.end<=n.end?(n.start=r.start,this.customTimeRangeArray.splice(t,1),!0):r.start<=n.start&&n.start<=r.end&&n.end<=r.end?(this.customTimeRangeArray.splice(e,1),!0):n.start<=r.start&&r.start<=n.end&&r.end<=n.end&&(this.customTimeRangeArray.splice(t,1),!0)}function i(e){return this.customTimeRangeArray[e].start}function a(e){return this.customTimeRangeArray[e].end}return{customTimeRangeArray:[],length:0,add:e,clear:t,remove:n,mergeRanges:r,start:i,end:a}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(i);r.__dashjs_factory_name="CustomTimeRanges",t.default=a.default.getClassFactory(r),e.exports=t.default},function(e,t,n){"use strict";function r(){function e(e){var t=e.streamId,n=e.mediaInfo.type,i=e.quality;r[t]=r[t]||{},r[t][n]=r[t][n]||{},r[t][n][i]=e}function t(e,t,n){return r[e][t][n]}function n(){r={}}var r={};return{save:e,extract:t,reset:n}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(i);r.__dashjs_factory_name="InitCache",t.default=a.default.getSingletonFactory(r),e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=a,n=o,r=!0,s=l=void 0}},o=n(24),s=function(e){return e&&e.__esModule?e:{default:e}}(o),u=function(e){function t(e,n){r(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.url=e||null,this.type=n||null,this.mediaType="stream",this.responseType="text"}return i(t,e),t}(s.default);t.default=u,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]};i.INITIAL_PLAYOUT_START_REASON="initial_playout",i.SEEK_START_REASON="seek",i.RESUME_FROM_PAUSE_START_REASON="resume",i.METRICS_COLLECTION_START_REASON="metrics_collection_start";var a=function e(){r(this,e),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null};a.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",a.REBUFFERING_REASON="rebuffering",a.USER_REQUEST_STOP_REASON="user_request",a.END_OF_PERIOD_STOP_REASON="end_of_period",a.END_OF_CONTENT_STOP_REASON="end_of_content",a.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",a.FAILURE_STOP_REASON="failure",t.PlayList=i,t.PlayListTrace=a},function(e,t,n){"use strict";function r(){}Object.defineProperty(t,"__esModule",{value:!0});r.prototype.getVersion=function(){return"0.2.9"},r.prototype.getCommits=function(){return"6"},r.prototype.getShortHash=function(){return"g1035329"},t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){function n(e){var t=parseInt(e,10),n=Math.floor(t/3600),r=Math.floor((t-3600*n)/60),i=t-3600*n-60*r;return r<10&&(r="0"+r),i<10&&(i="0"+i),0===n?r+":"+i:(n<10&&(n="0"+n),n+":"+r+":"+i)}function r(e,t){var n,r=!0;return!0!==t&&(r=!1),w=e,x?null===(n=N.getItem(e))?(D.error(" No item to play at index ",w," playlist is sized ",N.getSize()),!1):(G.setTitle(n[c.FJCONFIG_TITLE]),K.setThumbsUrl(n[c.FJCONFIG_THUMBS]),K.Unload(),null!==n[c.FJCONFIG_SRC]||void 0!==n[c.FJCONFIG_SRC]?(n[c.FJCONFIG_TYPE]===c.FJCONFIG_TYPE_DASH?(F=!0,D.warn(" will play a clear dash on caption obect ",G.getVideoCaption()),K.loadDash(n[c.FJCONFIG_SRC],n[c.FJCONFIG_POSTER],n[c.FJCONFIG_SUBTITLES],G.getVideoCaption(),r)):K.load(n[c.FJCONFIG_SRC],n[c.FJCONFIG_TYPE],n[c.FJCONFIG_POSTER],n[c.FJCONFIG_SUBTITLES],r),!0):(D.error("src of item is not valid , at index ",w),!1)):(D.error(" No playlist is loaded on player "),!1)}function a(){return x?(P=!0,w++,D.log(" will play next",w," in playlist is loaded on player "),N.getSize()<w?(!0===L&&(w=0),!1):(r(w),G.ShowVideo(),G.onplaypauseClick(),!0)):(D.error(" No playlist is loaded on player "),!1)}function s(e,t){if(D.debug(" just a new event from adsmgr ",e,t),D.warn("Sending Ads Event >>>>>>>>>>>>>>>>>   ",e),U.fireEvent(e),e===c.AdsEvents.ADS_PLAYBACK_ENDED){if(k=!1,t===c.AdsEnum.ADS_PRE_ROLL){if(!0===H.CheckPreAds())return;return G.ShowVideo(),K.play(),void G.toggleplaypauseBtn()}if(t===c.AdsEnum.ADS_POST_ROLL){if(!0===H.CheckPostAds())return;!0===P&&(G.toggleplaypauseBtn(),G.ShowVideo(),a())}else t===c.AdsEnum.ADS_MID_ROLL?(G.ShowVideo(),K.play(),G.toggleplaypauseBtn()):D.warn(" unknown Ads type !! ",t)}e===c.AdsEvents.ADS_PLAYBACK_STARTED&&(k=!0,K.pause(),G.hideVideo())}function l(e){var t;return j.CheckOverlays(e),t&=H.CheckMidAds(e)}function f(){return x?(P=!0,w--,D.log(" will play next",w," in playlist is loaded on player "),w<0?(!0===L&&(w=N.getSize()-1),!1):(r(w),G.ShowVideo(),G.onplaypauseClick(),!0)):(D.error(" No playlist is loaded on player "),!1)}function g(e,t){var n,r;e===c.PlayerEvents.PLAYBACK_TIME_UPDATE?(G.UpdateProgress(K.time()),r=G.getVideo(),G.setDuration(K.getDuration()),l(Math.round(K.time()))):(e===c.PlayerEvents.PLAYBACK_ENDED&&(!0===H.CheckPostAds()?D.debug("starting  post ads !!"):!0===P&&a()),e===c.PlayerEvents.PLAYBACK_STARTED&&(1===t&&(!1===H.CheckPreAds()?K.play():K.pause()),G.HideSpinner(),G.toggleplaypauseBtn(),G.setDuration(K.getDuration())),e===c.PlayerEvents.TRACKS_ADDED&&G.SetupSubsAudsManager(K),e===c.PlayerEvents.STREAM_LOADED&&(G.ShowSpinner(),G.SetupThumbsManager(K.getDuration(),t),G.SetupSubsAudsManager(K),G.setDuration(K.getDuration()),n=N.getItem(w),j.Setup(n[c.FJCONFIG_OVERLAYS]),r=G.getVideo(),H.Setup(n[c.FJCONFIG_ADS],r.videoWidth,r.videoHeight)),e===c.PlayerEvents.PLAYBACK_SEEKING&&G.ShowSpinner(),e===c.PlayerEvents.PLAYBACK_SEEKED&&G.HideSpinner(),D.info("[Event] [trigger] > ",e),U.fireEvent(e))}function h(e){return D.log(" start  function "),Y?e.getSize()>0?(N=e,x=!0,G.initialize(this),K.on(c.PlayerEvents.TRACKS_ADDED,g),K.on(c.PlayerEvents.STREAM_LOADED,g),K.on(c.PlayerEvents.PLAYBACK_STARTED,g),K.on(c.PlayerEvents.PLAYBACK_PAUSED,g),K.on(c.PlayerEvents.PLAYBACK_ENDED,g),K.on(c.PlayerEvents.PLAYBACK_SEEKED,g),K.on(c.PlayerEvents.PLAYBACK_SEEKING,g),K.on(c.PlayerEvents.PLAYBACK_TIME_UPDATE,g),H.on(c.AdsEvents.ADS_PLAYBACK_STARTED,s),H.on(c.AdsEvents.ADS_PLAYBACK_ERROR,s),H.on(c.AdsEvents.ADS_PLAYBACK_ENDED,s),K.initialize(G.getVideo(),G.getVideoFigure()),j.initialize(document.getElementById(G.getOverlaysContainerDivId())),H.initialize(document.getElementById(G.getAdsContainerDivId())),!0):(D.error(" playlist is empty: ",e.getSize()),x=!1,!1):(D.error(" browser did not support video !"),!1)}function v(e,t){var n=!0;return!0!==t&&(n=!1),P=!1,r(e,n)}function y(e,t,n,r){var i,a=!0;return!0!==r&&(a=!1),w=e,x?void 0===(i=N.getItem(w))?(D.error(" No item to play at index ",w," playlist is sized ",N.getSize()),!1):(P=!0,L=t,G.setTitle(i[c.FJCONFIG_TITLE]),K.setThumbsUrl(i[c.FJCONFIG_THUMBS]),null!==i[c.FJCONFIG_SRC]||void 0!==i[c.FJCONFIG_SRC]?(i[c.FJCONFIG_TYPE]===c.FJCONFIG_TYPE_DASH?(F=!0,K.loadDash(i[c.FJCONFIG_SRC],i[c.FJCONFIG_POSTER],i[c.FJCONFIG_SUBTITLES],G.getVideoCaption(),a)):K.load(i[c.FJCONFIG_SRC],i[c.FJCONFIG_TYPE],i[c.FJCONFIG_POSTER],i[c.FJCONFIG_SUBTITLES],a),!0):(D.error("src of item is not valid , at index ",w),!1)):(D.error(" No playlist is loaded on player "),!1)}function E(e){K.seek(e)}function T(){K.Unload(),G.reset()}function S(){K.pause(),!1===H.CheckPreAds()&&K.play(),G.toggleplaypauseBtn()}function A(){K.pause(),G.toggleplaypauseBtn()}function I(){return k}function C(){return x}function R(){return K.isPaused()}function b(){return K.isEnded()}function M(e,t){return U.on(e,t)}function O(e,t){return U.off(e,t)}var D=new o.default(this),N=null,P=!1,L=!1,w=-1,F=!1,x=!1,k=!1,U=new d.default,B=t,j=new u.default,K=new p.default,G=null,H=new _.default,Y=!!document.createElement("video").canPlayType;return G=new m.default(B,"100%",""),{duration:n,loadPlaylist:h,playAt:v,startPlaylist:y,play:S,reset:T,seek:E,playNext:a,playPrev:f,pause:A,isPaused:R,isPlayingAds:I,isReady:C,isEnded:b,on:M,off:O,constructor:i}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),o=r(a),s=n(84),u=r(s),l=n(25),d=r(l),f=n(15),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(f),g=n(85),p=r(g),h=n(86),m=r(h),v=n(82),_=r(v);t.default=i},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(){function e(){return v.length}function t(e){return m.info(" Getting item at position ",e),v.length>e?v[e]:(m.error(" No item to play at index ",e," playlist is sized ",v.length),null)}function n(e){var t;return null!==e&&void 0!==e&&(e[u.FJCONFIG_LANG]?(t=d.isoLangs[e[u.FJCONFIG_LANG]],m.log(t," playlist Subtitle lang is",e[u.FJCONFIG_LANG]),null===t||void 0===t?(m.error("No ISO code of lang  ",t),!1):e[u.FJCONFIG_SRC]?(m.log(" playlist Subtitle src is",e[u.FJCONFIG_SRC]),!0):(m.error("Empty Subtitle src "),!1)):(m.error("Empty Subtitle lang  "),!1))}function r(e){var t=e;return null!==e&&void 0!==e&&(void 0===(t=e[u.FJCONFIG_DATA])||null===t||""===t?(m.error("Empty Overlay data"),!1):(m.log(" playlist Overlay data ",t),void 0===(t=e[u.FJCONFIG_URL])||null===t||""===t?(m.error("Empty Overlay url"),!1):(m.log(" ok playlist Overlay url ",t),void 0===(t=e[u.FJCONFIG_DURATION])||null===t||""===t?(m.error("Empty Overlay duration "),!1):t!==parseInt(t,10)?(m.error(t,":Empty Overlay duration is not integer !"),!1):(m.log(" integer playlist Overlay duration ",t),void 0===(t=e[u.FJCONFIG_SHOW_AT])||null===t||""===t?(m.error("Empty Overlay show at "),!1):t!==parseInt(t,10)?(m.error(t,":Empty Overlay show at is not integer !"),!1):(m.log(" integer playlist Overlay show at ",t),!0)))))}function a(e){return null!==e&&void 0!==e&&(-1===u.FJCONFIG_DRM_SCHEMES.indexOf(e[u.FJCONFIG_DRM_SCHEME])?(m.error("BAD DRM Scheme Value ! ",e[u.FJCONFIG_DRM_SCHEME]),!1):e[u.FJCONFIG_DRM_LICENSE_SERVER]?(m.log(" playlist Server License of item  ",e[u.FJCONFIG_DRM_LICENSE_SERVER]),m.log(" playlist Drm Herders on Request License  of item  ",e[u.FJCONFIG_DRM_HEADER_LICENSE_REQUEST]),m.log(" playlist Drm Herders on Request Segments  of item  ",e[u.FJCONFIG_DRM_HEADER_SEGMENTS_REQUEST]),!0):(m.error("Empty Server License for  DRM Scheme  ! "),!1))}function s(e){return null!==e&&void 0!==e&&(-1===u.FJCONFIG_TYPES.indexOf(e[u.FJCONFIG_TYPE])?(m.error("BAD type Value ! "),!1):e[u.FJCONFIG_SRC]?-1===u.FJCONFIG_ADS_CLASSES.indexOf(e[u.FJCONFIG_CLASS])?(m.error(e[u.FJCONFIG_CLASS],":BAD class Value ! "),!1):e[u.FJCONFIG_SRC]!==u.FJCONFIG_ADS_CLASS_MID_ROLL||null!==e[u.FJCONFIG_SHOW_AT]&&void 0!==e[u.FJCONFIG_SHOW_AT]?void 0===e[u.FJCONFIG_URL]||null===e[u.FJCONFIG_URL]||""===e[u.FJCONFIG_URL]?(m.error("Empty Overlay url"),!1):(m.log(" playlist Overlay url ",e[u.FJCONFIG_URL]),"true"!==e[u.FJCONFIG_CAN_ESCAPE]&&!0!==e[u.FJCONFIG_CAN_ESCAPE]&&"false"!==e[u.FJCONFIG_CAN_ESCAPE]&&!1!==e[u.FJCONFIG_CAN_ESCAPE]?(m.warn("can Escape is missing , will be set to true ! "),e[u.FJCONFIG_CAN_ESCAPE]=!0):m.debug("can Escape is already there : ",e[u.FJCONFIG_CAN_ESCAPE]),!0):(m.error("Missing Show At for mid Roll Class ! "),!1):(m.error("BAD src Value ! "),!1))}function l(e){var t,i,o={},l={};if(null===e||void 0===e)return m.error(" Item is NULL !",e),!1;if(m.log("  class of item  : ",e[u.FJCONFIG_CLASS]),-1===u.FJCONFIG_CLASSES.indexOf(e[u.FJCONFIG_CLASS]))return m.error("BAD class Value ! "),!1;if(m.log("  type of item  ",e[u.FJCONFIG_TYPE]),-1===u.FJCONFIG_TYPES.indexOf(e[u.FJCONFIG_TYPE]))return m.error("BAD type Value ! "),!1;if(m.log("  title of item  ",e[u.FJCONFIG_TITLE]),void 0===e[u.FJCONFIG_TITLE]||null===e[u.FJCONFIG_TITLE]||""===e[u.FJCONFIG_TITLE]||!e[u.FJCONFIG_TITLE])return m.error("BAD title Value ! "),!1;if(m.log("  src of item  ",e[u.FJCONFIG_SRC]),void 0===e[u.FJCONFIG_SRC]||null===e[u.FJCONFIG_SRC]||""===e[u.FJCONFIG_SRC]||!e[u.FJCONFIG_SRC])return m.error("BAD src Value ! "),!1;if(m.log("  poster of item  ",e[u.FJCONFIG_POSTER]),m.log("  thumbs of item  ",e[u.FJCONFIG_THUMBS]),null!==(i=e[u.FJCONFIG_ADS])&&void 0!==i&&i.length>0)for(t=0;t<i.length;t++)if(o=i[t],!1===s(o))return!1;if(void 0!==(l=e[u.FJCONFIG_DRM])&&!1===a(l))return!1;if(null!==(i=e[u.FJCONFIG_SUBTITLES])&&void 0!==i&&i.length>0)for(t=0;t<i.length;t++)if(o=i[t],!1===n(o))return!1;if(null!==(i=e[u.FJCONFIG_OVERLAYS])&&void 0!==i&&i.length>0)for(t=0;t<i.length;t++)if(o=i[t],!1===r(o))return!1;return!0}function f(e){return!0===l(e)?(v.push(e),m.info("Item added ok ",v.length),!0):(m.error(" Failed to add item"),!1)}function c(e,t){var r=v[e],i=r[u.FJCONFIG_SUBTITLES];return void 0!==r&&(!1!==n(t)&&(void 0!==i&&0!==i.length||(i=[]),i.push(t),!0))}function g(e,t){var n=v[e],i=n[u.FJCONFIG_OVERLAYS];return void 0!==n&&(!1!==r(t)&&(void 0!==i&&0!==i.length||(i=[]),i.push(t),!0))}function p(e,t){var n=v[e],r=n[u.FJCONFIG_DRM];return void 0!==n&&(!1!==a(t)&&(void 0!==r&&0!==r.length||(r=[]),r.push(t),!0))}function h(e,t){var n=v[e],r=n[u.FJCONFIG_ADS];return void 0!==n&&(!1!==s(t)&&(void 0!==r&&0!==r.length||(r=[]),r.push(t),!0))}var m=new o.default(this),v=[];return{getSize:e,getItem:t,addItem:f,addSubtitle:c,addOverlay:g,setDrm:p,addAds:h,checkSubtitle:n,checkOverlay:r,checkDrm:a,checkAds:s,checkItem:l,constructor:i}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),o=function(e){return e&&e.__esModule?e:{default:e}}(a),s=n(15),u=r(s),l=n(57),d=r(l);t.default=i},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.OverlayEvents=t.AdsEvents=t.PlayerEvents=t.Version=t.Player=t.Playlist=void 0;var i=n(80),a=r(i),o=n(79),s=r(o),u=n(78),l=r(u),d=n(15),f="undefined"!=typeof window&&window||e,c=f.fjplayer;c||(c=f.fjplayer={}),c.Playlist=a.default,c.Player=s.default,c.Version=l.default,c.PlayerEvents=d.PlayerEvents,c.AdsEvents=d.AdsEvents,c.OverlayEvents=d.OverlayEvents,t.default=c,t.Playlist=a.default,t.Player=s.default,t.Version=l.default,t.PlayerEvents=d.PlayerEvents,t.AdsEvents=d.AdsEvents,t.OverlayEvents=d.OverlayEvents}).call(t,n(56))},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(){function e(e,t){var n=A,r=null,i=y[e];if(!0!==h)return void p.warn(" AdsMgr is not yet settled !");for(i=t===l.AdsEnum.ADS_PRE_ROLL?T[e]:t===l.AdsEnum.ADS_MID_ROLL?y[e]:E[e],p.info(e,"stopping  Ads ",i[l.FJCONFIG_URL]," @@ ",i[l.FJCONFIG_SHOW_AT]),n=A,r=n.cloneNode(!0),n.parentNode.replaceChild(r,n),A=r;A.hasChildNodes();)A.removeChild(A.firstChild);A.innerHTML="",A.style.display="none",m.fireEvent(l.AdsEvents.ADS_PLAYBACK_ENDED,t)}function t(t,n){var r=!1,i=document.createElement("div"),a=document.createElement("span"),o=document.createElement("video"),s=document.createElement("source"),u=y[t];if(!0!==h)return void p.warn(" AdsMgr is not yet cettled !");n===l.AdsEnum.ADS_PRE_ROLL?(u=T[t],p.info(t,"starting PRE Ads ",T),p.info(t,"starting PRE Ads ",u[l.FJCONFIG_SRC])):n===l.AdsEnum.ADS_MID_ROLL?(u=y[t],p.info(t,"starting MId Ads ",u[l.FJCONFIG_SRC]," @@ ",u[l.FJCONFIG_SHOW_AT])):(u=E[t],p.info(t,"starting POST Ads ",u[l.FJCONFIG_SRC])),u.started=!0,m.fireEvent(l.AdsEvents.ADS_PLAYBACK_STARTED,n),o.preload=!0,o.controls=!1,o.autoplay=!1,o.setAttribute("width",v),o.setAttribute("height",_),p.warn(" ads video width/height is ",v,_),i.innerHTML='<span style="color: rgb(119, 255, 119); font-size: 0.95em;">Annonce</span> This an Ads for <span style="color: rgb(255, 255, 0)">'+u[l.FJCONFIG_URL]+"</span>",A.style.cursor="pointer",p.log(" Can escape this starting Ads ",u[l.FJCONFIG_CAN_ESCAPE]),i.style.display="block",i.classList.add("over-DL"),s.src=u[l.FJCONFIG_SRC],s.type=u[l.FJCONFIG_TYPE],o.appendChild(s),A.appendChild(o),i.appendChild(a),A.appendChild(i),A.style.display="block",o.play(),o.addEventListener("timeupdate",function(i){"true"===u[l.FJCONFIG_CAN_ESCAPE]||!0===u[l.FJCONFIG_CAN_ESCAPE]?o.currentTime>5?r||(a.innerHTML=', Can be escapped <span class="fj-icon-playNext" ></span>',a.addEventListener("click",function(){e(t,n)}),r=!0):a.innerHTML=", Can be escapped in "+Math.round(5-o.currentTime)+" secondes .":a.innerHTML=", it ends after "+f.duration(Math.round(o.duration-o.currentTime))+" ."}),o.addEventListener("click",function(){u.clicked++,m.fireEvent(l.AdsEvents.ADS_USER_CLICKED),window.open(u[l.FJCONFIG_URL],"_blank")}),o.addEventListener("ended",function(r){e(t,n)})}function n(e){var n=0,r=null,i=0;if(!0===h)for(n=0;n<y.length;n++)r=y[n],i=parseInt(r[l.FJCONFIG_SHOW_AT],10),e===i&&(p.info(n," starting Ads Now .. "),!1===y[n].started?(p.info(n," starting a new  Mid Ads .. "),y[n].started=!0,t(n,l.AdsEnum.ADS_MID_ROLL)):p.info(n," already started ",r[l.FJCONFIG_URL]," @@ ",r[l.FJCONFIG_SHOW_AT]))}function r(){var e=0,n=null;if(p.info(" Checking Pre Ads Now .. "),!0!==h)return p.warn("not yet Settled !"),!1;for(e=0;e<T.length;e++){if(n=T[e],p.info(e," starting Pre Ads Now .. "),!1===T[e].started)return p.info(e," starting a new Pre Ads .. @",e),T[e].started=!0,t(e,l.AdsEnum.ADS_PRE_ROLL),!0;p.info(e,"Pre already started ",n[l.FJCONFIG_URL]," @@ ",n[l.FJCONFIG_SHOW_AT])}return!1}function i(){var e=0,n=null;if(p.info(" Checking Post Ads Now .. "),!0!==h)return p.warn(" AdsMgr is not yet settled !"),!1;for(e=0;e<E.length;e++){if(n=E[e],p.info(e," starting Pre Ads Now .. "),!1===E[e].started)return p.info(e," starting a new Post Ads .. "),E[e].started=!0,t(e,l.AdsEnum.ADS_POST_ROLL),!0;p.info(e,"Post already started ",n[l.FJCONFIG_URL]," @@ ",n[l.FJCONFIG_SHOW_AT])}return!1}function o(e){A=e}function u(e,t,n){var r,i,a,o=0;if(null===e|void 0===e)return void(h=!1);for(S=e,v=t,_=n,o=0;o<S.length;o++)i=S[o],a=i[l.FJCONFIG_CLASS],a===l.FJCONFIG_ADS_CLASS_PRE_ROLL?(p.debug(" found a pre ads !"),r=T.push(i),T[r-1].started=!1,T[r-1].clicked=0):a===l.FJCONFIG_ADS_CLASS_POST_ROLL?(p.debug(" found a post ads !"),r=E.push(i),E[r-1].started=!1,E[r-1].clicked=0):(p.debug(" found a mid ads !"),r=y.push(i),y[r-1].started=!1,y[r-1].clicked=0);h=!0,p.info("Ads Setup is settled ",h),p.warn("Checking PRE ROLL Ads .. ",T.length),p.warn("Checking MID ROLL Ads .. ",y.length),p.warn("Checking POST ROLL Ads .. ",E.length)}function d(e,t){return m.on(e,t)}function c(e,t){return m.off(e,t)}var p=new s.default(this),h=!1,m=new g.default,v=0,_=0,y=[],E=[],T=[],S=null,A=null;return{CheckMidAds:n,CheckPreAds:r,CheckPostAds:i,Setup:u,on:d,off:c,initialize:o,constructor:a}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),s=i(o),u=n(15),l=r(u),d=n(37),f=r(d),c=n(25),g=i(c);t.default=a},function(e,t,n){"use strict";function r(e,t,n,i){function o(){!0===S&&!1===A.classList.contains("fj-hide")&&A.classList.add("fj-hide")}function s(){!0===C&&!1===R.classList.contains("fj-hide")&&R.classList.add("fj-hide")}function u(e,t){var n,r,i,a;a=!0===t?I:b;var u=Array.prototype.indexOf.call(a.childNodes,e),l=e.getAttribute("index");for(g.info("clicked is  selected @ index ",u," text index ",l),!0===t&&h.setTextTrack(l),n=0;n<a.children.length;n++)r=a.children[n],i=r.getAttribute("index"),l===i?(!1===t&&(p.audioTracks[n].enabled=!0),r.classList.remove("subtitles-menu-item"),r.classList.add("subtitles-menu-item-actif"),g.log("Setting item @  ",n)):(!1===t&&(p.audioTracks[n].enabled=!1),r.classList.remove("subtitles-menu-item-actif"),r.classList.add("subtitles-menu-item"),g.log("Unsetting item @  ",n));!0===t?o():s()}function l(e,t,n){var r=p.getBoundingClientRect(),i=t.getBoundingClientRect();e.classList.contains("fj-hide")?(g.warn("setting left @",i.right-n.pageX),g.warn("setting left @",i.left-n.pageX),e.style.left=n.pageX-r.left-i.width,e.classList.remove("fj-hide")):e.classList.add("fj-hide")}function d(){o(),s()}function f(e){g.info("Calling for setup Subs !!!");var t=null,n=0,r=!1,i=null;if(S=!1,h=e,g.info(" Trying to setup menu subs , text tracks length : ",p.textTracks),!p.textTracks||p.textTracks.length<=0)return S=!1,g.log(" Subs Menu not created !"),!1;for(n=0;n<p.textTracks.length;n++)if(g.debug(" @ text track number  ",n," and it type is ",p.textTracks[n].kind),"captions"===p.textTracks[n].kind||"subtitles"===p.textTracks[n].kind){S=!0;break}if(!1===S)return g.info(" Subs Menu Not created !! "),S;if(t=document.getElementById(m),g.info("Setting the btn ",t," from id ",m),null!==(I=document.getElementById(_)))for(;I.firstChild;)I.removeChild(I.firstChild);else A=document.createElement("div"),A.classList.add("settingMenuDiv"),A.classList.add("fj-hide"),A.innerHTML='<div class="fj-list-title"> Soutitres </div> <ul class="fj-list"  id="'+_+'" ></ul>\t',T.appendChild(A),t.addEventListener("click",function(e){l(A,this,e)}),I=document.getElementById(_);for(n=0;n<p.textTracks.length;n++)"captions"!==p.textTracks[n].kind&&"subtitles"!==p.textTracks[n].kind||(i=document.createElement("li"),"showing"===p.textTracks[n].mode?(i.classList.add("subtitles-menu-item-actif"),r=!0):i.classList.add("subtitles-menu-item"),i.setAttribute("index",n),i.innerHTML=p.textTracks[n].label,I.appendChild(i),i.addEventListener("click",function(e){u(this,!0)}),g.debug("Setting Subs List @ ",n," item is ",i));return i=document.createElement("li"),!1===r?i.classList.add("subtitles-menu-item-actif"):i.classList.add("subtitles-menu-item"),i.setAttribute("index",-1),i.innerHTML="off",I.appendChild(i),i.addEventListener("click",function(e){u(this)}),g.log("Setting Subs List @ ",-1," item is ",i),g.log(" Subs Menu  created !! ",A),S}function c(e){g.info("Calling for setup Auds !!!");var t=null,n=0,r=null;if(C=!1,g.info(" Trying to setup menu Auds , text tracks length : ",p.audioTracks),!p.audioTracks||p.audioTracks.length<=1)return C=!1,g.log(" Audio Menu not created !"),!1;if(t=document.getElementById(v),g.info("Setting the btn ",t," from id ",v),null!==(b=document.getElementById(y)))for(;b.firstChild;)b.removeChild(b.firstChild);else R=document.createElement("div"),R.classList.add("settingMenuDiv"),R.classList.add("fj-hide"),R.innerHTML='<div class="fj-list-title"> Audios </div> <ul class="fj-list"  id="'+y+'" ></ul>\t',T.appendChild(R),t.addEventListener("click",function(e){l(R,this,e)}),b=document.getElementById(y);for(n=0;n<p.audioTracks.length;n++)r=document.createElement("li"),p.audioTracks[n].enabled?r.classList.add("subtitles-menu-item-actif"):r.classList.add("subtitles-menu-item"),r.setAttribute("index",n),r.innerHTML=p.audioTracks[n].label,b.appendChild(r),r.addEventListener("click",function(e){u(this,!1)});return g.debug(" Audio Menu created !",p.audioTracks.length,"! ",b),C}var g=new a.default(this),p=e,h=null,m=t,v=n,_="smml"+m,y="amml"+n,E=i,T=document.getElementById(E),S=!1,A=null,I=null,C=!1,R=null,b=null;return{SetupSubs:f,SetupAuds:c,HideMenus:d,constructor:r}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),a=function(e){return e&&e.__esModule?e:{default:e}}(i);n(36),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){var t=0;if(null===e||void 0===e)return void(p=!1);for(g=e,p=!0,t=0;t<g.length;t++)g[t].started=!1,g[t].clicked=0;c.info("Setup is settled ",p," cheking overlays .. ",g)}function t(e){var t=g[e];g[e].clicked++,v.fireEvent(u.OverlayEvents.OVERLAY_USER_CLICKED),window.open(t[u.FJCONFIG_URL],"_blank")}function n(e){var t=h,n=null;for(c.warn(e,"you overlay  is now stopped ",g[e].handler),t=h,n=t.cloneNode(!0),t.parentNode.replaceChild(n,t),h=n;h.hasChildNodes();)h.removeChild(h.firstChild);h.innerHTML="",h.classList.add("fj-hide"),v.fireEvent(u.OverlayEvents.OVERLAY_ENDED)}function r(e){var r=null,i=g[e];for(g[e].started=!0,g[e].endTimer=setTimeout(function(){n(e)},1e3*i[u.FJCONFIG_DURATION]);h.hasChildNodes();)h.removeChild(h.firstChild);m=document.createElement("div"),_=document.createElement("div"),m.innerHTML='<div class="fj-overlay-description">   <p>'+i[u.FJCONFIG_DATA]+'</p> </div> <div class="fj-overlay-link">'+i[u.FJCONFIG_URL]+"</div>",m.style.cursor="pointer",_.innerHTML='<div>    <span class=" fj-overlay-closing  fj-control-embd fj-btn fj-icon-windowClose" aria-hidden="true"></span>    <div class="fj-overlay-annonce">Annonce</div></div>',_.addEventListener("click",function(){n(e)}),h.appendChild(_),h.appendChild(m),h.classList.remove("fj-hide"),h.classList.add("over-HL"),v.fireEvent(u.OverlayEvents.OVERLAY_STARTED),r=i[u.FJCONFIG_URL],c.info("Setting click on overlay going to  ",r),m.addEventListener("click",function(){t(e)}),c.log(e,"you overlay just started and will end in "+i[u.FJCONFIG_DURATION]+" sec",g[e].handler)}function a(e){var t=0,n=null,i=0;if(!0===p)for(t=0;t<g.length;t++)n=g[t],i=parseInt(n[u.FJCONFIG_SHOW_AT],10),e===i&&(c.info(t," starting overlay .. "),!1===g[t].started?(c.info(t," starting a new  overlay .. "),g[t].started=!0,r(t)):c.info(t," already started ",n[u.FJCONFIG_URL]," @@ ",n[u.FJCONFIG_SHOW_AT]))}function s(e){h=e}function l(e,t){return v.on(e,t)}function f(e,t){return v.off(e,t)}var c=new o.default(this),g=null,p=!1,h=null,m=null,v=new d.default,_=null;return{StartOverlay:r,StopOverlay:n,clicked:t,initialize:s,Setup:e,on:l,off:f,CheckOverlays:a,constructor:i}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),o=r(a),s=n(15),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),l=n(25),d=r(l);n(36),t.default=i},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(){function e(e,t){if(j=e,W=(0,d.MediaPlayer)().create(),W.initialize(),!j)throw new Error("Please call initialize with a valid Player UI having a video html 5 element ");G=!0,H=t,Q.debug(" Media player juste initilized with playerUiVideo")}function t(e,t){return X.on(e,t)}function n(e,t){return X.off(e,t)}function r(){J===Z.MP4_CLEAR?j.play():J===Z.DASH_CLEAR||J===Z.DASH_ENCRYPTED?W.play():Q.warn(" No Media Loaded , nothing to play ")}function i(){return J===Z.MP4_CLEAR?j.currentTime:J===Z.DASH_CLEAR||J===Z.DASH_ENCRYPTED?W.time():void Q.warn(" No Media Loaded ! ")}function o(){return J===Z.MP4_CLEAR?j.paused:J===Z.DASH_CLEAR||J===Z.DASH_ENCRYPTED?W.isPaused():(Q.warn(" No Media Loaded ! "),!0)}function u(){return J===Z.MP4_CLEAR?j.ended:J===Z.DASH_CLEAR||J===Z.DASH_ENCRYPTED?V:(Q.warn(" No Media Loaded ! "),!0)}function f(){return J===Z.MP4_CLEAR?j.muted:J===Z.DASH_CLEAR||J===Z.DASH_ENCRYPTED?W.isMuted():(Q.warn(" No Media Loaded ! "),!0)}function g(e){J===Z.MP4_CLEAR?j.volume=e:J===Z.DASH_CLEAR||J===Z.DASH_ENCRYPTED?W.setVolume(e):Q.warn(" No Media Loaded ! ")}function h(){return J===Z.MP4_CLEAR?j.duration:J===Z.DASH_CLEAR||J===Z.DASH_ENCRYPTED?W.duration():void Q.warn(" No Media Loaded ! ")}function m(){return J===Z.MP4_CLEAR?j.volume:J===Z.DASH_CLEAR||J===Z.DASH_ENCRYPTED?W.getVolume():void Q.warn(" No Media Loaded ! ")}function v(e){null!==e&&void 0!==e&&""!==e?(q=e,Q.debug(" Setting url for thumbs @",e)):(q=null,Q.debug(" No Setting url for thumbs "))}function _(e){var t=parseInt(e),n=0;if(Q.warn(" Setting text track to index : ",t),J===Z.MP4_CLEAR)for(n=0;n<j.textTracks.length;n++)"captions"!==j.textTracks[n].kind&&"subtitles"!==j.textTracks[n].kind||(j.textTracks[n].mode=t===n?"showing":"hidden");else W.setTextTrack(t)}function y(e){J===Z.MP4_CLEAR?j.muted=e:J===Z.DASH_CLEAR||J===Z.DASH_ENCRYPTED?W.setMute(e):Q.warn(" No Media Loaded ! ")}function E(){J===Z.MP4_CLEAR?j.pause():J===Z.DASH_CLEAR||J===Z.DASH_ENCRYPTED?W.pause():Q.warn(" No Media Loaded , nothing to pause ")}function T(e){J===Z.MP4_CLEAR?j.currentTime=parseFloat(e):J===Z.DASH_CLEAR||J===Z.DASH_ENCRYPTED?W.seek(parseFloat(e)):Q.warn(" No Media Loaded , nothing to seek ")}function S(e){}function A(e){}function I(e){}function C(e){Y++,X.fireEvent(c.PlayerEvents.PLAYBACK_STARTED,Y)}function R(e){X.fireEvent(c.PlayerEvents.PLAYBACK_PAUSED)}function b(e){V=!0,X.fireEvent(c.PlayerEvents.PLAYBACK_ENDED)}function M(e){var t=0;if(J===Z.MP4_CLEAR)t=j.currentTime;else{if(J!==Z.DASH_CLEAR&&J!==Z.DASH_ENCRYPTED)return void Q.warn(" Internal error !");t=W.time()}X.fireEvent(c.PlayerEvents.PLAYBACK_TIME_UPDATE,t)}function O(e){X.fireEvent(c.PlayerEvents.PLAYBACK_SEEKED)}function D(e){X.fireEvent(c.PlayerEvents.PLAYBACK_SEEKING)}function N(e){throw new Error("error : ",e)}function P(e){Q.debug("Eventing ## Adding new  track :",e),X.fireEvent(c.PlayerEvents.TRACKS_ADDED)}function L(){var e=0;if(z=-1,null!==q)for(e=0;e<j.textTracks.length;e++)if("metadata"===j.textTracks[e].kind)z=e,j.textTracks[e].mode="hidden",Q.warn("find  metadata tumbs  @ ",z,"/",j.textTracks.length," >>> and video duration ;;; ",h());else if("captions"===j.textTracks[e].kind||"subtitles"===j.textTracks[e].kind){Q.warn("find  soustitres  @ ",z,"/",j.textTracks.length," >>> ",j.textTracks[e]);break}Q.info(" stream is completly loaded  "),-1!==z&&-1!==q?X.fireEvent(c.PlayerEvents.STREAM_LOADED,z):X.fireEvent(c.PlayerEvents.STREAM_LOADED,null)}function w(e,t){var n=null,r=null,i=null,a=null,o=0,s=0;if(null!==e&&void 0!==e)for(o=0;o<e.length;o++)r=e[o],n=document.createElement("track"),n.kind="subtitles",n.src=r[c.FJCONFIG_SRC],n.srclang=r[c.FJCONFIG_LANG],i=p.isoLangs[r[c.FJCONFIG_LANG]],Q.log(" Appending track substitles with Label",i.name),s=i.name.indexOf(","),-1===s&&(s=i.name.indexOf(";")),a=-1===s?i.name:i.name.substr(0,s),n.label=a,t.appendChild(n);else Q.debug("no vtt Subs are found in config.")}function F(){var e;if("undefined"!=typeof navigator){if(!navigator.userAgent.match(/Firefox/))return!0;if(e=parseFloat(navigator.userAgent.match(/rv:([0-9.]+)/)[1]),!isNaN(e)&&e>=49)return!0}}function x(){var e=j,t=null;if(!0!==G)return void Q.warn("not yet initialized !");for(t=e.cloneNode(!0),e.parentNode.replaceChild(t,e),j=t;j.hasChildNodes();)j.removeChild(j.firstChild);j.removeAttribute("poster"),J===Z.MP4_CLEAR?(j.removeEventListener("loadedmetadata",L),j.removeEventListener("play",C),j.removeEventListener("pause",R),j.removeEventListener("ended",b),j.removeEventListener("timeupdate",M),j.removeEventListener("seeking",D),j.removeEventListener("seeked",O),j.removeEventListener("error",N)):J===Z.DASH_CLEAR||J===Z.DASH_ENCRYPTED||(W.reset(),W.off(d.MediaPlayer.events.STREAM_INITIALIZED,L,this),W.off(d.MediaPlayer.events.PLAYBACK_STARTED,C,this),W.off(d.MediaPlayer.events.PLAYBACK_PAUSED,R,this),W.off(d.MediaPlayer.events.QUALITY_CHANGE_REQUESTED,S,this),W.off(d.MediaPlayer.events.QUALITY_CHANGE_RENDERED,A,this),W.off(d.MediaPlayer.events.PERIOD_SWITCH_COMPLETED,I,this),W.off(d.MediaPlayer.events.PLAYBACK_ENDED,b,this),W.off(d.MediaPlayer.events.PLAYBACK_TIME_UPDATED,M,this),W.off(d.MediaPlayer.events.PLAYBACK_SEEKED,O,this),W.off(d.MediaPlayer.events.PLAYBACK_SEEKING,D,this),W.off(d.MediaPlayer.events.TEXT_TRACKS_ADDED,P,this),W.off(d.MediaPlayer.events.TEXT_TRACK_ADDED,P,this),W.off(d.MediaPlayer.events.ERROR,N,this)),J=a.UNKNOWN}function k(e,t,n,r,i){var a=null,o=document.createElement("source");o.type=t,o.src=e,j.preload=!0,j.controls=!1,j.autoplay=i,j.appendChild(o),null!==n&&void 0!==n&&""!==n&&j.setAttribute("poster",n),J=Z.MP4_CLEAR,null!==q&&void 0!==q?(a=document.createElement("track"),a.kind="metadata",a.src=q,Q.log(" Appending source thumbs to video",a),j.appendChild(a)):Q.warn(" Thumbs was not found ."),w(r,j),j.addEventListener("loadedmetadata",L,!1),j.addEventListener("play",C,!1),j.addEventListener("pause",R,!1),j.addEventListener("ended",b,!1),j.addEventListener("timeupdate",M,!1),j.addEventListener("seeked",O,!1),j.addEventListener("seeking",D,!1),j.addEventListener("error",N,!1),Q.info(" Clear MP4 stream is loaded @ ",e)}function U(e,t,n,r,i){var a=null;null!==t&&void 0!==t&&""!==t&&j.setAttribute("poster",t),j.preload=!0,j.controls=!1,j.autoplay=i,null===W&&(W=(0,d.MediaPlayer)().create(),W.initialize()),W.attachView(j),W.attachSource(e),W.setAutoPlay(i),W.setFastSwitchEnabled(!0),W.attachVideoContainer(H),F()&&W.attachTTMLRenderingDiv(r),J=Z.DASH_CLEAR,null!==q&&void 0!==q?(a=document.createElement("track"),a.kind="metadata",a.src=q,Q.log(" Appending source thumbs to video",a),j.appendChild(a)):Q.debug("No Thumbs vtt file is found on config."),w(n,j),W.on(d.MediaPlayer.events.PLAYBACK_METADATA_LOADED,L,this),W.on(d.MediaPlayer.events.PLAYBACK_STARTED,C,K),W.on(d.MediaPlayer.events.PLAYBACK_PLAYING,C,K),W.on(d.MediaPlayer.events.PLAYBACK_PAUSED,R,K),W.on(d.MediaPlayer.events.QUALITY_CHANGE_REQUESTED,S,K),W.on(d.MediaPlayer.events.QUALITY_CHANGE_RENDERED,A,K),W.on(d.MediaPlayer.events.PERIOD_SWITCH_COMPLETED,I,K),W.on(d.MediaPlayer.events.PLAYBACK_ENDED,b,K),W.on(d.MediaPlayer.events.PLAYBACK_TIME_UPDATED,M,K),W.on(d.MediaPlayer.events.PLAYBACK_SEEKED,O,K),W.on(d.MediaPlayer.events.PLAYBACK_SEEKING,D,K),W.on(d.MediaPlayer.events.TEXT_TRACKS_ADDED,P,this),W.on(d.MediaPlayer.events.ERROR,N,K),W.on(d.MediaPlayer.events.PLAYBACK_ERROR,N,this),W.attachSource(e),Q.info(" Clear DASH stream is loaded @ ",e)}function B(e,t,n,r,i,a){var o=null;null!==t&&void 0!==t&&""!==t&&j.setAttribute("poster",t),j.preload=!0,j.controls=!1,j.autoplay=i,null===W&&(W=(0,d.MediaPlayer)().create(),W.initialize()),W.attachView(j),W.attachSource(e),W.setAutoPlay(i),W.setFastSwitchEnabled(!0),W.attachVideoContainer(H),F()&&W.attachTTMLRenderingDiv(r),J=Z.DASH_ENCRYPTED,null!==q&&void 0!==q?(o=document.createElement("track"),o.kind="metadata",o.src=q,Q.log(" Appending source thumbs to video",o),j.appendChild(o)):Q.warn(" Thumbs was not found ."),w(n,j),W.on(d.MediaPlayer.events.STREAM_INITIALIZED,L,K),W.on(d.MediaPlayer.events.PLAYBACK_STARTED,C,K),W.on(d.MediaPlayer.events.PLAYBACK_PAUSED,R,K),W.on(d.MediaPlayer.events.QUALITY_CHANGE_REQUESTED,S,K),W.on(d.MediaPlayer.events.QUALITY_CHANGE_RENDERED,A,K),W.on(d.MediaPlayer.events.PERIOD_SWITCH_COMPLETED,I,K),W.on(d.MediaPlayer.events.PLAYBACK_ENDED,b,K),W.on(d.MediaPlayer.events.PLAYBACK_TIME_UPDATED,M,K),W.on(d.MediaPlayer.events.PLAYBACK_SEEKED,O,K),W.on(d.MediaPlayer.events.PLAYBACK_SEEKING,D,K),W.on(d.MediaPlayer.events.TEXT_TRACKS_ADDED,P,this),W.on(d.MediaPlayer.events.ERROR,N,K),W.attachSource(e),Q.info(" Clear ENC DASH stream is loaded @ ",e)}var j=null,K=this,G=!1,H=null,Y=0,q=null,z=-1,V=!1,J=a.UNKNOWN,W=null,Q=new s.default(this),X=new l.default,Z={UNKNOWN:0,MP4_CLEAR:1,DASH_CLEAR:2,DASH_ENCRYPTED:3,properties:{0:{name:"UNKNOWN",value:0,code:"U"},1:{name:"MP4_CLEAR",value:1,code:"M"},2:{name:"DASH_CLEAR",value:2,code:"D"},3:{name:"DASH_ENCRYPTED",value:3,code:"E"}}};return{initialize:e,on:t,off:n,StreamTypes:Z,CurrentStreamType:J,play:r,stop:stop,pause:E,setTextTrack:_,isPaused:o,isEnded:u,isMuted:f,setMute:y,setVolume:g,getVolume:m,setThumbsUrl:v,getDuration:h,time:i,seek:T,Unload:x,load:k,loadDash:U,loadDashDrm:B,constructor:a}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),s=i(o),u=n(25),l=i(u),d=n(92),f=n(15),c=r(f),g=n(57),p=r(g);t.default=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){function r(){var e={videoFigureId:Se,fullScreenOnStart:ue,videoId:Ae,vwidth:le,videoInfoId:Te,titleId:ve,spinnerId:_e,BigPlayBtnId:ye,videoCaptionId:Ee,thumbsDivId:Fe,thumbsImgId:xe,thumbstimerId:ke,menuContainerDivId:je,adsContainerDivId:Ue,videoControlsId:Ie,progressBarId:Le,playpreviousBtnId:Re,playpauseBtnId:Ce,playforwardBtnId:be,muteBtnId:Me,volumeDivId:De,volumeBarId:Oe,descriptionId:Ke,fullScreenBtnId:we,subtitlesBtnId:Ne,audiosBtnId:Pe,timerId:he,durationId:me,overlaysContainerDivId:Be};if(ie.info(" container if of the player ",se),!(K=document.getElementById(se)))throw new Error("The video container element still null");if(K.classList.add("fjPlayer"),K.innerHTML=(new p.default).GetHtml(e),Ge=null,K=null,G=document.getElementById(Ie),H=document.getElementById(Se),He=document.getElementById(_e),!(Ge=document.getElementById(Ae)))throw new Error("The video element still null");Y=document.getElementById(Ce),q=document.getElementById(Re),z=document.getElementById(be),V=document.getElementById(Me),J=document.getElementById(Oe),W=document.getElementById(Le),Q=document.getElementById(we),X=document.getElementById(he),Z=document.getElementById(me),$=document.getElementById(Se),ee=document.getElementById(ye),ne=document.getElementById(Ie),re=document.getElementById(Te),Ge.controls=!1,$.setAttribute("controls-hidden",!0),ne.classList.add("fj-hide"),re.classList.remove("fj-hide"),Ye=new u.default(document.getElementById(ke),document.getElementById(xe),document.getElementById(Fe),W),"true"===ue&&$.setAttribute("data-fullscreen","true"),qe||(Q.style.display="none")}function a(){oe.isPaused()||oe.isEnded()?oe.play():oe.pause()}function s(){oe.isPlayingAds()?(ee.classList.add("fj-hide"),$.setAttribute("controls-hidden",!0),ne.classList.add("fj-hide"),de.HideMenus()):oe.isPaused()||oe.isEnded()?(Y.classList.add("fj-icon-play"),Y.classList.remove("fj-icon-pause"),ee.classList.remove("fj-hide"),$.setAttribute("controls-hidden",!0),ne.classList.add("fj-hide"),de.HideMenus(),ie.log("UI is pausing !")):(Y.classList.remove("fj-icon-play"),Y.classList.add("fj-icon-pause"),ee.classList.add("fj-hide"),$.setAttribute("controls-hidden",!1),ne.classList.remove("fj-hide"),ie.log("UI is playing !"))}function l(){oe.isPaused()||oe.isEnded()||oe.isPlayingAds()||($.setAttribute("controls-hidden",!0),ne.classList.remove("m-fadeIn"),re.classList.remove("m-fadeIn"),ne.classList.add("m-fadeOut"),re.classList.add("m-fadeOut"),Ge.style.cursor="none",de.HideMenus(),Ye.hideThumbs(Ye))}function f(){oe.isPaused()||oe.isEnded()||oe.isPlayingAds()||($.setAttribute("controls-hidden",!1),ne.classList.remove("m-fadeOut"),re.classList.remove("m-fadeOut"),ne.classList.add("m-fadeIn"),re.classList.add("m-fadeIn"),Ge.style.cursor="auto")}function g(){oe.isPaused()||oe.isEnded()||oe.isPlayingAds()||("none"===Ge.style.cursor?f():(fe&&clearTimeout(fe),fe=setTimeout(function(){l()},ge)))}function h(e){var t=!1;t=de.SetupAuds(e),ie.warn(" Will setup Audio menu  ",t),!0!==t?document.getElementById(Pe).classList.add("fj-hide"):document.getElementById(Pe).classList.remove("fj-hide"),t=de.SetupSubs(e),ie.warn(" Will setup Subs menu  ",t),!0!==t?document.getElementById(Ne).classList.add("fj-hide"):document.getElementById(Ne).classList.remove("fj-hide")}function m(e){var t=J.value/100;ie.log(" volume from ",Ge.volume," to ",t),t>.6?(V.classList.remove("fj-icon-mute"),V.classList.remove("fj-icon-volDown"),V.classList.add("fj-icon-volUp")):t>0?(V.classList.remove("fj-icon-mute"),V.classList.remove("fj-icon-volUp"),V.classList.add("fj-icon-volDown")):(V.classList.remove("fj-icon-volDown"),V.classList.remove("fj-icon-volUp"),V.classList.add("fj-icon-mute")),Ge.volume=t,ie.log(" new volume is ",t)}function v(e){Ge.muted=!Ge.muted,Ge.muted?(J.value=0,V.classList.remove("fj-icon-volDown"),V.classList.remove("fj-icon-volUp"),V.classList.add("fj-icon-mute")):Ge.volume>.6?(J.value=100*Ge.volume,V.classList.remove("fj-icon-mute"),V.classList.remove("fj-icon-volDown"),V.classList.add("fj-icon-volUp")):(J.value=100*Ge.volume,V.classList.remove("fj-icon-mute"),V.classList.remove("fj-icon-volUp"),V.classList.add("fj-icon-volDown"))}function _(e){var t=W.getBoundingClientRect(),n=(e.pageX-t.left)*(ae/(t.right-t.left));ie.log(" Seeking from ",c.duration(n),"/",c.duration(ae),"to",c.duration(n)," sec"),oe.seek(n)}function y(){return document.fullscreenElement||document.msFullscreenElement||document.mozFullScreen||document.webkitIsFullScreen}function E(e){$.setAttribute("data-fullscreen",!!e)}function T(){y()?(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen(),E(!1),Q.classList.remove("fj-icon-compressScreen"),Q.classList.add("fj-icon-fullScreen")):(Q.classList.add("fj-icon-compressScreen"),Q.classList.remove("fj-icon-fullScreen"),$.requestFullscreen?$.requestFullscreen():$.mozRequestFullScreen?$.mozRequestFullScreen():$.webkitRequestFullScreen?Ge.webkitRequestFullScreen():$.msRequestFullscreen&&$.msRequestFullscreen(),E(!0))}function S(e){"fullscreenchange"===e.type&&(ie.log(" fullscreenchange >>> Full Scren changed Status ",!(!document.fullScreen&&!document.fullscreenElement)),E(!(!document.fullScreen&&!document.fullscreenElement))),"webkitfullscreenchange"===e.type&&(ie.log(" webkitfullscreenchange >>> Full Scren changed Status ",!!document.webkitIsFullScreen),E(!!document.webkitIsFullScreen)),"mozfullscreenchange"===e.type&&(ie.log(" mozfullscreenchange >>> Full Scren changed Status ",!!document.mozFullScreen),E(!!document.mozFullScreen)),"msfullscreenchange"===e.type&&(ie.log(" msfullscreenchange >>> Full Scren changed Status ",!!document.msFullscreenElement),E(!!document.msFullscreenElement))}function A(e){var t;"number"==typeof e&&(te.value=e),t=J.value/100,ie.log(" volume from ",Ge.volume," to ",t),t>.6?(V.classList.remove("fj-icon-mute"),V.classList.remove("fj-icon-volDown"),V.classList.add("fj-icon-volUp")):t>0?(V.classList.remove("fj-icon-mute"),V.classList.remove("fj-icon-volUp"),V.classList.add("fj-icon-volDown")):(V.classList.remove("fj-icon-volDown"),V.classList.remove("fj-icon-volUp"),V.classList.add("fj-icon-mute")),Ge.volume=t,ie.log(" new volume is ",t)}function I(e){isNaN(e)||(ae=e,Z.textContent=c.duration(e),W.max=e)}function C(e){isNaN(e)||(X.textContent=c.duration(e),W.value=e)}function R(e){document.getElementById(ve).innerHTML=e,document.getElementById(Ke).innerHTML=e}function b(){return Ge}function M(){return Ue}function O(){return Be}function D(e,t){return null!==t?Ye.Setup(b(),e,t):Ye.reset()}function N(){return H}function P(e){if(r(se),!(oe=e))throw new Error("Please pass an instance of player when instantiating");de=new d.default(Ge,Ne,Pe,je),H.addEventListener("mouseleave",l),H.addEventListener("mouseenter",f),H.addEventListener("mousemove",g),ee.addEventListener("click",a),Ge.addEventListener("click",a),Ge.addEventListener("dblclick",T),J.addEventListener("click",m),Y.addEventListener("click",a),V.addEventListener("click",v),Q.addEventListener("click",T),W.addEventListener("click",_),document.addEventListener("fullscreenchange",S),document.addEventListener("MSFullscreenChange",S),document.addEventListener("mozfullscreenchange",S),document.addEventListener("webkitfullscreenchange",S),W.min=0,W.step=.01,W.value=0,J.min=0,J.step=1,J.max=100,J.value=100,ce=!0}function L(){ee.style.display="none",re.style.display="none",Ge.style.display="none",G.style.display="none"}function w(){ee.style.display="block",re.style.display="block",Ge.style.display="block",G.style.display="block"}function F(){He.classList.remove("fj-hide")}function x(){!1===He.classList.contains("fj-hide")&&He.classList.add("fj-hide")}function k(){G.classList.add("disable")}function U(){G.classList.remove("disable")}function B(){return document.getElementById(Ee)}function j(){if(!0!==ce)return void ie.warn("not yet initialized");console.warn(" >>> Resetting player ui !!"),Ye.reset(),H.removeEventListener("mouseleave",l),H.removeEventListener("mouseenter",f),H.removeEventListener("mousemove",g),ee.removeEventListener("click",a),Ge.removeEventListener("click",a),Ge.removeEventListener("dblclick",T),J.removeEventListener("click",m),Y.removeEventListener("click",a),V.removeEventListener("click",v),Q.removeEventListener("click",T),W.removeEventListener("click",_),document.removeEventListener("fullscreenchange",S),document.removeEventListener("MSFullscreenChange",S),document.removeEventListener("mozfullscreenchange",S),document.removeEventListener("webkitfullscreenchange",S),s()}var K,G,H,Y,q,z,V,J,W,Q,X,Z,$,ee,te,ne,re,ie=new o.default(this),ae=0,oe=null,se=e,ue=!1,le=t,de=null,fe=null,ce=!1,ge=1500,pe=Date.now().toString().substr(6),he="trd"+pe,me="drd"+pe,ve="tld"+pe,_e="spin"+pe,ye="bp"+pe,Ee="vcp"+pe,Te="vif"+pe,Se="vfg"+pe,Ae="voi"+pe,Ie="vct"+pe,Ce="ppb"+pe,Re="pprb"+pe,be="ppfb"+pe,Me="mbt"+pe,Oe="vbr"+pe,De="vvd"+pe,Ne="subd"+pe,Pe="audb"+pe,Le="pgb"+pe,we="fsb"+pe,Fe="tbd"+pe,xe="tbi"+pe,ke="tbt"+pe,Ue="adscd"+pe,Be="ovscd"+pe,je="mncd"+pe,Ke="desc"+pe,Ge=null,He=null,Ye=null,qe=!0;return{setVolume:A,setDuration:I,UpdateProgress:C,setTitle:R,getVideo:b,getAdsContainerDivId:M,getOverlaysContainerDivId:O,SetupThumbsManager:D,SetupSubsAudsManager:h,getVideoFigure:N,initialize:P,toggleplaypauseBtn:s,getVideoCaption:B,hideVideo:L,ShowVideo:w,disable:k,enable:U,reset:j,ShowSpinner:F,HideSpinner:x,onplaypauseClick:a,constructor:i}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),o=r(a),s=n(87),u=r(s),l=n(83),d=r(l),f=n(37),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(f),g=n(88),p=r(g);n(36),t.default=i},function(e,t,n){"use strict";function r(e,t,n,i){function o(){_.classList.remove("fj-hide"),_.classList.add("fj-show")}function u(){_.classList.remove("fj-show"),_.classList.add("fj-hide")}function l(e){c.warn("eventing Thumbs is",e);var t,n,r,i,a,o=m.getBoundingClientRect(),u=(e.pageX-o.left)*(h/(o.right-o.left)),l=s.duration(parseFloat(u));if(u>h+2||u<0)return void c.warn(" Position is bigger than duration >>",u,h);if(c.log(" current clicked  ",l),null==(t=p.textTracks[g].cues))return void c.error(" cues is null @ ",g," not supported , Firefox ?");for(n=0;n<t.length&&!(t[n].startTime<=u&&t[n].endTime>u);n++);i=t[n].text.substr(t[n].text.indexOf("=")+1).split(","),a=-(o.left-e.pageX+i[2]/2),r="url("+t[n].text.split("#")[0]+")",y.style.backgroundImage=r,y.style.backgroundPosition="-"+i[0]+"px -"+i[1]+"px",y.style.width=i[2]+"px",y.style.height=i[3]+"px",v.innerHTML=l,_.style.left=a,_.style.width=i[2]+"px"}function d(){g=-1,m.removeEventListener("mousemove",l),m.removeEventListener("mouseleave",u),m.removeEventListener("mouseover",o)}function f(e,t,n){return d(),p=e,h=t,g=n,c.info(" Setting index thumbs tracks on ",g," and video duration ",h),!(!m||-1===g)&&(m.addEventListener("mousemove",l),m.addEventListener("mouseleave",u),m.addEventListener("mouseover",o),!0)}var c=new a.default(this),g=-1,p=null,h=0,m=i,v=e,_=n,y=t;return{Setup:f,reset:d,hideThumbs:u,showThumbs:o,off:removeEventListener,constructor:r}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),a=function(e){return e&&e.__esModule?e:{default:e}}(i),o=n(37),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o);n(36),t.default=r},function(e,t,n){"use strict";function r(){function e(){var e=s,t=String(u).replace(l,"\\$&");return e=e.replace(/%/g,t),new RegExp(e)}function t(t){for(var n,r=e(),i=t,a=r.exec(i),o=[];a;)n=a.index,0!==n&&(o.push(i.substring(0,n)),i=i.slice(n)),o.push(a[0]),i=i.slice(a[0].length),a=r.exec(i);return i&&o.push(i),o}function n(e,t){var n,r=[],i=0,s=!1;for(var u in e)if(e[u]===a)s=!0;else if(e[u]===o)s=!1,!0;else{if(!0===s&&!1===closed){if(n=e[u],n=n.replace(/ +/g,""),!t.hasOwnProperty(n))throw new Error(" Needed Key is Not found key for html player template :",e[u]);r[i]=t[n]}else r[i]=e[u];i++}return r.join("")}function i(e){return n(t(d),e)}var a="<%=",o="%>",s="(<%=|%>)",u="%",l=/[|\\{}()[\]^$+*?.]/g,d='<figure id="<%= videoFigureId %>" class="fj-figure" controls-hidden="true" data-fullscreen="<%= fullScreenOnStart %>">     \x3c!-- video element --\x3e      <video id="<%= videoId %>" class="fj-video" width= "<%= vwidth %>"> </video>     \x3c!-- Horizental Tpp --\x3e     <div class="fj-horizental-top" id="<%= videoInfoId %>">         <span class=" fj-vertical-left  fj-control  fj-btn  fj-icon-leftarrow" aria-hidden="true"> </span>         <div class=" fj-vertical-left  fj-vertical-separator "></div>         <div class=" fj-vertical-left  fj-control  fj-btn fj-title " id="<%= titleId %>"> </div>         <span class=" fj-vertical-right fj-control  fj-btn  fj-icon-share  " aria-hidden="true"> </span>         <div class=" fj-vertical-right  fj-vertical-separator "></div>         <span class=" fj-vertical-right fj-control  fj-btn  fj-icon-download " aria-hidden="true"> </span>     </div>     \x3c!-- Horizental Center --\x3e     <div class="fj-horizental-center">        <div class="fj-vertical-center">           <div id="<%= spinnerId %>" class=" fj-hide spinner"> </div>                <span class=" fj-control fj-big-btn  fj-icon-play"  aria-hidden="true" id="<%= BigPlayBtnId %>"></span>        </div>     </div>     \x3c!-- this will contains ads video or ads overlays --\x3e     <div id="<%=adsContainerDivId%>" class=""></div>     \x3c!-- Horizental Bottom Up used for menu  --\x3e     <div class="fj-horizental-bottomUpper">         \x3c!-- video caption ued by dash player for caption --\x3e         <div id="<%=videoCaptionId %>"></div>         \x3c!-- this present the thumbs image if exist--\x3e         <div class="thumbsBlockDiv  fj-hide" id="<%= thumbsDivId %>" >             <span class="thumbsBlock" id="<%= thumbsImgId %>"></span>             <span class="fjcontrols-control-text" id="<%= thumbstimerId %>"></span>         </div>         \x3c!-- this present the subtitles or audios menu if exist  and when clicked--\x3e         <div class="fj-vertical-left" id="<%=menuContainerDivId %>">         </div>     </div>     \x3c!-- Horizental Bottom down used for fj controls  --\x3e     <div class="fj-horizental-bottomLower"  id="<%=videoControlsId%>">         \x3c!--  the video progress Bar --\x3e         <div class="fj-vertical-center">             <input class=" fj-control-embd fj-video-progress" id="<%=progressBarId%>" type="range" min="0" />         </div>         \x3c!--  play,previous and next controls  --\x3e         <span class=" fj-vertical-left fj-control-embd fj-btn  fj-icon-playPrevious" aria-hidden="true" id="<%=playpreviousBtnId%>" title="previous"> </span>         <span class=" fj-vertical-left fj-control-embd fj-btn  fj-icon-play" aria-hidden="true" id="<%=playpauseBtnId%>" title="Play"> </span>         <span class=" fj-vertical-left fj-control-embd fj-btn  fj-icon-playNext" aria-hidden="true" id="<%=playforwardBtnId%>" title="next"> </span>         \x3c!--  mute and volume bar controls  --\x3e         <span class=" fj-vertical-left fj-control-embd fj-btn  fj-icon-volUp" aria-hidden="true" id="<%=muteBtnId%>" title="mute"> </span>         <div class="fj-vertical-left  volumebar" id="<%=volumeDivId%>">             <input id="<%=volumeBarId%>" class="fj-control-embd" type="range" min="0"  />         </div>         \x3c!--  more description of the stream   --\x3e         <div class=" fj-vertical-left fj-text " title="Description" id="<%=descriptionId%>">             <span></span>         </div>         \x3c!--  full screen, audio and subtitles controls  --\x3e         <span class=" fj-vertical-right fj-control-embd fj-btn  fj-icon-fullScreen " aria-hidden="true" id="<%=fullScreenBtnId%>" title="Fullscreen"> </span>         <span class=" fj-vertical-right fj-control-embd fj-btn  fj-icon-subs" aria-hidden="true" id="<%=subtitlesBtnId%>" title="Subtitles"> </span>         <span class=" fj-vertical-right fj-control-embd fj-btn  fj-icon-audios" aria-hidden="true" id="<%=audiosBtnId%>" title="Audios"> </span>         \x3c!--  timers   --\x3e         <div class=" fj-vertical-right fj-text " title="times">             <span id="<%= timerId %>">0:00:00</span><span>/</span><span id="<%= durationId %>">0:00:00</span>         </div>     </div>     \x3c!--  this will contains overlays   --\x3e     <div id="<%= overlaysContainerDivId %>" class="fj-overlayContainer fj-hide">     </div> </figure> ';return{GetHtml:i,constructor:r}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){t=e.exports=n(90)(),t.push([e.i,'.fj-icon-leftarrow{font-family:FontAwesome;font-size:1.3em;content:"\\F060"}.fj-icon-leftarrow:before{content:"\\F060"}.fj-icon-download{font-family:FontAwesome;font-size:1.3em;content:"\\F019"}.fj-icon-download:before{content:"\\F019"}.fj-icon-share{font-family:FontAwesome;font-size:1.3em}.fj-icon-share,.fj-icon-share:before{content:"\\F1E0"}.fj-icon-play{font-family:FontAwesome;font-size:1.3em}.fj-icon-play,.fj-icon-play:before{content:"\\F04B"}.fj-icon-playNext{font-family:FontAwesome;font-size:1.3em;content:"\\F051"}.fj-icon-playNext:before{content:"\\F051"}.fj-icon-playPrevious{font-family:FontAwesome;font-size:1.3em;content:"\\F048"}.fj-icon-playPrevious:before{content:"\\F048"}.fj-icon-pause{font-family:FontAwesome;font-size:1.3em}.fj-icon-pause,.fj-icon-pause:before{content:"\\F04C"}.fj-icon-volUp{font-family:FontAwesome;font-size:1.3em}.fj-icon-volUp,.fj-icon-volUp:before{content:"\\F028"}.fj-icon-volDown{font-family:FontAwesome;font-size:1.3em;content:"\\F027"}.fj-icon-volDown:before{content:"\\F027"}.fj-icon-mute{font-family:FontAwesome;font-size:1.3em}.fj-icon-mute,.fj-icon-mute:before{content:"\\F026"}.fj-icon-audios{font-family:FontAwesome;font-size:1.3em;content:"\\F130"}.fj-icon-audios:before{content:"\\F130"}.fj-icon-subs{font-family:FontAwesome;font-size:1.3em}.fj-icon-subs,.fj-icon-subs:before{content:"\\F20A"}.fj-icon-fullScreen{font-family:FontAwesome;font-size:1.3em;content:"\\F0B2"}.fj-icon-fullScreen:before{content:"\\F0B2"}.fj-icon-compressScreen{font-family:FontAwesome;font-size:1.3em;content:"\\F066"}.fj-icon-compressScreen:before{content:"\\F066"}.fj-icon-windowClose{font-family:FontAwesome;font-size:1.3em;content:"\\F00D"}.fj-icon-windowClose:before{content:"\\F00D"}.fj-figure,.fj-player{margin:0 auto}.fj-figure{background-color:#000;color:#fff;text-align:center;position:relative;display:inline-block;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;font-size:12px;width:100%}.fj-control{background-color:rgba(0,0,0,.6)}.fj-control,.fj-control-embd{color:#fff;opacity:.75;cursor:pointer}.fj-control-embd:hover,.fj-control:hover{opacity:1;background:#6c6c6c}.fj-video-progress{margin-bottom:.5%;margin-top:.5%;padding-left:1px;padding-right:1px}.divTspanitleSeparator{position:relative;visibility:visible;text-overflow:ellipsis;overflow:hidden;margin:0;white-space:nowrap;display:inline-block;max-width:766px;font-size:12px;padding:10px}.fj-horizental-top{top:5%}.fj-horizental-center,.fj-horizental-top{z-index:2147483647;border-radius:5px;width:80%;position:absolute;left:10%}.fj-horizental-center{top:45%}.fj-horizental-bottomMenus{bottom:22%}.fj-horizental-bottomMenus,.fj-horizental-bottomUpper{z-index:2147483647;position:absolute;border-radius:5px;opacity:.8;background:hsla(0,0%,4%,.8);width:90%;margin-left:5%;display:relative}.fj-horizental-bottomUpper{bottom:12%}.fj-horizental-bottomLower{z-index:2147483647;position:absolute;border-radius:5px;bottom:2%;opacity:.8;background:hsla(0,0%,4%,.8);width:90%;left:5%;display:relative}.fj-text{color:#fff;cursor:default;padding-right:5px;padding-top:1%}.fj-text,.fj-vertical-separator{white-space:nowrap;display:inline-block}.fj-vertical-separator{position:relative;visibility:visible;text-overflow:ellipsis;overflow:hidden;margin:0;max-width:766px;font-size:12px;padding:10px}.fj-vertical-left{position:relative;float:left}.fj-vertical-center{position:relative}.fj-vertical-right{position:relative;float:right}.fj-video{background-color:rgba(0,0,0,.6);-webkit-background-size:cover;-moz-background-size:cover;-o-background-size:cover;background-size:cover}.fj-btn{margin:.05em .1em}.fj-big-btn,.fj-btn{border-top-left-radius:5px;border-top-right-radius:5px;border-bottom-right-radius:5px;border-bottom-left-radius:5px;padding:5px 10px;white-space:nowrap;display:inline-block}.fj-big-btn{color:red;text-overflow:ellipsis;overflow:hidden;font-size:4em;margin-top:-15px;margin-left:-15px}.fj-title{background-color:rgba(0,0,0,.6)}.fj-hide{visibility:hidden;display:none}.fj-overlayContainer{height:100%;margin:0 auto}.fj-overlay{position:absolute;background:rgba(0,0,0,.5);float:left;font-size:12px;padding:5px;border-radius:5px;z-index:2147483647;top:20%;left:20%;height:auto}@keyframes spinner{to{transform:rotate(1turn)}}.spinner:before{content:"";box-sizing:border-box;z-index:2147483647;position:absolute;top:50%;left:50%;width:30px;height:30px;margin-top:-15px;margin-left:-15px;border-radius:50%;border:3px solid #8f9b9e;border-top-color:red;animation:spinner .6s linear infinite}.volumebar{margin-top:1%;padding-left:1%;padding-right:3%;border-left:none;border-right:none}input[type=range]{margin:auto;-webkit-appearance:none;-moz-appearance:none;position:relative;overflow:hidden;height:6px;width:98%!important;border-radius:5px;cursor:pointer;margin-top:2px;margin-bottom:2px}input[type=range]:focus{outline:none}input[type=range]::-webkit-slider-runnable-track{background:#8f9b9e;border-radius:5px}input[type=range]::-webkit-media-slider-thumb,input[type=range]::-webkit-slider-thumb{background:#8f9b9e;box-shadow:-100vw 0 0 100vw red;border:2px solid #3c4447;color:red;height:6px;border-radius:100%}input[type=range]::-moz-range-track{background:#8f9b9e;height:6px;border-radius:5px}input[type=range]::-moz-range-thumb{color:red;height:6px;border:2px solid #3c4447;border-radius:5px;box-shadow:-100vw 0 0 100vw red}.m-fadeOut{visibility:hidden;opacity:0;transition:visibility .2s,opacity .2s}.m-fadeIn{visibility:visible;opacity:1}.fj-list-title{cursor:default;font-weight:700;padding:5px}.settingMenuDiv{position:absolute;background:hsla(0,0%,4%,.8);bottom:10%;left:85%;margin-bottom:15px;border-radius:5px;padding-right:5px;list-style-type:none}.settingMenuDivnt div,.settingMenuDivnt ul{display:inline;list-style-type:none}.fj-list{list-style-type:none;padding-left:25px}.settingMenuSubMenuRight{float:left;width:100%;border-left:1px solid #2a2a2a;padding-left:5px;padding-right:5px}.subtitles-menu-item-actif{cursor:pointer;text-align:left;border-radius:5px;opacity:1}.subtitles-menu-item-actif:before{content:"\\F00C";font-family:FontAwesome;display:inline-block;margin-left:-1.3em;width:1.3em}.subtitles-menu-item{cursor:pointer;text-align:left;list-style-type:none;opacity:.9}.fj-overlays-container{width:100%;height:100%;margin:0 auto;padding:0;position:absolute}.over-HL{left:20%}.over-HL,.over-HR{position:absolute;background:rgba(0,0,0,.5);float:left;padding:5px;border-radius:5px;z-index:2147483647;top:25%;height:auto}.over-HR{left:80%}.fj-overlay-closing{float:right;text-decoration:none;display:inline-block}.fj-overlay-annonce{color:#7f7;font-size:1em}.fj-overlay-annonce,.fj-overlay-link{float:left;text-decoration:none;display:inline-block}.fj-overlay-link{color:#ff0;font-size:.8em}.fj-overlay-description{font-size:1.2em;float:right;text-decoration:none;display:inline-block}.thumbsBlockDiv{position:absolute;margin-bottom:15px;padding-top:5px;border-radius:5px;bottom:8%;background:hsla(0,0%,4%,.8)}.thumbsBlock{display:table-cell;border-radius:5px;vertical-align:top;display:inline-block}figure[controls-hidden=false] video::-webkit-media-text-track-display{position:relative!important;top:80%!important}figure[controls-hidden=false] video::-moz-media-text-track-display{position:relative!important;top:80%!important}html:-ms-fullscreen{width:100%}:-webkit-full-screen{background-color:transparent}figure[data-fullscreen=true] video::-webkit-media-controls{display:none!important}figure[data-fullscreen=true] video::-moz-media-controls{display:none!important}figure[data-fullscreen=true]{max-width:100%;width:100%;margin:0;padding:0}figure[data-fullscreen=true] video{height:100%}figure[data-fullscreen=true] .volumebar{width:35%}figure[data-fullscreen=true] .fj-title{font-size:3em}figure[data-fullscreen=true] .fj-text{font-size:2em}figure[data-fullscreen=true] .fj-big-btn{font-size:8em}figure[data-fullscreen=true] .fj-btn{font-size:3em;margin-bottom:5px}figure[data-fullscreen=true] .spinner:before{width:55px;height:55px;border:5px solid #8f9b9e;border-top-color:red}',""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var a=this[i][0];"number"==typeof a&&(r[a]=!0)}for(i=0;i<t.length;i++){var o=t[i];"number"==typeof o[0]&&r[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),e.push(o))}},e}},function(e,t,n){"use strict";function r(e){var t,n,r;for(t=[],r=0,n=e.length;r<n;r+=1)e[r].isRoot?t.push("root"):t.push(e[r].name);var i=function(e,t){var n;if(null!==e&&null!==t)for(n in e)e.hasOwnProperty(n)&&(t.hasOwnProperty(n)||(t[n]=e[n]))},a=function(e,t,n){var r,a,o,s,u;if(null!==e&&0!==e.length)for(r=0,a=e.length;r<a;r+=1)o=e[r],t.hasOwnProperty(o.name)&&(n.hasOwnProperty(o.name)?o.merge&&(s=t[o.name],u=n[o.name],"object"==typeof s&&"object"==typeof u?i(s,u):null!=o.mergeFunction?n[o.name]=o.mergeFunction(s,u):n[o.name]=s+u):n[o.name]=t[o.name])},o=function e(t,n){var r,i,o,s,u,l,d,f=t;if(null!==f.children&&0!==f.children.length)for(r=0,i=f.children.length;r<i;r+=1)if(l=f.children[r],n.hasOwnProperty(l.name))if(l.isArray)for(u=n[l.name+"_asArray"],o=0,s=u.length;o<s;o+=1)d=u[o],a(f.properties,n,d),e(l,d);else d=n[l.name],a(f.properties,n,d),e(l,d)};return{run:function n(r){var i,a,s,u,l,d,f;if(null===r)return r;if("object"!=typeof r)return r;for(i=0,a=t.length;i<a;i+=1)"root"===t[i]&&(l=e[i],d=r,o(l,d));for(u in r)if(r.hasOwnProperty(u)&&"__children"!=u){if(-1!==(s=t.indexOf(u)))if(l=e[s],l.isArray)for(f=r[u+"_asArray"],i=0,a=f.length;i<a;i+=1)d=f[i],o(l,d);else d=r[u],o(l,d);n(r[u])}return r}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,e.exports=t.default},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(66),a=r(i),o=n(70),s=r(o),u=n(131),l=r(u),d=n(118),f=r(d),c=n(60),g=window||e,p=g.dashjs;p||(p=g.dashjs={}),p.MediaPlayer=a.default,p.Protection=s.default,p.MetricsReporting=l.default,p.MediaPlayerFactory=f.default,p.Version=(0,c.getVersionString)(),t.default=p,t.MediaPlayer=a.default,t.Protection=s.default,t.MetricsReporting=l.default,t.MediaPlayerFactory=f.default}).call(t,n(56))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=a,n=o,r=!0,s=l=void 0}},o=n(26),s=function(e){return e&&e.__esModule?e:{default:e}}(o),u=function(e){function t(){r(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.AST_IN_FUTURE="astinfuture",this.BUFFERING_COMPLETED="bufferingCompleted",this.BUFFER_CLEARED="bufferCleared",this.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",this.BYTES_APPENDED="bytesAppended",this.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",this.CHUNK_APPENDED="chunkAppended",this.CURRENT_TRACK_CHANGED="currenttrackchanged",this.DATA_UPDATE_COMPLETED="dataUpdateCompleted",this.DATA_UPDATE_STARTED="dataUpdateStarted",this.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",this.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",this.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",this.INITIALIZATION_LOADED="initializationLoaded",this.INIT_FRAGMENT_LOADED="initFragmentLoaded",this.INIT_REQUESTED="initRequested",this.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",this.LIVE_EDGE_SEARCH_COMPLETED="liveEdgeSearchCompleted",this.LOADING_COMPLETED="loadingCompleted",this.LOADING_PROGRESS="loadingProgress",this.MANIFEST_UPDATED="manifestUpdated",this.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",this.QUOTA_EXCEEDED="quotaExceeded",this.REPRESENTATION_UPDATED="representationUpdated",this.SEGMENTS_LOADED="segmentsLoaded",this.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",this.SOURCEBUFFER_APPEND_COMPLETED="sourceBufferAppendCompleted",this.SOURCEBUFFER_REMOVE_COMPLETED="sourceBufferRemoveCompleted",this.STREAMS_COMPOSED="streamsComposed",this.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",this.STREAM_COMPLETED="streamCompleted",this.STREAM_INITIALIZED="streaminitialized",this.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",this.TIMED_TEXT_REQUESTED="timedTextRequested",this.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",this.URL_RESOLUTION_FAILED="urlResolutionFailed",this.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",this.XLINK_ALL_ELEMENTS_LOADED="xlinkAllElementsLoaded",this.XLINK_ELEMENT_LOADED="xlinkElementLoaded",this.XLINK_READY="xlinkReady"}return i(t,e),t}(s.default);t.default=u,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(t){X=t,J=X.getType(),V=X.isDynamic(),Z=(0,S.default)(F).create(e,V)}function n(){return X}function r(e){W=e}function i(){return W}function a(){return q}function s(){return Q}function d(){Z=null,W=0,Q=NaN,z=NaN,q=-1,V=null,J=null,X=null,k.off(f.default.INITIALIZATION_LOADED,L,Y),k.off(f.default.SEGMENTS_LOADED,w,Y)}function c(e){return e.split("$$").join("$")}function p(e,t){if(null===t||-1===e.indexOf("$RepresentationID$"))return e;var n=t.toString();return e.split("$RepresentationID$").join(n)}function h(e,t,n){var r,i,a=H.resolve(n.path);return a&&t!==a.url&&U.isRelative(t)?(r=a.url,i=a.serviceLocation,t&&(r+=t)):r=t,!U.isRelative(r)&&(e.url=r,e.serviceLocation=i,!0)}function m(e,t){var n,r,i=new o.default;if(n=e.adaptation.period,i.mediaType=t,i.type=l.HTTPRequest.INIT_SEGMENT_TYPE,i.range=e.range,r=n.start,i.availabilityStartTime=j.calcAvailabilityStartTimeFromPresentationTime(r,e.adaptation.period.mpd,V),i.availabilityEndTime=j.calcAvailabilityEndTimeFromPresentationTime(r+n.duration,n.mpd,V),i.quality=e.index,i.mediaInfo=X.getMediaInfo(),h(i,e.initialization,e))return i}function _(e){return e?m(e,J):null}function T(e){var t,n,r,i=e.adaptation.period,a=e.segmentInfoType,o=!1;return q<0?o=!1:V||q<e.availableSegmentsNumber?(n=(0,E.getSegmentByIndex)(q,e))&&(r=n.presentationStartTime-i.start,t=e.adaptation.period.duration,x(e.segmentInfoType+": "+r+" / "+t),o=("SegmentTimeline"!==a||!V)&&r>=t):o=!0,o}function I(e){return Z.getSegments(e,z,q,C)}function C(e,t){if(e.segments=t,t&&t.length>0&&(Q=isNaN(Q)?t[0].presentationStartTime:Math.min(t[0].presentationStartTime,Q)),V&&isNaN(j.getExpectedLiveEdge())){var n=t.length-1,r=t[n],i=r.presentationStartTime,a=G.getMetricsFor("stream");j.setExpectedLiveEdge(i),G.updateManifestUpdateInfo(K.getCurrentManifestUpdate(a),{presentationStartTime:i})}}function R(e){if(!e)throw new u.default("no representation");return e.segments=null,I(e),e}function b(e,t){var n,r=e.initialization,i="BaseURL"!==e.segmentInfoType&&"SegmentBase"!==e.segmentInfoType&&!e.indexRange;if(e.segmentDuration||e.segments||R(e),e.segmentAvailabilityRange=null,e.segmentAvailabilityRange=j.calcSegmentAvailabilityRange(e,V),e.segmentAvailabilityRange.end<e.segmentAvailabilityRange.start&&!e.useCalculatedLiveEdgeTime)return n=new u.default(A,"no segments are available yet",{availabilityDelay:e.segmentAvailabilityRange.start-e.segmentAvailabilityRange.end}),void k.trigger(f.default.REPRESENTATION_UPDATED,{sender:this,representation:e,error:n});t||(q=-1),e.segmentDuration&&R(e),r||B.loadInitialization(e),i||B.loadSegments(e,J,e.indexRange),r&&i&&k.trigger(f.default.REPRESENTATION_UPDATED,{sender:this,representation:e})}function M(e,t,n){var r,i,a,o,s,u=t.segments,l=u?u.length:null,d=-1;if(u&&l>0)for(s=0;s<l;s++)if(i=u[s],a=i.presentationStartTime,o=i.duration,r=void 0===n||null===n?o/2:n,e+r>=a&&e-r<a+o){d=i.availabilityIdx;break}return d}function O(e){if(null===e||void 0===e)return null;var t=new o.default,n=e.representation,r=n.adaptation.period.mpd.manifest.Period_asArray[n.adaptation.period.index].AdaptationSet_asArray[n.adaptation.index].Representation_asArray[n.index].bandwidth,i=e.media;return i=(0,E.replaceTokenForTemplate)(i,"Number",e.replacementNumber),i=(0,E.replaceTokenForTemplate)(i,"Time",e.replacementTime),i=(0,E.replaceTokenForTemplate)(i,"Bandwidth",r),i=p(i,n.id),i=c(i),t.mediaType=J,t.type=l.HTTPRequest.MEDIA_SEGMENT_TYPE,t.range=e.mediaRange,t.startTime=e.presentationStartTime,t.duration=e.duration,t.timescale=n.timescale,t.availabilityStartTime=e.availabilityStartTime,t.availabilityEndTime=e.availabilityEndTime,t.wallStartTime=e.wallStartTime,t.quality=n.index,t.index=e.availabilityIdx,t.mediaInfo=X.getMediaInfo(),t.adaptationIndex=n.adaptation.index,h(t,i,n)?t:void 0}function D(e,t,n){var r,i,a,s=q,u=!!n&&n.keepIdx,l=n?n.timeThreshold:null,d=!(!n||!n.ignoreIsFinished);return e?(z!==t&&(z=t,x("Getting the request for "+J+" time : "+t)),q=M(t,e,l),I(e),q<0&&(q=M(t,e,l)),q>0&&x("Index for "+J+" time "+t+" is "+q),a=!d&&T(e),a?(r=new o.default,r.action=o.default.ACTION_COMPLETE,r.index=q,r.mediaType=J,r.mediaInfo=X.getMediaInfo(),x("Signal complete.",r)):(i=(0,E.getSegmentByIndex)(q,e),r=O(i)),u&&s>=0&&(q="SegmentTimeline"===e.segmentInfoType&&V?q:s),r):null}function N(e,t){var n=(e.segmentAvailabilityRange.end-e.segmentAvailabilityRange.start)/2;return e.segments=null,e.segmentAvailabilityRange={start:t-n,end:t+n},D(e,t,{keepIdx:!1,ignoreIsFinished:!0})}function P(e){var t,n,r;return e&&-1!==q?(z=null,q++,x("Getting the next request at index: "+q),r=T(e),r?(t=new o.default,t.action=o.default.ACTION_COMPLETE,t.index=q,t.mediaType=J,t.mediaInfo=X.getMediaInfo(),x("Signal complete.")):(I(e),n=(0,E.getSegmentByIndex)(q,e),t=O(n),!n&&V&&q--),t):null}function L(e){var t=e.representation;t.segments&&k.trigger(f.default.REPRESENTATION_UPDATED,{sender:this,representation:t})}function w(e){if(!e.error&&J===e.mediaType){var t,n,r,i,a=e.segments,o=e.representation,s=[],u=0;for(t=0,n=a.length;t<n;t++)r=a[t],i=(0,E.getTimeBasedSegment)(j,V,o,r.startTime,r.duration,r.timescale,r.media,r.mediaRange,u),s.push(i),i=null,u++;o.segmentAvailabilityRange={start:s[0].presentationStartTime,end:s[n-1].presentationStartTime},o.availableSegmentsNumber=n,C(o,s),o.initialization&&k.trigger(f.default.REPRESENTATION_UPDATED,{sender:this,representation:o})}}var F=this.context,x=(0,v.default)(F).getInstance().log,k=(0,g.default)(F).getInstance(),U=(0,y.default)(F).getInstance(),B=e.segmentBaseLoader,j=e.timelineConverter,K=e.dashMetrics,G=e.metricsModel,H=e.baseURLController,Y=void 0,q=void 0,z=void 0,V=void 0,J=void 0,W=void 0,Q=void 0,X=void 0,Z=void 0;return Y={initialize:t,getStreamProcessor:n,getInitRequest:_,getSegmentRequestForTime:D,getNextSegmentRequest:P,generateSegmentRequestForTime:N,updateRepresentation:b,setCurrentTime:r,getCurrentTime:i,getCurrentIndex:a,getEarliestTime:s,reset:d},function(){q=-1,W=0,Q=NaN,k.on(f.default.INITIALIZATION_LOADED,L,Y),k.on(f.default.SEGMENTS_LOADED,w,Y)}(),Y}Object.defineProperty(t,"__esModule",{value:!0});var a=n(24),o=r(a),s=n(5),u=r(s),l=n(6),d=n(1),f=r(d),c=n(2),g=r(c),p=n(0),h=r(p),m=n(3),v=r(m),_=n(23),y=r(_),E=n(27),T=n(107),S=r(T),A=1;i.__dashjs_factory_name="DashHandler";var I=h.default.getClassFactory(i);I.SEGMENTS_UNAVAILABLE_ERROR_CODE=A,t.default=I,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){y=(0,c.default)(g).getInstance(),E=(0,_.default)(g).getInstance(),T=(0,o.default)(g).getInstance()}function t(e){e.baseURLController&&(A=e.baseURLController)}function n(e,t){var r=!0,i=null,a=null,o=new XMLHttpRequest,u=A.resolve(e.path),d=t||{url:u?u.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,request:o};h("Start searching for initialization."),o.onload=function(){o.status<200||o.status>299||(r=!1,d.bytesLoaded=d.range.end,a=E.parse(o.response),i=s(a),i?(e.range=i,e.initialization=d.url,v.trigger(p.default.INITIALIZATION_LOADED,{representation:e})):(d.range.end=d.bytesLoaded+d.bytesToLoad,n(e,d)))},o.onloadend=o.onerror=function(){r&&(r=!1,y.downloadError("initialization",d.url,o),v.trigger(p.default.INITIALIZATION_LOADED,{representation:e}))},l(o,d),h("Perform init search: "+d.url)}function r(e,t,n,i,o){if(n&&(void 0===n.start||void 0===n.end)){var s=n?n.toString().split("-"):null;n=s?{start:parseFloat(s[0]),end:parseFloat(s[1])}:null}o=o||f;var u=!0,d=null,c=null,g=!!n,p=new XMLHttpRequest,m=A.resolve(e.path),v={url:m?m.url:void 0,range:g?n:{start:0,end:1500},searching:!g,bytesLoaded:i?i.bytesLoaded:0,bytesToLoad:1500,request:p};p.onload=function(){if(!(p.status<200||p.status>299)){var n=v.bytesToLoad,i=p.response.byteLength;if(u=!1,v.bytesLoaded=v.range.end-v.range.start,d=E.parse(p.response),(c=d.getBox("sidx"))&&c.isComplete){var s,l,f=c.references;if(null!==f&&void 0!==f&&f.length>0&&(s=1===f[0].reference_type),s){h("Initiate multiple SIDX load."),v.range.end=v.range.start+c.size;var g,m,_,y,T,S=[],A=0,I=(c.offset||v.range.start)+c.size,C=function(n){n?(S=S.concat(n),++A>=m&&o(S,e,t)):o(null,e,t)};for(g=0,m=f.length;g<m;g++)_=I,y=I+f[g].referenced_size-1,I+=f[g].referenced_size,T={start:_,end:y},r(e,null,T,v,C)}else h("Parsing segments from SIDX."),l=a(c,v),o(l,e,t)}else{if(c)v.range.start=c.offset||v.range.start,v.range.end=v.range.start+(c.size||n);else{if(i<v.bytesLoaded)return void o(null,e,t);var R=d.getLastBox();R&&R.size?(v.range.start=R.offset+R.size,v.range.end=v.range.start+n):v.range.end+=n}r(e,t,v.range,v,o)}}},p.onloadend=p.onerror=function(){u&&(u=!1,y.downloadError("SIDX",v.url,p),o(null,e,t))},l(p,v),h("Perform SIDX load: "+v.url)}function i(){y=null,E=null,T=null,h=null}function a(e,t){for(var n,r,i,a,o=e.references,s=o.length,l=e.timescale,d=e.earliest_presentation_time,f=t.range.start+e.offset+e.first_offset+e.size,c=[],g=0;g<s;g++)i=o[g].subsegment_duration,a=o[g].referenced_size,n=new u.default,n.duration=i,n.media=t.url,n.startTime=d,n.timescale=l,r=f+a-1,n.mediaRange=f+"-"+r,c.push(n),d+=i,f+=a;return c}function s(e){var t,n,r=e.getBox("ftyp"),i=e.getBox("moov"),a=null;return h("Searching for initialization."),i&&i.isComplete&&(t=r?r.offset:i.offset,n=i.offset+i.size-1,a=t+"-"+n,h("Found the initialization.  Range: "+a)),a}function l(e,t){t.url&&(e.open("GET",T.modifyRequestURL(t.url)),e.responseType="arraybuffer",e.setRequestHeader("Range","bytes="+t.range.start+"-"+t.range.end),e=T.modifyRequestHeader(e),e.send(null))}function f(e,t,n){e?v.trigger(p.default.SEGMENTS_LOADED,{segments:e,representation:t,mediaType:n}):v.trigger(p.default.SEGMENTS_LOADED,{segments:null,representation:t,mediaType:n,error:new d.default(null,"error loading segments",null)})}var g=this.context,h=(0,S.default)(g).getInstance().log,v=(0,m.default)(g).getInstance(),y=void 0,E=void 0,T=void 0,A=void 0;return{setConfig:t,initialize:e,loadInitialization:n,loadSegments:r,reset:i}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(35),o=r(a),s=n(41),u=r(s),l=n(5),d=r(l),f=n(11),c=r(f),g=n(1),p=r(g),h=n(2),m=r(h),v=n(53),_=r(v),y=n(0),E=r(y),T=n(3),S=r(T);i.__dashjs_factory_name="SegmentBaseLoader",t.default=E.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){I=(0,m.default)(g).getInstance(),R=(0,_.default)(g).getInstance(),M=(0,C.default)(g).create({errHandler:I,metricsModel:b,requestModifier:R})}function t(e){if(!e.baseURLController||!e.metricsModel)throw new Error("Missing config parameter(s)");O=e.baseURLController,b=e.metricsModel}function n(e){var t=[],n=void 0,r=void 0,i=void 0,a=(0,d.default)(g).create({data:e}),o=void 0;for(a.consumeTag(S.Segment.Cues),r=a.getMatroskaCodedNum();a.moreData()&&a.consumeTagAndSize(S.Segment.Cues.CuePoint,!0);){for(n={},n.CueTime=a.parseTag(S.Segment.Cues.CuePoint.CueTime),n.CueTracks=[];a.moreData()&&a.consumeTagAndSize(S.Segment.Cues.CuePoint.CueTrackPositions,!0);){if(i={},i.Track=a.parseTag(S.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===i.Track)throw new Error("Cue track cannot be 0");i.ClusterPosition=a.parseTag(S.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),a.getPos()+4>r||!a.consumeTag(S.Segment.Cues.CuePoint.CueTrackPositions.CueBlockNumber,!0)?n.CueTracks.push(i):(o=a.getMatroskaCodedNum(),i.BlockNumber=a.getMatroskaUint(o),n.CueTracks.push(i))}if(0===n.CueTracks.length)throw new Error("Mandatory cuetrack not found");t.push(n)}if(0===t.length)throw new Error("mandatory cuepoint not found");return t}function r(e,t,r,i,a){var o=void 0,s=void 0,u=void 0,l=void 0,d=void 0,f=void 0,c=void 0,g=void 0;for(s=n(e),u=[],d=0,f=s.length;d<f;d+=1)l=new E.default,o=0,o=d<s.length-1?s[d+1].CueTime-s[d].CueTime:a-s[d].CueTime,l.duration=o,l.media=t,l.startTime=s[d].CueTime,l.timescale=1e3,c=s[d].CueTracks[0].ClusterPosition+r,g=d<s.length-1?s[d+1].CueTracks[0].ClusterPosition+r-1:i-1,l.mediaRange=c+"-"+g,u.push(l);return h("Parsed cues: "+u.length+" cues."),u}function i(e,t,n,i){var a=(0,d.default)(g).create({data:e}),o=void 0,s=void 0,u=n.split("-"),l=null,c={url:t,range:{start:parseFloat(u[0]),end:parseFloat(u[1])},request:l},p=void 0,m=void 0;for(h("Parse EBML header: "+c.url),a.skipOverElement(S.EBML),a.consumeTag(S.Segment),p=a.getMatroskaCodedNum(),p+=a.getPos(),m=a.getPos();a.moreData()&&!a.consumeTagAndSize(S.Segment.Info,!0);)if(!(a.skipOverElement(S.Segment.SeekHead,!0)||a.skipOverElement(S.Segment.Tracks,!0)||a.skipOverElement(S.Segment.Cues,!0)||a.skipOverElement(S.Void,!0)))throw new Error("no valid top level element found");for(;void 0===o;){var v=a.getMatroskaCodedNum(!0),_=a.getMatroskaCodedNum();switch(v){case S.Segment.Info.Duration.tag:o=a[S.Segment.Info.Duration.parse](_);break;default:a.setPos(a.getPos()+_)}}l=f(c);var y=function(e){s=r(e,c.url,m,p,o),i(s)},E=function(){h("Download Error: Cues "+c.url),i(null)};M.load({request:l,success:y,error:E}),h("Perform cues load: "+c.url+" bytes="+c.range.start+"-"+c.range.end)}function a(e,t){var n=null,r=O.resolve(e.path),i=r?r.url:void 0,a=e.range.split("-"),s=t||{range:{start:parseFloat(a[0]),end:parseFloat(a[1])},request:n,url:i,init:!0};h("Start loading initialization."),n=f(s);var u=function(){e.initialization=s.url,v.trigger(o.default.INITIALIZATION_LOADED,{representation:e})},l=function(){v.trigger(o.default.INITIALIZATION_LOADED,{representation:e})};M.load({request:n,success:u,error:l}),h("Perform init load: "+s.url)}function s(e,t,n,r){var a=null,o=O.resolve(e.path),s=o?o.url:void 0,u={bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:a,url:s,init:!1};r=r||l,a=f(u),h("Parsing ebml header");var d=function(a){i(a,s,n,function(n){r(n,e,t)})},c=function(){r(null,e,t)};M.load({request:a,success:d,error:c})}function l(e,t,n){e?v.trigger(o.default.SEGMENTS_LOADED,{segments:e,representation:t,mediaType:n}):v.trigger(o.default.SEGMENTS_LOADED,{segments:null,representation:t,mediaType:n,error:new Error(null,"error loading segments",null)})}function f(e){var t=new A.default;return t.type=e.init?T.HTTPRequest.INIT_SEGMENT_TYPE:T.HTTPRequest.MEDIA_SEGMENT_TYPE,t.url=e.url,t.range=e.range.start+"-"+e.range.end,t}function c(){I=null,R=null,h=null}var g=this.context,h=(0,p.default)(g).getInstance().log,v=(0,u.default)(g).getInstance(),y=void 0,S=void 0,I=void 0,R=void 0,b=void 0,M=void 0,O=void 0;return y={setConfig:t,initialize:e,loadInitialization:a,loadSegments:s,reset:c},function(){S={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"},CueBlockNumber:{tag:21368}}}}},Void:{tag:236,required:!0}}}(),y}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=r(a),s=n(2),u=r(s),l=n(178),d=r(l),f=n(0),c=r(f),g=n(3),p=r(g),h=n(11),m=r(h),v=n(35),_=r(v),y=n(41),E=r(y),T=n(6),S=n(24),A=r(S),I=n(29),C=r(I);i.__dashjs_factory_name="WebmSegmentBaseLoader",t.default=c.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){e.abrController&&(z=e.abrController)}function t(e){q=e,V=q.getIndexHandler()}function n(){return q}function r(){return j}function i(){return K}function a(){return G}function s(){return Y}function l(){U.off(D.default.QUALITY_CHANGE_REQUESTED,F,B),U.off(D.default.REPRESENTATION_UPDATED,N,B),U.off(D.default.WALLCLOCK_TIME_UPDATED,P,B),U.off(D.default.BUFFER_LEVEL_UPDATED,w,B),U.off(D.default.LIVE_EDGE_SEARCH_COMPLETED,L,B),j=null,K=-1,G=!0,H=[],z=null,J=null,W=null,Q=null,X=null,Z=null,$=null,ee=null,te=null,ne=null}function f(e,t,n){var r,i,a=null,o=q.getStreamInfo(),s=z.getTopQualityIndexFor(n,o.id);if(G=!0,U.trigger(D.default.DATA_UPDATE_STARTED,{sender:this}),H=A(t),null===j&&"fragmentedText"!==n?(i=z.getAverageThroughput(n),a=i||z.getInitialBitrateFor(n,o),r=z.getQualityForBitrate(q.getMediaInfo(),a)):r=z.getQualityFor(n,o),r>s&&(r=s),Y=v(r),j=e,"video"!==n&&"audio"!==n&&"fragmentedText"!==n)return G=!1,void U.trigger(D.default.DATA_UPDATE_COMPLETED,{sender:this,data:j,currentRepresentation:Y});for(var u=0;u<H.length;u++)V.updateRepresentation(H[u],!0)}function g(){var e=new Date,t=s(),n=1e3*W.getTime();X.addRepresentationSwitch(t.adaptation.type,e,n,t.id)}function h(){var e=$.calcSegmentAvailabilityRange(Y,q.isDynamic());X.addDVRInfo(q.getType(),W.getTime(),q.getStreamInfo().manifestInfo,e)}function v(e){return H[e]}function y(e){return H.indexOf(e)}function T(){for(var e=0,t=H.length;e<t;e++){var n=H[e].segmentInfoType;if(null===H[e].segmentAvailabilityRange||null===H[e].initialization||("SegmentBase"===n||"BaseURL"===n)&&!H[e].segments)return!1}return!0}function A(e){var t=Q.getValue();return K=ee.getIndexForAdaptation(j,t,e.period.index),ee.getRepresentationsForAdaptation(t,e)}function C(e){for(var t,n=0,r=H.length;n<r;n++)t=H[n],t.segmentAvailabilityRange=$.calcSegmentAvailabilityRange(t,e)}function b(){H.forEach(function(e){e.segmentAvailabilityRange=null})}function O(e){var t=e,n=function(){if(!a()){G=!0,U.trigger(D.default.DATA_UPDATE_STARTED,{sender:B}),b();for(var e=0;e<H.length;e++)V.updateRepresentation(H[e],!0)}};G=!1,U.trigger(D.default.AST_IN_FUTURE,{delay:t}),setTimeout(n,t)}function N(e){if(e.sender.getStreamProcessor()===q&&a()){var t,n,r,i=e.representation,o=X.getMetricsFor("stream"),u=X.getMetricsFor(s().adaptation.type),l=te.getCurrentManifestUpdate(o),d=!1,f=0;if("dynamic"===i.adaptation.period.mpd.manifest.type){var c=i.segmentAvailabilityRange.end-i.segmentAvailabilityRange.start;f=1e3*(W.computeLiveDelay(Y.segmentDuration,q.getStreamInfo().manifestInfo.DVRWindowSize)-c)}if(f>0)return h(),O(f),n=new R.default(x,"Segments update failed",null),void U.trigger(D.default.DATA_UPDATE_COMPLETED,{sender:this,data:j,currentRepresentation:Y,error:n});if(l){for(var p=0;p<l.trackInfo.length;p++)if(t=l.trackInfo[p],t.index===i.index&&t.mediaType===q.getType()){d=!0;break}d||X.addManifestUpdateRepresentationInfo(l,i.id,i.index,i.adaptation.period.index,q.getType(),i.presentationTimeOffset,i.startNumber,i.segmentInfoType)}T()&&(G=!1,z.setPlaybackQuality(q.getType(),q.getStreamInfo(),y(Y)),X.updateManifestUpdateInfo(l,{latency:Y.segmentAvailabilityRange.end-W.getTime()}),r=te.getCurrentRepresentationSwitch(u),r||g(),U.trigger(D.default.DATA_UPDATE_COMPLETED,{sender:this,data:j,currentRepresentation:Y}))}}function P(e){e.isDynamic&&C(e.isDynamic)}function L(e){if(!e.error){C(!0),V.updateRepresentation(Y,!1);var t=Q.getValue(),n=Y.adaptation.period,r=J.getActiveStreamInfo();r.isLast&&(n.mpd.checkTime=ee.getCheckTime(t,n),n.duration=ee.getEndTimeForLastPeriod(Q.getValue(),n)-n.start,r.duration=n.duration)}}function w(e){e.sender.getStreamProcessor()===q&&h()}function F(e){e.mediaType===q.getType()&&q.getStreamInfo().id===e.streamInfo.id&&e.oldQuality!==e.newQuality&&(Y=v(e.newQuality),Z.setSavedBitrateSettings(e.mediaType,Y.bandwidth),g())}var x=1,k=this.context,U=(0,M.default)(k).getInstance(),B=void 0,j=void 0,K=void 0,G=void 0,H=void 0,Y=void 0,q=void 0,z=void 0,V=void 0,J=void 0,W=void 0,Q=void 0,X=void 0,Z=void 0,$=void 0,ee=void 0,te=void 0,ne=void 0;return B={initialize:t,setConfig:e,getData:r,getDataIndex:i,isUpdating:a,updateData:f,getStreamProcessor:n,getCurrentRepresentation:s,getRepresentationForQuality:v,reset:l},function(){j=null,K=-1,G=!0,H=[],z=(0,c.default)(k).getInstance(),J=(0,m.default)(k).getInstance(),W=(0,p.default)(k).getInstance(),Q=(0,_.default)(k).getInstance(),X=(0,E.default)(k).getInstance(),Z=(0,I.default)(k).getInstance(),$=(0,d.default)(k).getInstance(),ee=(0,o.default)(k).getInstance(),te=(0,u.default)(k).getInstance(),ne=(0,S.default)(k).getInstance(),U.on(D.default.QUALITY_CHANGE_REQUESTED,F,B),U.on(D.default.REPRESENTATION_UPDATED,N,B),U.on(D.default.WALLCLOCK_TIME_UPDATED,P,B),U.on(D.default.BUFFER_LEVEL_UPDATED,w,B),U.on(D.default.LIVE_EDGE_SEARCH_COMPLETED,L,B)}(),B}Object.defineProperty(t,"__esModule",{value:!0});var a=n(12),o=r(a),s=n(17),u=r(s),l=n(28),d=r(l),f=n(10),c=r(f),g=n(8),p=r(g),h=n(21),m=r(h),v=n(33),_=r(v),y=n(14),E=r(y),T=n(4),S=r(T),A=n(54),I=r(A),C=n(5),R=r(C),b=n(2),M=r(b),O=n(1),D=r(O),N=n(0),P=r(N);i.__dashjs_factory_name="RepresentationController",t.default=P.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e,t){var i;try{var o=window.performance.now();if(!(i=s.xml_str2json(e)))throw new Error("parser error");var l=window.performance.now();u.run(i);var d=window.performance.now();t.setMatchers(a),t.setIron(u),n("Parsing complete: ( xml2json: "+(l-o).toPrecision(3)+"ms, objectiron: "+(d-l).toPrecision(3)+"ms, total: "+((d-o)/1e3).toPrecision(3)+"s)")}catch(t){return r.manifestError("parsing the manifest failed","parse",e,t),null}return i}var t=this.context,n=(0,d.default)(t).getInstance().log,r=(0,o.default)(t).getInstance(),i=void 0,a=void 0,s=void 0,u=void 0;return i={parse:e},function(){a=[new m.default,new _.default,new E.default],s=new p.default(a,"",!0),u=new c.default([new S.default,new I.default])}(),i}Object.defineProperty(t,"__esModule",{value:!0});var a=n(11),o=r(a),s=n(0),u=r(s),l=n(3),d=r(l),f=n(91),c=r(f),g=n(39),p=r(g),h=n(103),m=r(h),v=n(102),_=r(v),y=n(104),E=r(y),T=n(100),S=r(T),A=n(101),I=r(A);i.__dashjs_factory_name="DashParser",t.default=u.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t,n){r(this,e);this._name=t,this._merge=void 0!==n?n:function(e){return e&&e.length&&e.charAt(0)===e.charAt(0).toUpperCase()}(t)}return i(e,[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}]),e}();t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=a,n=o,r=!0,s=l=void 0}},o=n(62),s=function(e){return e&&e.__esModule?e:{default:e}}(o),u=function(e){function t(){r(this,t);var e=["profiles","width","height","sar","frameRate","audioSamplingRate","mimeType","segmentProfiles","codecs","maximumSAPPeriod","startWithSAP","maxPlayoutRate","codingDependency","scanType","FramePacking","AudioChannelConfiguration","ContentProtection","EssentialProperty","SupplementalProperty","InbandEventStream"];return a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"AdaptationSet",e,[new s.default("Representation",e,[new s.default("SubRepresentation",e)])])}return i(t,e),t}(s.default);t.default=u,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=a,n=o,r=!0,s=l=void 0}},o=n(62),s=function(e){return e&&e.__esModule?e:{default:e}}(o),u=function(e){function t(){r(this,t);var e=["SegmentBase","SegmentTemplate","SegmentList"];return a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"Period",e,[new s.default("AdaptationSet",e,[new s.default("Representation",e)])])}return i(t,e),t}(s.default);t.default=u,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=a,n=o,r=!0,s=l=void 0}},o=n(40),s=function(e){return e&&e.__esModule?e:{default:e}}(o),u=60,l=60,d=1e3,f=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/,c=function(e){function t(){r(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,function(e){return f.test(e.value)},function(e){var t=f.exec(e),n=void 0;if(n=Date.UTC(parseInt(t[1],10),parseInt(t[2],10)-1,parseInt(t[3],10),parseInt(t[4],10),parseInt(t[5],10),t[6]&&parseInt(t[6],10)||0,t[7]&&parseFloat(t[7])*d||0),t[9]&&t[10]){var r=parseInt(t[9],10)*l+parseInt(t[10],10);n+=("+"===t[8]?-1:1)*r*u*d}return new Date(n)})}return i(t,e),t}(s.default);t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=a,n=o,r=!0,s=l=void 0}},o=n(40),s=function(e){return e&&e.__esModule?e:{default:e}}(o),u=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,l=31536e3,d=2592e3,f=86400,c=3600,g=60,p=function(e){function t(){r(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,function(e){for(var t=["minBufferTime","mediaPresentationDuration","minimumUpdatePeriod","timeShiftBufferDepth","maxSegmentDuration","maxSubsegmentDuration","suggestedPresentationDelay","start","starttime","duration"],n=t.length,r=0;r<n;r++)if(e.nodeName===t[r])return u.test(e.value);return!1},function(e){var t=u.exec(e),n=parseFloat(t[2]||0)*l+parseFloat(t[4]||0)*d+parseFloat(t[6]||0)*f+parseFloat(t[8]||0)*c+parseFloat(t[10]||0)*g+parseFloat(t[12]||0);return void 0!==t[1]&&(n=-n),n})}return i(t,e),t}(s.default);t.default=p,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=a,n=o,r=!0,s=l=void 0}},o=n(40),s=function(e){return e&&e.__esModule?e:{default:e}}(o),u=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,l=function(e){function t(){r(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,function(e){return u.test(e.value)},function(e){return parseFloat(e)})}return i(t,e),t}(s.default);t.default=l,e.exports=t.default},function(e,t,n){"use strict";function r(){function e(e){e&&e.boxParser&&(r=e.boxParser)}function t(e){var t,n,i,a,o,s,u,l,d,f,c,g=r.parse(e),p=g.getBox("tfhd"),h=g.getBox("tfdt"),m=g.getBox("trun"),v=g.getBox("moof"),_=g.getBox("mfhd");for(f=_.sequence_number,i=m.sample_count,o=h.baseMediaDecodeTime,d=(p.base_data_offset||0)+(m.data_offset||0),s=[],l=0;l<i;l++)u=m.samples[l],t=void 0!==u.sample_duration?u.sample_duration:p.default_sample_duration,a=void 0!==u.sample_size?u.sample_size:p.default_sample_size,n=void 0!==u.sample_composition_time_offset?u.sample_composition_time_offset:0,s.push({dts:o,cts:o+n,duration:t,offset:v.offset+d,size:a}),d+=a,o+=t;return c=o-h.baseMediaDecodeTime,{sampleList:s,sequenceNumber:f,totalDuration:c}}function n(e){var t=r.parse(e),n=t.getBox("mdhd");return n?n.timescale:NaN}var r=void 0;return{getSamplesInfo:t,getMediaTimescaleFromMoov:n,setConfig:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(i);r.__dashjs_factory_name="FragmentedTextBoxParser",t.default=a.default.getSingletonFactory(r),e.exports=t.default},function(e,t,n){"use strict";function r(e,t){function n(e,n,i,a){var s,u,l,d,f,c,g,p=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList,h=p.SegmentURL_asArray.length,m=[];for(g=e.startNumber,d=(0,o.decideSegmentListRangeForTemplate)(r,t,e,n,i,a),f=Math.max(d.start,0),c=Math.min(d.end,p.SegmentURL_asArray.length-1),s=f;s<=c;s++)l=p.SegmentURL_asArray[s],u=(0,o.getIndexBasedSegment)(r,t,e,s),u.replacementTime=(g+s-1)*e.segmentDuration,u.media=l.media?l.media:"",u.mediaRange=l.mediaRange,u.index=l.index,u.indexRange=l.indexRange,m.push(u),u=null;return e.availableSegmentsNumber=h,m}var r=e.timelineConverter;return{getSegments:n}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(i),o=n(27);r.__dashjs_factory_name="ListSegmentsGetter";var s=a.default.getClassFactory(r);t.default=s,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){function n(e,t,n,i,a){var u,d=e.segmentInfoType;return"SegmentBase"!==d&&"BaseURL"!==d&&r(e,n)?("SegmentTimeline"===d?u=o.getSegments(e,t,n,a):"SegmentTemplate"===d?u=s.getSegments(e,t,n,a):"SegmentList"===d&&(u=l.getSegments(e,t,n,a)),i&&i(e,u)):u=e.segments,u}function r(e,t){var n,r,i=e.segments,a=!1;return i&&0!==i.length?(r=i[0].availabilityIdx,n=i[i.length-1].availabilityIdx,a=t<r||t>n):a=!0,a}var i=this.context,a=void 0,o=void 0,s=void 0,l=void 0;return a={getSegments:n},function(){o=(0,u.default)(i).create(e,t),s=(0,d.default)(i).create(e,t),l=(0,c.default)(i).create(e,t)}(),a}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=r(a),s=n(109),u=r(s),l=n(108),d=r(l),f=n(106),c=r(f);i.__dashjs_factory_name="SegmentsGetter";var g=o.default.getClassFactory(i);t.default=g,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){function n(e,n,i,a){var s,u,l,d,f,c=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate,g=e.segmentDuration,p=e.segmentAvailabilityRange,h=[],m=null,v=null;for(f=e.startNumber,s=isNaN(g)&&!t?{start:f,end:f}:(0,o.decideSegmentListRangeForTemplate)(r,t,e,n,i,a),l=s.start,d=s.end,u=l;u<=d;u++)v=(0,o.getIndexBasedSegment)(r,t,e,u),v.replacementTime=(f+u-1)*e.segmentDuration,m=c.media,m=(0,o.replaceTokenForTemplate)(m,"Number",v.replacementNumber),m=(0,o.replaceTokenForTemplate)(m,"Time",v.replacementTime),v.media=m,h.push(v),v=null;return isNaN(g)?e.availableSegmentsNumber=1:e.availableSegmentsNumber=Math.ceil((p.end-p.start)/g),h}var r=e.timelineConverter;return{getSegments:n}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(i),o=n(27);r.__dashjs_factory_name="TemplateSegmentsGetter";var s=a.default.getClassFactory(r);t.default=s,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){function n(e,n,i,a){var s,u,l,d,f,c,g,p,h,m,v,_,y,E,T=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate||e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList,S=T.SegmentTimeline,A=T.SegmentURL_asArray,I=e.availableSegmentsNumber>0,C=0,R=0,b=-1,M=[],O=!1,D=function(n,i){var a=T.media,s=n.mediaRange;return A&&(a=A[i].media||"",s=A[i].mediaRange),(0,o.getTimeBasedSegment)(r,t,e,C,n.d,E,a,s,b)};for(E=e.timescale,s=S.S_asArray,h=(0,o.decideSegmentListRangeForTimeline)(r,t,n,i,a),h?(_=h.start,y=h.end):v=r.calcMediaTimeFromPresentationTime(n||0,e),l=0,d=s.length;l<d;l++){if(u=s[l],c=0,u.hasOwnProperty("r")&&(c=u.r),u.hasOwnProperty("t")&&(C=u.t,R=C/E),c<0){if((p=s[l+1])&&p.hasOwnProperty("t"))g=p.t/E;else{var N=e.segmentAvailabilityRange?e.segmentAvailabilityRange.end:r.calcSegmentAvailabilityRange(e,t).end;g=r.calcMediaTimeFromPresentationTime(N,e),e.segmentDuration=u.d/E}c=Math.ceil((g-R)/(u.d/E))-1}if(m){if(I)break;b+=c+1}else for(f=0;f<=c;f++){if(b++,h){if(b>y){if(m=!0,I)break;continue}b>=_&&M.push(D(u,b))}else{if(M.length>10){if(m=!0,I)break;continue}O?M.push(D(u,b)):R>=v-u.d/E*1.5&&(O=!0,M.push(D(u,b)))}C+=u.d,R=C/E}}return I||(e.availableSegmentsNumber=b+1),M}var r=e.timelineConverter;return{getSegments:n}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(i),o=n(27);r.__dashjs_factory_name="TimelineSegmentsGetter";var s=a.default.getClassFactory(r);t.default=s,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.period=null,this.index=-1,this.type=null};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri=""};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.checkTime=NaN,this.clientServerTimeShift=0,this.isClientServerTimeSyncCompleted=!1};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null};i.DEFAULT_ID="defaultId",t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.segmentAvailabilityRange=null,this.availableSegmentsNumber=0,this.bandwidth=NaN,this.maxPlayoutRate=NaN};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e){var t=function(t){s.trigger(p.default.CHECK_FOR_EXISTENCE_COMPLETED,{request:e,exists:t})};if(e){var n=new u.default(e.url);f.load({request:n,success:function(){t(!0)},error:function(){t(!1)}})}else t(!1)}function n(e){var t=function(t,n){s.trigger(p.default.LOADING_COMPLETED,{request:e,response:t||null,error:n||null,sender:l})};e?f.load({request:e,progress:function(){s.trigger(p.default.LOADING_PROGRESS,{request:e})},success:function(e){t(e)},error:function(e,n,r){t(void 0,new d.default(v,r,n))}}):t(void 0,new d.default(_,y))}function r(){f&&f.abort()}function i(){f&&(f.abort(),f=null)}var a=this.context,s=(0,c.default)(a).getInstance(),l=void 0,f=void 0;return l={checkForExistence:t,load:n,abort:r,reset:i},function(){f=(0,o.default)(a).create({errHandler:e.errHandler,metricsModel:e.metricsModel,requestModifier:e.requestModifier})}(),l}Object.defineProperty(t,"__esModule",{value:!0});var a=n(29),o=r(a),s=n(185),u=r(s),l=n(5),d=r(l),f=n(2),c=r(f),g=n(1),p=r(g),h=n(0),m=r(h),v=1,_=2,y="request is null";i.__dashjs_factory_name="FragmentLoader";var E=m.default.getClassFactory(i);E.FRAGMENT_LOADER_ERROR_LOADING_FAILURE=v,E.FRAGMENT_LOADER_ERROR_NULL_REQUEST=_,t.default=E,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e){a.trigger(y.default.INTERNAL_MANIFEST_LOADED,{manifest:e.manifest})}function n(e){var t=new c.default(e,h.HTTPRequest.MPD_TYPE);g.load({request:t,success:function(t,n,r){var i,o;r.responseURL&&r.responseURL!==e?(o=s.parseBaseUrl(r.responseURL),i=r.responseURL):(s.isRelative(e)&&(e=s.parseBaseUrl(window.location.href)+e),o=s.parseBaseUrl(e));var u=l.parse(t,m);u?(u.url=i||e,u.originalUrl||(u.originalUrl=u.url),u.baseUri=o,u.loadedTime=new Date,m.resolveManifestOnLoad(u)):a.trigger(y.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new p.default(S,I)})},error:function(t,n,r){a.trigger(y.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new p.default(A,"Failed loading manifest: "+e+", "+r)})}})}function r(){a.off(y.default.XLINK_READY,t,f),m&&(m.reset(),m=null),g&&(g.abort(),g=null)}var i=this.context,a=(0,v.default)(i).getInstance(),s=(0,d.default)(i).getInstance(),l=e.parser,f=void 0,g=void 0,m=void 0;return f={load:n,reset:r},function(){a.on(y.default.XLINK_READY,t,f),g=(0,u.default)(i).create({errHandler:e.errHandler,metricsModel:e.metricsModel,requestModifier:e.requestModifier}),m=(0,o.default)(i).create({errHandler:e.errHandler,metricsModel:e.metricsModel,requestModifier:e.requestModifier})}(),f}Object.defineProperty(t,"__esModule",{value:!0});var a=n(130),o=r(a),s=n(29),u=r(s),l=n(23),d=r(l),f=n(76),c=r(f),g=n(5),p=r(g),h=n(6),m=n(2),v=r(m),_=n(1),y=r(_),E=n(0),T=r(E),S=1,A=2,I="parsing failed";i.__dashjs_factory_name="ManifestLoader";var C=T.default.getClassFactory(i);C.MANIFEST_LOADER_ERROR_PARSING_FAILURE=S,C.MANIFEST_LOADER_ERROR_LOADING_FAILURE=A,t.default=C,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){e&&(e.manifestModel&&(I=e.manifestModel),e.dashManifestModel&&(C=e.dashManifestModel))}function t(e){A=e,y=NaN,E=null,S=!1,T=!0,_.on(u.default.STREAMS_COMPOSED,h,this),_.on(u.default.PLAYBACK_STARTED,g,this),_.on(u.default.PLAYBACK_PAUSED,p,this),_.on(u.default.INTERNAL_MANIFEST_LOADED,f,this)}function n(e){l(e)}function r(){return A}function i(){_.off(u.default.PLAYBACK_STARTED,g,this),_.off(u.default.PLAYBACK_PAUSED,p,this),_.off(u.default.STREAMS_COMPOSED,h,this),_.off(u.default.INTERNAL_MANIFEST_LOADED,f,this),T=!0,S=!1,a(),y=NaN}function a(){null!==E&&(clearInterval(E),E=null)}function s(){a(),isNaN(y)||(v("Refresh manifest in "+y+" seconds."),E=setTimeout(d,Math.min(1e3*y,Math.pow(2,31)-1),this))}function l(e){var t,n,r=new Date;I.setValue(e),v("Manifest has been refreshed at "+r+"["+r.getTime()/1e3+"] "),t=C.getRefreshDelay(e),n=((new Date).getTime()-e.loadedTime.getTime())/1e3,y=Math.max(t-n,0),_.trigger(u.default.MANIFEST_UPDATED,{manifest:e}),T||s()}function d(){var e,t;if(!T&&!S){S=!0,e=I.getValue(),t=e.url;var n=C.getLocation(e);n&&(t=n),A.load(t)}}function f(e){e.error||l(e.manifest)}function g(){T=!1,s()}function p(){T=!0,a()}function h(){S=!1}var m=this.context,v=(0,c.default)(m).getInstance().log,_=(0,o.default)(m).getInstance(),y=void 0,E=void 0,T=void 0,S=void 0,A=void 0,I=void 0,C=void 0;return{initialize:t,setManifest:n,getManifestLoader:r,setConfig:e,reset:i}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=r(a),s=n(1),u=r(s),l=n(0),d=r(l),f=n(3),c=r(f);i.__dashjs_factory_name="ManifestUpdater",t.default=d.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(){window.removeEventListener("load",r),o.createAll()}Object.defineProperty(t,"__esModule",{value:!0});var i=n(66),a=function(e){return e&&e.__esModule?e:{default:e}}(i),o=function(){function e(e,t,n){if(!e||"VIDEO"!==e.nodeName)return null;if(e._dashjs_player)return e._dashjs_player;var i,o=e.id||e.name||"video element";if(!(t=t||[].slice.call(e.querySelectorAll("source")).filter(function(e){return e.type==r})[0])&&e.src)t=document.createElement("source"),t.src=e.src;else if(!t&&!e.src)return null;return n=n||{},i=(0,a.default)(n).create(),i.initialize(e,t.src,e.autoplay),i.getDebug().log("Converted "+o+" to dash.js player and added content: "+t.src),e._dashjs_player=i,i}function t(t,i){var a=[];t=t||"[data-dashjs-player]",i=i||document;for(var o=i.querySelectorAll(t),s=0;s<o.length;s++){var u=e(o[s],null);a.push(u)}for(var l=i.querySelectorAll('source[type="'+r+'"]'),s=0;s<l.length;s++){var d=n(l[s]),u=e(d,null);a.push(u)}return a}function n(e){for(var t=!0;t;){var n=e;if(t=!1,"video"===n.nodeName.toLowerCase())return n;e=n.parentNode,t=!0}}var r="application/dash+xml";return{create:e,createAll:t}}();!(window&&window.dashjs&&window.dashjs.skipAutoCreate)&&window&&window.addEventListener&&("complete"===window.document.readyState?o.createAll():window.addEventListener("load",r)),t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e,t){fe=e,(he=t)&&($.on(w.default.KEY_ERROR,b,se),$.on(w.default.SERVER_CERTIFICATE_UPDATED,b,se),$.on(w.default.LICENSE_REQUEST_COMPLETE,b,se),$.on(w.default.KEY_SYSTEM_SELECTED,b,se),$.on(w.default.KEY_SESSION_CREATED,b,se))}function n(e){le?Y():($.on(w.default.CURRENT_TRACK_CHANGED,L,se),K(e))}function r(){for(var e=ue.length,t=0;t<e;t++)ue[t].reset();ue=[],le=!1,de=!1,T(),$.off(w.default.CURRENT_TRACK_CHANGED,L,se)}function i(){ve&&(ve.pause(),ve=null),ye&&(ye.reset(),ye=null),me.abortSearch(),r(),_e=null,Te=null,te=null,ee=null,ne=null,re=null,Z=null,ie=null,ge=!1,pe=!1,ce={},$.off(w.default.DATA_UPDATE_COMPLETED,z,se),$.off(w.default.BUFFERING_COMPLETED,q,se),$.off(w.default.KEY_ERROR,b,se),$.off(w.default.SERVER_CERTIFICATE_UPDATED,b,se),$.off(w.default.LICENSE_REQUEST_COMPLETE,b,se),$.off(w.default.KEY_SYSTEM_SELECTED,b,se),$.off(w.default.KEY_SESSION_CREATED,b,se)}function a(){return fe.duration}function s(){return fe.start}function l(){return fe.index}function f(){return fe.id}function g(){return fe}function h(e){return null!==H(e)}function v(e){var t=H(e);return Te.getBitrateList(t)}function y(){Ee&&Ee.start()}function T(){Ee&&Ee.clear()}function A(){return le}function C(){return pe}function b(e){e.error&&(ie.mediaKeySessionError(e.error),Z(e.error),i())}function O(e){return"text"===e.type?e.mimeType:e.type}function N(e,t,n){var r,i,a=e.type;if("muxed"===a&&e)return i="Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",Z(i),ie.manifestError(i,"multiplexedrep",ee.getValue()),!1;if("text"===a||"fragmentedText"===a||"embeddedText"===a)return!0;if(r=e.codec,Z(a+" codec: "+r),e.contentProtection&&!re.supportsEncryptedMedia())ie.capabilityError("encryptedmedia");else if(!re.supportsCodec((0,_.default)(X).getInstance().getElement(),r))return i=a+"Codec ("+r+") is not supported.",ie.manifestError(i,"codec",n),Z(i),!1;return!0}function L(e){if(e.newMediaInfo.streamInfo.id===fe.id){var t=V(e.oldMediaInfo);if(t){var n=ve.getTime(),r=t.getBuffer(),i=e.newMediaInfo,a=ee.getValue(),o=ue.indexOf(t),s=t.getMediaSource();"fragmentedText"!==i.type?(t.reset(!0),U(i,a,s,{buffer:r,replaceIdx:o,currentTime:n}),ve.seek(ve.getTime())):t.updateMediaInfo(a,i)}}}function F(e){return"webm"===e.split("/")[1].toLowerCase()}function k(e){var t=F(e.mimeType)?(0,M.default)(X).getInstance():(0,R.default)(X).getInstance();return t.setConfig({baseURLController:oe,metricsModel:(0,E.default)(X).getInstance()}),t.initialize(),(0,I.default)(X).create({segmentBaseLoader:t,timelineConverter:ae,dashMetrics:(0,D.default)(X).getInstance(),metricsModel:(0,E.default)(X).getInstance(),baseURLController:oe})}function U(e,t,n,r){var i=(0,u.default)(X).create({indexHandler:k(e),timelineConverter:ae,adapter:ne,manifestModel:ee}),a=ne.getAllMediaInfoForType(t,fe,e.type);if(i.initialize(O(e),ye,n,se,Ee),Te.updateTopQualityIndex(e),r?(i.setBuffer(r.buffer),i.getIndexHandler().setCurrentTime(r.currentTime),ue[r.replaceIdx]=i):ue.push(i),"text"===e.type||"fragmentedText"===e.type){for(var o,s=0;s<a.length;s++)a[s].index===e.index&&(o=s),i.updateMediaInfo(t,a[s]);"fragmentedText"===e.type&&i.updateMediaInfo(t,a[o])}else i.updateMediaInfo(t,e);return i}function B(e,t){var n,r=ee.getValue(),i=ne.getAllMediaInfoForType(r,fe,e),a=null;if(!i||0===i.length)return void Z("No "+e+" data.");for(var o=0,s=i.length;o<s;o++)if(a=i[o],"embeddedText"===e)Se.addEmbeddedTrack(a);else{if(!N(a,t,r))continue;_e.isMultiTrackSupportedByType(a.type)&&_e.addTrack(a,fe)}"embeddedText"!==e&&0!==_e.getTracksFor(e,fe).length&&(_e.checkInitialMediaSettingsForType(e,fe),n=_e.getCurrentTrackFor(e,fe),U(n,r,t))}function K(e){var t,n=ee.getValue();if(Ee=(0,c.default)(X).getInstance(),Ee.initialize(),Ee.setConfig({manifestModel:ee,manifestUpdater:te}),t=ne.getEventsFor(n,fe),Ee.addInlineEvents(t),ge=!0,B("video",e),B("audio",e),B("text",e),B("fragmentedText",e),B("embeddedText",e),B("muxed",e),Y(),de=!0,ge=!1,0===ue.length){var r="No streams to play.";ie.manifestError(r,"nostreams",n),Z(r)}else me.initialize(ae,ue[0]),G()}function G(){var e=ue.length,t=!!ce.audio||!!ce.video,n=t?new Error(Q,"Data update failed",null):null,r=0;for(r;r<e;r++)if(ue[r].isUpdating()||ge)return;pe=!0,le=!0,de&&(he&&he.initialize(ee.getValue(),H("audio"),H("video")),$.trigger(w.default.STREAM_INITIALIZED,{streamInfo:fe,error:n}))}function H(e){for(var t=ue.length,n=null,r=0;r<t;r++)if(n=ue[r],n.getType()===e)return n.getMediaInfo();return null}function Y(){for(var e=0,t=ue.length;e<t;e++)ue[e].createBuffer()}function q(e){if(e.streamInfo===fe){var t=J(),n=t.length,r=0;for(r;r<n;r++)if(!t[r].isBufferingCompleted())return;$.trigger(w.default.STREAM_BUFFERING_COMPLETED,{streamInfo:fe})}}function z(e){var t=e.sender.getStreamProcessor();t.getStreamInfo()===fe&&(ce[t.getType()]=e.error,G())}function V(e){return!!e&&J().filter(function(t){return t.getType()===e.type})[0]}function J(){var e,t,n=ue.length,r=[],i=0;for(i;i<n;i++)t=ue[i],"audio"!==(e=t.getType())&&"video"!==e&&"fragmentedText"!==e||r.push(t);return r}function W(e){Z("Manifest updated... updating data system wide.");var t=ee.getValue();if(le=!1,ge=!0,pe=!1,fe=e,Ee){var n=ne.getEventsFor(t,fe);Ee.addInlineEvents(n)}for(var r=0,i=ue.length;r<i;r++){var a=ue[r],o=ne.getMediaInfoForType(t,fe,a.getType());Te.updateTopQualityIndex(o),a.updateMediaInfo(t,o)}ge=!1,G()}var Q=1,X=this.context,Z=(0,x.default)(X).getInstance().log,$=(0,P.default)(X).getInstance(),ee=e.manifestModel,te=e.manifestUpdater,ne=e.adapter,re=e.capabilities,ie=e.errHandler,ae=e.timelineConverter,oe=e.baseURLController,se=void 0,ue=void 0,le=void 0,de=void 0,fe=void 0,ce=void 0,ge=void 0,pe=void 0,he=void 0,me=void 0,ve=void 0,_e=void 0,ye=void 0,Ee=void 0,Te=void 0,Se=void 0;return se={initialize:t,activate:n,deactivate:r,getDuration:a,getStartTime:s,getStreamIndex:l,getId:f,getStreamInfo:g,hasMedia:h,getBitrateListFor:v,startEventController:y,isActivated:A,isInitialized:C,updateData:W,reset:i,getProcessors:J},function(){ue=[],le=!1,de=!1,fe=null,ce={},ge=!1,pe=!1,me=(0,o.default)(X).getInstance(),ve=(0,S.default)(X).getInstance(),Te=(0,m.default)(X).getInstance(),_e=(0,d.default)(X).getInstance(),ye=(0,p.default)(X).create(),Se=(0,j.default)(X).getInstance(),$.on(w.default.BUFFERING_COMPLETED,q,se),$.on(w.default.DATA_UPDATE_COMPLETED,z,se)}(),se}Object.defineProperty(t,"__esModule",{value:!0});var a=n(55),o=r(a),s=n(120),u=r(s),l=n(13),d=r(l),f=n(124),c=r(f),g=n(125),p=r(g),h=n(10),m=r(h),v=n(20),_=r(v),y=n(14),E=r(y),T=n(8),S=r(T),A=n(94),I=r(A),C=n(95),R=r(C),b=n(96),M=r(b),O=n(17),D=r(O),N=n(2),P=r(N),L=n(1),w=r(L),F=n(3),x=r(F),k=n(0),U=r(k),B=n(18),j=r(B);i.__dashjs_factory_name="Stream",t.default=U.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e,t,n,r,i){ee=e,ne=r,re=i,ue=t,Z=ne.getStreamInfo().manifestInfo.isDynamic,V.initialize(this),ie=(0,o.default)(z).getInstance(),ie.initialize(ee,this),ae=q(e),oe=(0,m.default)(z).create({metricsModel:(0,S.default)(z).getInstance(),manifestModel:Q,adapter:W,dashMetrics:(0,w.default)(z).getInstance(),dashManifestModel:(0,P.default)(z).getInstance(),timelineConverter:J,rulesController:(0,_.default)(z).getInstance(),mediaPlayerModel:(0,E.default)(z).getInstance()}),ae.initialize(ee,n,this),oe.initialize(ee,this),le=(0,I.default)(z).create({metricsModel:(0,S.default)(z).getInstance(),errHandler:(0,U.default)(z).getInstance(),requestModifier:(0,R.default)(z).getInstance()}),de=oe.getFragmentModel(),de.setLoader(le),se=(0,x.default)(z).create(),se.initialize(this)}function n(e){V.reset(),ae&&(ae.reset(e),ae=null),oe&&(oe.reset(),oe=null),se&&(se.reset(),se=null),ue=null,le=null,re=null,ne=null,Z=null,$=null,te=[],ee=null}function r(){return se.isUpdating()}function i(){return ee}function a(){return ie}function s(){return se}function l(){return le}function f(){return V}function g(){return ue}function h(){return ae.getBuffer()}function v(e){ae.setBuffer(e)}function y(){return ae}function T(){return de}function A(){return ne.getStreamInfo()}function C(e,t){t===$||t&&$&&t.type!==$.type||($=t),-1===te.indexOf(t)&&te.push(t),W.updateData(e,this)}function b(){return te}function O(){return $}function N(){return ae.getMediaSource()}function L(){return oe}function F(){return re}function k(){oe.start()}function B(){oe.stop()}function j(){return W.getCurrentRepresentationInfo(Q.getValue(),se)}function K(e){return W.getRepresentationInfoForQuality(Q.getValue(),se,e)}function G(){return ae.getIsBufferingCompleted()}function H(){return ae.getBuffer()||ae.createBuffer($)}function Y(){return Z}function q(e){return"video"===e||"audio"===e||"fragmentedText"===e?(0,u.default)(z).create({metricsModel:(0,S.default)(z).getInstance(),manifestModel:Q,sourceBufferController:(0,M.default)(z).getInstance(),errHandler:(0,U.default)(z).getInstance(),streamController:(0,d.default)(z).getInstance(),mediaController:(0,c.default)(z).getInstance(),adapter:W,textSourceBuffer:(0,D.default)(z).getInstance()}):(0,p.default)(z).create({errHandler:(0,U.default)(z).getInstance(),sourceBufferController:(0,M.default)(z).getInstance()})}var z=this.context,V=e.indexHandler,J=e.timelineConverter,W=e.adapter,Q=e.manifestModel,X=void 0,Z=void 0,$=void 0,ee=void 0,te=void 0,ne=void 0,re=void 0,ie=void 0,ae=void 0,oe=void 0,se=void 0,ue=void 0,le=void 0,de=void 0;return X={initialize:t,isUpdating:r,getType:i,getBufferController:y,getABRController:a,getFragmentLoader:l,getFragmentModel:T,getScheduleController:L,getEventController:F,getFragmentController:g,getRepresentationController:s,getIndexHandler:f,getCurrentRepresentationInfo:j,getRepresentationInfoForQuality:K,isBufferingCompleted:G,createBuffer:H,getStreamInfo:A,updateMediaInfo:C,getMediaInfoArr:b,getMediaInfo:O,getMediaSource:N,getBuffer:h,setBuffer:v,start:k,stop:B,isDynamic:Y,reset:n},function(){te=[]}(),X}Object.defineProperty(t,"__esModule",{value:!0});var a=n(10),o=r(a),s=n(19),u=r(s),l=n(21),d=r(l),f=n(13),c=r(f),g=n(128),p=r(g),h=n(127),m=r(h),v=n(50),_=r(v),y=n(4),E=r(y),T=n(14),S=r(T),A=n(115),I=r(A),C=n(35),R=r(C),b=n(30),M=r(b),O=n(18),D=r(O),N=n(12),P=r(N),L=n(17),w=r(L),F=n(97),x=r(F),k=n(11),U=r(k),B=n(0),j=r(B);i.__dashjs_factory_name="StreamProcessor",t.default=j.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e,t,n){var i=function(r,i){t.resolved=!0,t.resolvedContent=r||null,a.trigger(h.default.XLINK_ELEMENT_LOADED,{element:t,resolveObject:n,error:r||i?null:new o.default(_,"Failed loading Xlink element: "+e)})};if(e===r)i(null,!0);else{var u=new f.default(e,l.HTTPRequest.XLINK_TYPE);s.load({request:u,success:function(e){i(e)},error:function(){i(null)}})}}function n(){s&&(s.abort(),s=null)}var r="urn:mpeg:dash:resolve-to-zero:2013",i=this.context,a=(0,g.default)(i).getInstance(),s=(0,u.default)(i).create({errHandler:e.errHandler,metricsModel:e.metricsModel,requestModifier:e.requestModifier});return{load:t,reset:n}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),o=r(a),s=n(29),u=r(s),l=n(6),d=n(76),f=r(d),c=n(2),g=r(c),p=n(1),h=r(p),m=n(0),v=r(m),_=1;i.__dashjs_factory_name="XlinkLoader";var y=v.default.getClassFactory(i);y.XLINK_LOADER_ERROR_LOADING_FAILURE=_,t.default=y,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){g.invalidateSelectedIndexes(e.entry)}function t(e){g.update(e),p.chooseSelectorFromManifest(e)}function n(e){var t=g.getForPath(e),n=t.reduce(function(e,t){var n=p.select(t);return n&&(f.isRelative(n.url)?e.url+=n.url:f.isPathAbsolute(n.url)?e.url=f.parseOrigin(e.url)+n.url:(e.url=n.url,e.serviceLocation=n.serviceLocation)),e},new c.default);if(!f.isRelative(n.url))return n}function r(){g.reset(),p.reset()}function i(e){t(e)}var a=void 0,s=this.context,l=(0,m.default)(s).getInstance(),f=(0,d.default)(s).getInstance(),g=void 0,p=void 0;return a={reset:r,initialize:i,resolve:n},function(){g=(0,o.default)(s).create(),p=(0,u.default)(s).create(),l.on(_.default.SERVICE_LOCATION_BLACKLIST_CHANGED,e,a)}(),a}Object.defineProperty(t,"__esModule",{value:!0});var a=n(150),o=r(a),s=n(176),u=r(s),l=n(23),d=r(l),f=n(63),c=r(f),g=n(0),p=r(g),h=n(2),m=r(h),v=n(1),_=r(v);i.__dashjs_factory_name="BaseURLController",t.default=p.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e){return!!(a.length&&e&&e.length)&&-1!==a.indexOf(e)}function n(e){-1===a.indexOf(e)&&(a.push(e),o.trigger(s,{entry:e}))}function r(e){e.error&&n(e.request.serviceLocation)}function i(){a=[]}var a=[],o=(0,u.default)(this.context).getInstance(),s=e.updateEventName,l=e.loadFailedEventName;return function(){l&&o.on(l,r,this)}(),{add:n,contains:t,reset:i}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=r(a),s=n(2),u=r(s);i.__dashjs_factory_name="BlackListController",t.default=o.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){M=!1,y={},E={},T={},S=null,A=100,I=A/1e3,b=(0,o.default)(m).getInstance()}function t(){null!==S&&M&&(clearInterval(S),S=null,M=!1)}function n(){v("Start Event Controller"),M||isNaN(A)||(M=!0,S=setInterval(s,A))}function r(e){if(y={},e)for(var t=0;t<e.length;t++){var n=e[t];y[n.id]=n,v("Add inline event with id "+n.id)}v("Added "+e.length+" inline events")}function i(e){for(var t=0;t<e.length;t++){var n=e[t];n.id in E?v("Repeated event with id "+n.id):(E[n.id]=n,v("Add inband event with id "+n.id))}}function a(){if(T)for(var e=b.getTime(),t=Object.keys(T),n=0;n<t.length;n++){var r=t[n],i=T[r];null!==i&&(i.duration+i.presentationTime)/i.eventStream.timescale<e&&(v("Remove Event "+r+" at time "+e),i=null,delete T[r])}}function s(){l(E),l(y),a()}function u(){var e=C.getValue(),t=e.url;e.hasOwnProperty("Location")&&(t=e.Location),v("Refresh manifest @ "+t),R.getManifestLoader().load(t)}function l(e){var t,n=b.getTime();if(e)for(var r=Object.keys(e),i=0;i<r.length;i++){var a=r[i],o=e[a];void 0!==o&&(0===(t=o.presentationTime/o.eventStream.timescale)||t<=n&&t+I>n)&&(v("Start Event "+a+" at "+n),o.duration>0&&(T[a]=o),o.eventStream.schemeIdUri==p&&o.eventStream.value==h?u():_.trigger(o.eventStream.schemeIdUri,{event:o}),delete e[a])}}function f(e){e&&(e.manifestModel&&(C=e.manifestModel),e.manifestUpdater&&(R=e.manifestUpdater))}function g(){t(),y=null,E=null,T=null,b=null}var p="urn:mpeg:dash:event:2012",h=1,m=this.context,v=(0,d.default)(m).getInstance().log,_=(0,c.default)(m).getInstance(),y=void 0,E=void 0,T=void 0,S=void 0,A=void 0,I=void 0,C=void 0,R=void 0,b=void 0,M=void 0;return{initialize:e,addInlineEvents:r,addInbandEvents:i,clear:t,start:n,setConfig:f,reset:g}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),o=r(a),s=n(0),u=r(s),l=n(3),d=r(l),f=n(2),c=r(f);i.__dashjs_factory_name="EventController",t.default=u.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){var t=null;return null!==e&&void 0!==e&&e.byteLength>0&&(t=new Uint8Array(e)),t}function t(e){var t=m[e];return t||(t=(0,l.default)(u).create({metricsModel:(0,f.default)(u).getInstance()}),m[e]=t),t}function n(e){return e&&e.type&&e.type===a.HTTPRequest.INIT_SEGMENT_TYPE}function r(){c.off(h.default.FRAGMENT_LOADING_COMPLETED,o,this);for(var e in m)m[e].reset();m={}}function i(e,t,n){var r=new s.default;return r.streamId=n,r.mediaInfo=t.mediaInfo,r.segmentType=t.type,r.start=t.startTime,r.duration=t.duration,r.end=r.start+r.duration,r.bytes=e,r.index=t.index,r.quality=t.quality,r}function o(e){if(m[e.request.mediaType]===e.sender){var t=e.sender.getScheduleController(),r=e.request,a=e.response,o=n(r),s=t.getStreamProcessor().getStreamInfo().id;if(!a)return void d("No "+r.mediaType+" bytes to push.");var u=i(a,r,s);c.trigger(o?h.default.INIT_FRAGMENT_LOADED:h.default.MEDIA_FRAGMENT_LOADED,{chunk:u,fragmentModel:e.sender})}}var u=this.context,d=(0,y.default)(u).getInstance().log,c=(0,g.default)(u).getInstance(),p=void 0,m=void 0;return p={process:e,getModel:t,isInitializationRequest:n,reset:r},function(){m={},c.on(h.default.FRAGMENT_LOADING_COMPLETED,o,p)}(),p}Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),o=n(184),s=r(o),u=n(32),l=r(u),d=n(14),f=r(d),c=n(2),g=r(c),p=n(1),h=r(p),m=n(0),v=r(m),_=n(3),y=r(_);i.__dashjs_factory_name="FragmentController",t.default=v.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(){function e(){var e="WebKitMediaSource"in window;return"MediaSource"in window?new MediaSource:e?new WebKitMediaSource:null}function t(e,t){var n=window.URL.createObjectURL(e);return t.setSource(n),n}function n(e){e.setSource(null)}function r(e,t){return e.duration!=t&&(e.duration=t),e.duration}function i(e){var t=e.sourceBuffers,n=t.length,r=0;if("open"===e.readyState){for(r;r<n;r++){if(t[r].updating)return;if(0===t[r].buffered.length)return}e.endOfStream()}}return{createMediaSource:e,attachMediaSource:t,detachMediaSource:n,setDuration:r,signalEndOfStream:i}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(i);r.__dashjs_factory_name="MediaSourceController",t.default=a.default.getSingletonFactory(r),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e,t){me=e,Le=t,xe=(0,N.default)(ae).getInstance(),De=(0,s.default)(ae).getInstance(),Ne=(0,g.default)(ae).getInstance(),Pe=(0,l.default)(ae).getInstance(),we=(0,B.default)(ae).getInstance(),Fe=Le.getFragmentController(),ke=Le.getBufferController(),_e=Fe.getModel(me),_e.setScheduleController(this),ye=Le.isDynamic(),je=pe.getScheduleWhilePaused(),Ue=(0,h.default)(ae).create({dashMetrics:(0,C.default)(ae).getInstance(),metricsModel:(0,T.default)(ae).getInstance(),textSourceBuffer:(0,y.default)(ae).getInstance()}),Be=(0,v.default)(ae).create({adapter:(0,b.default)(ae).getInstance(),sourceBufferController:(0,O.default)(ae).getInstance(),textSourceBuffer:(0,y.default)(ae).getInstance()}),ce.getIsTextTrack(me)&&se.on(F.default.TIMED_TEXT_REQUESTED,G,this),se.on(F.default.LIVE_EDGE_SEARCH_COMPLETED,z,this),se.on(F.default.QUALITY_CHANGE_REQUESTED,m,this),se.on(F.default.DATA_UPDATE_STARTED,w,this),se.on(F.default.DATA_UPDATE_COMPLETED,E,this),se.on(F.default.FRAGMENT_LOADING_COMPLETED,R,this),se.on(F.default.STREAM_COMPLETED,I,this),se.on(F.default.STREAM_INITIALIZED,S,this),se.on(F.default.BUFFER_LEVEL_STATE_CHANGED,k,this),se.on(F.default.BUFFER_CLEARED,x,this),se.on(F.default.BYTES_APPENDED,D,this),se.on(F.default.INIT_REQUESTED,d,this),se.on(F.default.QUOTA_EXCEEDED,U,this),se.on(F.default.BUFFER_LEVEL_STATE_CHANGED,k,this),se.on(F.default.PLAYBACK_STARTED,H,this),se.on(F.default.PLAYBACK_SEEKING,Y,this),se.on(F.default.PLAYBACK_RATE_CHANGED,q,this),se.on(F.default.PLAYBACK_TIME_UPDATED,M,this),se.on(F.default.URL_RESOLUTION_FAILED,j,this),se.on(F.default.FRAGMENT_LOADING_ABANDONED,P,this)}function n(){ve&&(re(),Se=!1,Te?c(Ee.quality):u(0),Te&&(Te=!1),oe("Schedule controller starting for "+me))}function r(){Se||(Se=!0,clearTimeout(Me),oe("Schedule controller stopping for "+me))}function i(){if(!(Se||Re||!ke||De.isPaused()&&!je)){o();var e=He.length>0;if(Ue.execute(Le,me,we.isVideoTrackPresent())||e){var t=function(){if(Ee.quality!==Ge)Ge=Ee.quality,ke.switchInitData(Le.getStreamInfo().id,Ee.quality);else{var e=Be.execute(Le,He.shift());e?_e.executeRequest(e):(Re=!1,u(250))}};Re=!0,e?t():Pe.getPlaybackQuality(Le,t)}else u(500)}}function o(){var e=1.5*Ee.fragmentDuration,t=_e.getRequests({state:A.default.FRAGMENT_MODEL_EXECUTED,time:De.getTime()+e,threshold:0})[0];t&&-1===He.indexOf(t)&&!ce.getIsTextTrack(me)&&(!Ne.isCurrentTrack(t.mediaInfo)||pe.getFastSwitchEnabled()&&t.quality<Ee.quality&&ke.getBufferLevel()>=e&&Pe.getAbandonmentStateFor(me)!==l.default.ABANDON_LOAD?(p(t),oe("Reloading outdated fragment at index: ",t.index)):t.quality>Ee.quality&&J(De.getTime()+ke.getBufferLevel()))}function u(e){clearTimeout(Me),Me=setTimeout(i,e)}function d(e){e.sender.getStreamProcessor()===Le&&c(Ee.quality)}function c(e){Ge=e;var t=de.getInitRequest(Le,e);t&&(Re=!0,_e.executeRequest(t))}function p(e){He.push(e)}function m(e){if(me===e.mediaType&&Le.getStreamInfo().id===e.streamInfo.id){if(null===(Ee=Le.getRepresentationInfoForQuality(e.newQuality))||void 0===Ee)throw new Error("Unexpected error! - currentRepresentationInfo is null or undefined");ne(new Date,a.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON),re()}}function _(e){var t=_e.getRequests({state:A.default.FRAGMENT_MODEL_EXECUTED,time:De.getTime(),threshold:0})[0];t&&De.getTime()>=t.startTime&&(t.quality!==Ke&&e&&se.trigger(F.default.QUALITY_CHANGE_RENDERED,{mediaType:me,oldQuality:Ke,newQuality:t.quality}),Ke=t.quality)}function E(e){e.error||e.sender.getStreamProcessor()!==Le||(Ee=de.convertDataToTrack(le.getValue(),e.currentRepresentation))}function S(e){e.error||Le.getStreamInfo().id!==e.streamInfo.id||(Ee=Le.getCurrentRepresentationInfo(),ye&&null===xe.getLiveEdge()||(ve=!0),Se&&n())}function I(e){e.fragmentModel===_e&&(r(),Re=!1,oe("Stream is complete"))}function R(e){e.sender===_e&&(ce.getIsTextTrack(me)&&(Re=!1),e.error&&e.serviceLocation&&!Se&&p(e.request))}function M(){_(!0)}function D(e){e.sender.getStreamProcessor()===Le&&(Re=!1,u(0))}function P(e){e.streamProcessor===Le&&(p(e.request),Re=!1,u(0))}function w(e){e.sender.getStreamProcessor()===Le&&r()}function x(e){e.sender.getStreamProcessor()===Le&&(_e.removeExecutedRequestsBeforeTime(e.to),e.hasEnoughSpaceToAppend&&!ke.getIsBufferingCompleted()&&Se&&n())}function k(e){e.sender.getStreamProcessor()!==Le||e.state!==f.default.BUFFER_EMPTY||De.isSeeking()||(oe("Buffer is empty! Stalling!"),ne(new Date,a.PlayListTrace.REBUFFERING_REASON))}function U(e){e.sender.getStreamProcessor()===Le&&r()}function j(){_e.abortRequests(),r()}function G(e){e.sender.getStreamProcessor()===Le&&c(e.index)}function H(){Se&&n()}function Y(e){Oe=e.seekTime,Q(0),Se&&n();var t=fe.getCurrentManifestUpdate(ue.getMetricsFor("stream")),r=Ee.DVRWindow?Ee.DVRWindow.end-De.getTime():NaN;ue.updateManifestUpdateInfo(t,{latency:r})}function q(e){Ie&&(Ie.playbackspeed=e.playbackRate.toString())}function z(e){if(!e.error){var t=Ee.mediaInfo.streamInfo.manifestInfo.DVRWindowSize/2,r=e.liveEdge-De.computeLiveDelay(Ee.fragmentDuration,t),i=fe.getCurrentManifestUpdate(ue.getMetricsFor("stream")),a=De.getLiveStartTime(),o=de.getFragmentRequestForTime(Le,Ee,r,{ignoreIsFinished:!0});Oe=a,(isNaN(a)||o.startTime>a)&&(De.setLiveStartTime(o.startTime),Oe=o.startTime),ue.updateManifestUpdateInfo(i,{currentTime:Oe,presentationStartTime:e.liveEdge,latency:e.liveEdge-Oe,clientTimeOffset:ge.getClientTimeOffset()}),ve=!0,Se&&n()}}function V(){return Oe}function J(e){Oe=e}function W(){return _e}function Q(e){be=e}function X(){return be}function Z(){return Le}function $(){return Ue.getBufferTarget(Le,me,we.isVideoTrackPresent())}function ee(e){Ae=e}function te(e,t){ne(e,t),Ae=null}function ne(e,t){if(Ae&&!1===Ce){var n=Ie.start,r=e.getTime()-n.getTime();Ie.duration=r,Ie.stopreason=t,Ae.trace.push(Ie),Ce=!0}}function re(){Ae&&!0===Ce&&Ee&&(Ce=!1,Ie=new a.PlayListTrace,Ie.representationid=Ee.id,Ie.start=new Date,Ie.mstart=1e3*De.getTime(),Ie.playbackspeed=De.getPlaybackRate().toString())}function ie(){se.off(F.default.LIVE_EDGE_SEARCH_COMPLETED,z,this),se.off(F.default.DATA_UPDATE_STARTED,w,this),se.off(F.default.DATA_UPDATE_COMPLETED,E,this),se.off(F.default.BUFFER_LEVEL_STATE_CHANGED,k,this),se.off(F.default.QUALITY_CHANGE_REQUESTED,m,this),se.off(F.default.FRAGMENT_LOADING_COMPLETED,R,this),se.off(F.default.STREAM_COMPLETED,I,this),se.off(F.default.STREAM_INITIALIZED,S,this),se.off(F.default.QUOTA_EXCEEDED,U,this),se.off(F.default.BYTES_APPENDED,D,this),se.off(F.default.BUFFER_CLEARED,x,this),se.off(F.default.INIT_REQUESTED,d,this),se.off(F.default.PLAYBACK_RATE_CHANGED,q,this),se.off(F.default.PLAYBACK_SEEKING,Y,this),se.off(F.default.PLAYBACK_STARTED,H,this),se.off(F.default.PLAYBACK_TIME_UPDATED,M,this),se.off(F.default.URL_RESOLUTION_FAILED,j,this),se.off(F.default.FRAGMENT_LOADING_ABANDONED,P,this),ce.getIsTextTrack(me)&&se.off(F.default.TIMED_TEXT_REQUESTED,G,this),r(),_(!1),Re=!1,be=0,Oe=NaN,De=null,Ae=null}var ae=this.context,oe=(0,K.default)(ae).getInstance().log,se=(0,L.default)(ae).getInstance(),ue=e.metricsModel,le=e.manifestModel,de=e.adapter,fe=e.dashMetrics,ce=e.dashManifestModel,ge=e.timelineConverter,pe=e.mediaPlayerModel,he=void 0,me=void 0,ve=void 0,_e=void 0,ye=void 0,Ee=void 0,Te=void 0,Se=void 0,Ae=void 0,Ie=void 0,Ce=void 0,Re=void 0,be=void 0,Me=void 0,Oe=void 0,De=void 0,Ne=void 0,Pe=void 0,Le=void 0,we=void 0,Fe=void 0,xe=void 0,ke=void 0,Ue=void 0,Be=void 0,je=void 0,Ke=void 0,Ge=void 0,He=void 0;return he={initialize:t,getStreamProcessor:Z,getSeekTarget:V,setSeekTarget:J,getFragmentModel:W,setTimeToLoadDelay:Q,getTimeToLoadDelay:X,replaceRequest:p,start:n,stop:r,reset:ie,setPlayList:ee,getBufferTarget:$,finalisePlayList:te},function(){Te=!0,Ge=NaN,Ke=NaN,He=[],Se=!1,Ae=null,Ie=null,Ce=!0,Re=!1,be=0,Oe=NaN}(),he}Object.defineProperty(t,"__esModule",{value:!0});var a=n(77),o=n(8),s=r(o),u=n(10),l=r(u),d=n(19),f=r(d),c=n(13),g=r(c),p=n(172),h=r(p),m=n(173),v=r(m),_=n(18),y=r(_),E=n(14),T=r(E),S=n(32),A=r(S),I=n(17),C=r(I),R=n(16),b=r(R),M=n(30),O=r(M),D=n(55),N=r(D),P=n(2),L=r(P),w=n(1),F=r(w),x=n(0),k=r(x),U=n(21),B=r(U),j=n(3),K=r(j);i.__dashjs_factory_name="ScheduleController",t.default=k.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e,t,n){E=e,a(t),T=n,S=T.getRepresentationController()}function n(e){try{y=p.createSourceBuffer(_,e),v||(y.hasOwnProperty("initialize")&&y.initialize(E,this),v=!0)}catch(e){h.mediaSourceError("Error creating "+E+" source buffer.")}return y}function r(){return y}function i(e){y=e}function a(e){_=e}function s(){return T}function l(e){g.off(u.default.DATA_UPDATE_COMPLETED,d,this),g.off(u.default.INIT_FRAGMENT_LOADED,f,this),e||(p.abort(_,y),p.removeSourceBuffer(_,y))}function d(e){e.sender.getStreamProcessor()===T&&g.trigger(u.default.TIMED_TEXT_REQUESTED,{index:0,sender:e.sender})}function f(e){e.fragmentModel===T.getFragmentModel()&&e.chunk.bytes&&p.append(y,e.chunk)}var c=this.context,g=(0,o.default)(c).getInstance(),p=e.sourceBufferController,h=e.errHandler,m=void 0,v=void 0,_=void 0,y=void 0,E=void 0,T=void 0,S=void 0;return m={initialize:t,createBuffer:n,getBuffer:r,setBuffer:i,getStreamProcessor:s,setMediaSource:a,reset:l},function(){v=!1,_=null,y=null,E=null,T=null,S=null,g.on(u.default.DATA_UPDATE_COMPLETED,d,this),g.on(u.default.INIT_FRAGMENT_LOADED,f,this)}(),m}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=r(a),s=n(1),u=r(s),l=n(0),d=r(l);i.__dashjs_factory_name="TextController",t.default=d.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e,t){P=t,O=0,D=!1,N=!1,L={"urn:mpeg:dash:utc:http-head:2014":T,"urn:mpeg:dash:utc:http-xsdate:2014":E.bind(null,c),"urn:mpeg:dash:utc:http-iso:2014":E.bind(null,g),"urn:mpeg:dash:utc:direct:2014":y,"urn:mpeg:dash:utc:http-head:2012":T,"urn:mpeg:dash:utc:http-xsdate:2012":E.bind(null,c),"urn:mpeg:dash:utc:http-iso:2012":E.bind(null,g),"urn:mpeg:dash:utc:direct:2012":y,"urn:mpeg:dash:utc:http-ntp:2014":_,"urn:mpeg:dash:utc:ntp:2014":_,"urn:mpeg:dash:utc:sntp:2014":_},i()||(I(e),a(!0))}function t(e){e&&(e.metricsModel&&(w=e.metricsModel),e.dashMetrics&&(F=e.dashMetrics))}function n(){return l()}function r(e){D=e}function i(){return D}function a(e){N=e}function s(e){O=e}function l(){return O}function f(e){var t,n,r=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/,i=r.exec(e);return t=Date.UTC(parseInt(i[1],10),parseInt(i[2],10)-1,parseInt(i[3],10),parseInt(i[4],10),parseInt(i[5],10),i[6]&&(parseInt(i[6],10)||0),i[7]&&1e3*parseFloat(i[7])||0),i[9]&&i[10]&&(n=60*parseInt(i[9],10)+parseInt(i[10],10),t+=("+"===i[8]?-1:1)*n*60*1e3),new Date(t).getTime()}function c(e){var t=Date.parse(e);return isNaN(t)&&(t=f(e)),t}function g(e){return Date.parse(e)}function v(e){return Date.parse(e)}function _(e,t,n){n()}function y(e,t,n){var r=c(e);if(!isNaN(r))return void t(r);n()}function E(e,t,n,r,i){var a,o,s=!1,u=new XMLHttpRequest,l=i?"HEAD":"GET",d=t.match(/\S+/g);t=d.shift(),a=function(){s||(s=!0,d.length?E(e,d.join(" "),n,r,i):r())},o=function(){var t,r;200===u.status&&(t=i?u.getResponseHeader("Date"):u.response,r=e(t),isNaN(r)||(n(r),s=!0))},u.open(l,t),u.timeout=m||0,u.onload=o,u.onloadend=a,u.send()}function T(e,t,n){E(v,e,t,n,!0)}function S(){var e=w.getReadOnlyMetricsFor("stream"),t=F.getLatestMPDRequestHeaderValueByID(e,"Date"),n=null!==t?new Date(t).getTime():Number.NaN;isNaN(n)?A(!0):(s(n-(new Date).getTime()),A(!1,n/1e3,O))}function A(e,t,n){r(!1),M.trigger(d.default.TIME_SYNCHRONIZATION_COMPLETED,{time:t,offset:n,error:e?new o.default(h):null})}function I(e,t){var n=t||0,i=e[n],a=function(e,t){var n=!e||!t;n&&P?S():A(n,e,t)};r(!0),i?L.hasOwnProperty(i.schemeIdUri)?L[i.schemeIdUri](i.value,function(e){var t=(new Date).getTime(),n=e-t;s(n),b("Local time:      "+new Date(t)),b("Server time:     "+new Date(e)),b("Difference (ms): "+n),a(e,n)},function(){I(e,n+1)}):I(e,n+1):(s(0),a())}function C(){a(!1),r(!1)}var R=this.context,b=(0,p.default)(R).getInstance().log,M=(0,u.default)(R).getInstance(),O=void 0,D=void 0,N=void 0,P=void 0,L=void 0,w=void 0,F=void 0;return{initialize:e,getOffsetToDeviceTimeMs:n,setConfig:t,reset:C}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),o=r(a),s=n(2),u=r(s),l=n(1),d=r(l),f=n(0),c=r(f),g=n(3),p=r(g),h=1,m=5e3;i.__dashjs_factory_name="TimeSyncController";var v=c.default.getSingletonFactory(i);v.TIME_SYNC_FAILED_ERROR_CODE=h,v.HTTP_TIMEOUT_MS=m,t.default=v,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e){b=e}function n(e){M=e}function r(e){var t;D=new p.default(b,"",!0),O=e,t=f(O.Period_asArray,O,y,v),a(t,y,v)}function i(){I.off(d.default.XLINK_ELEMENT_LOADED,s,R),N&&(N.reset(),N=null)}function a(e,t,n){var r,i,a,o={};for(o.elements=e,o.type=t,o.resolveType=n,0===o.elements.length&&l(o),a=0;a<o.elements.length;a++)r=o.elements[a],i=C.isHTTPURL(r.url)?r.url:r.originalContent.BaseURL+r.url,N.load(i,r,o)}function s(e){var t,n,r,i="";t=e.element,n=e.resolveObject,t.resolvedContent&&(r=t.resolvedContent.indexOf(">")+1,i=t.resolvedContent.substr(0,r)+"<response>"+t.resolvedContent.substr(r)+"</response>",t.resolvedContent=D.xml_str2json(i)),h(n)&&l(n)}function l(e){var t,n,r=[];if(c(e),e.resolveType===_&&I.trigger(d.default.XLINK_READY,{manifest:O}),e.resolveType===v)switch(e.type){case y:for(t=0;t<O[y+"_asArray"].length;t++)n=O[y+"_asArray"][t],n.hasOwnProperty(E+"_asArray")&&(r=r.concat(f(n[E+"_asArray"],n,E,v))),n.hasOwnProperty(T+"_asArray")&&(r=r.concat(f(n[T+"_asArray"],n,T,v)));a(r,E,v);break;case E:I.trigger(d.default.XLINK_READY,{manifest:O})}}function f(e,t,n,r){var i,a,o,s=[];for(a=e.length-1;a>=0;a--)i=e[a],i.hasOwnProperty("xlink:href")&&i["xlink:href"]===S&&e.splice(a,1);for(a=0;a<e.length;a++)i=e[a],i.hasOwnProperty("xlink:href")&&i.hasOwnProperty("xlink:actuate")&&i["xlink:actuate"]===r&&(o=g(i["xlink:href"],t,n,a,r,i),s.push(o));return s}function c(e){var t,n,r,i,a,o,s=[];for(i=e.elements.length-1;i>=0;i--){if(t=e.elements[i],n=t.type+"_asArray",t.resolvedContent){if(t.resolvedContent)for(a=0;a<t.resolvedContent[n].length;a++)r=t.resolvedContent[n][a],s.push(r)}else delete t.originalContent["xlink:actuate"],delete t.originalContent["xlink:href"],s.push(t.originalContent);for(t.parentElement[n].splice(t.index,1),o=0;o<s.length;o++)t.parentElement[n].splice(t.index+o,0,s[o]);s=[]}e.elements.length>0&&M.run(O)}function g(e,t,n,r,i,a){return{url:e,parentElement:t,type:n,index:r,resolveType:i,originalContent:a,resolvedContent:null,resolved:!1}}function h(e){var t,n;for(t=0;t<e.elements.length;t++)if(n=e.elements[t],!1===n.resolved)return!1;return!0}var A=this.context,I=(0,u.default)(A).getInstance(),C=(0,m.default)(A).getInstance(),R=void 0,b=void 0,M=void 0,O=void 0,D=void 0,N=void 0;return R={resolveManifestOnLoad:r,setMatchers:t,setIron:n,reset:i},function(){I.on(d.default.XLINK_ELEMENT_LOADED,s,R),N=(0,o.default)(A).create({errHandler:e.errHandler,metricsModel:e.metricsModel,requestModifier:e.requestModifier})}(),R}Object.defineProperty(t,"__esModule",{value:!0});var a=n(121),o=r(a),s=n(2),u=r(s),l=n(1),d=r(l),f=n(0),c=r(f),g=n(39),p=r(g),h=n(23),m=r(h),v="onLoad",_="onActuate",y="Period",E="AdaptationSet",T="EventStream",S="urn:mpeg:dash:resolve-to-zero:2013";i.__dashjs_factory_name="XlinkController",t.default=c.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){return i=(0,o.default)(r).getInstance({eventBus:e.eventBus,metricsModel:e.metricsModel}),(0,d.default)(r).create(e)}function t(){return(0,p.default)(r).getInstance()}function n(){return(0,c.default)(r).getInstance()}var r=this.context,i=void 0;return{createMetricsReporting:e,getReportingFactory:t,getMetricsHandlerFactory:n}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(142),o=r(a),s=n(31),u=r(s),l=n(132),d=r(l),f=n(67),c=r(f),g=n(68),p=r(g),h=n(0),m=r(h);i.__dashjs_factory_name="MetricsReporting";var v=m.default.getClassFactory(i);v.events=u.default,t.default=v,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(t){if(!t.error){var n=Object.keys(r);(0,u.default)(i).getInstance({dashManifestModel:e.dashManifestModel}).getMetrics(t.manifest).forEach(function(t){var a=JSON.stringify(t);if(r.hasOwnProperty(a))n.splice(a,1);else try{var s=(0,o.default)(i).create(e);s.initialize(t),r[a]=s}catch(e){}}),n.forEach(function(e){r[e].reset(),delete r[e]}),a.trigger(c.default.METRICS_INITIALISATION_COMPLETE)}}function n(){Object.keys(r).forEach(function(e){r[e].reset()}),r={}}var r={},i=this.context,a=e.eventBus;return function(){a.on(p.default.MANIFEST_UPDATED,t),a.on(p.default.STREAM_TEARDOWN_COMPLETE,n)}(),{}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(133),o=r(a),s=n(143),u=r(s),l=n(0),d=r(l),f=n(31),c=r(f),g=n(1),p=r(g);i.__dashjs_factory_name="MetricsCollectionController",t.default=d.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(t){try{a=(0,u.default)(o).create({mediaElement:e.mediaElement}),a.initialize(t.Range),i=(0,d.default)(o).create({log:e.log}),i.initialize(t.Reporting,a),r=(0,c.default)(o).create({log:e.log,eventBus:e.eventBus}),r.initialize(t.metrics,i)}catch(e){throw n(),e}}function n(){r&&r.reset(),i&&i.reset(),a&&a.reset()}var r=void 0,i=void 0,a=void 0,o=this.context;return{initialize:t,reset:n}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=r(a),s=n(135),u=r(s),l=n(136),d=r(l),f=n(134),c=r(f);i.__dashjs_factory_name="MetricsController",t.default=o.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e){i.forEach(function(t){t.handleNewMetric(e.metric,e.value,e.mediaType)})}function n(e,n){e.split(",").forEach(function(e,t,r){var a;if(-1!==e.indexOf("(")&&-1===e.indexOf(")")){var o=r[t+1];o&&-1===o.indexOf("(")&&-1!==o.indexOf(")")&&(e+=","+o,delete r[t+1])}(a=l.create(e,n))&&i.push(a)}),u.on(d.default.METRIC_ADDED,t,a),u.on(d.default.METRIC_UPDATED,t,a)}function r(){u.off(d.default.METRIC_ADDED,t,a),u.off(d.default.METRIC_UPDATED,t,a),i.forEach(function(e){return e.reset()}),i=[]}var i=[],a=void 0,s=this.context,u=e.eventBus,l=(0,o.default)(s).getInstance({log:e.log,eventBus:e.eventBus});return a={initialize:n,reset:r}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(67),o=r(a),s=n(0),u=r(s),l=n(42),d=r(l);i.__dashjs_factory_name="MetricsHandlersController",t.default=u.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e){e&&e.length&&(e.forEach(function(e){var t=e.starttime,n=t+e.duration;s.add(t,n)}),i=!!e[0]._useWallClockTime)}function n(){s.clear()}function r(){var e,t=s.length;if(!t)return!0;e=i?(new Date).getTime()/1e3:l.currentTime;for(var n=0;n<t;n+=1){var r=s.start(n),a=s.end(n);if(r<=e&&e<a)return!0}return!1}var i=!1,a=this.context,o=void 0,s=void 0,l=e.mediaElement;return o={initialize:t,reset:n,isEnabled:r},function(){s=(0,u.default)(a).create()}(),o}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=r(a),s=n(74),u=r(s);i.__dashjs_factory_name="RangeController",t.default=o.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e,t){e.some(function(e){var n=a.create(e,t);if(n)return i.push(n),!0})}function n(){i.forEach(function(e){return e.reset()}),i=[]}function r(e,t){i.forEach(function(n){return n.report(e,t)})}var i=[],a=(0,u.default)(this.context).getInstance({log:e.log});return{initialize:t,reset:n,report:r}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=r(a),s=n(68),u=r(s);i.__dashjs_factory_name="ReportingController",t.default=o.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){try{return Object.keys(g).map(function(e){return g[e]}).reduce(function(e,t){return e.level<t.level?e:t})}catch(e){return}}function t(){var t=e();t&&d!==t.t&&(d=t.t,a.report(s,t))}function n(e,n,r){n&&(o=c.validateN(r),a=n,s=c.reconstructFullMetricName(e,r),l=setInterval(t,o))}function r(){clearInterval(l),l=null,o=0,a=null,d=null}function i(e,t,n){"BufferLevel"===e&&(g[n]=t)}var a=void 0,o=void 0,s=void 0,l=void 0,d=void 0,f=this.context,c=(0,u.default)(f).getInstance(),g=[];return{initialize:n,reset:r,handleNewMetric:i}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=r(a),s=n(69),u=r(s);i.__dashjs_factory_name="BufferLevelHandler",t.default=o.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){o.off(u.default.METRICS_INITIALISATION_COMPLETE,t,this),o.trigger(u.default.BECAME_REPORTING_PLAYER)}function n(e,n){n&&(a=n,o.on(u.default.METRICS_INITIALISATION_COMPLETE,t,this))}function r(){a=null}function i(e,t){"DVBErrors"===e&&a&&a.report(e,t)}var a=void 0,o=e.eventBus;return{initialize:n,reset:r,handleNewMetric:i}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=r(a),s=n(31),u=r(s);t.default=o.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(){function e(e,t){r=e,i=t}function t(){i=null,r=void 0}function n(e,t){e===r&&i&&i.report(r,t)}var r=void 0,i=void 0;return{initialize:e,reset:t,handleNewMetric:n}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(i);r.__dashjs_factory_name="GenericMetricHandler",t.default=a.default.getClassFactory(r),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){var e=d;e.length&&i&&i.report(s,e),d=[]}function t(t,n,r,u){n&&(a=f.validateN(r),i=n,u&&u.length&&(o=u),s=f.reconstructFullMetricName(t,r,u),l=setInterval(e,a))}function n(){clearInterval(l),l=null,a=null,o=null,d=[],i=null}function r(e,t){"HttpList"===e&&(o&&o!==t.type||d.push(t))}var i=void 0,a=void 0,o=void 0,s=void 0,l=void 0,d=[],f=(0,u.default)(this.context).getInstance();return{initialize:t,reset:n,handleNewMetric:r}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=r(a),s=n(69),u=r(s);i.__dashjs_factory_name="HttpListHandler",t.default=o.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e,t,n){var r=new XMLHttpRequest,i=function(){var e=h.indexOf(r);-1!==e&&(h.splice(e,1),r.status>=200&&r.status<300?t&&t():n&&n())};h.push(r);try{r.open("GET",e),r.onloadend=i,r.onerror=i,r.send()}catch(e){r.onerror()}}function t(t,n){Array.isArray(n)||(n=[n]),l&&g.isEnabled()&&n.forEach(function(n){var r=a.serialise(n);s&&"DVBErrors"!==t&&(r="metricname="+t+"&"+r),r=c+"?"+r,e(r,null,function(){l=!1})})}function n(e,t){var n;if(g=t,!(c=e["dvb:reportingUrl"]))throw new Error("required parameter missing (dvb:reportingUrl)");f||(n=e["dvb:probability"]||e["dvb:priority"]||0,n&&(1e3===n||n/1e3>=o.random())&&(l=!0),f=!0)}function r(){p||(h.forEach(function(e){return e.abort()}),h=[]),f=!1,l=!1,c=null,g=null}var i=this.context,a=(0,u.default)(i).getInstance(),o=(0,d.default)(i).getInstance(),s=!0,l=!1,f=!1,c=null,g=null,p=!0,h=[];return{report:t,initialize:n,reset:r}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=r(a),s=n(144),u=r(s),l=n(145),d=r(l);i.__dashjs_factory_name="DVBReporting",t.default=o.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e){var t=new o.default;if(v){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.mpdurl||(t.mpdurl=v.originalUrl||v.url),t.terror||(t.terror=new Date),m.addDVBErrors(t)}}function n(e){e.error||(v=e.manifest)}function r(e){t({errorcode:o.default.BASE_URL_CHANGED,servicelocation:e.entry})}function i(){t({errorcode:o.default.BECAME_REPORTER})}function a(e){(0===e.responsecode||e.responsecode>=400||e.responsecode<100||e.responsecode>=600)&&t({errorcode:e.responsecode||o.default.CONNECTION_ERROR,url:e.url,terror:e.tresponse,servicelocation:e._serviceLocation})}function s(e){switch(e.metric){case"HttpList":a(e.value)}}function l(e){var n,r=e.error?e.error.code:0;switch(r){case MediaError.MEDIA_ERR_NETWORK:n=o.default.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:n=o.default.CORRUPT_MEDIA_OTHER;break;default:return}t({errorcode:n})}function f(){h.on(u.default.MANIFEST_UPDATED,n,p),h.on(u.default.SERVICE_LOCATION_BLACKLIST_CHANGED,r,p),h.on(d.default.METRIC_ADDED,s,p),h.on(d.default.METRIC_UPDATED,s,p),h.on(d.default.PLAYBACK_ERROR,l,p),h.on(c.default.BECAME_REPORTING_PLAYER,i,p)}function g(){h.off(u.default.MANIFEST_UPDATED,n,p),h.off(u.default.SERVICE_LOCATION_BLACKLIST_CHANGED,r,p),h.off(d.default.METRIC_ADDED,s,p),h.off(d.default.METRIC_UPDATED,s,p),h.off(d.default.PLAYBACK_ERROR,l,p),h.off(c.default.BECAME_REPORTING_PLAYER,i,p)}var p=void 0,h=e.eventBus,m=e.metricsModel,v=void 0;return p={initialise:f,reset:g},f(),p}Object.defineProperty(t,"__esModule",{value:!0});var a=n(146),o=r(a),s=n(1),u=r(s),l=n(42),d=r(l),f=n(31),c=r(f),g=n(0),p=r(g);i.__dashjs_factory_name="DVBErrorsTranslator",t.default=p.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e,t,n){var i,a,o=r.getMpd(e),s=0;return t?s=o.availabilityStartTime.getTime()/1e3:(i=this.getRegularPeriods(e,o),i.length&&(s=i[0].start)),a=s,n&&n.hasOwnProperty("starttime")&&(a+=n.starttime),a}function n(e){var n=[];return e.Metrics_asArray&&e.Metrics_asArray.forEach(function(i){var a=new o.default,s=r.getIsDynamic(e);i.hasOwnProperty("metrics")&&(a.metrics=i.metrics,i.Range_asArray&&i.Range_asArray.forEach(function(n){var i=new u.default;i.starttime=t(e,s,n),n.hasOwnProperty("duration")?i.duration=n.duration:i.duration=r.getDuration(e),i._useWallClockTime=s,a.Range.push(i)}),i.Reporting_asArray&&(i.Reporting_asArray.forEach(function(e){var t=new d.default;if(e.hasOwnProperty("schemeIdUri")){t.schemeIdUri=e.schemeIdUri;for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);a.Reporting.push(t)}}),n.push(a)))}),n}var r=e.dashManifestModel;return{getMetrics:n}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(147),o=r(a),s=n(148),u=r(s),l=n(149),d=r(l),f=n(0),c=r(f);i.__dashjs_factory_name="ManifestParsing",t.default=c.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(){function e(t){var n,r,i=[],a=[];for(n in t)if(t.hasOwnProperty(n)&&0!==n.indexOf("_")){if(r=t[n],void 0!==r&&null!==r||(r=""),Array.isArray(r)){if(!r.length)continue;a=[],r.forEach(function(t){var n="Object"!==Object.prototype.toString.call(t).slice(8,-1);a.push(n?t:e(t))}),r=encodeURIComponent(a.join(","))}else"string"==typeof r?r=encodeURIComponent(r):r instanceof Date?r=r.toISOString():"number"==typeof r&&(r=Math.round(r));i.push(n+"="+r)}return i.join("&")}return{serialise:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(i);r.__dashjs_factory_name="MetricSerialiser",t.default=a.default.getSingletonFactory(r),e.exports=t.default},function(e,t,n){"use strict";function r(){function e(){n&&(o||(o=new r(a)),n.getRandomValues(o),s=0)}function t(t,r){var a;return t||(t=0),r||(r=1),n?(s===o.length&&e(),a=o[s]/i,s+=1):a=Math.random(),a*(r-t)+t}var n=window.crypto||window.msCrypto,r=Uint32Array,i=Math.pow(2,8*r.BYTES_PER_ELEMENT)-1,a=10,o=void 0,s=void 0,u=void 0;return u={random:t},e(),u}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(i);r.__dashjs_factory_name="RNG",t.default=a.default.getSingletonFactory(r),e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null};i.SSL_CONNECTION_FAILED_PREFIX="SSL",i.DNS_RESOLUTION_FAILED="C00",i.HOST_UNREACHABLE="C01",i.CONNECTION_REFUSED="C02",i.CONNECTION_ERROR="C03",i.CORRUPT_MEDIA_ISOBMFF="M00",i.CORRUPT_MEDIA_OTHER="M01",i.BASE_URL_CHANGED="F00",i.BECAME_REPORTER="S00",t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.metrics="",this.Range=[],this.Reporting=[]};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.schemeIdUri="",this.value=""};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(){function e(e,t,n){var r=p.getBaseURLsFromElement(n);e[t]?h.areSimpleEquivalent(r,e[t].data.baseUrls)||(e[t].data.baseUrls=r,e[t].data.selectedIdx=c):e[t]=new g(r)}function t(t){var n=p.getBaseURLsFromElement(t);h.areSimpleEquivalent(n,d.data.baseUrls)||(d.data.baseUrls=n,d.data.selectedIdx=c),t.Period_asArray&&t.Period_asArray.forEach(function(t,n){e(d.children,n,t),t.AdaptationSet_asArray&&t.AdaptationSet_asArray.forEach(function(t,r){e(d.children[n].children,r,t),t.Representation_asArray&&t.Representation_asArray.sort(p.getRepresentationSortFunction()).forEach(function(t,i){e(d.children[n].children[r].children,i,t)})})})}function n(e,t){var r=t||d;e(r.data),r.children&&r.children.forEach(function(t){return n(e,t)})}function r(e){n(function(t){isNaN(t.selectedIdx)||e===t.baseUrls[t.selectedIdx].serviceLocation&&(t.selectedIdx=c)})}function i(e){t(e)}function a(){d=new g}function o(e){var t=d,n=[t.data];return e.forEach(function(e){(t=t.children[e])&&n.push(t.data)}),n.filter(function(e){return e.baseUrls.length})}var u=void 0,d=void 0,f=this.context,p=(0,s.default)(f).getInstance(),h=(0,l.default)(f).getInstance();return u={reset:a,update:i,getForPath:o,invalidateSelectedIndexes:r},function(){d=new g}(),u}Object.defineProperty(t,"__esModule",{value:!0});var o=n(12),s=r(o),u=n(180),l=r(u),d=n(0),f=r(d),c=NaN,g=function e(t,n){i(this,e),this.data={baseUrls:t||null,selectedIdx:n||c},this.children=[]};a.__dashjs_factory_name="BaseURLTreeModel",t.default=f.default.getClassFactory(a),e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=a,n=o,r=!0,s=l=void 0}},o=n(26),s=function(e){return e&&e.__esModule?e:{default:e}}(o),u=function(e){function t(){r(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.INTERNAL_KEY_MESSAGE="internalKeyMessage",this.INTERNAL_KEY_SYSTEM_SELECTED="internalKeySystemSelected",this.KEY_ADDED="public_keyAdded",this.KEY_ERROR="public_keyError",this.KEY_MESSAGE="public_keyMessage",this.KEY_SESSION_CLOSED="public_keySessionClosed",this.KEY_SESSION_CREATED="public_keySessionCreated",this.KEY_SESSION_REMOVED="public_keySessionRemoved",this.KEY_STATUSES_CHANGED="public_keyStatusesChanged",this.KEY_SYSTEM_ACCESS_COMPLETE="keySystemAccessComplete",this.KEY_SYSTEM_SELECTED="public_keySystemSelected",this.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",this.NEED_KEY="needkey",this.PROTECTION_CREATED="public_protectioncreated",this.PROTECTION_DESTROYED="public_protectiondestroyed",this.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",this.TEARDOWN_COMPLETE="protectionTeardownComplete",this.VIDEO_ELEMENT_SELECTED="videoElementSelected"}return i(t,e),t}(s.default),l=new u;t.default=l,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e,t,n){if(!L){var r;t||n||(r=I.getStreamsInfo(e)[0]),D=t||(r?I.getMediaInfoForType(e,r,"audio"):null),N=n||(r?I.getMediaInfoForType(e,r,"video"):null);var i=N||D,a=S.getSupportedKeySystemsFromContentProtection(i.contentProtection);a&&a.length>0&&_(a,!0),L=!0}}function n(e){var t=o.default.getPSSHForKeySystem(x,e);if(t){for(var n=A.getAllInitData(),r=0;r<n.length;r++)if(S.initDataEquals(t,n[r]))return void R("DRM: Ignoring initData because we have already seen it!");try{A.createKeySession(t,w)}catch(e){C.trigger(u.default.KEY_SESSION_CREATED,{data:null,error:"Error creating key session! "+e.message})}}else C.trigger(u.default.KEY_SESSION_CREATED,{data:null,error:"Selected key system is "+x.systemString+".  needkey/encrypted event contains no initData corresponding to that key system!"})}function r(e){A.loadKeySession(e)}function i(e){A.removeKeySession(e)}function a(e){A.closeKeySession(e)}function s(e){A.setServerCertificate(e)}function l(e){e?(A.setMediaElement(e),C.on(u.default.NEED_KEY,T,this),C.on(u.default.INTERNAL_KEY_MESSAGE,E,this)):null===e&&(A.setMediaElement(e),C.off(u.default.NEED_KEY,T,this),C.off(u.default.INTERNAL_KEY_MESSAGE,E,this))}function f(e){w=e}function g(e){F=e}function p(e){P=e}function h(){l(null),x=void 0,A&&(A.reset(),A=null)}function v(e){var t=null,n=e.systemString;return P&&(t=n in P?P[n]:null),t}function _(e,t){var r=this,i=[],a=[];N&&a.push(new d.default(N.codec,F)),D&&i.push(new d.default(D.codec,F));var o,s=new c.default(i,a,"optional","temporary"===w?"optional":"required",[w]),l=[];if(x){for(o=0;o<e.length;o++)if(x===e[o].ks){var f=function(){l.push({ks:e[o].ks,configs:[s]});var i=function i(a){C.off(u.default.KEY_SYSTEM_ACCESS_COMPLETE,i,r),a.error?t||C.trigger(u.default.KEY_SYSTEM_SELECTED,{error:"DRM: KeySystem Access Denied! -- "+a.error}):(R("DRM: KeySystem Access Granted"),C.trigger(u.default.KEY_SYSTEM_SELECTED,{data:a.data}),n(e[o].initData))};return C.on(u.default.KEY_SYSTEM_ACCESS_COMPLETE,i,r),A.requestKeySystemAccess(l),"break"}();if("break"===f)break}}else if(void 0===x){x=null,O.push(e);for(var g=0;g<e.length;g++)l.push({ks:e[g].ks,configs:[s]});var p,h=function e(n){C.off(u.default.KEY_SYSTEM_ACCESS_COMPLETE,e,r),n.error?(x=void 0,C.off(u.default.INTERNAL_KEY_SYSTEM_SELECTED,m,r),t||C.trigger(u.default.KEY_SYSTEM_SELECTED,{data:null,error:"DRM: KeySystem Access Denied! -- "+n.error})):(p=n.data,R("DRM: KeySystem Access Granted ("+p.keySystem.systemString+")!  Selecting key system..."),A.selectKeySystem(p))},m=function e(i){if(C.off(u.default.INTERNAL_KEY_SYSTEM_SELECTED,e,r),C.off(u.default.KEY_SYSTEM_ACCESS_COMPLETE,h,r),i.error)x=void 0,t||C.trigger(u.default.KEY_SYSTEM_SELECTED,{data:null,error:"DRM: Error selecting key system! -- "+i.error});else{x=A.getKeySystem(),C.trigger(u.default.KEY_SYSTEM_SELECTED,{data:p});for(var a=0;a<O.length;a++)for(o=0;o<O[a].length;o++)if(x===O[a][o].ks){n(O[a][o].initData);break}}};C.on(u.default.INTERNAL_KEY_SYSTEM_SELECTED,m,r),C.on(u.default.KEY_SYSTEM_ACCESS_COMPLETE,h,r),A.requestKeySystemAccess(l)}else O.push(e)}function y(e,t){C.trigger(u.default.LICENSE_REQUEST_COMPLETE,{data:e,error:t})}function E(e){if(R("DRM: onKeyMessage"),e.error)return void R(e.error);var t=e.data;C.trigger(u.default.KEY_MESSAGE,{data:t});var n=t.messageType?t.messageType:"license-request",r=t.message,i=t.sessionToken,a=v(x),s=x.systemString,l=S.getLicenseServer(x,a,n),d={sessionToken:i,messageType:n};if(!l)return R("DRM: License server request not required for this message (type = "+e.data.messageType+").  Session ID = "+i.getSessionID()),void y(d);if(S.isClearKey(x)){var f=S.processClearKeyLicenseRequest(a,r);if(f)return R("DRM: ClearKey license request handled by application!"),y(d),void A.updateKeySession(i,f)}var c=new XMLHttpRequest,g=null;if(a)if(a.serverURL){var p=a.serverURL;"string"==typeof p&&""!==p?g=p:"object"==typeof p&&p.hasOwnProperty(n)&&(g=p[n])}else a.laURL&&""!==a.laURL&&(g=a.laURL);else(g=x.getLicenseServerURLFromInitData(o.default.getPSSHData(i.initData)))||(g=e.data.laURL);if(!(g=l.getServerURLFromMessage(g,r,n)))return void y(d,"DRM: No license server URL specified!");c.open(l.getHTTPMethod(n),g,!0),c.responseType=l.getResponseType(s,n),c.onload=function(){200==this.status?(y(d),A.updateKeySession(i,l.getLicenseMessage(this.response,s,n))):y(d,"DRM: "+s+' update, XHR status is "'+this.statusText+'" ('+this.status+"), expected to be 200. readyState is "+this.readyState+".  Response is "+(this.response?l.getErrorResponse(this.response,s,n):"NONE"))},c.onabort=function(){y(d,"DRM: "+s+' update, XHR aborted. status is "'+this.statusText+'" ('+this.status+"), readyState is "+this.readyState)},c.onerror=function(){y(d,"DRM: "+s+' update, XHR error. status is "'+this.statusText+'" ('+this.status+"), readyState is "+this.readyState)};var h=function(e){var t;if(e)for(t in e)"authorization"===t.toLowerCase()&&(c.withCredentials=!0),c.setRequestHeader(t,e[t])};a&&h(a.httpRequestHeaders),h(x.getRequestHeadersFromMessage(r)),a&&a.withCredentials&&(c.withCredentials=!0),c.send(x.getLicenseRequestFromMessage(r))}function T(e){if(R("DRM: onNeedKey"),"cenc"!==e.key.initDataType)return void R("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+e.key.initDataType);var t=e.key.initData;ArrayBuffer.isView(t)&&(t=t.buffer),R("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(t)));var n=S.getSupportedKeySystems(t,P);if(0===n.length)return void R("DRM: Received needkey event with initData, but we don't support any of the key systems!");_(n,!1)}var S=e.protectionKeyController,A=e.protectionModel,I=e.adapter,C=e.eventBus,R=e.log,b=void 0,M=void 0,O=void 0,D=void 0,N=void 0,P=void 0,L=void 0,w=void 0,F=void 0,x=void 0;return b={initialize:t,createKeySession:n,loadKeySession:r,removeKeySession:i,closeKeySession:a,setServerCertificate:s,setMediaElement:l,setSessionType:f,setRobustnessLevel:g,setProtectionData:p,reset:h},function(){M=S.getKeySystems(),O=[],L=!1,w="temporary",F="",u.default.extend(m.default.events)}(),b}Object.defineProperty(t,"__esModule",{value:!0});var a=n(22),o=r(a),s=n(1),u=r(s),l=n(163),d=r(l),f=n(48),c=r(f),g=n(0),p=r(g),h=n(70),m=r(h);i.__dashjs_factory_name="ProtectionController",t.default=p.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e,t){var n=null;if(e){for(var r=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t))),i=[],a=0;a<r.kids.length;a++){var s=r.kids[a],l=e.clearkeys.hasOwnProperty(s)?e.clearkeys[s]:null;if(!l)throw new Error("DRM: ClearKey keyID ("+s+") is not known!");i.push(new o.default(s,l))}n=new u.default(i)}return n}function t(e){return d.default.parseInitDataFromContentProtection(e)}function n(){return null}function r(e){return new Uint8Array(e)}function i(){return null}return{uuid:g,schemeIdURI:h,systemString:p,getInitData:t,getRequestHeadersFromMessage:n,getLicenseRequestFromMessage:r,getLicenseServerURLFromInitData:i,getClearKeysFromProtectionData:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(72),o=r(a),s=n(71),u=r(s),l=n(22),d=r(l),f=n(0),c=r(f),g="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",p="org.w3.clearkey",h="urn:uuid:"+g;i.__dashjs_factory_name="KeySystemClearKey",t.default=c.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){var t,n,r={},i=new DOMParser,o="utf16"===a?new Uint16Array(e):new Uint8Array(e);t=String.fromCharCode.apply(null,o),n=i.parseFromString(t,"application/xml");for(var s=n.getElementsByTagName("name"),u=n.getElementsByTagName("value"),l=0;l<s.length;l++)r[s[l].childNodes[0].nodeValue]=u[l].childNodes[0].nodeValue;return r.hasOwnProperty("Content")&&(r["Content-Type"]=r.Content,delete r.Content),r}function t(e){var t,n,r=null,i=new DOMParser,o="utf16"===a?new Uint16Array(e):new Uint8Array(e);if(t=String.fromCharCode.apply(null,o),n=i.parseFromString(t,"application/xml"),n.getElementsByTagName("Challenge")[0]){var s=n.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;s&&(r=c.default.decode(s))}return r}function n(e){if(e)for(var t=new DataView(e),n=t.getUint16(4,!0),r=6,i=new DOMParser,a=0;a<n;a++){var o=t.getUint16(r,!0);r+=2;var s=t.getUint16(r,!0);if(r+=2,1===o){var u=e.slice(r,r+s),l=String.fromCharCode.apply(null,new Uint16Array(u)),d=i.parseFromString(l,"application/xml");if(d.getElementsByTagName("LA_URL")[0]){var f=d.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(f)return f}if(d.getElementsByTagName("LUI_URL")[0]){var c=d.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(c)return c}}else r+=s}return null}function r(e){var t,n,r,i,a,s=new Uint8Array([112,115,115,104,0,0,0,0]),u=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),l=0,d=null;if("pssh"in e)return o.default.parseInitDataFromContentProtection(e);if("pro"in e)d=c.default.decodeArray(e.pro.__text);else{if(!("prheader"in e))return null;d=c.default.decodeArray(e.prheader.__text)}return t=d.length,n=4+s.length+u.length+4+t,r=new ArrayBuffer(n),i=new Uint8Array(r),a=new DataView(r),a.setUint32(l,n),l+=4,i.set(s,l),l+=s.length,i.set(u,l),l+=u.length,a.setUint32(l,t),l+=4,i.set(d,l),l+=t,i.buffer}function i(e){if("utf8"!==e&&"utf16"!==e)throw new u.default("Illegal PlayReady message format! -- "+e);a=e}var a="utf16";return{uuid:g,schemeIdURI:h,systemString:p,getInitData:r,getRequestHeadersFromMessage:e,getLicenseRequestFromMessage:t,getLicenseServerURLFromInitData:n,setPlayReadyMessageFormat:i}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(22),o=r(a),s=n(5),u=r(s),l=n(0),d=r(l),f=n(38),c=r(f),g="9a04f079-9840-4286-ab92-e65be0885f95",p="com.microsoft.playready",h="urn:uuid:"+g;i.__dashjs_factory_name="KeySystemPlayReady",t.default=d.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){return o.default.parseInitDataFromContentProtection(e)}function t(){return null}function n(e){return new Uint8Array(e)}function r(){return null}return{uuid:l,schemeIdURI:f,systemString:d,getInitData:e,getRequestHeadersFromMessage:t,getLicenseRequestFromMessage:n,getLicenseServerURLFromInitData:r}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(22),o=r(a),s=n(0),u=r(s),l="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",d="com.widevine.alpha",f="urn:uuid:"+l;i.__dashjs_factory_name="KeySystemWidevine",t.default=u.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){O&&A();for(var e=0;e<w.length;e++)g(w[e]);C.trigger(_.default.TEARDOWN_COMPLETE)}function n(){return D}function r(){for(var e=[],t=0;t<L.length;t++)e.push(L[t].initData);for(var t=0;t<w.length;t++)e.push(w[t].initData);return e}function i(e){var t=O;t||(t=document.createElement("video"));for(var n=!1,r=0;r<e.length;r++)for(var i=e[r].ks.systemString,a=e[r].configs,o=null,s=0;s<a.length;s++){var u=a[s].videoCapabilities;if(u&&0!==u.length){o=[];for(var l=0;l<u.length;l++)""!==t.canPlayType(u[l].contentType,i)&&o.push(u[l])}if(o&&(!o||0!==o.length)){n=!0;var d=new p.default(null,o),f=N.getKeySystemBySystemString(i);C.trigger(_.default.KEY_SYSTEM_ACCESS_COMPLETE,{data:new m.default(f,d)});break}}n||C.trigger(_.default.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! -- No valid audio/video content configurations detected!"})}function a(e){D=e.keySystem,C.trigger(_.default.INTERNAL_KEY_SYSTEM_SELECTED)}function s(e){O!==e&&(O&&A(),(O=e)&&(O.addEventListener(b.keyerror,x),O.addEventListener(b.needkey,x),O.addEventListener(b.keymessage,x),O.addEventListener(b.keyadded,x),C.trigger(_.default.VIDEO_ELEMENT_SELECTED)))}function l(e){if(!D)throw new Error("Can not create sessions until you have selected a key system");if(F||0===w.length){var t={sessionID:null,initData:e,getSessionID:function(){return this.sessionID},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return L.push(t),O[b.generateKeyRequest](D.systemString,new Uint8Array(e)),t}throw new Error("Multiple sessions not allowed!")}function f(e,t){var n=e.sessionID;if(N.isClearKey(D))for(var r=0;r<t.keyPairs.length;r++)O[b.addKey](D.systemString,t.keyPairs[r].key,t.keyPairs[r].keyID,n);else O[b.addKey](D.systemString,new Uint8Array(t),e.initData,n)}function g(e){O[b.cancelKeyRequest](D.systemString,e.sessionID)}function h(){}function v(){}function y(){}function T(){return{handleEvent:function(e){var t=null;switch(e.type){case b.needkey:var n=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;C.trigger(_.default.NEED_KEY,{key:new u.default(n,"cenc")});break;case b.keyerror:if(t=S(w,e.sessionId),t||(t=S(L,e.sessionId)),t){var r="";switch(e.errorCode.code){case 1:r+="MEDIA_KEYERR_UNKNOWN - An unspecified error occurred. This value is used for errors that don't match any of the other codes.";break;case 2:r+="MEDIA_KEYERR_CLIENT - The Key System could not be installed or updated.";break;case 3:r+="MEDIA_KEYERR_SERVICE - The message passed into update indicated an error from the license service.";break;case 4:r+="MEDIA_KEYERR_OUTPUT - There is no available output device with the required characteristics for the content protection system.";break;case 5:r+="MEDIA_KEYERR_HARDWARECHANGE - A hardware configuration change caused a content protection error.";break;case 6:r+="MEDIA_KEYERR_DOMAIN - An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain."}r+="  System Code = "+e.systemCode,C.trigger(_.default.KEY_ERROR,{data:new d.default(t,r)})}else R("No session token found for key error");break;case b.keyadded:t=S(w,e.sessionId),t||(t=S(L,e.sessionId)),t?(R("DRM: Key added."),C.trigger(_.default.KEY_ADDED,{data:t})):R("No session token found for key added");break;case b.keymessage:if(F=null!==e.sessionId&&void 0!==e.sessionId,F?!(t=S(w,e.sessionId))&&L.length>0&&(t=L.shift(),w.push(t),t.sessionID=e.sessionId):L.length>0&&(t=L.shift(),w.push(t),0!==L.length&&P.mediaKeyMessageError("Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!")),t){var i=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;t.keyMessage=i,C.trigger(_.default.INTERNAL_KEY_MESSAGE,{data:new c.default(t,i,e.defaultURL)})}else R("No session token found for key message")}}}}function S(e,t){if(t&&e){for(var n=e.length,r=0;r<n;r++)if(e[r].sessionID==t)return e[r];return null}return null}function A(){O.removeEventListener(b.keyerror,x),O.removeEventListener(b.needkey,x),O.removeEventListener(b.keymessage,x),O.removeEventListener(b.keyadded,x)}var I=this.context,C=e.eventBus,R=e.log,b=e.api,M=void 0,O=void 0,D=void 0,N=void 0,P=void 0,L=void 0,w=void 0,F=void 0,x=void 0;return M={getAllInitData:r,requestKeySystemAccess:i,getKeySystem:n,selectKeySystem:a,setMediaElement:s,createKeySession:l,updateKeySession:f,closeKeySession:g,setServerCertificate:h,loadKeySession:v,removeKeySession:y,reset:t},function(){O=null,D=null,L=[],w=[],N=(0,o.default)(I).getInstance(),P=(0,E.default)(I).getInstance(),x=T()}(),M}Object.defineProperty(t,"__esModule",{value:!0});var a=n(34),o=r(a),s=n(49),u=r(s),l=n(45),d=r(l),f=n(46),c=r(f),g=n(48),p=r(g),h=n(47),m=r(h),v=n(1),_=r(v),y=n(11),E=r(y),T=n(0),S=r(T);i.__dashjs_factory_name="ProtectionModel_01b",t.default=S.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){var e,t=M.length;if(0!==t)for(var n=function(e){S(e),0===M.length&&(R?(R.removeEventListener("encrypted",O),R.setMediaKeys(null).then(function(){P.trigger(m.default.TEARDOWN_COMPLETE)})):P.trigger(m.default.TEARDOWN_COMPLETE))},r=0;r<t;r++)e=M[r],function(t){e.session.closed.then(function(){n(t)}),E(e).catch(function(){n(t)})}(e);else P.trigger(m.default.TEARDOWN_COMPLETE)}function n(){return C}function r(){for(var e=[],t=0;t<M.length;t++)e.push(M[t].initData);return e}function i(e){y(e,0)}function a(e){e.mksa.createMediaKeys().then(function(t){C=e.keySystem,b=t,R&&R.setMediaKeys(b),P.trigger(m.default.INTERNAL_KEY_SYSTEM_SELECTED)}).catch(function(){P.trigger(m.default.INTERNAL_KEY_SYSTEM_SELECTED,{error:"Error selecting keys system ("+e.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})}function s(e){R!==e&&(R&&(R.removeEventListener("encrypted",O),R.setMediaKeys(null)),(R=e)&&(R.addEventListener("encrypted",O),b&&R.setMediaKeys(b)))}function l(e){if(!C||!b)throw new Error("Can not set server certificate until you have selected a key system");b.setServerCertificate(e).then(function(){L("DRM: License server certificate successfully updated."),P.trigger(m.default.SERVER_CERTIFICATE_UPDATED)}).catch(function(e){P.trigger(m.default.SERVER_CERTIFICATE_UPDATED,{error:"Error updating server certificate -- "+e.name})})}function f(e,t){if(!C||!b)throw new Error("Can not create sessions until you have selected a key system");var n=b.createSession(t),r=A(n,e,t);n.generateRequest("cenc",e).then(function(){L("DRM: Session created.  SessionID = "+r.getSessionID()),P.trigger(m.default.KEY_SESSION_CREATED,{data:r})}).catch(function(e){S(r),P.trigger(m.default.KEY_SESSION_CREATED,{data:null,error:"Error generating key request -- "+e.name})})}function g(e,t){var n=e.session;D.isClearKey(C)&&(t=t.toJWK()),n.update(t).catch(function(t){P.trigger(m.default.KEY_ERROR,{data:new d.default(e,"Error sending update() message! "+t.name)})})}function h(e){if(!C||!b)throw new Error("Can not load sessions until you have selected a key system");var t=b.createSession();t.load(e).then(function(n){if(n){var r=A(t);L("DRM: Session created.  SessionID = "+r.getSessionID()),P.trigger(m.default.KEY_SESSION_CREATED,{data:r})}else P.trigger(m.default.KEY_SESSION_CREATED,{data:null,error:"Could not load session! Invalid Session ID ("+e+")"})}).catch(function(t){P.trigger(m.default.KEY_SESSION_CREATED,{data:null,error:"Could not load session ("+e+")! "+t.name})})}function v(e){e.session.remove().then(function(){L("DRM: Session removed.  SessionID = "+e.getSessionID()),P.trigger(m.default.KEY_SESSION_REMOVED,{data:e.getSessionID()})},function(t){P.trigger(m.default.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+e.getSessionID()+"). "+t.name})})}function _(e){E(e).catch(function(t){S(e),P.trigger(m.default.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+e.getSessionID()+") "+t.name})})}function y(e,t){!function(t){var n=e[t].ks,r=e[t].configs;navigator.requestMediaKeySystemAccess(n.systemString,r).then(function(e){var t="function"==typeof e.getConfiguration?e.getConfiguration():null,r=new p.default(n,t);r.mksa=e,P.trigger(m.default.KEY_SYSTEM_ACCESS_COMPLETE,{data:r})}).catch(function(){++t<e.length?y(e,t):P.trigger(m.default.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied!"})})}(t)}function E(e){var t=e.session;return t.removeEventListener("keystatuseschange",e),t.removeEventListener("message",e),t.close()}function T(){return{handleEvent:function(e){switch(e.type){case"encrypted":if(e.initData){var t=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;P.trigger(m.default.NEED_KEY,{key:new u.default(t,e.initDataType)})}}}}}function S(e){for(var t=0;t<M.length;t++)if(M[t]===e){M.splice(t,1);break}}function A(e,t,n){var r={session:e,initData:t,handleEvent:function(e){switch(e.type){case"keystatuseschange":P.trigger(m.default.KEY_STATUSES_CHANGED,{data:this});break;case"message":var t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;P.trigger(m.default.INTERNAL_KEY_MESSAGE,{data:new c.default(this,t,void 0,e.messageType)})}},getSessionID:function(){return e.sessionId},getExpirationTime:function(){return e.expiration},getKeyStatuses:function(){return e.keyStatuses},getSessionType:function(){return n}};return e.addEventListener("keystatuseschange",r),e.addEventListener("message",r),e.closed.then(function(){S(r),L("DRM: Session closed.  SessionID = "+r.getSessionID()),P.trigger(m.default.KEY_SESSION_CLOSED,{data:r.getSessionID()})}),M.push(r),r}var I,C,R,b,M,O,D,N=this.context,P=e.eventBus,L=e.log;return I={getAllInitData:r,requestKeySystemAccess:i,getKeySystem:n,selectKeySystem:a,setMediaElement:s,setServerCertificate:l,createKeySession:f,updateKeySession:g,loadKeySession:h,removeKeySession:v,closeKeySession:_,reset:t},function(){C=null,R=null,b=null,M=[],D=(0,o.default)(N).getInstance(),O=T()}(),I}Object.defineProperty(t,"__esModule",{value:!0});var a=n(34),o=r(a),s=n(49),u=r(s),l=n(45),d=r(l),f=n(46),c=r(f),g=n(47),p=r(g),h=n(1),m=r(h),v=n(0),_=r(v);i.__dashjs_factory_name="ProtectionModel_21Jan2015",t.default=_.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){try{for(var e=0;e<P.length;e++)g(P[e]);M&&M.removeEventListener(R.needkey,L),I.trigger(_.default.TEARDOWN_COMPLETE)}catch(e){I.trigger(_.default.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+e.message})}}function n(){return O}function r(){for(var e=[],t=0;t<P.length;t++)e.push(P[t].initData);return e}function i(e){for(var t=!1,n=0;n<e.length;n++)for(var r=e[n].ks.systemString,i=e[n].configs,a=null,o=null,s=0;s<i.length;s++){var u=i[s].audioCapabilities,l=i[s].videoCapabilities;if(u&&0!==u.length){a=[];for(var d=0;d<u.length;d++)window[R.MediaKeys].isTypeSupported(r,u[d].contentType)&&a.push(u[d])}if(l&&0!==l.length){o=[];for(var f=0;f<l.length;f++)window[R.MediaKeys].isTypeSupported(r,l[f].contentType)&&o.push(l[f])}if(!(!a&&!o||a&&0===a.length||o&&0===o.length)){t=!0;var c=new p.default(a,o),g=w.getKeySystemBySystemString(r);I.trigger(_.default.KEY_SYSTEM_ACCESS_COMPLETE,{data:new m.default(g,c)});break}}t||I.trigger(_.default.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! -- No valid audio/video content configurations detected!"})}function a(e){try{D=e.mediaKeys=new window[R.MediaKeys](e.keySystem.systemString),O=e.keySystem,N=e,M&&T(),I.trigger(_.default.INTERNAL_KEY_SYSTEM_SELECTED)}catch(e){I.trigger(_.default.INTERNAL_KEY_SYSTEM_SELECTED,{error:"Error selecting keys system ("+O.systemString+")! Could not create MediaKeys -- TODO"})}}function s(e){M!==e&&(M&&M.removeEventListener(R.needkey,L),(M=e)&&(M.addEventListener(R.needkey,L),D&&T()))}function l(e){if(!O||!D||!N)throw new Error("Can not create sessions until you have selected a key system");var t=null;if(null!==N.ksConfiguration.videoCapabilities&&N.ksConfiguration.videoCapabilities.length>0&&(t=N.ksConfiguration.videoCapabilities[0]),null===t&&null!==N.ksConfiguration.audioCapabilities&&N.ksConfiguration.audioCapabilities.length>0&&(t=N.ksConfiguration.audioCapabilities[0]),null===t)throw new Error("Can not create sessions for unknown content types.");var n=t.contentType,r=D.createSession(n,new Uint8Array(e)),i=S(r,e);r.addEventListener(R.error,i),r.addEventListener(R.message,i),r.addEventListener(R.ready,i),r.addEventListener(R.close,i),P.push(i),C("DRM: Session created.  SessionID = "+i.getSessionID()),I.trigger(_.default.KEY_SESSION_CREATED,{data:i})}function f(e,t){var n=e.session;w.isClearKey(O)?n.update(new Uint8Array(t.toJWK())):n.update(new Uint8Array(t))}function g(e){var t=e.session;t.removeEventListener(R.error,e),t.removeEventListener(R.message,e),t.removeEventListener(R.ready,e),t.removeEventListener(R.close,e);for(var n=0;n<P.length;n++)if(P[n]===e){P.splice(n,1);break}t[R.release]()}function h(){}function v(){}function y(){}function E(){return{handleEvent:function(e){switch(e.type){case R.needkey:if(e.initData){var t=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;I.trigger(_.default.NEED_KEY,{key:new u.default(t,"cenc")})}}}}}function T(){var e=null,t=function(){M.removeEventListener("loadedmetadata",e),M[R.setMediaKeys](D),I.trigger(_.default.VIDEO_ELEMENT_SELECTED)};M.readyState>=1?t():(e=t.bind(this),M.addEventListener("loadedmetadata",e))}function S(e,t){return{session:e,initData:t,getSessionID:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(e){switch(e.type){case R.error:;I.trigger(_.default.KEY_ERROR,{data:new d.default(this,"KeyError")});break;case R.message:var t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;I.trigger(_.default.INTERNAL_KEY_MESSAGE,{data:new c.default(this,t,e.destinationURL)});break;case R.ready:C("DRM: Key added."),I.trigger(_.default.KEY_ADDED);break;case R.close:C("DRM: Session closed.  SessionID = "+this.getSessionID()),I.trigger(_.default.KEY_SESSION_CLOSED,{data:this.getSessionID()})}}}}var A=this.context,I=e.eventBus,C=e.log,R=e.api,b=void 0,M=void 0,O=void 0,D=void 0,N=void 0,P=void 0,L=void 0,w=void 0;return b={getAllInitData:r,requestKeySystemAccess:i,getKeySystem:n,selectKeySystem:a,setMediaElement:s,createKeySession:l,updateKeySession:f,closeKeySession:g,setServerCertificate:h,loadKeySession:v,removeKeySession:y,reset:t},function(){M=null,O=null,D=null,N=null,P=[],w=(0,o.default)(A).getInstance(),L=E()}(),b}Object.defineProperty(t,"__esModule",{value:!0});var a=n(34),o=r(a),s=n(49),u=r(s),l=n(45),d=r(l),f=n(46),c=r(f),g=n(48),p=r(g),h=n(47),m=r(h),v=n(1),_=r(v),y=n(0),E=r(y);i.__dashjs_factory_name="ProtectionModel_3Feb2014",t.default=E.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e,t){var n=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t)));e+="/?";for(var r=0;r<n.kids.length;r++)e+=n.kids[r]+"&";return e=e.substring(0,e.length-1)}function t(){return"GET"}function n(){return"json"}function r(e){if(!e.hasOwnProperty("keys"))return null;for(var t=[],n=0;n<e.keys.length;n++){var r=e.keys[n],i=r.kid.replace(/=/g,""),a=r.k.replace(/=/g,"");t.push(new o.default(i,a))}return new u.default(t)}function i(e){return String.fromCharCode.apply(null,new Uint8Array(e))}return{getServerURLFromMessage:e,getHTTPMethod:t,getResponseType:n,getLicenseMessage:r,getErrorResponse:i}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(72),o=r(a),s=n(71),u=r(s),l=n(0),d=r(l);i.__dashjs_factory_name="ClearKey",t.default=d.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){return e}function t(){return"POST"}function n(e){return a[e].responseType}function r(e,t){return a[t].getLicenseMessage(e)}function i(e,t){return a[t].getErrorResponse(e)}var a={"com.widevine.alpha":{responseType:"json",getLicenseMessage:function(e){return u.default.decodeArray(e.license)},getErrorResponse:function(e){return e}},"com.microsoft.playready":{responseType:"arraybuffer",getLicenseMessage:function(e){return e},getErrorResponse:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}}};return{getServerURLFromMessage:e,getHTTPMethod:t,getResponseType:n,getLicenseMessage:r,getErrorResponse:i}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=r(a),s=n(38),u=r(s);i.__dashjs_factory_name="DRMToday",t.default=o.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(){function e(e){return e}function t(){return"POST"}function n(){return"arraybuffer"}function r(e){return e}function i(e){return String.fromCharCode.apply(null,new Uint8Array(e))}return{getServerURLFromMessage:e,getHTTPMethod:t,getResponseType:n,getLicenseMessage:r,getErrorResponse:i}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(i);r.__dashjs_factory_name="PlayReady",t.default=a.default.getSingletonFactory(r),e.exports=t.default},function(e,t,n){"use strict";function r(){function e(e){return e}function t(){return"POST"}function n(){return"arraybuffer"}function r(e){return e}function i(e){return String.fromCharCode.apply(null,new Uint8Array(e))}return{getServerURLFromMessage:e,getHTTPMethod:t,getResponseType:n,getLicenseMessage:r,getErrorResponse:i}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(i);r.__dashjs_factory_name="Widevine",t.default=a.default.getSingletonFactory(r),e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t,n){r(this,e),this.contentType=t,this.robustness=n};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){function t(){return s.mediaInfo.streamInfo}function n(){return s.mediaInfo}function r(){return s}function i(){return l}function a(){return s.mediaInfo.streamInfo.manifestInfo}function o(){return u}var s=e.streamProcessor.getCurrentRepresentationInfo(),u=e.streamProcessor,l=e.currentValue;return{getStreamInfo:t,getMediaInfo:n,getTrackInfo:r,getCurrentValue:i,getManifestInfo:a,getStreamProcessor:o}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(i);r.__dashjs_factory_name="RulesContext",t.default=a.default.getClassFactory(r),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){p={},h={},m=[],v=(0,u.default)(f).getInstance()}function t(e,t){p[e]=p[e]||{},p[e][t]=p[e][t]||{}}function n(e,t){m[e]=m[e]||[],m[e].push(t)}function r(e,r){var a=e.getMediaInfo(),u=a.type,c=e.getCurrentValue().request,_=(0,o.default)(f).create(o.default.NO_CHANGE,o.default.WEAK,{name:i.__dashjs_factory_name});if(!isNaN(c.index)){t(u,c.index);var y=p[u][c.index];if(null===y||null===c.firstByteDate||h.hasOwnProperty(y.id))return void r(_);if(void 0===y.firstByteTime&&(m[u]=[],y.firstByteTime=c.firstByteDate.getTime(),y.segmentDuration=c.duration,y.bytesTotal=c.bytesTotal,y.id=c.index),y.bytesLoaded=c.bytesLoaded,y.elapsedTime=(new Date).getTime()-y.firstByteTime,y.bytesLoaded>0&&y.elapsedTime>0&&n(u,Math.round(8*y.bytesLoaded/y.elapsedTime)),m[u].length>=d&&y.elapsedTime>l&&y.bytesLoaded<y.bytesTotal){var E=m[u].reduce(function(e,t){return e+t},0);if(y.measuredBandwidthInKbps=Math.round(E/m[u].length),y.estimatedTimeOfDownload=(8*y.bytesTotal/y.measuredBandwidthInKbps/1e3).toFixed(2),y.estimatedTimeOfDownload<y.segmentDuration*s||0===e.getTrackInfo().quality)return void r(_);if(!h.hasOwnProperty(y.id)){var T=e.getStreamProcessor().getABRController(),S=y.bytesTotal-y.bytesLoaded,A=T.getBitrateList(a),I=T.getQualityForBitrate(a,y.measuredBandwidthInKbps*v.getBandwidthSafetyFactor());S>y.bytesTotal*A[I].bitrate/A[T.getQualityFor(u,a.streamInfo)].bitrate&&(_.value=I,_.priority=o.default.STRONG,_.reason.throughput=y.measuredBandwidthInKbps,h[y.id]=y,g("AbandonRequestsRule ( ",u,"frag id",y.id,") is asking to abandon and switch to quality to ",I," measured bandwidth was",y.measuredBandwidthInKbps),delete p[u][y.id])}}else y.bytesLoaded===y.bytesTotal&&delete p[u][y.id]}r(_)}function a(){e()}var s=1.8,l=500,d=5,f=this.context,g=(0,c.default)(f).getInstance().log,p=void 0,h=void 0,m=void 0,v=void 0,_={execute:r,reset:a};return e(),_}Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),o=r(a),s=n(4),u=r(s),l=n(0),d=r(l),f=n(3),c=r(f);i.__dashjs_factory_name="AbandonRequestsRule",t.default=d.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e,t,n){v[e]={index:t,quality:n}}function n(e,t,n){var r=v[e];return!r||(t!==r.index||n<r.quality)}function r(e,r){var a=e.getMediaInfo(),u=a.type,c=h.getReadOnlyMetricsFor(u),m=e.getCurrentValue(),_=m.request,y=(0,o.default)(d).create(o.default.NO_CHANGE,o.default.WEAK,{name:i.__dashjs_factory_name});if(0===c.BolaState.length)return f("WARNING: executing BolaAbandonRule before initializing BolaRule"),v[u]=null,void r(y);var E=c.BolaState[0]._s,T=_.index,S=_.quality;if(isNaN(T)||0===S||!n(u,T,S)||!_.firstByteDate)return void r(y);var A=Date.now(),I=A-_.firstByteDate.getTime(),C=_.bytesLoaded,R=_.bytesTotal,b=R-C,M=_.duration,O=g.getCurrentBufferLevel(c)?g.getCurrentBufferLevel(c):0,D=O+E.virtualBuffer,N=8*C/(.001*I),P=E.bandwidthSafetyFactor*N,L=.001*(_.firstByteDate.getTime()-_.requestStartDate.getTime());L<.001*l&&(L=.001*l);var w=L+8*R/P,F="";p.default.BOLA_DEBUG&&(F="index="+T+" quality="+S+" bytesLoaded/bytesTotal="+C+"/"+R+" bufferLevel="+O+" timeSince1stByte="+(I/1e3).toFixed(3)+" estThroughput="+(P/1e6).toFixed(3)+" latency="+L.toFixed(3));var x=R*E.bitrates[0]/E.bitrates[S],k=b-L*P/8;if(k<1&&(k=1),I<s||b<=x||O>E.bufferTarget||k<=x||w<=M)return void r(y);var U=D-L;U<0&&(U=0);for(var B=0;B+1<S&&R*E.bitrates[B+1]/E.bitrates[S]<k;)++B;var j=S;if(E.state===p.default.BOLA_STATE_STARTUP){j=0;for(var K=0;K<=B&&!(8*(x=R*E.bitrates[K]/E.bitrates[S])/M>P);++K)j=K}else for(var G=(E.Vp*(E.utilities[S]+E.gp)-U)/k,K=0;K<=B;++K){x=R*E.bitrates[K]/E.bitrates[S];var H=(E.Vp*(E.utilities[K]+E.gp)-U)/x;H>G&&(j=K,G=H)}var Y=E.rebufferSafetyFactor*N*(O-L)/8;if(j===S&&k>Y&&(j=B),j===S)return void r(y);for(;j>0&&!((x=R*E.bitrates[j]/E.bitrates[S])<=Y);)--j;E.lastQuality=j,h.updateBolaState(u,E),p.default.BOLA_DEBUG&&f("BolaDebug "+u+" BolaAbandonRule abandon to "+j+" - "+F),t(u,T,S),y.value=j,y.priority=o.default.STRONG,y.reason.state=E.state,y.reason.throughput=N,y.reason.bufferLevel=O,y.reason.bytesLoaded=_.bytesLoaded,y.reason.bytesTotal=_.bytesTotal,y.reason.elapsedTimeMs=I,r(y)}function a(){v={}}var s=500,l=200,d=this.context,f=(0,c.default)(d).getInstance().log,g=e.dashMetrics,h=e.metricsModel,m=void 0,v=void 0,_=void 0;return m={execute:r,reset:a},function(){v={},_=(0,u.default)(d).getInstance()}(),m}Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),o=r(a),s=n(4),u=r(s),l=n(0),d=r(l),f=n(3),c=r(f),g=n(73),p=r(g);i.__dashjs_factory_name="BolaAbandonRule",t.default=d.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e,t){var n=(new Date).getTime()/1e3,r=e.getMediaInfo(),u=e.getTrackInfo(),p=r.type,h=isNaN(u.fragmentDuration)?2:u.fragmentDuration/2,m=e.getCurrentValue(),v=e.getStreamProcessor(),_=v.getABRController(),y=l.getReadOnlyMetricsFor(p),E=f.getCurrentBufferLevel(y),T=y.BufferState.length>0?y.BufferState[y.BufferState.length-1]:null,S=r.representationCount-1,A=(0,o.default)(a).create(o.default.NO_CHANGE,o.default.WEAK,{name:i.__dashjs_factory_name});if(n-c<h||_.getAbandonmentStateFor(p)===d.default.ABANDON_LOAD)return void t(A);null!==T&&E>T.target&&E-T.target>g.getRichBufferThreshold()&&r.representationCount>1&&(A.value=S,A.priority=o.default.STRONG,A.reason.bufferLevel=E,A.reason.bufferTarget=T.target),A.value!==o.default.NO_CHANGE&&A.value!==m&&s("BufferOccupancyRule requesting switch to index: ",A.value,"type: ",p," Priority: ",A.priority===o.default.DEFAULT?"Default":A.priority===o.default.STRONG?"Strong":"Weak"),t(A)}function n(){c=0}var r=void 0,a=this.context,s=(0,p.default)(a).getInstance().log,l=e.metricsModel,f=e.dashMetrics,c=void 0,g=void 0;return r={execute:t,reset:n},function(){c=0,g=(0,u.default)(a).getInstance()}(),r}Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),o=r(a),s=n(4),u=r(s),l=n(10),d=r(l),f=n(0),c=r(f),g=n(3),p=r(g);i.__dashjs_factory_name="BufferOccupancyRule",t.default=c.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e,t){var r=(new Date).getTime(),a=e.getMediaInfo().type,d=e.getCurrentValue(),f=g.getReadOnlyMetricsFor(a),c=f.BufferState.length>0?f.BufferState[f.BufferState.length-1]:null,p=(0,o.default)(s).create(o.default.NO_CHANGE,o.default.WEAK,{name:i.__dashjs_factory_name});if(r-v<_||null===c)return void t(p);n(a,c.state),c.state===u.default.BUFFER_EMPTY&&void 0!==h[a].firstBufferLoadedEvent&&(p.value=0,p.priority=o.default.STRONG,p.reason.bufferState=c.state,p=(0,o.default)(s).create(0,o.default.STRONG)),p.value!==o.default.NO_CHANGE&&p.value!==d&&l("InsufficientBufferRule requesting switch to index: ",p.value,"type: ",a," Priority: ",p.priority===o.default.DEFAULT?"Default":p.priority===o.default.STRONG?"Strong":"Weak"),v=r,t(p)}function n(e,t){h[e]=h[e]||{},h[e].state=t,t!==u.default.BUFFER_LOADED||h[e].firstBufferLoadedEvent||(h[e].firstBufferLoadedEvent=!0)}function r(){h={}}function a(){f.off(c.default.PLAYBACK_SEEKING,r,p),h={},v=0}var s=this.context,l=(0,m.default)(s).getInstance().log,f=(0,d.default)(s).getInstance(),g=e.metricsModel,p=void 0,h=void 0,v=void 0,_=void 0;return p={execute:t,reset:a},function(){h={},v=0,_=1e3,f.on(c.default.PLAYBACK_SEEKING,r,p)}(),p}Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),o=r(a),s=n(19),u=r(s),l=n(2),d=r(l),f=n(1),c=r(f),g=n(0),p=r(g),h=n(3),m=r(h);i.__dashjs_factory_name="InsufficientBufferRule",t.default=p.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){C=[],R={audio:{threshold:_,value:NaN},video:{threshold:m,value:NaN}},b=(0,c.default)(T).getInstance()}function n(e,t){C[e]=C[e]||[],C[e].push(t)}function r(e,t){var n=Math.min(C[e].length,t?p:h),r=C[e].slice(-1*n,C[e].length);return r.length>1&&r.reduce(function(e,t){return(e*E<=t||e>=t*y)&&n++,t}),n=Math.min(C[e].length,n),C[e].slice(-1*n,C[e].length)}function a(e,t){var n=r(e,t),i=0;if(n.length>0){i=n.reduce(function(e,t){return e+t},0)/n.length}return C[e].length>=f&&C[e].shift(),i/1e3*b.getBandwidthSafetyFactor()}function s(e,t){var r=e.getMediaInfo(),s=r.type,l=e.getCurrentValue(),f=I.getReadOnlyMetricsFor(s),c=e.getStreamProcessor(),p=c.getABRController(),h=c.isDynamic(),m=A.getCurrentHttpRequest(f),v=f.BufferState.length>0?f.BufferState[f.BufferState.length-1]:null,_=(0,o.default)(T).create(o.default.NO_CHANGE,o.default.WEAK,{name:i.__dashjs_factory_name});if(!f||!m||m.type!==g.HTTPRequest.MEDIA_SEGMENT_TYPE||!v)return void t(_);var y=void 0;if(m.trace&&m.trace.length){y=m._tfinish.getTime()-m.tresponse.getTime()+1;var E=m.trace.reduce(function(e,t){return e+t.b[0]},0),C=Math.round(8*E/(y/1e3));y<=R[s].threshold?R[s].value=C/1e3:(R[s].value=NaN,n(s,C))}var b=Math.round(isNaN(R[s].value)?a(s,h):R[s].value);if(p.setAverageThroughput(s,b),p.getAbandonmentStateFor(s)!==d.default.ABANDON_LOAD){if(v.state===u.default.BUFFER_LOADED||h){var M=p.getQualityForBitrate(r,b);c.getScheduleController().setTimeToLoadDelay(0),_.value=M,_.priority=o.default.DEFAULT,_.reason.throughput=b}_.value!==o.default.NO_CHANGE&&_.value!==l&&S("ThroughputRule requesting switch to index: ",_.value,"type: ",s," Priority: ",_.priority===o.default.DEFAULT?"Default":_.priority===o.default.STRONG?"Strong":"Weak","Average throughput",Math.round(b),"kbps")}t(_)}function l(){t()}var f=20,p=3,h=4,m=50,_=5,y=1.3,E=1.3,T=this.context,S=(0,v.default)(T).getInstance().log,A=e.dashMetrics,I=e.metricsModel,C=void 0,R=void 0,b=void 0,M={execute:s,reset:l};return t(),M}Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),o=r(a),s=n(19),u=r(s),l=n(10),d=r(l),f=n(4),c=r(f),g=n(6),p=n(0),h=r(p),m=n(3),v=r(m);i.__dashjs_factory_name="ThroughputRule",t.default=h.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){function t(e){var t,r=0;return e&&e.some(function(e,t){return r=t,!n.contains(e.serviceLocation)})&&(t=e[r]),t}var n=e.blacklistController;return{select:t}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(i);r.__dashjs_factory_name="BasicSelector",t.default=a.default.getClassFactory(r),e.exports=t.default},function(e,t,n){"use strict";function r(e){function t(e){var t=[],n=function(e){return!t.length||!e.dvb_priority||-1===t.indexOf(e.dvb_priority)},r=function(e){return!i.contains(e.serviceLocation)||(e.dvb_priority&&t.push(e.dvb_priority),!1)};return e.filter(r).filter(n)}function n(e){var t,n,r=function(e,t){var n=e.dvb_priority-t.dvb_priority;return isNaN(n)?0:n},i=function(e,t,n){return!t||n[0].dvb_priority&&e.dvb_priority&&n[0].dvb_priority===e.dvb_priority},a=0,o=[],s=0;if(n=e.sort(r).filter(i),n.length)return n.length>1&&(n.forEach(function(e){a+=e.dvb_weight,o.push(a)}),t=Math.floor(Math.random()*(a-1)),o.every(function(e,n){return s=n,!(t<e)})),n[s]}function r(e){return e&&n(t(e))}var i=e.blacklistController;return{select:r}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(i);r.__dashjs_factory_name="DVBSelector",t.default=a.default.getClassFactory(r),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e,t,r){return i.getCurrentBufferLevel(a.getReadOnlyMetricsFor(t))<n(e,t,r)}function n(e,t,n){var r=NaN,o=e.getCurrentRepresentationInfo();if("fragmentedText"===t)r=s.getAllTracksAreDisabled()?0:o.fragmentDuration;else if("audio"===t&&n){var u=i.getCurrentBufferLevel(a.getReadOnlyMetricsFor("video"));r=Math.floor(Math.max(u,o.fragmentDuration))}else{var d=o.mediaInfo.streamInfo,f=e.getABRController();if(f.isPlayingAtTopQuality(d)){var c=d.manifestInfo.duration>=l.getLongFormContentDurationThreshold();r=c?l.getBufferTimeAtTopQualityLongForm():l.getBufferTimeAtTopQuality()}else r=l.getStableBufferTime()}return r}var r=this.context,i=e.dashMetrics,a=e.metricsModel,s=e.textSourceBuffer,l=void 0,d=void 0,f={execute:t,getBufferTarget:n};return function(){l=(0,o.default)(r).getInstance(),d=(0,u.default)(r).getInstance()}(),f}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),o=r(a),s=n(8),u=r(s),l=n(0),d=r(l);i.__dashjs_factory_name="BufferLevelRule",t.default=d.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e,t){var n=e.getCurrentRepresentationInfo(),o=n.mediaInfo,u=o.type,l=e.getScheduleController(),d=l.getSeekTarget(),f=!isNaN(d),c=e.getBuffer(),g=f?d:i.getIndexHandlerTime(e);if(isNaN(g)||"fragmentedText"===u&&s.getAllTracksAreDisabled())return null;if(f&&l.setSeekTarget(NaN),c){var p=a.getBufferRange(e.getBuffer(),g);null!==p&&(r("Prior to making a request for time, NextFragmentRequestRule is aligning index handler's currentTime with bufferedRange.end.",g," was changed to ",p.end),g=p.end)}var h=void 0;return t?(g=t.startTime+t.duration/2,h=i.getFragmentRequestForTime(e,n,g,{timeThreshold:0,ignoreIsFinished:!0})):(h=i.getFragmentRequestForTime(e,n,g,{keepIdx:!f}),h&&e.getFragmentModel().isFragmentLoaded(h)&&(h=i.getNextFragmentRequest(e,n)),h&&(i.setIndexHandlerTime(e,h.startTime+h.duration),h.delayLoadingTime=(new Date).getTime()+l.getTimeToLoadDelay(),l.setTimeToLoadDelay(0))),h}var n=this.context,r=(0,o.default)(n).getInstance().log,i=e.adapter,a=e.sourceBufferController,s=e.textSourceBuffer;return{execute:t}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),o=r(a),s=n(0),u=r(s);i.__dashjs_factory_name="NextFragmentRequestRule",t.default=u.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e,t){var n,s;if(A=t,C=e.getStreamProcessor(),I=C.getFragmentLoader(),y=e.getTrackInfo(),T=y.fragmentDuration,s=y.DVRWindow,m=s.end,y.useCalculatedLiveEdgeTime){var u=p.getExpectedLiveEdge();return p.setExpectedLiveEdge(m),void A((0,o.default)(l).create(u,S))}v={start:Math.max(0,m-g),end:m+g},_=Math.floor((s.end-s.start)/2),n=c.getFragmentRequestForTime(C,y,m,{ignoreIsFinished:!0}),r(m,a,i,n)}function n(){m=NaN,v=null,_=NaN,y=null,E=!1,T=NaN,C=null,I=null}function r(e,t,n,i){var a;if(null===i)a=c.generateFragmentRequestForTime(C,y,e),r(e,t,n,a);else{var o=function r(i){f.off(d.default.CHECK_FOR_EXISTENCE_COMPLETED,r,this),i.exists?t(i.request,e):n(i.request,e)};f.on(d.default.CHECK_FOR_EXISTENCE_COMPLETED,o,this),I.checkForExistence(i)}}function i(e,t){var n,u,d;if(E)return void s(!1,t);d=t-m,n=d>0?m-d:m+Math.abs(d)+_,n<v.start&&n>v.end?A((0,o.default)(l).create(null,S)):(u=c.getFragmentRequestForTime(C,y,n,{ignoreIsFinished:!0}),r(n,a,i,u))}function a(e,t){var n,i,a=e.startTime;if(!E){if(!y.fragmentDuration)return void A((0,o.default)(l).create(a,S));if(E=!0,v.end=a+2*_,t===m)return i=t+T,n=c.getFragmentRequestForTime(C,y,i,{ignoreIsFinished:!0}),void r(i,function(){s(!0,i)},function(){A((0,o.default)(l).create(i,S))},n)}s(!0,t)}function s(e,t){var n,s,u;e?v.start=t:v.end=t,n=Math.floor(v.end-v.start)<=T,n?A((0,o.default)(l).create(e?t:t-T,S)):(u=(v.start+v.end)/2,s=c.getFragmentRequestForTime(C,y,u,{ignoreIsFinished:!0}),r(u,a,i,s))}var l=this.context,f=(0,u.default)(l).getInstance(),c=e.adapter,p=e.timelineConverter,h=void 0,m=void 0,v=void 0,_=void 0,y=void 0,E=void 0,T=void 0,S=void 0,A=void 0,I=void 0,C=void 0;return h={execute:t,reset:n},function(){m=NaN,v=null,_=NaN,y=null,E=!1,T=NaN,S=o.default.DEFAULT}(),h}Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),o=r(a),s=n(2),u=r(s),l=n(1),d=r(l),f=n(0),c=r(f),g=43200;i.__dashjs_factory_name="LiveEdgeBinarySearchRule",t.default=c.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e,t){var i=e.getTrackInfo(),a=i.DVRWindow.end,s=o.default.DEFAULT;if(i.useCalculatedLiveEdgeTime){var u=r.getExpectedLiveEdge();r.setExpectedLiveEdge(a),t((0,o.default)(n).create(u,s))}else t((0,o.default)(n).create(a,s))}var n=this.context,r=e.timelineConverter;return{execute:t}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),o=r(a),s=n(0),u=r(s);i.__dashjs_factory_name="LiveEdgeWithTimeSynchronizationRule",t.default=u.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){h=a.getIsDVB(e)?g:f}function t(e){var t=e.baseUrls,n=e.selectedIdx;if(!isNaN(n))return t[n];var r=h.select(t);return r?(e.selectedIdx=t.indexOf(r),r):void i.trigger(u.default.URL_RESOLUTION_FAILED,{error:new Error(y,E)})}function n(){l.reset()}var r=this.context,i=(0,o.default)(r).getInstance(),a=(0,d.default)(r).getInstance(),s=void 0,l=void 0,f=void 0,g=void 0,h=void 0;return s={chooseSelectorFromManifest:e,select:t,reset:n},function(){l=(0,c.default)(r).create({updateEventName:u.default.SERVICE_LOCATION_BLACKLIST_CHANGED,loadFailedEventName:u.default.FRAGMENT_LOADING_COMPLETED}),f=(0,m.default)(r).create({blacklistController:l}),g=(0,p.default)(r).create({blacklistController:l}),h=f}(),s}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=r(a),s=n(1),u=r(s),l=n(12),d=r(l),f=n(123),c=r(f),g=n(171),p=r(g),h=n(170),m=r(h),v=n(0),_=r(v),y=1,E="Failed to resolve a valid URL";i.__dashjs_factory_name="BaseURLSelector";var T=_.default.getClassFactory(i);T.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=y,T.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE=E,t.default=T,e.exports=t.default},function(e,t,n){"use strict";function r(){function e(){var e="WebKitMediaSource"in window,t="MediaSource"in window;return e||t}function t(){return a}function n(e){a=e}function r(e,t){var n=e.canPlayType(t);return"probably"===n||"maybe"===n}var i=void 0,a=void 0;return i={supportsMediaSource:e,supportsEncryptedMedia:t,supportsCodec:r,setEncryptedMediaSupported:n},function(){a=!1}(),i}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(i);r.__dashjs_factory_name="Capabilities",t.default=a.default.getSingletonFactory(r),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){return p}function n(e){p=e}function r(e,t){var n=!0,r=0,i=void 0,a=void 0;if(void 0===t&&(t=!1),e.tag>16777215?(g.getUint32(p)!==e.tag&&(n=!1),r=4):e.tag>65535?(i=g.getUint16(p),a=g.getUint8(p+2),256*i+a!==e.tag&&(n=!1),r=3):e.tag>255?(g.getUint16(p)!==e.tag&&(n=!1),r=2):(g.getUint8(p)!==e.tag&&(n=!1),r=1),!n&&e.required&&!t)throw new u.default("required tag not found");return n&&(p+=r),n}function i(e,t){var n=r(e,t);return n&&s(),n}function a(e){var t=void 0;return r(e),t=s(),c[e.parse](t)}function o(e,t){var n=r(e,t),i=void 0;return n&&(i=s(),p+=i),n}function s(e){var t=1,n=128,r=-1,i=0,a=g.getUint8(p),o=void 0;for(o=0;o<8;o+=1){if((a&n)===n){i=void 0===e?a&~n:a,r=o;break}n>>=1}for(o=0;o<r;o+=1,t+=1)i=i<<8|255&g.getUint8(p+t);return p+=t,i}function l(e){var t=void 0;switch(e){case 4:t=g.getFloat32(p),p+=4;break;case 8:t=g.getFloat64(p),p+=8}return t}function d(e){var t=0,n=void 0;for(n=0;n<e;n+=1)t<<=8,t|=255&g.getUint8(p+n);return p+=e,t}function f(){return p<g.byteLength}var c=void 0,g=new DataView(e.data),p=0;return c={getPos:t,setPos:n,consumeTag:r,consumeTagAndSize:i,parseTag:a,skipOverElement:o,getMatroskaCodedNum:s,getMatroskaFloat:l,getMatroskaUint:d,moreData:f}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=r(a),s=n(5),u=r(s);i.__dashjs_factory_name="EBMLParser",t.default=o.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){return e&&l&&l.boxes&&0!==l.boxes.length?s(l.fetch(e)):null}function t(e){for(var t,n=l.fetchAll(e),r=[],i=0,a=n.length;i<a;i++)(t=s(n[i]))&&r.push(t);return r}function n(e){l=e}function r(){if(!l||!l.boxes||!l.boxes.length)return null;var e=l.boxes[l.boxes.length-1].type,n=t(e);return n[n.length-1]}function i(){return l._cursor.offset}function a(e,t,n){for(var r in n)t[r]=e[n[r]]}function s(e){if(!e)return null;var t,n,r=new o.default;switch(a(e,r,d),e.hasOwnProperty("_incomplete")&&(r.isComplete=!e._incomplete),r.type){case"sidx":if(a(e,r,f),r.references)for(t=0,n=r.references.length;t<n;t++)a(e.references[t],r.references[t],c);break;case"emsg":a(e,r,g);break;case"mdhd":a(e,r,p);break;case"mfhd":a(e,r,h);break;case"tfhd":a(e,r,m);break;case"tfdt":a(e,r,v);break;case"trun":if(a(e,r,_),r.samples)for(t=0,n=r.samples.length;t<n;t++)a(e.samples[t],r.samples[t],y)}return r}var u=void 0,l=void 0,d=void 0,f=void 0,c=void 0,g=void 0,p=void 0,h=void 0,m=void 0,v=void 0,_=void 0,y=void 0;return u={getBox:e,getBoxes:t,setData:n,getLastBox:r,getOffset:i},function(){d={offset:"_offset",size:"size",type:"type"},f={references:"references",timescale:"timescale",earliest_presentation_time:"earliest_presentation_time",first_offset:"first_offset"},c={reference_type:"reference_type",referenced_size:"referenced_size",subsegment_duration:"subsegment_duration"},g={id:"id",value:"value",timescale:"timescale",scheme_id_uri:"scheme_id_uri",presentation_time_delta:"presentation_time_delta",event_duration:"event_duration",message_data:"message_data"},p={timescale:"timescale"},h={sequence_number:"sequence_number"},m={base_data_offset:"base_data_offset",sample_description_index:"sample_description_index",default_sample_duration:"default_sample_duration",default_sample_size:"default_sample_size",default_sample_flags:"default_sample_flags",flags:"flags"},v={version:"version",baseMediaDecodeTime:"baseMediaDecodeTime",flags:"flags"},_={sample_count:"sample_count",first_sample_flags:"first_sample_flags",data_offset:"data_offset",flags:"flags",samples:"samples"},y={sample_size:"sample_size",sample_duration:"sample_duration",sample_composition_time_offset:"sample_composition_time_offset"}}(),u}Object.defineProperty(t,"__esModule",{value:!0});var a=n(186),o=r(a),s=n(0),u=r(s);i.__dashjs_factory_name="IsoFile",t.default=u.default.getClassFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(){function e(e,t){return JSON.stringify(e)===JSON.stringify(t)}return{areSimpleEquivalent:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(i);r.__dashjs_factory_name="ObjectUtils",t.default=a.default.getSingletonFactory(r),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){e&&e.videoModel&&(ee=e.videoModel)}function t(e){if(e.hasOwnProperty("begin")&&e.hasOwnProperty("end")){return[g(e.begin),g(e.end)]}return null}function n(){var e="cue_TTML_"+te;return te++,e}function r(e,t,n){function r(e,t){if(e.hasOwnProperty(t)){var n=e[t];a.indexOf(n)<0&&a.push(n)}}for(var i=[],a=[],o=[],s=0;s<e.length;s++){var u=e[s];r(u,"begin"),r(u,"end")}if(0===a.length)return o;if(void 0!==t&&void 0!==n){for(var s=0;s<a.length;s++){var l=g(a[s]);t<l&&l<n&&i.push(l)}i.push(t),i.push(n)}else for(var s=0;s<a.length;s++)i.push(g(a[s]));i.sort(function(e,t){return e-t});for(var s=0;s<i.length-1;s++)o.push([i[s],i[s+1]]);return o}function i(e,t){return"undefined"!=typeof startInterval&&e<t&&(e=t),e}function a(e,t){return void 0!==t&&e>t&&(e=t),e}function o(e,t,n){var r=g(e.begin),o=g(e.end);return r=i(r,t),o=a(o,n),void 0!==t&&void 0!==n&&(o<t||r>n)?(x("TTML: Cue "+r+"-"+o+" outside interval "+t+"-"+n),null):[r,o]}function s(e,n){var r=!0;if(e.hasOwnProperty("span")){var i=t(e.span);null!==i&&(r=i[0]<n[1]&&i[1]>n[0])}return r}function l(e,i,a){var l=void 0,d=void 0,f=void 0,c=void 0,g="",m=new u.default([],"",!1);if(!(B=m.xml_str2json(e)))throw new Error("TTML document could not be parsed");if(ee.getTTMLRenderingDiv()&&(c="html"),!(l=B.tt))throw new Error("TTML document lacks tt element");var v=p(l,"http://www.w3.org/ns/ttml");if(v&&h(l,v),f=l["tts:extent"],!(d=l.head))throw new Error("TTML document lacks head element");if(d.layout&&(K=d.layout.region_asArray),d.styling&&(j=d.styling.style_asArray),!l.body)throw new Error("TTML document lacks body element");var T=O(),S=ee.getElement().clientWidth,A=ee.getElement().clientHeight,I=[S/T[0],A/T[1]];z["font-size"]=I[1]+"px;";var M=[];if(K)for(var w=0;w<K.length;w++)M.push(R(JSON.parse(JSON.stringify(K[w])),I));var F=p(B.tt,"http://www.w3.org/ns/ttml#parameter");l.hasOwnProperty(F+":frameRate")&&(l.frameRate=parseInt(l[F+":frameRate"],10));for(var k=[],U=l.body_asArray[0].__children,q=0;q<U.length;q++){var V=U[q].div,J=null;if(null===(J=t(V))){var W=V.p_asArray;if(null===J&&(!W||0===W.length))return g="TTML has div that contains no timing and no paragraphs.",x(g),k;for(var Q=0;Q<W.length;Q++){var X=W[Q],Z=X.span_asArray,$=[];if(X.hasOwnProperty("begin")&&X.hasOwnProperty("end")){var te=o(X,i,a);null!==te&&$.push(te)}else $=r(Z,i,a);if(0!==$.length)for(var ne=X.__children,re=0;re<$.length;re++){for(var ie=$[re],ae=[],oe=0;oe<ne.length;oe++){var se=ne[oe];s(se,ie)&&ae.push(se)}if(0!==ae.length)if("html"===c){H={},Y={},G={};var ue=P(X,V,I),le=L(X,I),de=le[1];le=le[0];var fe=document.createElement("div");fe.className=de;var ce=N(ae,I);ce.className="cueDirUniWrapper",_("unicode-bidi",le)&&(ce.style.cssText+=y("unicode-bidi",le),E("unicode-bidi",le)),_("direction",le)&&(ce.style.cssText+=y("direction",le),E("direction",le)),_("padding-left",le)&&_("padding-right",le)&&(ce.innerHTML=D(ce,le)),_("padding-left",le)&&_("padding-right",le)&&(E("padding-left",le),E("padding-right",le));var ge="";if(_("regionID",ue)){var pe=y("regionID",ue);ge=pe.slice(pe.indexOf(":")+1,pe.length-1)}le&&(fe.style.cssText=le.join(" ")+"display:flex;"),ue&&(ue=ue.join(" ")),fe.appendChild(ce);var he=document.createElement("div");he.appendChild(fe),he.id=n(),he.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+ue,0===Object.keys(G).length&&(G.defaultFontSize="100"),k.push({start:ie[0],end:ie[1],type:"html",cueHTMLElement:he,regions:M,regionID:ge,cueID:he.id,videoHeight:A,videoWidth:S,cellResolution:T,fontSize:G||{defaultFontSize:"100"},lineHeight:H,linePadding:Y})}else{var me="",ve=ae;ve.length&&ve.forEach(function(e){if(e.hasOwnProperty("span")){var t=e.span.__children;t.forEach(function(e){t.hasOwnProperty("metadata")||(e.hasOwnProperty("#text")?me+=e["#text"].replace(/[\r\n]+/gm," ").trim():"br"in e&&(me+="\n"))})}else e.hasOwnProperty("br")?me+="\n":me+=e["#text"].replace(/[\r\n]+/gm," ").trim()}),k.push({start:ie[0],end:ie[1],data:me,type:"text"})}}else g="TTML: Empty paragraph"}}else{var _e=void 0;if(V.region){_e=C(b(K,V.region),f)}_e||(_e=C(V,f));var ye=l.head.metadata.image_asArray;if(void 0!==V["smpte:backgroundImage"])for(var Ee=0;Ee<ye.length;Ee++)"#"+ye[Ee]["xml:id"]===V["smpte:backgroundImage"]&&k.push({start:J[0],end:J[1],id:n(),data:"data:image/"+ye[Ee].imagetype.toLowerCase()+";base64, "+ye[Ee].__text,type:"image",layout:_e})}}if(""!==g&&x(g),k.length>0)return k;throw new Error(g)}function g(e){var t,n,r,i=U.test(e);if(!i)return NaN;if(t=e.split(":"),n=parseFloat(t[0])*f+parseFloat(t[1])*c+parseFloat(t[2]),t[3]){if(!(r=B.tt.frameRate)||isNaN(r))return NaN;n+=parseFloat(t[3])/r}return n}function p(e,t){var n=Object.keys(e).filter(function(n){return("xmlns"===n.split(":")[0]||"xmlns"===n.split(":")[1])&&e[n]===t}).map(function(e){return e.split(":")[2]||e.split(":")[1]});return 1!=n.length?null:n[0]}function h(e,t){for(var n in e)if(e.hasOwnProperty(n)){if(("object"==typeof e[n]||e[n]instanceof Object)&&!Array.isArray(e[n]))h(e[n],t);else if(Array.isArray(e[n]))for(var r=0;r<e[n].length;r++)h(e[n][r],t);var i=n.slice(n.indexOf(t)+t.length+1);e[i]=e[n],delete e[n]}}function m(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function v(e){var t=e.slice(1),n=t.match(/.{2}/g),r=parseFloat(parseInt(parseInt(n[3],16)/255*1e3,10)/1e3);return"rgba("+n.slice(0,3).map(function(e){return parseInt(e,16)}).join(",")+","+r+");"}function _(e,t){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>-1)return!0;return!1}function y(e,t){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>-1)return t[n];return null}function E(e,t){t.splice(t.indexOf(y(e,t)),1)}function T(e,t){for(var n=0;n<e.length;n++)for(var r=0;r<t.length;r++)e[n]&&e[n].split(":")[0].indexOf(t[r].split(":")[0])>-1&&e.splice(n,1);return e.concat(t)}function S(e,t,n){var r=[];for(var i in e)if(e.hasOwnProperty(i)){var a=i.replace("ebutts:","");a=a.replace("xml:",""),a=a.replace("tts:",""),a=m(a),e[a]=e[i],delete e[i]}if("line-padding"in e){var o=parseFloat(e["line-padding"].slice(e["line-padding"].indexOf(":")+1,e["line-padding"].indexOf("c")));"id"in e&&(Y[e.id]=o);var s=o*t[0]+"px;";r.push("padding-left:"+s),r.push("padding-right:"+s)}if("font-size"in e){var u=parseFloat(e["font-size"].slice(e["font-size"].indexOf(":")+1,e["font-size"].indexOf("%")));"id"in e&&(G[e.id]=u);var l=u/100*t[1]+"px;";r.push("font-size:"+l)}if("line-height"in e)if("normal"===e["line-height"])r.push("line-height: normal;");else{var d=parseFloat(e["line-height"].slice(e["line-height"].indexOf(":")+1,e["line-height"].indexOf("%")));"id"in e&&(H[e.id]=d);var f=d/100*t[1]+"px;";r.push("line-height:"+f)}"font-family"in e&&(e["font-family"]in V?r.push(V[e["font-family"]]):r.push("font-family:"+e["font-family"]+";")),"text-align"in e&&e["text-align"]in J&&(r.push(J[e["text-align"]][0]),r.push(J[e["text-align"]][1])),"multi-row-align"in e&&(_("text-align",r)&&"auto"!=e["multi-row-align"]&&E("text-align",r),e["multi-row-align"]in W&&r.push(W[e["multi-row-align"]]));var c;return"background-color"in e&&(e["background-color"].indexOf("#")>-1&&e["background-color"].length-1==8?(c=v(e["background-color"]),r.push("background-color: "+c)):r.push("background-color:"+e["background-color"]+";")),"color"in e&&(e.color.indexOf("#")>-1&&e.color.length-1==8?(c=v(e.color),r.push("color: "+c)):r.push("color:"+e.color+";")),"wrap-option"in e&&(e["wrap-option"]in Q?r.push(Q[e["wrap-option"]]):r.push("white-space:"+e["wrap-option"])),"unicode-bidi"in e&&(e["unicode-bidi"]in X?r.push(X[e["unicode-bidi"]]):r.push("unicode-bidi:"+e["unicode-bidi"])),"font-style"in e&&r.push("font-style:"+e["font-style"]+";"),"font-weight"in e&&r.push("font-weight:"+e["font-weight"]+";"),"direction"in e&&r.push("direction:"+e.direction+";"),"text-decoration"in e&&r.push("text-decoration:"+e["text-decoration"]+";"),n&&(r=r.concat(R(e,t))),B.tt.hasOwnProperty("xml:space")&&"preserve"===B.tt["xml:space"]&&r.push("white-space: pre;"),r}function A(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r["xml:id"]===t||r.id===t)return r}return null}function I(e,t,n){var r=[];return e.match(/\S+/g).forEach(function(e){var i=A(j,e);if(i){var a=S(JSON.parse(JSON.stringify(i)),t,n);r=r.concat(a)}}),r}function C(e,t){var n=/([\d\.]+)(%|px)\s+([\d\.]+)(%|px)/;if("tts:extent"in e&&"tts:origin"in e){var r=n.exec(e["tts:extent"]),i=n.exec(e["tts:origin"]);if(null===r||null===i)return x("Bad extent or origin: "+e["tts:extent"]+" "+e["tts:origin"]),null;var a=parseFloat(r[1]),o=parseFloat(r[3]),s=parseFloat(i[1]),u=parseFloat(i[3]);if(t){var l=n.exec(t);if(null===l||"px"!==l[2]||"px"!==l[4])return x("Bad tt.extent: "+t),null;var d=parseFloat(l[1]),f=parseFloat(l[3]);"px"===r[2]&&(a=a/d*100),"px"===r[4]&&(o=o/f*100),"px"===i[2]&&(s=s/d*100),"px"===i[4]&&(u=u/f*100)}return{left:s,top:u,width:a,height:o}}return null}function R(e,t){var n=[];for(var r in e){var i=r.replace("tts:","");i=i.replace("xml:",""),i=m(i),e[i]=e[r],i!==r&&delete e[r]}if("extent"in e){var a=e.extent.split(/\s/);n.push("width: "+a[0]+";"),n.push("height: "+a[1]+";")}if("origin"in e){var o=e.origin.split(/\s/);n.push("left: "+o[0]+";"),n.push("top: "+o[1]+";")}if("display-align"in e&&n.push(Z[e["display-align"]]),"writing-mode"in e&&n.push($[e["writing-mode"]]),"style"in e){var s=I(e.style,t,!0);n=n.concat(s)}return"padding"in e&&n.push("padding:"+e.padding+";"),"overflow"in e&&n.push("overflow:"+e.overflow+";"),"show-background"in e&&n.push("show-background:"+e["show-background"]+";"),"id"in e&&n.push("regionID:"+e.id+";"),n}function b(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r["xml:id"]===t||r.id===t)return r}return null}function M(e,t){var n=[];return e.match(/\S+/g).forEach(function(e){var r=b(K,e);if(r){var i=R(JSON.parse(JSON.stringify(r)),t);n=n.concat(i)}}),n}function O(){var e=[32,15];return B.tt.hasOwnProperty("ttp:cellResolution")?B.tt["ttp:cellResolution"].split(" ").map(parseFloat):e}function D(e,t){for(var n=y("padding-left",t),r=y("padding-right",t),i=n.concat(" "+r+" "),a="",o="",s="",u=Array.prototype.slice.call(e.children),l=e.getElementsByClassName("lineBreak")[0],d=u.indexOf(l),f=[];-1!=d;)f.push(d),d=u.indexOf(l,d+1);var c="<br>",g='<span class="spanPadding" style="-webkit-box-decoration-break: clone; box-decoration-break: clone; ';if(f.length)f.forEach(function(e,t){if(0===t){for(var n="",r=0;r<e;r++)a+=u[r].outerHTML,0===r&&(n=i.concat(u[r].style.cssText));a=g+n+'">'+a}for(var l="",d=e+1;d<u.length;d++)o+=u[d].outerHTML,d===u.length-1&&(l+=i.concat(u[d].style.cssText));o=g+l+'">'+o,a&&o&&t===f.length-1?s+=a+"</span>"+c+o+"</span>":a&&o&&t!==f.length-1?s+=a+"</span>"+c+o+"</span>"+c:a&&!o?s+=a+"</span>":!a&&o&&t===f.length-1?s+=o+"</span>":!a&&o&&t!==f.length-1&&(s+=o+"</span>"+c)});else{for(var p="",h=0;h<u.length;h++)p+=u[h].style.cssText;s=g+i+p+'">'+e.innerHTML+"</span>"}return s}function N(e,t){var n=document.createElement("div");return e.forEach(function(e){if(!e.hasOwnProperty("metadata"))if(e.hasOwnProperty("span")){var r=e.span.__children,i=document.createElement("span");if(e.span.hasOwnProperty("style")){var a=I(e.span.style,t);i.className="spanPadding "+e.span.style,i.style.cssText=a.join(" ")}r.forEach(function(e){if(!r.hasOwnProperty("metadata"))if(e.hasOwnProperty("#text")){var t=document.createTextNode(e["#text"]);i.appendChild(t)}else if("br"in e){i.hasChildNodes()&&n.appendChild(i);var a=document.createElement("br");a.className="lineBreak",n.appendChild(a);var o=document.createElement("span");o.className=i.className,o.style.cssText=i.style.cssText,i=o}}),n.appendChild(i)}else if(e.hasOwnProperty("br")){var o=document.createElement("br");o.className="lineBreak",n.appendChild(o)}else if(e.hasOwnProperty("#text")){var s=document.createElement("span");s.textContent=e["#text"],n.appendChild(s)}}),n}function P(e,t,n){var r,i,a=[],o=e.region,s=t.region;return s&&(r=M(s,n)),o?(i=a.concat(M(o,n)),a=r?T(r,i):i):r&&(a=r),w(a,q),a}function L(e,t){var n,r,i,a=[],o=e.style,s=B.tt.body.style,u=B.tt.body.div.style,l="";return s&&(n=I(s,t),l="paragraph "+s),u&&(r=I(u,t),n?(r=T(n,r),l+=" "+u):l="paragraph "+u),o?(i=I(o,t),n&&r?(a=T(r,i),l+=" "+o):n?(a=T(n,i),l+=" "+o):r?(a=T(r,i),l+=" "+o):(a=i,l="paragraph "+o)):n&&!r?a=n:!n&&r&&(a=r),w(a,z),[a,l]}function w(e,t){for(var n in t)t.hasOwnProperty(n)&&(_(n,e)||e.push(n+":"+t[n]))}var F=this.context,x=(0,d.default)(F).getInstance().log,k=void 0,U=void 0,B=void 0,j=void 0,K=void 0,G=void 0,H=void 0,Y=void 0,q=void 0,z=void 0,V=void 0,J=void 0,W=void 0,Q=void 0,X=void 0,Z=void 0,$=void 0,ee=void 0,te=0;return k={parse:l,setConfig:e},function(){U=/^([0-9][0-9]+):([0-5][0-9]):([0-5][0-9])|(60)(\.([0-9])+)?$/,G={},H={},Y={},q={top:"auto;",left:"auto;",width:"90%;",height:"10%;","align-items":"flex-start;",overflow:"visible;","-ms-writing-mode":"lr-tb, horizontal-tb;","-webkit-writing-mode":"horizontal-tb;","-moz-writing-mode":"horizontal-tb;","writing-mode":"horizontal-tb;"},z={color:"rgb(255,255,255);",direction:"ltr;","font-family":"monospace, sans-serif;","font-style":"normal;","line-height":"normal;","font-weight":"normal;","text-align":"start;","justify-content":"flex-start;","text-decoration":"none;","unicode-bidi":"normal;","white-space":"normal;",width:"100%;"},V={monospace:"font-family: monospace;",sansSerif:"font-family: sans-serif;",serif:"font-family: serif;",monospaceSansSerif:"font-family: monospace, sans-serif;",monospaceSerif:"font-family: monospace, serif;",proportionalSansSerif:"font-family: Arial;",proportionalSerif:"font-family: Times New Roman;",default:"font-family: monospace, sans-serif;"},J={right:["justify-content: flex-end;","text-align: right;"],start:["justify-content: flex-start;","text-align: start;"],center:["justify-content: center;","text-align: center;"],end:["justify-content: flex-end;","text-align: end;"],left:["justify-content: flex-start;","text-align: left;"]},W={start:"text-align: start;",center:"text-align: center;",end:"text-align: end;",auto:""},Q={wrap:"white-space: normal;",noWrap:"white-space: nowrap;"},X={normal:"unicode-bidi: normal;",embed:"unicode-bidi: embed;",bidiOverride:"unicode-bidi: bidi-override;"},Z={before:"align-items: flex-start;",center:"align-items: center;",after:"align-items: flex-end;"},$={lrtb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rltb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;unicode-bidi: bidi-override;",tbrl:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;",tblr:"-webkit-writing-mode: vertical-lr;writing-mode: vertical-lr;-webkit-text-orientation: upright;text-orientation: upright;",lr:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rl:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;",tb:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;"}}(),k}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=r(a),s=n(39),u=r(s),l=n(3),d=r(l),f=3600,c=60;i.__dashjs_factory_name="TTMLParser",t.default=o.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){var r,a,s=[];e=e.split(l),r=e.length,a=-1;for(var u=0;u<r;u++){var c=e[u];if(c.length>0&&"WEBVTT"!==c&&c.match(d)){var g=n(c),p=g.cuePoints,h=g.styles,m=i(e,u+1),v=t(p[0].replace(f,"")),_=t(p[1].replace(f,""));!isNaN(v)&&!isNaN(_)&&v>=a&&_>v?""!==m?(a=v,s.push({start:v,end:_,data:m,styles:h})):o("Skipping cue due to empty/malformed cue text"):o("Skipping cue due to incorrect cue timing")}}return s}function t(e){var t=e.split(":"),n=t.length-1;return e=60*parseInt(t[n-1],10)+parseFloat(t[n]),2===n&&(e+=3600*parseInt(t[0],10)),e}function n(e){var t=e.split(d),n=t[1].split(c);return n.shift(),t[1]=n[0],n.shift(),{cuePoints:t,styles:r(n)}}function r(e){var t={};return e.forEach(function(e){if(e.split(/:/).length>1){var n=e.split(/:/)[1];n&&-1!=n.search(/%/)&&(n=parseInt(n.replace(/%/,""),10)),(e.match(/align/)||e.match(/A/))&&(t.align=n),(e.match(/line/)||e.match(/L/))&&(t.line=n),(e.match(/position/)||e.match(/P/))&&(t.position=n),(e.match(/size/)||e.match(/S/))&&(t.size=n)}}),t}function i(e,t){for(var n,r=t,i="",a="";""!==e[r]&&r<e.length;)r++;if((n=r-t)>1)for(var o=0;o<n;o++){if(a=e[t+o],a.match(d)){i="";break}i+=a,o!==n-1&&(i+="\n")}else a=e[t],a.match(d)||(i=a);return decodeURI(i)}var a=this.context,o=(0,u.default)(a).getInstance().log,s=void 0,l=void 0,d=void 0,f=void 0,c=void 0;return s={parse:e},function(){l=/(?:\r\n|\r|\n)/gm,d=/-->/,f=/(^[\s]+|[\s]+$)/g,c=/\s\b/g}(),s}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=r(a),s=n(3),u=r(s);i.__dashjs_factory_name="VTTParser",t.default=o.default.getSingletonFactory(i),e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.qualityIndex=NaN};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=a,n=o,r=!0,s=l=void 0}},o=n(24),s=function(e){return e&&e.__esModule?e:{default:e}}(o),u=function(e){function t(e){r(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.url=e||null,this.checkForExistenceOnly=!0}return i(t,e),t}(s.default);t.default=u,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.offset=NaN,this.type=null,this.size=NaN,this.isComplete=!0};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.DVRWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.lang=null,this.viewpoint=null,this.accessibility=null,this.audioChannelConfiguration=null,this.roles=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.isText=!1,this.KID=null,this.bitrateList=null};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[],this.BolaState=[]};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0,this.isFirst=!0};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.video=null,this.captionData=null,this.label=null,this.lang=null,this.defaultTrack=!1,this.kind=null,this.isFragmented=!1,this.isEmbedded=!1};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.id=null,this.quality=null,this.DVRWindow=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this._s=void 0};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.t=null,this.level=null};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=n(19),a=function(e){return e&&e.__esModule?e:{default:e}}(i),o=function e(){r(this,e),this.target=null,this.state=a.default.BUFFER_EMPTY};t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.time=null,this.range=null,this.manifestInfo=null};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.time=null,this.droppedFrames=null};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.trackInfo=[]},a=function e(){r(this,e),this.id=null,this.index=null,this.start=null,this.duration=null},o=function e(){r(this,e),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null};t.ManifestUpdate=i,t.ManifestUpdateStreamInfo=a,t.ManifestUpdateTrackInfo=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.t=null,this.mt=null,this.to=null,this.lto=null};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.loadingRequests=[],this.executedRequests=[]};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.tcpid=null,this.dest=null,this.topen=null,this.tclose=null,this.tconnect=null};t.default=i,e.exports=t.default},function(e,t){var n=t.decimalAdjust=function(e,t,n){return void 0===n||0==+n?Math[e](t):(t=+t,n=+n,isNaN(t)||"number"!=typeof n||n%1!=0?NaN:(t=t.toString().split("e"),t=Math[e](+(t[0]+"e"+(t[1]?+t[1]-n:-n))),t=t.toString().split("e"),+(t[0]+"e"+(t[1]?+t[1]+n:n))))};e.exports={round10:function(e,t){return n("round",e,t)},floor10:function(e,t){return n("floor",e,t)},ceil10:function(e,t){return n("ceil",e,t)}},e.exports.polyfill=function(){Math.round10||(Math.round10=e.exports.round10),Math.floor10||(Math.floor10=e.exports.floor10),Math.ceil10||(Math.ceil10=e.exports.ceil10)}},function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=p[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(d(r.parts[a],t))}else{for(var o=[],a=0;a<r.parts.length;a++)o.push(d(r.parts[a],t));p[r.id]={id:r.id,refs:1,parts:o}}}}function i(e){for(var t=[],n={},r=0;r<e.length;r++){var i=e[r],a=i[0],o=i[1],s=i[2],u=i[3],l={css:o,media:s,sourceMap:u};n[a]?n[a].parts.push(l):t.push(n[a]={id:a,parts:[l]})}return t}function a(e,t){var n=m(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=y[y.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),y.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function o(e){e.parentNode.removeChild(e);var t=y.indexOf(e);t>=0&&y.splice(t,1)}function s(e){var t=document.createElement("style");return e.attrs.type="text/css",l(t,e.attrs),a(e,t),t}function u(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",l(t,e.attrs),a(e,t),t}function l(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function d(e,t){var n,r,i;if(t.singleton){var a=_++;n=v||(v=s(t)),r=f.bind(null,n,a,!1),i=f.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=u(t),r=g.bind(null,n,t),i=function(){o(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),r=c.bind(null,n),i=function(){o(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}function f(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=T(t,i);else{var a=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function c(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function g(e,t,n){var r=n.css,i=n.sourceMap,a=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||a)&&(r=E(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var o=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}var p={},h=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),m=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e.call(this,n)),t[n]}}(function(e){return document.querySelector(e)}),v=null,_=0,y=[],E=n(206);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},t.attrs="object"==typeof t.attrs?t.attrs:{},void 0===t.singleton&&(t.singleton=h()),void 0===t.insertInto&&(t.insertInto="head"),void 0===t.insertAt&&(t.insertAt="bottom");var n=i(e);return r(n,t),function(e){for(var a=[],o=0;o<n.length;o++){var s=n[o],u=p[s.id];u.refs--,a.push(u)}if(e){r(i(e),t)}for(var o=0;o<a.length;o++){var u=a[o];if(0===u.refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete p[u.id]}}}};var T=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(i))return e;var a;return a=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(a)+")"})}}])});
//# sourceMappingURL=fjplayer.min.js.map